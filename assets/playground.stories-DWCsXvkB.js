const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./angular-html-CU67Zn6k.js","./html-GMplVEZG.js","./javascript-wDzz0qaB.js","./css-DPfMkruS.js","./angular-ts-BwZT4LLn.js","./scss-OYdSNvt2.js","./apl-dKokRX4l.js","./xml-sdJ4AIDG.js","./java-CylS5w8V.js","./json-Cp-IABpG.js","./astro-CbQHKStN.js","./typescript-BPQ3VLAy.js","./postcss-CXtECtnM.js","./tsx-COt5Ahok.js","./blade-DVc8C-J4.js","./html-derivative-BFtXZ54Q.js","./sql-BLtJtn59.js","./bsl-BO_Y6i37.js","./sdbl-DVxCFoDh.js","./cairo-KRGpt6FW.js","./python-B6aJPvgy.js","./cobol-nwyudZeR.js","./coffee-Ch7k5sss.js","./cpp-CofmeUqb.js","./regexp-CDVJQ6XC.js","./glsl-DplSGwfg.js","./c-BIGW1oBm.js","./crystal-tKQVLTB8.js","./shellscript-Yzrsuije.js","./edge-BkV0erSs.js","./elixir-CDX3lj18.js","./elm-DbKCFpqz.js","./erb-BOJIQeun.js","./ruby-BvKwtOVI.js","./haml-B8DHNrY2.js","./graphql-ChdNCCLP.js","./jsx-g9-lgVsj.js","./lua-BbnMAYS6.js","./yaml-Buea-lGh.js","./erlang-DsQrWhSR.js","./markdown-Cvjx9yec.js","./fortran-fixed-form-BZjJHVRy.js","./fortran-free-form-D22FLkUw.js","./fsharp-CXgrBDvD.js","./gdresource-B7Tvp0Sc.js","./gdshader-DkwncUOv.js","./gdscript-DTMYz4Jt.js","./git-commit-F4YmCXRG.js","./diff-D97Zzqfu.js","./git-rebase-r7XF79zn.js","./glimmer-js-Rg0-pVw9.js","./glimmer-ts-U6CK756n.js","./hack-CaT9iCJl.js","./handlebars-BL8al0AC.js","./http-jrhK8wxY.js","./hurl-irOxFIW8.js","./csv-fuZLfV_i.js","./hxml-Bvhsp5Yf.js","./haxe-CzTSHFRz.js","./jinja-4LBKfQ-Z.js","./jison-wvAkD_A8.js","./julia-C8NyazO9.js","./r-DiinP2Uv.js","./latex-BdAV_C_H.js","./tex-CxkMU7Pf.js","./liquid-DYVedYrR.js","./marko-CPi9NSCl.js","./less-B1dDrJ26.js","./mdc-DUICxH0z.js","./nginx-DknmC5AR.js","./nim-CVrawwO9.js","./perl-C0TMdlhV.js","./php-CDn_0X-4.js","./pug-CGlum2m_.js","./qml-3beO22l8.js","./razor-CE9lU5zL.js","./csharp-K5feNrxe.js","./rst-B0xPkSld.js","./cmake-D1j8_8rp.js","./sas-cz2c8ADy.js","./shaderlab-Dg9Lc6iA.js","./hlsl-D3lLCCz7.js","./shellsession-BADoaaVG.js","./soy-Brmx7dQM.js","./sparql-rVzFXLq3.js","./turtle-BsS91CYL.js","./stata-BH5u7GGu.js","./svelte-3Dk4HxPD.js","./templ-W15q3VgB.js","./go-Dn2_MT6a.js","./ts-tags-zn1MmPIZ.js","./twig-CO9l9SDP.js","./vue-DnHKYNfI.js","./vue-html-CChd_i61.js","./vue-vine-8moa0y9V.js","./stylus-BEDo0Tqx.js","./xsl-CtQFsRM5.js","./dagre-6UL2VRFP-CnH2bknj.js","./graph-CAZ5kqrP.js","./layout-C8Lo-zBy.js","./clone-BS0IZJnN.js","./iframe-C9cmYNoO.js","./preload-helper-PPVm8Dsz.js","./cose-bilkent-S5V4N54A-CSOQFdqV.js","./cytoscape.esm-TTflUzRS.js","./c4Diagram-YG6GDRKO-DpWoUU-_.js","./chunk-TZMSLE5B-CL56v-We.js","./flowDiagram-NV44I4VS-iTEQmw1T.js","./chunk-FMBD7UC4-Bx8CnhGk.js","./chunk-55IACEB6-lNuHvaJo.js","./chunk-QN33PNHL-BIrQ2mhT.js","./channel-DH55nBD8.js","./erDiagram-Q2GNP2WA-CPxBugZF.js","./gitGraphDiagram-NY62KEGX-DAPWiBBK.js","./chunk-4BX2VUAB-BKGcEXGO.js","./chunk-QZHKN3VN-_cEraYu3.js","./treemap-KMMF4GRG-Bc0CcuA2.js","./ganttDiagram-JELNMOA3-ClFw4IiM.js","./linear-CBOsNUtb.js","./init-Gi6I4Gst.js","./defaultLocale-C4B-KCzX.js","./infoDiagram-WHAUD3N6-BsUVWfaT.js","./pieDiagram-ADFJNKIX-eBkaLg5Q.js","./arc-ColaJGAC.js","./ordinal-Cboi1Yqb.js","./quadrantDiagram-AYHSOK5B-mEOAIox5.js","./xychartDiagram-PRI3JC2R-DD89kvUj.js","./requirementDiagram-UZGBJVZJ-BaQUewI4.js","./sequenceDiagram-WL72ISMW-BZUHAtDr.js","./classDiagram-2ON5EDUG-1qKJ15nQ.js","./chunk-B4BG7PRW-BtahP0ps.js","./classDiagram-v2-WZHVMYZB-1qKJ15nQ.js","./stateDiagram-FKZM4ZOC-CsN3vy6C.js","./chunk-DI55MBZ5-KU7DnZFz.js","./stateDiagram-v2-4FDKWEC3-BDFhKtTS.js","./journeyDiagram-XKPGCS4Q-CaHFbgIy.js","./timeline-definition-IT6M3QCI-CkUaNwgD.js","./mindmap-definition-VGOIOE7T-C5oO6nlg.js","./kanban-definition-3W4ZIXB7-B-hwUnA_.js","./sankeyDiagram-TZEHDZUN-Bn27UWkc.js","./diagram-S2PKOQOG-DNw7MWZN.js","./diagram-QEK2KX5R-B8zOSMJb.js","./blockDiagram-VD42YOAC-Cvew6CKS.js","./architectureDiagram-VXUJARFQ-qPC3T7sX.js","./diagram-PSM6KHXK-BASMUDBg.js"])))=>i.map(i=>d[i]);
import{g as Ou,c as Dn,R as Gr,a as Va}from"./iframe-C9cmYNoO.js";import{_ as et}from"./preload-helper-PPVm8Dsz.js";function d_(e){if(e)throw e}var sp,f_;function z6(){if(f_)return sp;f_=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!h)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},a=function(u,c){r&&c.name==="__proto__"?r(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},o=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(n)return n(u,c).value}else return;return u[c]};return sp=function l(){var u,c,h,f,d,p,g=arguments[0],y=1,m=arguments.length,b=!1;for(typeof g=="boolean"&&(b=g,g=arguments[1]||{},y=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});y<m;++y)if(u=arguments[y],u!=null)for(c in u)h=o(g,c),f=o(u,c),g!==f&&(b&&f&&(s(f)||(d=i(f)))?(d?(d=!1,p=h&&i(h)?h:[]):p=h&&s(h)?h:{},a(g,{name:c,newValue:l(b,p,f)})):typeof f<"u"&&a(g,{name:c,newValue:f}));return g},sp}var j6=z6();const ap=Ou(j6);function d0(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function W6(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const c=e[++s];let h=-1;if(l){a(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?q6(c,o)(...u):a(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function q6(e,t){let r;return n;function n(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e(...a)}catch(u){const c=u;if(o&&r)throw c;return i(c)}o||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}function G6(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?p_(e.position):"start"in e||"end"in e?p_(e):"line"in e||"column"in e?f0(e):""}function f0(e){return m_(e&&e.line)+":"+m_(e&&e.column)}function p_(e){return f0(e&&e.start)+"-"+f0(e&&e.end)}function m_(e){return e&&typeof e=="number"?e:1}class tn extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?s.ruleId=n:(s.source=n.slice(0,l),s.ruleId=n.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=G6(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tn.prototype.file="";tn.prototype.name="";tn.prototype.reason="";tn.prototype.message="";tn.prototype.stack="";tn.prototype.column=void 0;tn.prototype.line=void 0;tn.prototype.ancestors=void 0;tn.prototype.cause=void 0;tn.prototype.fatal=void 0;tn.prototype.place=void 0;tn.prototype.ruleId=void 0;tn.prototype.source=void 0;const fi={basename:V6,dirname:Y6,extname:X6,join:K6,sep:"/"};function V6(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Pu(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function Y6(e){if(Pu(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function X6(e){Pu(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function K6(...e){let t=-1,r;for(;++t<e.length;)Pu(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Z6(r)}function Z6(e){Pu(e);const t=e.codePointAt(0)===47;let r=Q6(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Q6(e,t){let r="",n=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function Pu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const J6={cwd:tD};function tD(){return"/"}function p0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function eD(e){if(typeof e=="string")e=new URL(e);else if(!p0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return rD(e)}function rD(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const op=["history","path","basename","stem","extname","dirname"];class m0{constructor(t){let r;t?p0(t)?r={path:t}:typeof t=="string"||nD(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":J6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<op.length;){const s=op[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)op.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?fi.basename(this.path):void 0}set basename(t){up(t,"basename"),lp(t,"basename"),this.path=fi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?fi.dirname(this.path):void 0}set dirname(t){g_(this.basename,"dirname"),this.path=fi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?fi.extname(this.path):void 0}set extname(t){if(lp(t,"extname"),g_(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){p0(t)&&(t=eD(t)),up(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?fi.basename(this.path,this.extname):void 0}set stem(t){up(t,"stem"),lp(t,"stem"),this.path=fi.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new tn(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function lp(e,t){if(e&&e.includes(fi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+fi.sep+"`")}function up(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function g_(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function nD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const iD=function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},sD={}.hasOwnProperty;class $y extends iD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=W6()}copy(){const t=new $y;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(ap(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(dp("data",this.frozen),this.namespace[t]=r,this):sD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(dp("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=fc(t),n=this.parser||this.Parser;return cp("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),cp("process",this.parser||this.Parser),hp("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=fc(t),l=n.parse(o);n.run(l,o,function(c,h,f){if(c||!h||!f)return u(c);const d=h,p=n.stringify(d,f);lD(p)?f.value=p:f.result=p,u(c,f)});function u(c,h){c||!h?a(c):s?s(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),cp("processSync",this.parser||this.Parser),hp("processSync",this.compiler||this.Compiler),this.process(t,i),y_("processSync","process",r),n;function i(s,a){r=!0,d_(s),n=a}}run(t,r,n){b_(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const l=fc(r);i.run(t,l,u);function u(c,h,f){const d=h||t;c?o(c):a?a(d):n(void 0,d,f)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),y_("runSync","run",n),i;function s(a,o){d_(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=fc(r),i=this.compiler||this.Compiler;return hp("stringify",i),b_(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(dp("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;l(c,h)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=ap(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let h=-1,f=-1;for(;++h<n.length;)if(n[h][0]===u){f=h;break}if(f===-1)n.push([u,...c]);else if(c.length>0){let[d,...p]=c;const g=n[f][1];d0(g)&&d0(d)&&(d=ap(!0,g,d)),n[f]=[u,d,...p]}}}}const aD=new $y().freeze();function cp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function hp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function dp(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function b_(e){if(!d0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function y_(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function fc(e){return oD(e)?e:new m0(e)}function oD(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function lD(e){return typeof e=="string"||uD(e)}function uD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cD={};function Kd(e,t){const r=cD,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return zA(e,n,i)}function zA(e,t,r){if(hD(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return __(e.children,t,r)}return Array.isArray(e)?__(e,t,r):""}function __(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=zA(e[i],t,r);return n.join("")}function hD(e){return!!(e&&typeof e=="object")}const E_=document.createElement("i");function zy(e){const t="&"+e+";";E_.innerHTML=t;const r=E_.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function xn(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Rn(e,t){return e.length>0?(xn(e,e.length,0,t),e):t}const w_={}.hasOwnProperty;function jA(e){const t={};let r=-1;for(;++r<e.length;)dD(t,e[r]);return t}function dD(e,t){let r;for(r in t){const i=(w_.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){w_.call(i,a)||(i[a]=[]);const o=s[a];fD(i[a],Array.isArray(o)?o:o?[o]:[])}}}function fD(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);xn(e,0,0,n)}function WA(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"ï¿½":String.fromCodePoint(r)}function Vn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yr=Ts(/[A-Za-z]/),fn=Ts(/[\dA-Za-z]/),pD=Ts(/[#-'*+\--9=?A-Z^-~]/);function Dh(e){return e!==null&&(e<32||e===127)}const g0=Ts(/\d/),mD=Ts(/[\dA-Fa-f]/),gD=Ts(/[!-/:-@[-`{-~]/);function Zt(e){return e!==null&&e<-2}function Me(e){return e!==null&&(e<0||e===32)}function xe(e){return e===-2||e===-1||e===32}const Zd=Ts(new RegExp("\\p{P}|\\p{S}","u")),ha=Ts(/\s/);function Ts(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function _e(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return xe(l)?(e.enter(r),o(l)):t(l)}function o(l){return xe(l)&&s++<i?(e.consume(l),o):(e.exit(r),t(l))}}const bD={tokenize:yD};function yD(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),_e(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Zt(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const _D={tokenize:ED},x_={tokenize:wD};function ED(e){const t=this,r=[];let n=0,i,s,a;return o;function o(_){if(n<r.length){const T=r[n];return t.containerState=T[1],e.attempt(T[0].continuation,l,u)(_)}return u(_)}function l(_){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const T=t.events.length;let C=T,L;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){L=t.events[C][1].end;break}m(n);let N=T;for(;N<t.events.length;)t.events[N][1].end={...L},N++;return xn(t.events,C+1,0,t.events.slice(T)),t.events.length=N,u(_)}return o(_)}function u(_){if(n===r.length){if(!i)return f(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(x_,c,h)(_)}function c(_){return i&&b(),m(n),f(_)}function h(_){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,p(_)}function f(_){return t.containerState={},e.attempt(x_,d,p)(_)}function d(_){return n++,r.push([t.currentConstruct,t.containerState]),f(_)}function p(_){if(_===null){i&&b(),m(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(_)}function g(_){if(_===null){y(e.exit("chunkFlow"),!0),m(0),e.consume(_);return}return Zt(_)?(e.consume(_),y(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(_),g)}function y(_,T){const C=t.sliceStream(_);if(T&&C.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(C),t.parser.lazy[_.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<a&&(!i.events[L][1].end||i.events[L][1].end.offset>a))return;const N=t.events.length;let z=N,R,H;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(R){H=t.events[z][1].end;break}R=!0}for(m(n),L=N;L<t.events.length;)t.events[L][1].end={...H},L++;xn(t.events,z+1,0,t.events.slice(N)),t.events.length=L}}function m(_){let T=r.length;for(;T-- >_;){const C=r[T];t.containerState=C[1],C[0].exit.call(t,e)}r.length=_}function b(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function wD(e,t,r){return _e(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function mo(e){if(e===null||Me(e)||ha(e))return 1;if(Zd(e))return 2}function Qd(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const b0={name:"attention",resolveAll:xD,tokenize:TD};function xD(e,t){let r=-1,n,i,s,a,o,l,u,c;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},f={...e[r][1].start};T_(h,-l),T_(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Rn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Rn(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=Rn(u,Qd(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=Rn(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(c=2,u=Rn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):c=0,xn(e,n-1,r-n+3,u),r=n+u.length-c-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function TD(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=mo(n);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const u=e.exit("attentionSequence"),c=mo(l),h=!c||c===2&&i||r.includes(l),f=!i||i===2&&c||r.includes(n);return u._open=!!(s===42?h:h&&(i||!f)),u._close=!!(s===42?f:f&&(c||!h)),t(l)}}function T_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const vD={name:"autolink",tokenize:AD};function AD(e,t,r){let n=0;return i;function i(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(d){return Yr(d)?(e.consume(d),a):d===64?r(d):u(d)}function a(d){return d===43||d===45||d===46||fn(d)?(n=1,o(d)):u(d)}function o(d){return d===58?(e.consume(d),n=0,l):(d===43||d===45||d===46||fn(d))&&n++<32?(e.consume(d),o):(n=0,u(d))}function l(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||Dh(d)?r(d):(e.consume(d),l)}function u(d){return d===64?(e.consume(d),c):pD(d)?(e.consume(d),u):r(d)}function c(d){return fn(d)?h(d):r(d)}function h(d){return d===46?(e.consume(d),n=0,c):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):f(d)}function f(d){if((d===45||fn(d))&&n++<63){const p=d===45?f:h;return e.consume(d),p}return r(d)}}const Du={partial:!0,tokenize:CD};function CD(e,t,r){return n;function n(s){return xe(s)?_e(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Zt(s)?t(s):r(s)}}const qA={continuation:{tokenize:SD},exit:ID,name:"blockQuote",tokenize:kD};function kD(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return xe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function SD(e,t,r){const n=this;return i;function i(a){return xe(a)?_e(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(qA,t,r)(a)}}function ID(e){e.exit("blockQuote")}const GA={name:"characterEscape",tokenize:LD};function LD(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return gD(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const VA={name:"characterReference",tokenize:RD};function RD(e,t,r){const n=this;let i=0,s,a;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=fn,c(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=mD,c):(e.enter("characterReferenceValue"),s=7,a=g0,c(h))}function c(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return a===fn&&!zy(n.sliceSerialize(f))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&i++<s?(e.consume(h),c):r(h)}}const v_={partial:!0,tokenize:OD},A_={concrete:!0,name:"codeFenced",tokenize:ND};function ND(e,t,r){const n=this,i={partial:!0,tokenize:C};let s=0,a=0,o;return l;function l(L){return u(L)}function u(L){const N=n.events[n.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,o=L,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(L)}function c(L){return L===o?(a++,e.consume(L),c):a<3?r(L):(e.exit("codeFencedFenceSequence"),xe(L)?_e(e,h,"whitespace")(L):h(L))}function h(L){return L===null||Zt(L)?(e.exit("codeFencedFence"),n.interrupt?t(L):e.check(v_,g,T)(L)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(L))}function f(L){return L===null||Zt(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(L)):xe(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_e(e,d,"whitespace")(L)):L===96&&L===o?r(L):(e.consume(L),f)}function d(L){return L===null||Zt(L)?h(L):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(L))}function p(L){return L===null||Zt(L)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(L)):L===96&&L===o?r(L):(e.consume(L),p)}function g(L){return e.attempt(i,T,y)(L)}function y(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),m}function m(L){return s>0&&xe(L)?_e(e,b,"linePrefix",s+1)(L):b(L)}function b(L){return L===null||Zt(L)?e.check(v_,g,T)(L):(e.enter("codeFlowValue"),_(L))}function _(L){return L===null||Zt(L)?(e.exit("codeFlowValue"),b(L)):(e.consume(L),_)}function T(L){return e.exit("codeFenced"),t(L)}function C(L,N,z){let R=0;return H;function H($){return L.enter("lineEnding"),L.consume($),L.exit("lineEnding"),K}function K($){return L.enter("codeFencedFence"),xe($)?_e(L,S,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):S($)}function S($){return $===o?(L.enter("codeFencedFenceSequence"),U($)):z($)}function U($){return $===o?(R++,L.consume($),U):R>=a?(L.exit("codeFencedFenceSequence"),xe($)?_e(L,w,"whitespace")($):w($)):z($)}function w($){return $===null||Zt($)?(L.exit("codeFencedFence"),N($)):z($)}}}function OD(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const fp={name:"codeIndented",tokenize:DD},PD={partial:!0,tokenize:BD};function DD(e,t,r){const n=this;return i;function i(u){return e.enter("codeIndented"),_e(e,s,"linePrefix",5)(u)}function s(u){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):r(u)}function a(u){return u===null?l(u):Zt(u)?e.attempt(PD,a,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Zt(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function BD(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):Zt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):_e(e,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):Zt(a)?i(a):r(a)}}const MD={name:"codeText",previous:UD,resolve:FD,tokenize:HD};function FD(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function UD(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function HD(e,t,r){let n=0,i,s;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),n++,o):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(s=e.enter("codeTextSequence"),i=0,c(h)):Zt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Zt(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function c(h){return h===96?(e.consume(h),i++,c):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}class $D{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Ko(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ko(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ko(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Ko(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ko(this.left,r.reverse())}}}function Ko(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function YA(e){const t={};let r=-1,n,i,s,a,o,l,u;const c=new $D(e);for(;++r<c.length;){for(;r in t;)r=t[r];if(n=c.get(r),r&&n[1].type==="chunkFlow"&&c.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,zD(c,r)),r=t[r],u=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=c.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...c.get(i)[1].start},o=c.slice(i,r),o.unshift(n),c.splice(i,r-i+1,o))}}return xn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function zD(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let c,h,f=-1,d=r,p=0,g=0;const y=[g];for(;d;){for(;e.get(++i)[1]!==d;);s.push(i),d._tokenizer||(c=n.sliceStream(d),d.next||c.push(null),h&&a.defineSkip(d.start),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),d._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=r;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(g=f+1,y.push(g),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(a.events=[],d?(d._tokenizer=void 0,d.previous=void 0):y.pop(),f=y.length;f--;){const m=o.slice(y[f],y[f+1]),b=s.pop();l.push([b,b+m.length-1]),e.splice(b,2,m)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const jD={resolve:qD,tokenize:GD},WD={partial:!0,tokenize:VD};function qD(e){return YA(e),e}function GD(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Zt(o)?e.check(WD,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function VD(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),_e(e,s,"linePrefix")}function s(a){if(a===null||Zt(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function XA(e,t,r,n,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(m){return m===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(m),e.exit(s),f):m===null||m===32||m===41||Dh(m)?r(m):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(m))}function f(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===62?(e.exit("chunkString"),e.exit(o),f(m)):m===null||m===60||Zt(m)?r(m):(e.consume(m),m===92?p:d)}function p(m){return m===60||m===62||m===92?(e.consume(m),d):d(m)}function g(m){return!c&&(m===null||m===41||Me(m))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(m)):c<u&&m===40?(e.consume(m),c++,g):m===41?(e.consume(m),c--,g):m===null||m===32||m===40||Dh(m)?r(m):(e.consume(m),m===92?y:g)}function y(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function KA(e,t,r,n,i,s){const a=this;let o=0,l;return u;function u(d){return e.enter(n),e.enter(i),e.consume(d),e.exit(i),e.enter(s),c}function c(d){return o>999||d===null||d===91||d===93&&!l||d===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(d):d===93?(e.exit(s),e.enter(i),e.consume(d),e.exit(i),e.exit(n),t):Zt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||d===91||d===93||Zt(d)||o++>999?(e.exit("chunkString"),c(d)):(e.consume(d),l||(l=!xe(d)),d===92?f:h)}function f(d){return d===91||d===92||d===93?(e.consume(d),o++,h):h(d)}}function ZA(e,t,r,n,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(n),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,l):r(f)}function l(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):(e.enter(s),u(f))}function u(f){return f===a?(e.exit(s),l(a)):f===null?r(f):Zt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),_e(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===a||f===null||Zt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:c)}function h(f){return f===a||f===92?(e.consume(f),c):c(f)}}function Wl(e,t){let r;return n;function n(i){return Zt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):xe(i)?_e(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const YD={name:"definition",tokenize:KD},XD={partial:!0,tokenize:ZD};function KD(e,t,r){const n=this;let i;return s;function s(d){return e.enter("definition"),a(d)}function a(d){return KA.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return i=Vn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),l):r(d)}function l(d){return Me(d)?Wl(e,u)(d):u(d)}function u(d){return XA(e,c,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return e.attempt(XD,h,h)(d)}function h(d){return xe(d)?_e(e,f,"whitespace")(d):f(d)}function f(d){return d===null||Zt(d)?(e.exit("definition"),n.parser.defined.push(i),t(d)):r(d)}}function ZD(e,t,r){return n;function n(o){return Me(o)?Wl(e,i)(o):r(o)}function i(o){return ZA(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return xe(o)?_e(e,a,"whitespace")(o):a(o)}function a(o){return o===null||Zt(o)?t(o):r(o)}}const QD={name:"hardBreakEscape",tokenize:JD};function JD(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Zt(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const tB={name:"headingAtx",resolve:eB,tokenize:rB};function eB(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},xn(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function rB(e,t,r){let n=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&n++<6?(e.consume(c),a):c===null||Me(c)?(e.exit("atxHeadingSequence"),o(c)):r(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Zt(c)?(e.exit("atxHeading"),t(c)):xe(c)?_e(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Me(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const nB=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],C_=["pre","script","style","textarea"],iB={concrete:!0,name:"htmlFlow",resolveTo:oB,tokenize:lB},sB={partial:!0,tokenize:cB},aB={partial:!0,tokenize:uB};function oB(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function lB(e,t,r){const n=this;let i,s,a,o,l;return u;function u(F){return c(F)}function c(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),h}function h(F){return F===33?(e.consume(F),f):F===47?(e.consume(F),s=!0,g):F===63?(e.consume(F),i=3,n.interrupt?t:G):Yr(F)?(e.consume(F),a=String.fromCharCode(F),y):r(F)}function f(F){return F===45?(e.consume(F),i=2,d):F===91?(e.consume(F),i=5,o=0,p):Yr(F)?(e.consume(F),i=4,n.interrupt?t:G):r(F)}function d(F){return F===45?(e.consume(F),n.interrupt?t:G):r(F)}function p(F){const it="CDATA[";return F===it.charCodeAt(o++)?(e.consume(F),o===it.length?n.interrupt?t:S:p):r(F)}function g(F){return Yr(F)?(e.consume(F),a=String.fromCharCode(F),y):r(F)}function y(F){if(F===null||F===47||F===62||Me(F)){const it=F===47,lt=a.toLowerCase();return!it&&!s&&C_.includes(lt)?(i=1,n.interrupt?t(F):S(F)):nB.includes(a.toLowerCase())?(i=6,it?(e.consume(F),m):n.interrupt?t(F):S(F)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(F):s?b(F):_(F))}return F===45||fn(F)?(e.consume(F),a+=String.fromCharCode(F),y):r(F)}function m(F){return F===62?(e.consume(F),n.interrupt?t:S):r(F)}function b(F){return xe(F)?(e.consume(F),b):H(F)}function _(F){return F===47?(e.consume(F),H):F===58||F===95||Yr(F)?(e.consume(F),T):xe(F)?(e.consume(F),_):H(F)}function T(F){return F===45||F===46||F===58||F===95||fn(F)?(e.consume(F),T):C(F)}function C(F){return F===61?(e.consume(F),L):xe(F)?(e.consume(F),C):_(F)}function L(F){return F===null||F===60||F===61||F===62||F===96?r(F):F===34||F===39?(e.consume(F),l=F,N):xe(F)?(e.consume(F),L):z(F)}function N(F){return F===l?(e.consume(F),l=null,R):F===null||Zt(F)?r(F):(e.consume(F),N)}function z(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||Me(F)?C(F):(e.consume(F),z)}function R(F){return F===47||F===62||xe(F)?_(F):r(F)}function H(F){return F===62?(e.consume(F),K):r(F)}function K(F){return F===null||Zt(F)?S(F):xe(F)?(e.consume(F),K):r(F)}function S(F){return F===45&&i===2?(e.consume(F),X):F===60&&i===1?(e.consume(F),j):F===62&&i===4?(e.consume(F),W):F===63&&i===3?(e.consume(F),G):F===93&&i===5?(e.consume(F),J):Zt(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(sB,B,U)(F)):F===null||Zt(F)?(e.exit("htmlFlowData"),U(F)):(e.consume(F),S)}function U(F){return e.check(aB,w,B)(F)}function w(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),$}function $(F){return F===null||Zt(F)?U(F):(e.enter("htmlFlowData"),S(F))}function X(F){return F===45?(e.consume(F),G):S(F)}function j(F){return F===47?(e.consume(F),a="",nt):S(F)}function nt(F){if(F===62){const it=a.toLowerCase();return C_.includes(it)?(e.consume(F),W):S(F)}return Yr(F)&&a.length<8?(e.consume(F),a+=String.fromCharCode(F),nt):S(F)}function J(F){return F===93?(e.consume(F),G):S(F)}function G(F){return F===62?(e.consume(F),W):F===45&&i===2?(e.consume(F),G):S(F)}function W(F){return F===null||Zt(F)?(e.exit("htmlFlowData"),B(F)):(e.consume(F),W)}function B(F){return e.exit("htmlFlow"),t(F)}}function uB(e,t,r){const n=this;return i;function i(a){return Zt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function cB(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Du,t,r)}}const hB={name:"htmlText",tokenize:dB};function dB(e,t,r){const n=this;let i,s,a;return o;function o(G){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(G),l}function l(G){return G===33?(e.consume(G),u):G===47?(e.consume(G),C):G===63?(e.consume(G),_):Yr(G)?(e.consume(G),z):r(G)}function u(G){return G===45?(e.consume(G),c):G===91?(e.consume(G),s=0,p):Yr(G)?(e.consume(G),b):r(G)}function c(G){return G===45?(e.consume(G),d):r(G)}function h(G){return G===null?r(G):G===45?(e.consume(G),f):Zt(G)?(a=h,j(G)):(e.consume(G),h)}function f(G){return G===45?(e.consume(G),d):h(G)}function d(G){return G===62?X(G):G===45?f(G):h(G)}function p(G){const W="CDATA[";return G===W.charCodeAt(s++)?(e.consume(G),s===W.length?g:p):r(G)}function g(G){return G===null?r(G):G===93?(e.consume(G),y):Zt(G)?(a=g,j(G)):(e.consume(G),g)}function y(G){return G===93?(e.consume(G),m):g(G)}function m(G){return G===62?X(G):G===93?(e.consume(G),m):g(G)}function b(G){return G===null||G===62?X(G):Zt(G)?(a=b,j(G)):(e.consume(G),b)}function _(G){return G===null?r(G):G===63?(e.consume(G),T):Zt(G)?(a=_,j(G)):(e.consume(G),_)}function T(G){return G===62?X(G):_(G)}function C(G){return Yr(G)?(e.consume(G),L):r(G)}function L(G){return G===45||fn(G)?(e.consume(G),L):N(G)}function N(G){return Zt(G)?(a=N,j(G)):xe(G)?(e.consume(G),N):X(G)}function z(G){return G===45||fn(G)?(e.consume(G),z):G===47||G===62||Me(G)?R(G):r(G)}function R(G){return G===47?(e.consume(G),X):G===58||G===95||Yr(G)?(e.consume(G),H):Zt(G)?(a=R,j(G)):xe(G)?(e.consume(G),R):X(G)}function H(G){return G===45||G===46||G===58||G===95||fn(G)?(e.consume(G),H):K(G)}function K(G){return G===61?(e.consume(G),S):Zt(G)?(a=K,j(G)):xe(G)?(e.consume(G),K):R(G)}function S(G){return G===null||G===60||G===61||G===62||G===96?r(G):G===34||G===39?(e.consume(G),i=G,U):Zt(G)?(a=S,j(G)):xe(G)?(e.consume(G),S):(e.consume(G),w)}function U(G){return G===i?(e.consume(G),i=void 0,$):G===null?r(G):Zt(G)?(a=U,j(G)):(e.consume(G),U)}function w(G){return G===null||G===34||G===39||G===60||G===61||G===96?r(G):G===47||G===62||Me(G)?R(G):(e.consume(G),w)}function $(G){return G===47||G===62||Me(G)?R(G):r(G)}function X(G){return G===62?(e.consume(G),e.exit("htmlTextData"),e.exit("htmlText"),t):r(G)}function j(G){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),nt}function nt(G){return xe(G)?_e(e,J,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):J(G)}function J(G){return e.enter("htmlTextData"),a(G)}}const jy={name:"labelEnd",resolveAll:gB,resolveTo:bB,tokenize:yB},fB={tokenize:_B},pB={tokenize:EB},mB={tokenize:wB};function gB(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&xn(e,0,e.length,r),e}function bB(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Rn(o,e.slice(s+1,s+n+3)),o=Rn(o,[["enter",c,t]]),o=Rn(o,Qd(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=Rn(o,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),o=Rn(o,e.slice(a+1)),o=Rn(o,[["exit",l,t]]),xn(e,s,e.length,o),e}function yB(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(f){return s?s._inactive?h(f):(a=n.parser.defined.includes(Vn(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):r(f)}function l(f){return f===40?e.attempt(fB,c,a?c:h)(f):f===91?e.attempt(pB,c,a?u:h)(f):a?c(f):h(f)}function u(f){return e.attempt(mB,c,h)(f)}function c(f){return t(f)}function h(f){return s._balanced=!0,r(f)}}function _B(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Me(h)?Wl(e,s)(h):s(h)}function s(h){return h===41?c(h):XA(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Me(h)?Wl(e,l)(h):c(h)}function o(h){return r(h)}function l(h){return h===34||h===39||h===40?ZA(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return Me(h)?Wl(e,c)(h):c(h)}function c(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function EB(e,t,r){const n=this;return i;function i(o){return KA.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(Vn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function wB(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const xB={name:"labelStartImage",resolveAll:jy.resolveAll,tokenize:TB};function TB(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const vB={name:"labelStartLink",resolveAll:jy.resolveAll,tokenize:AB};function AB(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const pp={name:"lineEnding",tokenize:CB};function CB(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),_e(e,t,"linePrefix")}}const sh={name:"thematicBreak",tokenize:kB};function kB(e,t,r){let n=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):n>=3&&(u===null||Zt(u))?(e.exit("thematicBreak"),t(u)):r(u)}function l(u){return u===i?(e.consume(u),n++,l):(e.exit("thematicBreakSequence"),xe(u)?_e(e,o,"whitespace")(u):o(u))}}const ln={continuation:{tokenize:RB},exit:OB,name:"list",tokenize:LB},SB={partial:!0,tokenize:PB},IB={partial:!0,tokenize:NB};function LB(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(d){const p=n.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||d===n.containerState.marker:g0(d)){if(n.containerState.type||(n.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(sh,r,u)(d):u(d);if(!n.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(d)}return r(d)}function l(d){return g0(d)&&++a<10?(e.consume(d),l):(!n.interrupt||a<2)&&(n.containerState.marker?d===n.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),u(d)):r(d)}function u(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||d,e.check(Du,n.interrupt?r:c,e.attempt(SB,f,h))}function c(d){return n.containerState.initialBlankLine=!0,s++,f(d)}function h(d){return xe(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),f):r(d)}function f(d){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function RB(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Du,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,_e(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!xe(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(IB,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,_e(e,e.attempt(ln,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function NB(e,t,r){const n=this;return _e(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function OB(e){e.exit(this.containerState.type)}function PB(e,t,r){const n=this;return _e(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!xe(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const k_={name:"setextUnderline",resolveTo:DB,tokenize:BB};function DB(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function BB(e,t,r){const n=this;let i;return s;function s(u){let c=n.events.length,h;for(;c--;)if(n.events[c][1].type!=="lineEnding"&&n.events[c][1].type!=="linePrefix"&&n.events[c][1].type!=="content"){h=n.events[c][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),i=u,a(u)):r(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),xe(u)?_e(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Zt(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const MB={tokenize:FB};function FB(e){const t=this,r=e.attempt(Du,n,e.attempt(this.parser.constructs.flowInitial,i,_e(e,e.attempt(this.parser.constructs.flow,i,e.attempt(jD,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const UB={resolveAll:JA()},HB=QA("string"),$B=QA("text");function QA(e){return{resolveAll:JA(e==="text"?zB:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(c){return u(c)?s(c):o(c)}function o(c){if(c===null){r.consume(c);return}return r.enter("data"),r.consume(c),l}function l(c){return u(c)?(r.exit("data"),s(c)):(r.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let f=-1;if(h)for(;++f<h.length;){const d=h[f];if(!d.previous||d.previous.call(n,n.previous))return!0}return!1}}}function JA(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function zB(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const jB={42:ln,43:ln,45:ln,48:ln,49:ln,50:ln,51:ln,52:ln,53:ln,54:ln,55:ln,56:ln,57:ln,62:qA},WB={91:YD},qB={[-2]:fp,[-1]:fp,32:fp},GB={35:tB,42:sh,45:[k_,sh],60:iB,61:k_,95:sh,96:A_,126:A_},VB={38:VA,92:GA},YB={[-5]:pp,[-4]:pp,[-3]:pp,33:xB,38:VA,42:b0,60:[vD,hB],91:vB,92:[QD,GA],93:jy,95:b0,96:MD},XB={null:[b0,UB]},KB={null:[42,95]},ZB={null:[]},QB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:KB,contentInitial:WB,disable:ZB,document:jB,flow:GB,flowInitial:qB,insideSpan:XB,string:VB,text:YB},Symbol.toStringTag,{value:"Module"}));function JB(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:N(C),check:N(L),consume:b,enter:_,exit:T,interrupt:N(L,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:f,sliceStream:d,write:h};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function h(K){return a=Rn(a,K),y(),a[a.length-1]!==null?[]:(z(t,0),u.events=Qd(s,u.events,u),u.events)}function f(K,S){return e5(d(K),S)}function d(K){return t5(a,K)}function p(){const{_bufferIndex:K,_index:S,line:U,column:w,offset:$}=n;return{_bufferIndex:K,_index:S,line:U,column:w,offset:$}}function g(K){i[K.line]=K.column,H()}function y(){let K;for(;n._index<a.length;){const S=a[n._index];if(typeof S=="string")for(K=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===K&&n._bufferIndex<S.length;)m(S.charCodeAt(n._bufferIndex));else m(S)}}function m(K){c=c(K)}function b(K){Zt(K)?(n.line++,n.column=1,n.offset+=K===-3?2:1,H()):K!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=K}function _(K,S){const U=S||{};return U.type=K,U.start=p(),u.events.push(["enter",U,u]),o.push(U),U}function T(K){const S=o.pop();return S.end=p(),u.events.push(["exit",S,u]),S}function C(K,S){z(K,S.from)}function L(K,S){S.restore()}function N(K,S){return U;function U(w,$,X){let j,nt,J,G;return Array.isArray(w)?B(w):"tokenize"in w?B([w]):W(w);function W(ut){return M;function M(D){const at=D!==null&&ut[D],Q=D!==null&&ut.null,Y=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(Q)?Q:Q?[Q]:[]];return B(Y)(D)}}function B(ut){return j=ut,nt=0,ut.length===0?X:F(ut[nt])}function F(ut){return M;function M(D){return G=R(),J=ut,ut.partial||(u.currentConstruct=ut),ut.name&&u.parser.constructs.disable.null.includes(ut.name)?lt():ut.tokenize.call(S?Object.assign(Object.create(u),S):u,l,it,lt)(D)}}function it(ut){return K(J,G),$}function lt(ut){return G.restore(),++nt<j.length?F(j[nt]):X}}}function z(K,S){K.resolveAll&&!s.includes(K)&&s.push(K),K.resolve&&xn(u.events,S,u.events.length-S,K.resolve(u.events.slice(S),u)),K.resolveTo&&(u.events=K.resolveTo(u.events,u))}function R(){const K=p(),S=u.previous,U=u.currentConstruct,w=u.events.length,$=Array.from(o);return{from:w,restore:X};function X(){n=K,u.previous=S,u.currentConstruct=U,u.events.length=w,o=$,H()}}function H(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function t5(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function e5(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function r5(e){const n={constructs:jA([QB,...(e||{}).extensions||[]]),content:i(bD),defined:[],document:i(_D),flow:i(MB),lazy:{},string:i(HB),text:i($B)};return n;function i(s){return a;function a(o){return JB(n,s,o)}}}function n5(e){for(;!YA(e););return e}const S_=/[\0\t\n\r]/g;function i5(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const l=[];let u,c,h,f,d;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),h=0,t="",r&&(s.charCodeAt(0)===65279&&h++,r=void 0);h<s.length;){if(S_.lastIndex=h,u=S_.exec(s),f=u&&u.index!==void 0?u.index:s.length,d=s.charCodeAt(f),!u){t=s.slice(h);break}if(d===10&&h===f&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),h<f&&(l.push(s.slice(h,f)),e+=f-h),d){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}h=f+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const s5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function a5(e){return e.replace(s5,o5)}function o5(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return WA(r.slice(s?2:1),s?16:10)}return zy(r)||e}function ah(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?I_(e.position):"start"in e||"end"in e?I_(e):"line"in e||"column"in e?y0(e):""}function y0(e){return L_(e&&e.line)+":"+L_(e&&e.column)}function I_(e){return y0(e&&e.start)+"-"+y0(e&&e.end)}function L_(e){return e&&typeof e=="number"?e:1}const tC={}.hasOwnProperty;function l5(e,t,r){return typeof t!="string"&&(r=t,t=void 0),u5(r)(n5(r5(r).document().write(i5()(e,t,!0))))}function u5(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(I),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(ot),blockQuote:s(Q),characterEscape:R,characterReference:R,codeFenced:s(Y),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Y,a),codeText:s(Z,a),codeTextData:R,data:R,codeFlowValue:R,definition:s(_t),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(A),hardBreakEscape:s(O),hardBreakTrailing:s(O),htmlFlow:s(x,a),htmlFlowData:R,htmlText:s(x,a),htmlTextData:R,image:s(v),label:a,link:s(I),listItem:s(tt),listItemValue:f,listOrdered:s(V,h),listUnordered:s(V),paragraph:s(q),reference:F,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(ot),strong:s(pt),thematicBreak:s(gt)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:at,autolinkProtocol:D,blockQuote:l(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:lt,characterReferenceMarkerNumeric:lt,characterReferenceValue:ut,characterReference:M,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:d,codeFencedFenceMeta:p,codeFlowValue:H,codeIndented:l(m),codeText:l($),codeTextData:H,data:H,definition:l(),definitionDestinationString:T,definitionLabelString:b,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(S),hardBreakTrailing:l(S),htmlFlow:l(U),htmlFlowData:H,htmlText:l(w),htmlTextData:H,image:l(j),label:J,labelText:nt,lineEnding:K,link:l(X),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:it,resourceDestinationString:G,resourceTitleString:W,resource:B,setextHeading:l(z),setextHeadingLineSequence:N,setextHeadingText:L,strong:l(),thematicBreak:l()}};eC(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ht){let wt={type:"root",children:[]};const St={stack:[wt],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:c,data:r},zt=[];let oe=-1;for(;++oe<ht.length;)if(ht[oe][1].type==="listOrdered"||ht[oe][1].type==="listUnordered")if(ht[oe][0]==="enter")zt.push(oe);else{const Ee=zt.pop();oe=i(ht,Ee,oe)}for(oe=-1;++oe<ht.length;){const Ee=t[ht[oe][0]];tC.call(Ee,ht[oe][1].type)&&Ee[ht[oe][1].type].call(Object.assign({sliceSerialize:ht[oe][2].sliceSerialize},St),ht[oe][1])}if(St.tokenStack.length>0){const Ee=St.tokenStack[St.tokenStack.length-1];(Ee[1]||R_).call(St,void 0,Ee[0])}for(wt.position={start:rs(ht.length>0?ht[0][1].start:{line:1,column:1,offset:0}),end:rs(ht.length>0?ht[ht.length-2][1].end:{line:1,column:1,offset:0})},oe=-1;++oe<t.transforms.length;)wt=t.transforms[oe](wt)||wt;return wt}function i(ht,wt,St){let zt=wt-1,oe=-1,Ee=!1,Ve,Qt,er,qe;for(;++zt<=St;){const he=ht[zt];switch(he[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{he[0]==="enter"?oe++:oe--,qe=void 0;break}case"lineEndingBlank":{he[0]==="enter"&&(Ve&&!qe&&!oe&&!er&&(er=zt),qe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:qe=void 0}if(!oe&&he[0]==="enter"&&he[1].type==="listItemPrefix"||oe===-1&&he[0]==="exit"&&(he[1].type==="listUnordered"||he[1].type==="listOrdered")){if(Ve){let Lr=zt;for(Qt=void 0;Lr--;){const Ar=ht[Lr];if(Ar[1].type==="lineEnding"||Ar[1].type==="lineEndingBlank"){if(Ar[0]==="exit")continue;Qt&&(ht[Qt][1].type="lineEndingBlank",Ee=!0),Ar[1].type="lineEnding",Qt=Lr}else if(!(Ar[1].type==="linePrefix"||Ar[1].type==="blockQuotePrefix"||Ar[1].type==="blockQuotePrefixWhitespace"||Ar[1].type==="blockQuoteMarker"||Ar[1].type==="listItemIndent"))break}er&&(!Qt||er<Qt)&&(Ve._spread=!0),Ve.end=Object.assign({},Qt?ht[Qt][1].start:he[1].end),ht.splice(Qt||zt,0,["exit",Ve,he[2]]),zt++,St++}if(he[1].type==="listItemPrefix"){const Lr={type:"listItem",_spread:!1,start:Object.assign({},he[1].start),end:void 0};Ve=Lr,ht.splice(zt,0,["enter",Lr,he[2]]),zt++,St++,er=void 0,qe=!0}}}return ht[wt][1]._spread=Ee,St}function s(ht,wt){return St;function St(zt){o.call(this,ht(zt),zt),wt&&wt.call(this,zt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ht,wt,St){this.stack[this.stack.length-1].children.push(ht),this.stack.push(ht),this.tokenStack.push([wt,St||void 0]),ht.position={start:rs(wt.start),end:void 0}}function l(ht){return wt;function wt(St){ht&&ht.call(this,St),u.call(this,St)}}function u(ht,wt){const St=this.stack.pop(),zt=this.tokenStack.pop();if(zt)zt[0].type!==ht.type&&(wt?wt.call(this,ht,zt[0]):(zt[1]||R_).call(this,ht,zt[0]));else throw new Error("Cannot close `"+ht.type+"` ("+ah({start:ht.start,end:ht.end})+"): itâs not open");St.position.end=rs(ht.end)}function c(){return Kd(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(ht){if(this.data.expectingFirstListItemValue){const wt=this.stack[this.stack.length-2];wt.start=Number.parseInt(this.sliceSerialize(ht),10),this.data.expectingFirstListItemValue=void 0}}function d(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.lang=ht}function p(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.meta=ht}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.value=ht.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.value=ht.replace(/(\r?\n|\r)$/g,"")}function b(ht){const wt=this.resume(),St=this.stack[this.stack.length-1];St.label=wt,St.identifier=Vn(this.sliceSerialize(ht)).toLowerCase()}function _(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.title=ht}function T(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.url=ht}function C(ht){const wt=this.stack[this.stack.length-1];if(!wt.depth){const St=this.sliceSerialize(ht).length;wt.depth=St}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function N(ht){const wt=this.stack[this.stack.length-1];wt.depth=this.sliceSerialize(ht).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function R(ht){const St=this.stack[this.stack.length-1].children;let zt=St[St.length-1];(!zt||zt.type!=="text")&&(zt=Et(),zt.position={start:rs(ht.start),end:void 0},St.push(zt)),this.stack.push(zt)}function H(ht){const wt=this.stack.pop();wt.value+=this.sliceSerialize(ht),wt.position.end=rs(ht.end)}function K(ht){const wt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const St=wt.children[wt.children.length-1];St.position.end=rs(ht.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(wt.type)&&(R.call(this,ht),H.call(this,ht))}function S(){this.data.atHardBreak=!0}function U(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.value=ht}function w(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.value=ht}function $(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.value=ht}function X(){const ht=this.stack[this.stack.length-1];if(this.data.inReference){const wt=this.data.referenceType||"shortcut";ht.type+="Reference",ht.referenceType=wt,delete ht.url,delete ht.title}else delete ht.identifier,delete ht.label;this.data.referenceType=void 0}function j(){const ht=this.stack[this.stack.length-1];if(this.data.inReference){const wt=this.data.referenceType||"shortcut";ht.type+="Reference",ht.referenceType=wt,delete ht.url,delete ht.title}else delete ht.identifier,delete ht.label;this.data.referenceType=void 0}function nt(ht){const wt=this.sliceSerialize(ht),St=this.stack[this.stack.length-2];St.label=a5(wt),St.identifier=Vn(wt).toLowerCase()}function J(){const ht=this.stack[this.stack.length-1],wt=this.resume(),St=this.stack[this.stack.length-1];if(this.data.inReference=!0,St.type==="link"){const zt=ht.children;St.children=zt}else St.alt=wt}function G(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.url=ht}function W(){const ht=this.resume(),wt=this.stack[this.stack.length-1];wt.title=ht}function B(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function it(ht){const wt=this.resume(),St=this.stack[this.stack.length-1];St.label=wt,St.identifier=Vn(this.sliceSerialize(ht)).toLowerCase(),this.data.referenceType="full"}function lt(ht){this.data.characterReferenceType=ht.type}function ut(ht){const wt=this.sliceSerialize(ht),St=this.data.characterReferenceType;let zt;St?(zt=WA(wt,St==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):zt=zy(wt);const oe=this.stack[this.stack.length-1];oe.value+=zt}function M(ht){const wt=this.stack.pop();wt.position.end=rs(ht.end)}function D(ht){H.call(this,ht);const wt=this.stack[this.stack.length-1];wt.url=this.sliceSerialize(ht)}function at(ht){H.call(this,ht);const wt=this.stack[this.stack.length-1];wt.url="mailto:"+this.sliceSerialize(ht)}function Q(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function Z(){return{type:"inlineCode",value:""}}function _t(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function A(){return{type:"emphasis",children:[]}}function ot(){return{type:"heading",depth:0,children:[]}}function O(){return{type:"break"}}function x(){return{type:"html",value:""}}function v(){return{type:"image",title:null,url:"",alt:null}}function I(){return{type:"link",title:null,url:"",children:[]}}function V(ht){return{type:"list",ordered:ht.type==="listOrdered",start:null,spread:ht._spread,children:[]}}function tt(ht){return{type:"listItem",spread:ht._spread,checked:null,children:[]}}function q(){return{type:"paragraph",children:[]}}function pt(){return{type:"strong",children:[]}}function Et(){return{type:"text",value:""}}function gt(){return{type:"thematicBreak"}}}function rs(e){return{line:e.line,column:e.column,offset:e.offset}}function eC(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?eC(e,n):c5(e,n)}}function c5(e,t){let r;for(r in t)if(tC.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function R_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ah({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ah({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ah({start:t.start,end:t.end})+") is still open")}function h5(e){const t=this;t.parser=r;function r(n){return l5(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Bh(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function d5(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Mo=function(e){if(e==null)return g5;if(typeof e=="function")return Jd(e);if(typeof e=="object")return Array.isArray(e)?f5(e):p5(e);if(typeof e=="string")return m5(e);throw new Error("Expected function, string, or object as test")};function f5(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Mo(e[r]);return Jd(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function p5(e){const t=e;return Jd(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function m5(e){return Jd(t);function t(r){return r&&r.type===e}}function Jd(e){return t;function t(r,n,i){return!!(b5(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function g5(){return!0}function b5(e){return e!==null&&typeof e=="object"&&"type"in e}const rC=[],y5=!0,Mh=!1,nC="skip";function iC(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=Mo(i),a=n?-1:1;o(e,void 0,[])();function o(l,u,c){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const d=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=rC,p,g,y;if((!t||s(l,u,c[c.length-1]||void 0))&&(d=_5(r(l,c)),d[0]===Mh))return d;if("children"in l&&l.children){const m=l;if(m.children&&d[0]!==nC)for(g=(n?m.children.length:-1)+a,y=c.concat(m);g>-1&&g<m.children.length;){const b=m.children[g];if(p=o(b,g,y)(),p[0]===Mh)return p;g=typeof p[1]=="number"?p[1]:g+a}}return d}}}function _5(e){return Array.isArray(e)?e:typeof e=="number"?[y5,e]:e==null?rC:[e]}function E5(e,t,r){const i=Mo((r||{}).ignore||[]),s=w5(t);let a=-1;for(;++a<s.length;)iC(e,"text",o);function o(u,c){let h=-1,f;for(;++h<c.length;){const d=c[h],p=f?f.children:void 0;if(i(d,p?p.indexOf(d):void 0,f))return;f=d}if(f)return l(u,c)}function l(u,c){const h=c[c.length-1],f=s[a][0],d=s[a][1];let p=0;const y=h.children.indexOf(u);let m=!1,b=[];f.lastIndex=0;let _=f.exec(u.value);for(;_;){const T=_.index,C={index:_.index,input:_.input,stack:[...c,u]};let L=d(..._,C);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?f.lastIndex=T+1:(p!==T&&b.push({type:"text",value:u.value.slice(p,T)}),Array.isArray(L)?b.push(...L):L&&b.push(L),p=T+_[0].length,m=!0),!f.global)break;_=f.exec(u.value)}return m?(p<u.value.length&&b.push({type:"text",value:u.value.slice(p)}),h.children.splice(y,1,...b)):b=[u],y+b.length}}function w5(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([x5(i[0]),T5(i[1])])}return t}function x5(e){return typeof e=="string"?new RegExp(d5(e),"g"):e}function T5(e){return typeof e=="function"?e:function(){return e}}const mp="phrasing",gp=["autolink","link","image","label"];function v5(){return{transforms:[R5],enter:{literalAutolink:C5,literalAutolinkEmail:bp,literalAutolinkHttp:bp,literalAutolinkWww:bp},exit:{literalAutolink:L5,literalAutolinkEmail:I5,literalAutolinkHttp:k5,literalAutolinkWww:S5}}}function A5(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:mp,notInConstruct:gp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:mp,notInConstruct:gp},{character:":",before:"[ps]",after:"\\/",inConstruct:mp,notInConstruct:gp}]}}function C5(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function bp(e){this.config.enter.autolinkProtocol.call(this,e)}function k5(e){this.config.exit.autolinkProtocol.call(this,e)}function S5(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function I5(e){this.config.exit.autolinkEmail.call(this,e)}function L5(e){this.exit(e)}function R5(e){E5(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,N5],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),O5]],{ignore:["link","linkReference"]})}function N5(e,t,r,n,i){let s="";if(!sC(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!P5(r)))return!1;const a=D5(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function O5(e,t,r,n){return!sC(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function P5(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function D5(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=Bh(e,"(");let s=Bh(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function sC(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||ha(r)||Zd(r))&&(!t||r!==47)}aC.peek=W5;function B5(){this.buffer()}function M5(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function F5(){this.buffer()}function U5(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function H5(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Vn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function $5(e){this.exit(e)}function z5(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Vn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function j5(e){this.exit(e)}function W5(){return"["}function aC(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function q5(){return{enter:{gfmFootnoteCallString:B5,gfmFootnoteCall:M5,gfmFootnoteDefinitionLabelString:F5,gfmFootnoteDefinition:U5},exit:{gfmFootnoteCallString:H5,gfmFootnoteCall:$5,gfmFootnoteDefinitionLabelString:z5,gfmFootnoteDefinition:j5}}}function G5(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:aC},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return l+=o.move(s.safe(s.associationId(n),{before:l,after:"]"})),c(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,o.current()),t?oC:V5))),u(),l}}function V5(e,t,r){return t===0?e:oC(e,t,r)}function oC(e,t,r){return(r?"":"    ")+e}const Y5=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];lC.peek=J5;function X5(){return{canContainEols:["delete"],enter:{strikethrough:Z5},exit:{strikethrough:Q5}}}function K5(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Y5}],handlers:{delete:lC}}}function Z5(e){this.enter({type:"delete",children:[]},e)}function Q5(e){this.exit(e)}function lC(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function J5(){return"~"}function tM(e){return e.length}function eM(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||tM,s=[],a=[],o=[],l=[];let u=0,c=-1;for(;++c<e.length;){const g=[],y=[];let m=-1;for(e[c].length>u&&(u=e[c].length);++m<e[c].length;){const b=rM(e[c][m]);if(r.alignDelimiters!==!1){const _=i(b);y[m]=_,(l[m]===void 0||_>l[m])&&(l[m]=_)}g.push(b)}a[c]=g,o[c]=y}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<u;)s[h]=N_(n[h]);else{const g=N_(n);for(;++h<u;)s[h]=g}h=-1;const f=[],d=[];for(;++h<u;){const g=s[h];let y="",m="";g===99?(y=":",m=":"):g===108?y=":":g===114&&(m=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[h]-y.length-m.length);const _=y+"-".repeat(b)+m;r.alignDelimiters!==!1&&(b=y.length+b+m.length,b>l[h]&&(l[h]=b),d[h]=b),f[h]=_}a.splice(1,0,f),o.splice(1,0,d),c=-1;const p=[];for(;++c<a.length;){const g=a[c],y=o[c];h=-1;const m=[];for(;++h<u;){const b=g[h]||"";let _="",T="";if(r.alignDelimiters!==!1){const C=l[h]-(y[h]||0),L=s[h];L===114?_=" ".repeat(C):L===99?C%2?(_=" ".repeat(C/2+.5),T=" ".repeat(C/2-.5)):(_=" ".repeat(C/2),T=_):T=" ".repeat(C)}r.delimiterStart!==!1&&!h&&m.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||h)&&m.push(" "),r.alignDelimiters!==!1&&m.push(_),m.push(b),r.alignDelimiters!==!1&&m.push(T),r.padding!==!1&&m.push(" "),(r.delimiterEnd!==!1||h!==u-1)&&m.push("|")}p.push(r.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return p.join(`
`)}function rM(e){return e==null?"":String(e)}function N_(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const O_={}.hasOwnProperty;function nM(e,t){const r=t||{};function n(i,...s){let a=n.invalid;const o=n.handlers;if(i&&O_.call(i,e)){const l=String(i[e]);a=O_.call(o,l)?o[l]:n.unknown}if(a)return a.call(this,i,...s)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function iM(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),sM);return i(),a}function sM(e,t,r){return">"+(r?"":" ")+e}function aM(e,t){return P_(e,t.inConstruct,!0)&&!P_(e,t.notInConstruct,!1)}function P_(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function D_(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&aM(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function uC(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string"||t.length!==1)throw new Error("Expected character");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+1,n=r.indexOf(t,i);return a}function oM(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function lM(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function uM(e,t,r,n){const i=lM(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(oM(e,r)){const h=r.enter("codeIndented"),f=r.indentLines(s,cM);return h(),f}const o=r.createTracker(n),l=i.repeat(Math.max(uC(s,i)+1,3)),u=r.enter("codeFenced");let c=o.move(l);if(e.lang){const h=r.enter(`codeFencedLang${a}`);c+=o.move(r.safe(e.lang,{before:c,after:" ",encode:["`"],...o.current()})),h()}if(e.lang&&e.meta){const h=r.enter(`codeFencedMeta${a}`);c+=o.move(" "),c+=o.move(r.safe(e.meta,{before:c,after:`
`,encode:["`"],...o.current()})),h()}return c+=o.move(`
`),s&&(c+=o.move(s+`
`)),c+=o.move(l),u(),c}function cM(e,t,r){return(r?"":"    ")+e}function Wy(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function hM(e,t,r,n){const i=Wy(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");return u+=l.move(r.safe(r.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=r.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(r.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),a(),u}function dM(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function su(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Fh(e,t,r){const n=mo(e),i=mo(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}cC.peek=fM;function cC(e,t,r,n){const i=dM(r),s=r.enter("emphasis"),a=r.createTracker(n),o=a.move(i);let l=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),c=Fh(n.before.charCodeAt(n.before.length-1),u,i);c.inside&&(l=su(u)+l.slice(1));const h=l.charCodeAt(l.length-1),f=Fh(n.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+su(h));const d=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},o+l+d}function fM(e,t,r){return r.options.emphasis||"*"}function Ei(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),iC(e,s,o,i);function o(l,u){const c=u[u.length-1],h=c?c.children.indexOf(l):void 0;return a(l,h,c)}}function pM(e,t){let r=!1;return Ei(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,Mh}),!!((!e.depth||e.depth<3)&&Kd(e)&&(t.options.setext||r))}function mM(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(pM(e,r)){const c=r.enter("headingSetext"),h=r.enter("phrasing"),f=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return h(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=r.enter("headingAtx"),l=r.enter("phrasing");s.move(a+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=su(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,r.options.closeAtx&&(u+=" "+a),l(),o(),u}hC.peek=gM;function hC(e){return e.value||""}function gM(){return"<"}dC.peek=bM;function dC(e,t,r,n){const i=Wy(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");return u+=l.move(r.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=r.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(r.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),a(),u}function bM(){return"!"}fC.peek=yM;function fC(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const u=r.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return a(),r.stack=c,s(),i==="full"||!u||u!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function yM(){return"!"}pC.peek=_M;function pC(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],o=r.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(n);){let u=l.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1)}}return i+n+i}function _M(){return"`"}function mC(e,t){const r=Kd(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}gC.peek=EM;function gC(e,t,r,n){const i=Wy(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,l;if(mC(e,r)){const c=r.stack;r.stack=[],o=r.enter("autolink");let h=a.move("<");return h+=a.move(r.containerPhrasing(e,{before:h,after:">",...a.current()})),h+=a.move(">"),o(),r.stack=c,h}o=r.enter("link"),l=r.enter("label");let u=a.move("[");return u+=a.move(r.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(r.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=r.enter("destinationRaw"),u+=a.move(r.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=r.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(r.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function EM(e,t,r){return mC(e,r)?"<":"["}bC.peek=wM;function bC(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const u=r.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return a(),r.stack=c,s(),i==="full"||!u||u!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function wM(){return"["}function qy(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function xM(e){const t=qy(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function TM(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function yC(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function vM(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?TM(r):qy(r);const o=e.ordered?a==="."?")":".":xM(r);let l=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),yC(r)===a&&c){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),r.bulletCurrent=a;const u=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),u}function AM(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function CM(e,t,r,n){const i=AM(r);let s=r.bulletCurrent||qy(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,o.current()),c);return l(),u;function c(h,f,d){return f?(d?"":" ".repeat(a))+h:(d?s:s+" ".repeat(a-s.length))+h}}function kM(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const _C=Mo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function SM(e,t,r,n){return(e.children.some(function(a){return _C(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function IM(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}EC.peek=LM;function EC(e,t,r,n){const i=IM(r),s=r.enter("strong"),a=r.createTracker(n),o=a.move(i+i);let l=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),c=Fh(n.before.charCodeAt(n.before.length-1),u,i);c.inside&&(l=su(u)+l.slice(1));const h=l.charCodeAt(l.length-1),f=Fh(n.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+su(h));const d=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},o+l+d}function LM(e,t,r){return r.options.strong||"*"}function RM(e,t,r,n){return r.safe(e.value,n)}function NM(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function OM(e,t,r){const n=(yC(r)+(r.options.ruleSpaces?" ":"")).repeat(NM(r));return r.options.ruleSpaces?n.slice(0,-1):n}const wC={blockquote:iM,break:D_,code:uM,definition:hM,emphasis:cC,hardBreak:D_,heading:mM,html:hC,image:dC,imageReference:fC,inlineCode:pC,link:gC,linkReference:bC,list:vM,listItem:CM,paragraph:kM,root:SM,strong:EC,text:RM,thematicBreak:OM};function PM(){return{enter:{table:DM,tableData:B_,tableHeader:B_,tableRow:MM},exit:{codeText:FM,table:BM,tableData:yp,tableHeader:yp,tableRow:yp}}}function DM(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function BM(e){this.exit(e),this.data.inTable=void 0}function MM(e){this.enter({type:"tableRow",children:[]},e)}function yp(e){this.exit(e)}function B_(e){this.enter({type:"tableCell",children:[]},e)}function FM(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,UM));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function UM(e,t){return t==="|"?t:e}function HM(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:l,tableRow:o}};function a(d,p,g,y){return u(c(d,g,y),d.align)}function o(d,p,g,y){const m=h(d,g,y),b=u([m]);return b.slice(0,b.indexOf(`
`))}function l(d,p,g,y){const m=g.enter("tableCell"),b=g.enter("phrasing"),_=g.containerPhrasing(d,{...y,before:s,after:s});return b(),m(),_}function u(d,p){return eM(d,{align:p,alignDelimiters:n,padding:r,stringLength:i})}function c(d,p,g){const y=d.children;let m=-1;const b=[],_=p.enter("table");for(;++m<y.length;)b[m]=h(y[m],p,g);return _(),b}function h(d,p,g){const y=d.children;let m=-1;const b=[],_=p.enter("tableRow");for(;++m<y.length;)b[m]=l(y[m],d,p,g);return _(),b}function f(d,p,g){let y=wC.inlineCode(d,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function $M(){return{exit:{taskListCheckValueChecked:M_,taskListCheckValueUnchecked:M_,paragraph:jM}}}function zM(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:WM}}}function M_(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function jM(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function WM(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(a);let l=wC.listItem(e,t,r,{...n,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+a}}function qM(){return[v5(),q5(),X5(),PM(),$M()]}function GM(e){return{extensions:[A5(),G5(e),K5(),HM(e),zM()]}}const VM={tokenize:JM,partial:!0},xC={tokenize:t4,partial:!0},TC={tokenize:e4,partial:!0},vC={tokenize:r4,partial:!0},YM={tokenize:n4,partial:!0},AC={name:"wwwAutolink",tokenize:ZM,previous:kC},CC={name:"protocolAutolink",tokenize:QM,previous:SC},Xi={name:"emailAutolink",tokenize:KM,previous:IC},Ti={};function XM(){return{text:Ti}}let Ps=48;for(;Ps<123;)Ti[Ps]=Xi,Ps++,Ps===58?Ps=65:Ps===91&&(Ps=97);Ti[43]=Xi;Ti[45]=Xi;Ti[46]=Xi;Ti[95]=Xi;Ti[72]=[Xi,CC];Ti[104]=[Xi,CC];Ti[87]=[Xi,AC];Ti[119]=[Xi,AC];function KM(e,t,r){const n=this;let i,s;return a;function a(h){return!_0(h)||!IC.call(n,n.previous)||Gy(n.events)?r(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return _0(h)?(e.consume(h),o):h===64?(e.consume(h),l):r(h)}function l(h){return h===46?e.check(YM,c,u)(h):h===45||h===95||fn(h)?(s=!0,e.consume(h),l):c(h)}function u(h){return e.consume(h),i=!0,l}function c(h){return s&&i&&Yr(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):r(h)}}function ZM(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!kC.call(n,n.previous)||Gy(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(VM,e.attempt(xC,e.attempt(TC,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function QM(e,t,r){const n=this;let i="",s=!1;return a;function a(h){return(h===72||h===104)&&SC.call(n,n.previous)&&!Gy(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),o):r(h)}function o(h){if(Yr(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(h),l}return r(h)}function l(h){return h===47?(e.consume(h),s?u:(s=!0,l)):r(h)}function u(h){return h===null||Dh(h)||Me(h)||ha(h)||Zd(h)?r(h):e.attempt(xC,e.attempt(TC,c),r)(h)}function c(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function JM(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function t4(e,t,r){let n,i,s;return a;function a(u){return u===46||u===95?e.check(vC,l,o)(u):u===null||Me(u)||ha(u)||u!==45&&Zd(u)?l(u):(s=!0,e.consume(u),a)}function o(u){return u===95?n=!0:(i=n,n=void 0),e.consume(u),a}function l(u){return i||n||!s?r(u):t(u)}}function e4(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(vC,t,s)(a):a===null||Me(a)||ha(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function r4(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Me(o)||ha(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||Me(o)||ha(o)?t(o):n(o)}function s(o){return Yr(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):Yr(o)?(e.consume(o),a):r(o)}}function n4(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return fn(s)?r(s):t(s)}}function kC(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Me(e)}function SC(e){return!Yr(e)}function IC(e){return!(e===47||_0(e))}function _0(e){return e===43||e===45||e===46||e===95||fn(e)}function Gy(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const i4={tokenize:d4,partial:!0};function s4(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:u4,continuation:{tokenize:c4},exit:h4}},text:{91:{name:"gfmFootnoteCall",tokenize:l4},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:a4,resolveTo:o4}}}}function a4(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return r(l);const u=Vn(n.sliceSerialize({start:a.end,end:n.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function o4(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function l4(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?r(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!a||h===null||h===91||Me(h))return r(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Vn(n.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(h)}return Me(h)||(a=!0),s++,e.consume(h),h===92?c:u}function c(h){return h===91||h===92||h===93?(e.consume(h),s++,u):u(h)}}function u4(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):r(p)}function c(p){if(a>999||p===93&&!o||p===null||p===91||Me(p))return r(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return s=Vn(n.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Me(p)||(o=!0),a++,e.consume(p),p===92?h:c}function h(p){return p===91||p===92||p===93?(e.consume(p),a++,c):c(p)}function f(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),_e(e,d,"gfmFootnoteDefinitionWhitespace")):r(p)}function d(p){return t(p)}}function c4(e,t,r){return e.check(Du,t,e.attempt(i4,t,r))}function h4(e){e.exit("gfmFootnoteDefinition")}function d4(e,t,r){const n=this;return _e(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function f4(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},h={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},f=[["enter",c,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",h,o]],d=o.parser.constructs.insideSpan.null;d&&xn(f,f.length,0,Qd(d,a.slice(u+1,l),o)),xn(f,f.length,0,[["exit",h,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",c,o]]),xn(a,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const u=this.previous,c=this.events;let h=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(a.enter("strikethroughSequenceTemporary"),d(p))}function d(p){const g=mo(u);if(p===126)return h>1?l(p):(a.consume(p),h++,d);if(h<2&&!r)return l(p);const y=a.exit("strikethroughSequenceTemporary"),m=mo(p);return y._open=!m||m===2&&!!g,y._close=!g||g===2&&!!m,o(p)}}}class p4{constructor(){this.map=[]}add(t,r,n){m4(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function m4(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function g4(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function b4(){return{flow:{null:{name:"table",tokenize:y4,resolveAll:_4}}}}function y4(e,t,r){const n=this;let i=0,s=0,a;return o;function o(H){let K=n.events.length-1;for(;K>-1;){const w=n.events[K][1].type;if(w==="lineEnding"||w==="linePrefix")K--;else break}const S=K>-1?n.events[K][1].type:null,U=S==="tableHead"||S==="tableRow"?L:l;return U===L&&n.parser.lazy[n.now().line]?r(H):U(H)}function l(H){return e.enter("tableHead"),e.enter("tableRow"),u(H)}function u(H){return H===124||(a=!0,s+=1),c(H)}function c(H){return H===null?r(H):Zt(H)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),d):r(H):xe(H)?_e(e,c,"whitespace")(H):(s+=1,a&&(a=!1,i+=1),H===124?(e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),a=!0,c):(e.enter("data"),h(H)))}function h(H){return H===null||H===124||Me(H)?(e.exit("data"),c(H)):(e.consume(H),H===92?f:h)}function f(H){return H===92||H===124?(e.consume(H),h):h(H)}function d(H){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(H):(e.enter("tableDelimiterRow"),a=!1,xe(H)?_e(e,p,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):p(H))}function p(H){return H===45||H===58?y(H):H===124?(a=!0,e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),g):C(H)}function g(H){return xe(H)?_e(e,y,"whitespace")(H):y(H)}function y(H){return H===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(H),e.exit("tableDelimiterMarker"),m):H===45?(s+=1,m(H)):H===null||Zt(H)?T(H):C(H)}function m(H){return H===45?(e.enter("tableDelimiterFiller"),b(H)):C(H)}function b(H){return H===45?(e.consume(H),b):H===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(H),e.exit("tableDelimiterMarker"),_):(e.exit("tableDelimiterFiller"),_(H))}function _(H){return xe(H)?_e(e,T,"whitespace")(H):T(H)}function T(H){return H===124?p(H):H===null||Zt(H)?!a||i!==s?C(H):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(H)):C(H)}function C(H){return r(H)}function L(H){return e.enter("tableRow"),N(H)}function N(H){return H===124?(e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),N):H===null||Zt(H)?(e.exit("tableRow"),t(H)):xe(H)?_e(e,N,"whitespace")(H):(e.enter("data"),z(H))}function z(H){return H===null||H===124||Me(H)?(e.exit("data"),N(H)):(e.consume(H),H===92?R:z)}function R(H){return H===92||H===124?(e.consume(H),z):z(H)}}function _4(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,c,h;const f=new p4;for(;++r<e.length;){const d=e[r],p=d[1];d[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(F_(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(r,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(n=!0,h=void 0,s=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(r,0,[["enter",c,t]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],h=pc(f,t,s,i,void 0,h),s=[0,0,0,0]),a[2]=r)):p.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],h=pc(f,t,s,i,void 0,h)),s=a,a=[s[1],r,0,0])):p.type==="tableHead"?(o=!0,l=r):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=r,s[1]!==0?(a[0]=a[1],h=pc(f,t,s,i,r,h)):a[1]!==0&&(h=pc(f,t,a,i,r,h)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=r)}for(l!==0&&F_(f,t,l,u,c),f.consume(t.events),r=-1;++r<t.events.length;){const d=t.events[r];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=g4(t.events,r))}return e}function pc(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(s.end=Object.assign({},Ha(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const l=Ha(t.events,r[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const u=Ha(t.events,r[2]),c=Ha(t.events,r[3]),h={type:o,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(r[2],0,[["enter",h,t]]),n!==2){const f=t.events[r[2]],d=t.events[r[3]];if(f[1].end=Object.assign({},d[1].end),f[1].type="chunkText",f[1].contentType="text",r[3]>r[2]+1){const p=r[2]+1,g=r[3]-r[2]-1;e.add(p,g,[])}}e.add(r[3]+1,0,[["exit",h,t]])}return i!==void 0&&(s.end=Object.assign({},Ha(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function F_(e,t,r,n,i){const s=[],a=Ha(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function Ha(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const E4={name:"tasklistCheck",tokenize:x4};function w4(){return{text:{91:E4}}}function x4(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Me(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):r(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(l)}function o(l){return Zt(l)?t(l):xe(l)?e.check({tokenize:T4},t,r)(l):r(l)}}function T4(e,t,r){return _e(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function v4(e){return jA([XM(),s4(),f4(e),b4(),w4()])}const A4={};function C4(e){const t=this,r=e||A4,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(v4(r)),s.push(qM()),a.push(GM(r))}function k4(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:s},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:o,mathText:a,mathTextData:o}};function e(l){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},l)}function t(){this.buffer()}function r(){const l=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=l}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.stack[this.stack.length-1];c.type,this.exit(l),c.value=u;const h=c.data.hChildren[0];h.type,h.tagName,h.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function s(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function a(l){const u=this.resume(),c=this.stack[this.stack.length-1];c.type,this.exit(l),c.value=u,c.data.hChildren.push({type:"text",value:u})}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function S4(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(s,a,o,l){const u=s.value||"",c=o.createTracker(l),h="$".repeat(Math.max(uC(u,"$")+1,2)),f=o.enter("mathFlow");let d=c.move(h);if(s.meta){const p=o.enter("mathFlowMeta");d+=c.move(o.safe(s.meta,{after:`
`,before:d,encode:["$"],...c.current()})),p()}return d+=c.move(`
`),u&&(d+=c.move(u+`
`)),d+=c.move(h),f(),d}function n(s,a,o){let l=s.value||"",u=1;for(t||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(l);)u++;const c="$".repeat(u);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let h=-1;for(;++h<o.unsafe.length;){const f=o.unsafe[h];if(!f.atBreak)continue;const d=o.compilePattern(f);let p;for(;p=d.exec(l);){let g=p.index;l.codePointAt(g)===10&&l.codePointAt(g-1)===13&&g--,l=l.slice(0,g)+" "+l.slice(p.index+1)}}return c+l+c}function i(){return"$"}}const I4={tokenize:L4,concrete:!0,name:"mathFlow"},U_={tokenize:R4,partial:!0};function L4(e,t,r){const n=this,i=n.events[n.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return o;function o(b){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),l(b)}function l(b){return b===36?(e.consume(b),a++,l):a<2?r(b):(e.exit("mathFlowFenceSequence"),_e(e,u,"whitespace")(b))}function u(b){return b===null||Zt(b)?h(b):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),c(b))}function c(b){return b===null||Zt(b)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),h(b)):b===36?r(b):(e.consume(b),c)}function h(b){return e.exit("mathFlowFence"),n.interrupt?t(b):e.attempt(U_,f,y)(b)}function f(b){return e.attempt({tokenize:m,partial:!0},y,d)(b)}function d(b){return(s?_e(e,p,"linePrefix",s+1):p)(b)}function p(b){return b===null?y(b):Zt(b)?e.attempt(U_,f,y)(b):(e.enter("mathFlowValue"),g(b))}function g(b){return b===null||Zt(b)?(e.exit("mathFlowValue"),p(b)):(e.consume(b),g)}function y(b){return e.exit("mathFlow"),t(b)}function m(b,_,T){let C=0;return _e(b,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function L(R){return b.enter("mathFlowFence"),b.enter("mathFlowFenceSequence"),N(R)}function N(R){return R===36?(C++,b.consume(R),N):C<a?T(R):(b.exit("mathFlowFenceSequence"),_e(b,z,"whitespace")(R))}function z(R){return R===null||Zt(R)?(b.exit("mathFlowFence"),_(R)):T(R)}}}function R4(e,t,r){const n=this;return i;function i(a){return a===null?t(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function N4(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:O4,previous:P4,name:"mathText"};function n(i,s,a){let o=0,l,u;return c;function c(g){return i.enter("mathText"),i.enter("mathTextSequence"),h(g)}function h(g){return g===36?(i.consume(g),o++,h):o<2&&!r?a(g):(i.exit("mathTextSequence"),f(g))}function f(g){return g===null?a(g):g===36?(u=i.enter("mathTextSequence"),l=0,p(g)):g===32?(i.enter("space"),i.consume(g),i.exit("space"),f):Zt(g)?(i.enter("lineEnding"),i.consume(g),i.exit("lineEnding"),f):(i.enter("mathTextData"),d(g))}function d(g){return g===null||g===32||g===36||Zt(g)?(i.exit("mathTextData"),f(g)):(i.consume(g),d)}function p(g){return g===36?(i.consume(g),l++,p):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),s(g)):(u.type="mathTextData",d(g))}}}function O4(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="mathTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function P4(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function D4(e){return{flow:{36:I4},text:{36:N4(e)}}}const B4={};function M4(e){const t=this,r=e||B4,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(D4(r)),s.push(k4()),a.push(S4(r))}var F4=Object.defineProperty,U4=Object.defineProperties,H4=Object.getOwnPropertyDescriptors,H_=Object.getOwnPropertySymbols,$4=Object.prototype.hasOwnProperty,z4=Object.prototype.propertyIsEnumerable,E0=(e,t,r)=>t in e?F4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,de=(e,t)=>{for(var r in t||(t={}))$4.call(t,r)&&E0(e,r,t[r]);if(H_)for(var r of H_(t))z4.call(t,r)&&E0(e,r,t[r]);return e},zi=(e,t)=>U4(e,H4(t)),At=(e,t,r)=>E0(e,typeof t!="symbol"?t+"":t,r),j4=(e,t,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(u){i(u)}},a=l=>{try{o(r.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(e,t)).next())});class Uh{constructor(t){At(this,"rootKey"),this.rootKey=t}}const W4=Object.seal({});class vt extends Uh{constructor(t){super(t),At(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(i=>i instanceof Uh?i.prepForXml(t):i).filter(i=>i!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:W4}}addChildElement(t){return this.root.push(t),this}}class Ki extends vt{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class $t extends Uh{constructor(t){super("_attr"),At(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class Zi extends Uh{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>zi(de({},n),{[i]:s}),{})}}}let Ge=class extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}};var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _p={},mc={exports:{}},$_;function Yy(){if($_)return mc.exports;$_=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(C,L,N){return Function.prototype.apply.call(C,L,N)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:r=function(C){return Object.getOwnPropertyNames(C)};function n(T){console&&console.warn&&console.warn(T)}var i=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}mc.exports=s,mc.exports.once=m,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");a=T}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function l(T){return T._maxListeners===void 0?s.defaultMaxListeners:T._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(C){for(var L=[],N=1;N<arguments.length;N++)L.push(arguments[N]);var z=C==="error",R=this._events;if(R!==void 0)z=z&&R.error===void 0;else if(!z)return!1;if(z){var H;if(L.length>0&&(H=L[0]),H instanceof Error)throw H;var K=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw K.context=H,K}var S=R[C];if(S===void 0)return!1;if(typeof S=="function")t(S,this,L);else for(var U=S.length,w=p(S,U),N=0;N<U;++N)t(w[N],this,L);return!0};function u(T,C,L,N){var z,R,H;if(o(L),R=T._events,R===void 0?(R=T._events=Object.create(null),T._eventsCount=0):(R.newListener!==void 0&&(T.emit("newListener",C,L.listener?L.listener:L),R=T._events),H=R[C]),H===void 0)H=R[C]=L,++T._eventsCount;else if(typeof H=="function"?H=R[C]=N?[L,H]:[H,L]:N?H.unshift(L):H.push(L),z=l(T),z>0&&H.length>z&&!H.warned){H.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=T,K.type=C,K.count=H.length,n(K)}return T}s.prototype.addListener=function(C,L){return u(this,C,L,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,L){return u(this,C,L,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(T,C,L){var N={fired:!1,wrapFn:void 0,target:T,type:C,listener:L},z=c.bind(N);return z.listener=L,N.wrapFn=z,z}s.prototype.once=function(C,L){return o(L),this.on(C,h(this,C,L)),this},s.prototype.prependOnceListener=function(C,L){return o(L),this.prependListener(C,h(this,C,L)),this},s.prototype.removeListener=function(C,L){var N,z,R,H,K;if(o(L),z=this._events,z===void 0)return this;if(N=z[C],N===void 0)return this;if(N===L||N.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,N.listener||L));else if(typeof N!="function"){for(R=-1,H=N.length-1;H>=0;H--)if(N[H]===L||N[H].listener===L){K=N[H].listener,R=H;break}if(R<0)return this;R===0?N.shift():g(N,R),N.length===1&&(z[C]=N[0]),z.removeListener!==void 0&&this.emit("removeListener",C,K||L)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var L,N,z;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[C]),this;if(arguments.length===0){var R=Object.keys(N),H;for(z=0;z<R.length;++z)H=R[z],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=N[C],typeof L=="function")this.removeListener(C,L);else if(L!==void 0)for(z=L.length-1;z>=0;z--)this.removeListener(C,L[z]);return this};function f(T,C,L){var N=T._events;if(N===void 0)return[];var z=N[C];return z===void 0?[]:typeof z=="function"?L?[z.listener||z]:[z]:L?y(z):p(z,z.length)}s.prototype.listeners=function(C){return f(this,C,!0)},s.prototype.rawListeners=function(C){return f(this,C,!1)},s.listenerCount=function(T,C){return typeof T.listenerCount=="function"?T.listenerCount(C):d.call(T,C)},s.prototype.listenerCount=d;function d(T){var C=this._events;if(C!==void 0){var L=C[T];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function p(T,C){for(var L=new Array(C),N=0;N<C;++N)L[N]=T[N];return L}function g(T,C){for(;C+1<T.length;C++)T[C]=T[C+1];T.pop()}function y(T){for(var C=new Array(T.length),L=0;L<C.length;++L)C[L]=T[L].listener||T[L];return C}function m(T,C){return new Promise(function(L,N){function z(H){T.removeListener(C,R),N(H)}function R(){typeof T.removeListener=="function"&&T.removeListener("error",z),L([].slice.call(arguments))}_(T,C,R,{once:!0}),C!=="error"&&b(T,z,{once:!0})})}function b(T,C,L){typeof T.on=="function"&&_(T,"error",C,L)}function _(T,C,L,N){if(typeof T.on=="function")N.once?T.once(C,L):T.on(C,L);else if(typeof T.addEventListener=="function")T.addEventListener(C,function z(R){N.once&&T.removeEventListener(C,z),L(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return mc.exports}var gc={exports:{}},z_;function vs(){return z_||(z_=1,typeof Object.create=="function"?gc.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:gc.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),gc.exports}function q4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var LC={exports:{}},tr=LC.exports={},pi,mi;function w0(){throw new Error("setTimeout has not been defined")}function x0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?pi=setTimeout:pi=w0}catch{pi=w0}try{typeof clearTimeout=="function"?mi=clearTimeout:mi=x0}catch{mi=x0}})();function RC(e){if(pi===setTimeout)return setTimeout(e,0);if((pi===w0||!pi)&&setTimeout)return pi=setTimeout,setTimeout(e,0);try{return pi(e,0)}catch{try{return pi.call(null,e,0)}catch{return pi.call(this,e,0)}}}function G4(e){if(mi===clearTimeout)return clearTimeout(e);if((mi===x0||!mi)&&clearTimeout)return mi=clearTimeout,clearTimeout(e);try{return mi(e)}catch{try{return mi.call(null,e)}catch{return mi.call(this,e)}}}var Bi=[],Za=!1,qs,oh=-1;function V4(){!Za||!qs||(Za=!1,qs.length?Bi=qs.concat(Bi):oh=-1,Bi.length&&NC())}function NC(){if(!Za){var e=RC(V4);Za=!0;for(var t=Bi.length;t;){for(qs=Bi,Bi=[];++oh<t;)qs&&qs[oh].run();oh=-1,t=Bi.length}qs=null,Za=!1,G4(e)}}tr.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Bi.push(new OC(e,t)),Bi.length===1&&!Za&&RC(NC)};function OC(e,t){this.fun=e,this.array=t}OC.prototype.run=function(){this.fun.apply(null,this.array)};tr.title="browser";tr.browser=!0;tr.env={};tr.argv=[];tr.version="";tr.versions={};function Qi(){}tr.on=Qi;tr.addListener=Qi;tr.once=Qi;tr.off=Qi;tr.removeListener=Qi;tr.removeAllListeners=Qi;tr.emit=Qi;tr.prependListener=Qi;tr.prependOnceListener=Qi;tr.listeners=function(e){return[]};tr.binding=function(e){throw new Error("process.binding is not supported")};tr.cwd=function(){return"/"};tr.chdir=function(e){throw new Error("process.chdir is not supported")};tr.umask=function(){return 0};var Y4=LC.exports;const pe=q4(Y4);var Ep,j_;function PC(){return j_||(j_=1,Ep=Yy().EventEmitter),Ep}var wp={},Zo={},W_;function X4(){if(W_)return Zo;W_=1,Zo.byteLength=o,Zo.toByteArray=u,Zo.fromByteArray=f;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(d){var p=d.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");g===-1&&(g=p);var y=g===p?0:4-g%4;return[g,y]}function o(d){var p=a(d),g=p[0],y=p[1];return(g+y)*3/4-y}function l(d,p,g){return(p+g)*3/4-g}function u(d){var p,g=a(d),y=g[0],m=g[1],b=new r(l(d,y,m)),_=0,T=m>0?y-4:y,C;for(C=0;C<T;C+=4)p=t[d.charCodeAt(C)]<<18|t[d.charCodeAt(C+1)]<<12|t[d.charCodeAt(C+2)]<<6|t[d.charCodeAt(C+3)],b[_++]=p>>16&255,b[_++]=p>>8&255,b[_++]=p&255;return m===2&&(p=t[d.charCodeAt(C)]<<2|t[d.charCodeAt(C+1)]>>4,b[_++]=p&255),m===1&&(p=t[d.charCodeAt(C)]<<10|t[d.charCodeAt(C+1)]<<4|t[d.charCodeAt(C+2)]>>2,b[_++]=p>>8&255,b[_++]=p&255),b}function c(d){return e[d>>18&63]+e[d>>12&63]+e[d>>6&63]+e[d&63]}function h(d,p,g){for(var y,m=[],b=p;b<g;b+=3)y=(d[b]<<16&16711680)+(d[b+1]<<8&65280)+(d[b+2]&255),m.push(c(y));return m.join("")}function f(d){for(var p,g=d.length,y=g%3,m=[],b=16383,_=0,T=g-y;_<T;_+=b)m.push(h(d,_,_+b>T?T:_+b));return y===1?(p=d[g-1],m.push(e[p>>2]+e[p<<4&63]+"==")):y===2&&(p=(d[g-2]<<8)+d[g-1],m.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),m.join("")}return Zo}var bc={};var q_;function K4(){return q_||(q_=1,bc.read=function(e,t,r,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,u=l>>1,c=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-c)-1,d>>=-c,c+=o;c>0;s=s*256+e[t+h],h+=f,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=a*256+e[t+h],h+=f,c-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-u}return(d?-1:1)*a*Math.pow(2,s-n)},bc.write=function(e,t,r,n,i,s){var a,o,l,u=s*8-i-1,c=(1<<u)-1,h=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(t*l-1)*Math.pow(2,i),a=a+h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=o&255,d+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[r+d]=a&255,d+=p,a/=256,u-=8);e[r+d-p]|=g*128}),bc}var G_;function tf(){return G_||(G_=1,function(e){var t=X4(),r=K4(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var O=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(O,x),O.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');var x=new Uint8Array(O);return Object.setPrototypeOf(x,o.prototype),x}function o(O,x,v){if(typeof O=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(O)}return l(O,x,v)}o.poolSize=8192;function l(O,x,v){if(typeof O=="string")return f(O,x);if(ArrayBuffer.isView(O))return p(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(_t(O,ArrayBuffer)||O&&_t(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_t(O,SharedArrayBuffer)||O&&_t(O.buffer,SharedArrayBuffer)))return g(O,x,v);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var I=O.valueOf&&O.valueOf();if(I!=null&&I!==O)return o.from(I,x,v);var V=y(O);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return o.from(O[Symbol.toPrimitive]("string"),x,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}o.from=function(O,x,v){return l(O,x,v)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function c(O,x,v){return u(O),O<=0?a(O):x!==void 0?typeof v=="string"?a(O).fill(x,v):a(O).fill(x):a(O)}o.alloc=function(O,x,v){return c(O,x,v)};function h(O){return u(O),a(O<0?0:m(O)|0)}o.allocUnsafe=function(O){return h(O)},o.allocUnsafeSlow=function(O){return h(O)};function f(O,x){if((typeof x!="string"||x==="")&&(x="utf8"),!o.isEncoding(x))throw new TypeError("Unknown encoding: "+x);var v=_(O,x)|0,I=a(v),V=I.write(O,x);return V!==v&&(I=I.slice(0,V)),I}function d(O){for(var x=O.length<0?0:m(O.length)|0,v=a(x),I=0;I<x;I+=1)v[I]=O[I]&255;return v}function p(O){if(_t(O,Uint8Array)){var x=new Uint8Array(O);return g(x.buffer,x.byteOffset,x.byteLength)}return d(O)}function g(O,x,v){if(x<0||O.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<x+(v||0))throw new RangeError('"length" is outside of buffer bounds');var I;return x===void 0&&v===void 0?I=new Uint8Array(O):v===void 0?I=new Uint8Array(O,x):I=new Uint8Array(O,x,v),Object.setPrototypeOf(I,o.prototype),I}function y(O){if(o.isBuffer(O)){var x=m(O.length)|0,v=a(x);return v.length===0||O.copy(v,0,0,x),v}if(O.length!==void 0)return typeof O.length!="number"||A(O.length)?a(0):d(O);if(O.type==="Buffer"&&Array.isArray(O.data))return d(O.data)}function m(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function b(O){return+O!=O&&(O=0),o.alloc(+O)}o.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==o.prototype},o.compare=function(x,v){if(_t(x,Uint8Array)&&(x=o.from(x,x.offset,x.byteLength)),_t(v,Uint8Array)&&(v=o.from(v,v.offset,v.byteLength)),!o.isBuffer(x)||!o.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===v)return 0;for(var I=x.length,V=v.length,tt=0,q=Math.min(I,V);tt<q;++tt)if(x[tt]!==v[tt]){I=x[tt],V=v[tt];break}return I<V?-1:V<I?1:0},o.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(x,v){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return o.alloc(0);var I;if(v===void 0)for(v=0,I=0;I<x.length;++I)v+=x[I].length;var V=o.allocUnsafe(v),tt=0;for(I=0;I<x.length;++I){var q=x[I];if(_t(q,Uint8Array))tt+q.length>V.length?o.from(q).copy(V,tt):Uint8Array.prototype.set.call(V,q,tt);else if(o.isBuffer(q))q.copy(V,tt);else throw new TypeError('"list" argument must be an Array of Buffers');tt+=q.length}return V};function _(O,x){if(o.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||_t(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var v=O.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&v===0)return 0;for(var V=!1;;)switch(x){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return D(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return Y(O).length;default:if(V)return I?-1:D(O).length;x=(""+x).toLowerCase(),V=!0}}o.byteLength=_;function T(O,x,v){var I=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,x>>>=0,v<=x))return"";for(O||(O="utf8");;)switch(O){case"hex":return J(this,x,v);case"utf8":case"utf-8":return w(this,x,v);case"ascii":return j(this,x,v);case"latin1":case"binary":return nt(this,x,v);case"base64":return U(this,x,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,x,v);default:if(I)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),I=!0}}o.prototype._isBuffer=!0;function C(O,x,v){var I=O[x];O[x]=O[v],O[v]=I}o.prototype.swap16=function(){var x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<x;v+=2)C(this,v,v+1);return this},o.prototype.swap32=function(){var x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<x;v+=4)C(this,v,v+3),C(this,v+1,v+2);return this},o.prototype.swap64=function(){var x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<x;v+=8)C(this,v,v+7),C(this,v+1,v+6),C(this,v+2,v+5),C(this,v+3,v+4);return this},o.prototype.toString=function(){var x=this.length;return x===0?"":arguments.length===0?w(this,0,x):T.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(x){if(!o.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:o.compare(this,x)===0},o.prototype.inspect=function(){var x="",v=e.INSPECT_MAX_BYTES;return x=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(x+=" ... "),"<Buffer "+x+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(x,v,I,V,tt){if(_t(x,Uint8Array)&&(x=o.from(x,x.offset,x.byteLength)),!o.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(v===void 0&&(v=0),I===void 0&&(I=x?x.length:0),V===void 0&&(V=0),tt===void 0&&(tt=this.length),v<0||I>x.length||V<0||tt>this.length)throw new RangeError("out of range index");if(V>=tt&&v>=I)return 0;if(V>=tt)return-1;if(v>=I)return 1;if(v>>>=0,I>>>=0,V>>>=0,tt>>>=0,this===x)return 0;for(var q=tt-V,pt=I-v,Et=Math.min(q,pt),gt=this.slice(V,tt),ht=x.slice(v,I),wt=0;wt<Et;++wt)if(gt[wt]!==ht[wt]){q=gt[wt],pt=ht[wt];break}return q<pt?-1:pt<q?1:0};function L(O,x,v,I,V){if(O.length===0)return-1;if(typeof v=="string"?(I=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,A(v)&&(v=V?0:O.length-1),v<0&&(v=O.length+v),v>=O.length){if(V)return-1;v=O.length-1}else if(v<0)if(V)v=0;else return-1;if(typeof x=="string"&&(x=o.from(x,I)),o.isBuffer(x))return x.length===0?-1:N(O,x,v,I,V);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(O,x,v):Uint8Array.prototype.lastIndexOf.call(O,x,v):N(O,[x],v,I,V);throw new TypeError("val must be string, number or Buffer")}function N(O,x,v,I,V){var tt=1,q=O.length,pt=x.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(O.length<2||x.length<2)return-1;tt=2,q/=2,pt/=2,v/=2}function Et(zt,oe){return tt===1?zt[oe]:zt.readUInt16BE(oe*tt)}var gt;if(V){var ht=-1;for(gt=v;gt<q;gt++)if(Et(O,gt)===Et(x,ht===-1?0:gt-ht)){if(ht===-1&&(ht=gt),gt-ht+1===pt)return ht*tt}else ht!==-1&&(gt-=gt-ht),ht=-1}else for(v+pt>q&&(v=q-pt),gt=v;gt>=0;gt--){for(var wt=!0,St=0;St<pt;St++)if(Et(O,gt+St)!==Et(x,St)){wt=!1;break}if(wt)return gt}return-1}o.prototype.includes=function(x,v,I){return this.indexOf(x,v,I)!==-1},o.prototype.indexOf=function(x,v,I){return L(this,x,v,I,!0)},o.prototype.lastIndexOf=function(x,v,I){return L(this,x,v,I,!1)};function z(O,x,v,I){v=Number(v)||0;var V=O.length-v;I?(I=Number(I),I>V&&(I=V)):I=V;var tt=x.length;I>tt/2&&(I=tt/2);for(var q=0;q<I;++q){var pt=parseInt(x.substr(q*2,2),16);if(A(pt))return q;O[v+q]=pt}return q}function R(O,x,v,I){return Z(D(x,O.length-v),O,v,I)}function H(O,x,v,I){return Z(at(x),O,v,I)}function K(O,x,v,I){return Z(Y(x),O,v,I)}function S(O,x,v,I){return Z(Q(x,O.length-v),O,v,I)}o.prototype.write=function(x,v,I,V){if(v===void 0)V="utf8",I=this.length,v=0;else if(I===void 0&&typeof v=="string")V=v,I=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(I)?(I=I>>>0,V===void 0&&(V="utf8")):(V=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var tt=this.length-v;if((I===void 0||I>tt)&&(I=tt),x.length>0&&(I<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var q=!1;;)switch(V){case"hex":return z(this,x,v,I);case"utf8":case"utf-8":return R(this,x,v,I);case"ascii":case"latin1":case"binary":return H(this,x,v,I);case"base64":return K(this,x,v,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,x,v,I);default:if(q)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),q=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(O,x,v){return x===0&&v===O.length?t.fromByteArray(O):t.fromByteArray(O.slice(x,v))}function w(O,x,v){v=Math.min(O.length,v);for(var I=[],V=x;V<v;){var tt=O[V],q=null,pt=tt>239?4:tt>223?3:tt>191?2:1;if(V+pt<=v){var Et,gt,ht,wt;switch(pt){case 1:tt<128&&(q=tt);break;case 2:Et=O[V+1],(Et&192)===128&&(wt=(tt&31)<<6|Et&63,wt>127&&(q=wt));break;case 3:Et=O[V+1],gt=O[V+2],(Et&192)===128&&(gt&192)===128&&(wt=(tt&15)<<12|(Et&63)<<6|gt&63,wt>2047&&(wt<55296||wt>57343)&&(q=wt));break;case 4:Et=O[V+1],gt=O[V+2],ht=O[V+3],(Et&192)===128&&(gt&192)===128&&(ht&192)===128&&(wt=(tt&15)<<18|(Et&63)<<12|(gt&63)<<6|ht&63,wt>65535&&wt<1114112&&(q=wt))}}q===null?(q=65533,pt=1):q>65535&&(q-=65536,I.push(q>>>10&1023|55296),q=56320|q&1023),I.push(q),V+=pt}return X(I)}var $=4096;function X(O){var x=O.length;if(x<=$)return String.fromCharCode.apply(String,O);for(var v="",I=0;I<x;)v+=String.fromCharCode.apply(String,O.slice(I,I+=$));return v}function j(O,x,v){var I="";v=Math.min(O.length,v);for(var V=x;V<v;++V)I+=String.fromCharCode(O[V]&127);return I}function nt(O,x,v){var I="";v=Math.min(O.length,v);for(var V=x;V<v;++V)I+=String.fromCharCode(O[V]);return I}function J(O,x,v){var I=O.length;(!x||x<0)&&(x=0),(!v||v<0||v>I)&&(v=I);for(var V="",tt=x;tt<v;++tt)V+=ot[O[tt]];return V}function G(O,x,v){for(var I=O.slice(x,v),V="",tt=0;tt<I.length-1;tt+=2)V+=String.fromCharCode(I[tt]+I[tt+1]*256);return V}o.prototype.slice=function(x,v){var I=this.length;x=~~x,v=v===void 0?I:~~v,x<0?(x+=I,x<0&&(x=0)):x>I&&(x=I),v<0?(v+=I,v<0&&(v=0)):v>I&&(v=I),v<x&&(v=x);var V=this.subarray(x,v);return Object.setPrototypeOf(V,o.prototype),V};function W(O,x,v){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+x>v)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(x,v,I){x=x>>>0,v=v>>>0,I||W(x,v,this.length);for(var V=this[x],tt=1,q=0;++q<v&&(tt*=256);)V+=this[x+q]*tt;return V},o.prototype.readUintBE=o.prototype.readUIntBE=function(x,v,I){x=x>>>0,v=v>>>0,I||W(x,v,this.length);for(var V=this[x+--v],tt=1;v>0&&(tt*=256);)V+=this[x+--v]*tt;return V},o.prototype.readUint8=o.prototype.readUInt8=function(x,v){return x=x>>>0,v||W(x,1,this.length),this[x]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(x,v){return x=x>>>0,v||W(x,2,this.length),this[x]|this[x+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(x,v){return x=x>>>0,v||W(x,2,this.length),this[x]<<8|this[x+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(x,v){return x=x>>>0,v||W(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(x,v){return x=x>>>0,v||W(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},o.prototype.readIntLE=function(x,v,I){x=x>>>0,v=v>>>0,I||W(x,v,this.length);for(var V=this[x],tt=1,q=0;++q<v&&(tt*=256);)V+=this[x+q]*tt;return tt*=128,V>=tt&&(V-=Math.pow(2,8*v)),V},o.prototype.readIntBE=function(x,v,I){x=x>>>0,v=v>>>0,I||W(x,v,this.length);for(var V=v,tt=1,q=this[x+--V];V>0&&(tt*=256);)q+=this[x+--V]*tt;return tt*=128,q>=tt&&(q-=Math.pow(2,8*v)),q},o.prototype.readInt8=function(x,v){return x=x>>>0,v||W(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},o.prototype.readInt16LE=function(x,v){x=x>>>0,v||W(x,2,this.length);var I=this[x]|this[x+1]<<8;return I&32768?I|4294901760:I},o.prototype.readInt16BE=function(x,v){x=x>>>0,v||W(x,2,this.length);var I=this[x+1]|this[x]<<8;return I&32768?I|4294901760:I},o.prototype.readInt32LE=function(x,v){return x=x>>>0,v||W(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},o.prototype.readInt32BE=function(x,v){return x=x>>>0,v||W(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},o.prototype.readFloatLE=function(x,v){return x=x>>>0,v||W(x,4,this.length),r.read(this,x,!0,23,4)},o.prototype.readFloatBE=function(x,v){return x=x>>>0,v||W(x,4,this.length),r.read(this,x,!1,23,4)},o.prototype.readDoubleLE=function(x,v){return x=x>>>0,v||W(x,8,this.length),r.read(this,x,!0,52,8)},o.prototype.readDoubleBE=function(x,v){return x=x>>>0,v||W(x,8,this.length),r.read(this,x,!1,52,8)};function B(O,x,v,I,V,tt){if(!o.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>V||x<tt)throw new RangeError('"value" argument is out of bounds');if(v+I>O.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(x,v,I,V){if(x=+x,v=v>>>0,I=I>>>0,!V){var tt=Math.pow(2,8*I)-1;B(this,x,v,I,tt,0)}var q=1,pt=0;for(this[v]=x&255;++pt<I&&(q*=256);)this[v+pt]=x/q&255;return v+I},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(x,v,I,V){if(x=+x,v=v>>>0,I=I>>>0,!V){var tt=Math.pow(2,8*I)-1;B(this,x,v,I,tt,0)}var q=I-1,pt=1;for(this[v+q]=x&255;--q>=0&&(pt*=256);)this[v+q]=x/pt&255;return v+I},o.prototype.writeUint8=o.prototype.writeUInt8=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,1,255,0),this[v]=x&255,v+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,2,65535,0),this[v]=x&255,this[v+1]=x>>>8,v+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,2,65535,0),this[v]=x>>>8,this[v+1]=x&255,v+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,4,4294967295,0),this[v+3]=x>>>24,this[v+2]=x>>>16,this[v+1]=x>>>8,this[v]=x&255,v+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,4,4294967295,0),this[v]=x>>>24,this[v+1]=x>>>16,this[v+2]=x>>>8,this[v+3]=x&255,v+4},o.prototype.writeIntLE=function(x,v,I,V){if(x=+x,v=v>>>0,!V){var tt=Math.pow(2,8*I-1);B(this,x,v,I,tt-1,-tt)}var q=0,pt=1,Et=0;for(this[v]=x&255;++q<I&&(pt*=256);)x<0&&Et===0&&this[v+q-1]!==0&&(Et=1),this[v+q]=(x/pt>>0)-Et&255;return v+I},o.prototype.writeIntBE=function(x,v,I,V){if(x=+x,v=v>>>0,!V){var tt=Math.pow(2,8*I-1);B(this,x,v,I,tt-1,-tt)}var q=I-1,pt=1,Et=0;for(this[v+q]=x&255;--q>=0&&(pt*=256);)x<0&&Et===0&&this[v+q+1]!==0&&(Et=1),this[v+q]=(x/pt>>0)-Et&255;return v+I},o.prototype.writeInt8=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,1,127,-128),x<0&&(x=255+x+1),this[v]=x&255,v+1},o.prototype.writeInt16LE=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,2,32767,-32768),this[v]=x&255,this[v+1]=x>>>8,v+2},o.prototype.writeInt16BE=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,2,32767,-32768),this[v]=x>>>8,this[v+1]=x&255,v+2},o.prototype.writeInt32LE=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,4,2147483647,-2147483648),this[v]=x&255,this[v+1]=x>>>8,this[v+2]=x>>>16,this[v+3]=x>>>24,v+4},o.prototype.writeInt32BE=function(x,v,I){return x=+x,v=v>>>0,I||B(this,x,v,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[v]=x>>>24,this[v+1]=x>>>16,this[v+2]=x>>>8,this[v+3]=x&255,v+4};function F(O,x,v,I,V,tt){if(v+I>O.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function it(O,x,v,I,V){return x=+x,v=v>>>0,V||F(O,x,v,4),r.write(O,x,v,I,23,4),v+4}o.prototype.writeFloatLE=function(x,v,I){return it(this,x,v,!0,I)},o.prototype.writeFloatBE=function(x,v,I){return it(this,x,v,!1,I)};function lt(O,x,v,I,V){return x=+x,v=v>>>0,V||F(O,x,v,8),r.write(O,x,v,I,52,8),v+8}o.prototype.writeDoubleLE=function(x,v,I){return lt(this,x,v,!0,I)},o.prototype.writeDoubleBE=function(x,v,I){return lt(this,x,v,!1,I)},o.prototype.copy=function(x,v,I,V){if(!o.isBuffer(x))throw new TypeError("argument should be a Buffer");if(I||(I=0),!V&&V!==0&&(V=this.length),v>=x.length&&(v=x.length),v||(v=0),V>0&&V<I&&(V=I),V===I||x.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),x.length-v<V-I&&(V=x.length-v+I);var tt=V-I;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,I,V):Uint8Array.prototype.set.call(x,this.subarray(I,V),v),tt},o.prototype.fill=function(x,v,I,V){if(typeof x=="string"){if(typeof v=="string"?(V=v,v=0,I=this.length):typeof I=="string"&&(V=I,I=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!o.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(x.length===1){var tt=x.charCodeAt(0);(V==="utf8"&&tt<128||V==="latin1")&&(x=tt)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(v<0||this.length<v||this.length<I)throw new RangeError("Out of range index");if(I<=v)return this;v=v>>>0,I=I===void 0?this.length:I>>>0,x||(x=0);var q;if(typeof x=="number")for(q=v;q<I;++q)this[q]=x;else{var pt=o.isBuffer(x)?x:o.from(x,V),Et=pt.length;if(Et===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(q=0;q<I-v;++q)this[q+v]=pt[q%Et]}return this};var ut=/[^+/0-9A-Za-z-_]/g;function M(O){if(O=O.split("=")[0],O=O.trim().replace(ut,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function D(O,x){x=x||1/0;for(var v,I=O.length,V=null,tt=[],q=0;q<I;++q){if(v=O.charCodeAt(q),v>55295&&v<57344){if(!V){if(v>56319){(x-=3)>-1&&tt.push(239,191,189);continue}else if(q+1===I){(x-=3)>-1&&tt.push(239,191,189);continue}V=v;continue}if(v<56320){(x-=3)>-1&&tt.push(239,191,189),V=v;continue}v=(V-55296<<10|v-56320)+65536}else V&&(x-=3)>-1&&tt.push(239,191,189);if(V=null,v<128){if((x-=1)<0)break;tt.push(v)}else if(v<2048){if((x-=2)<0)break;tt.push(v>>6|192,v&63|128)}else if(v<65536){if((x-=3)<0)break;tt.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((x-=4)<0)break;tt.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return tt}function at(O){for(var x=[],v=0;v<O.length;++v)x.push(O.charCodeAt(v)&255);return x}function Q(O,x){for(var v,I,V,tt=[],q=0;q<O.length&&!((x-=2)<0);++q)v=O.charCodeAt(q),I=v>>8,V=v%256,tt.push(V),tt.push(I);return tt}function Y(O){return t.toByteArray(M(O))}function Z(O,x,v,I){for(var V=0;V<I&&!(V+v>=x.length||V>=O.length);++V)x[V+v]=O[V];return V}function _t(O,x){return O instanceof x||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===x.name}function A(O){return O!==O}var ot=function(){for(var O="0123456789abcdef",x=new Array(256),v=0;v<16;++v)for(var I=v*16,V=0;V<16;++V)x[I+V]=O[v]+O[V];return x}()}(wp)),wp}var xp={},Tp={},vp,V_;function DC(){return V_||(V_=1,vp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),vp}var Ap,Y_;function Xy(){if(Y_)return Ap;Y_=1;var e=DC();return Ap=function(){return e()&&!!Symbol.toStringTag},Ap}var Cp,X_;function BC(){return X_||(X_=1,Cp=Object),Cp}var kp,K_;function Z4(){return K_||(K_=1,kp=Error),kp}var Sp,Z_;function Q4(){return Z_||(Z_=1,Sp=EvalError),Sp}var Ip,Q_;function J4(){return Q_||(Q_=1,Ip=RangeError),Ip}var Lp,J_;function tF(){return J_||(J_=1,Lp=ReferenceError),Lp}var Rp,tE;function MC(){return tE||(tE=1,Rp=SyntaxError),Rp}var Np,eE;function Bu(){return eE||(eE=1,Np=TypeError),Np}var Op,rE;function eF(){return rE||(rE=1,Op=URIError),Op}var Pp,nE;function rF(){return nE||(nE=1,Pp=Math.abs),Pp}var Dp,iE;function nF(){return iE||(iE=1,Dp=Math.floor),Dp}var Bp,sE;function iF(){return sE||(sE=1,Bp=Math.max),Bp}var Mp,aE;function sF(){return aE||(aE=1,Mp=Math.min),Mp}var Fp,oE;function aF(){return oE||(oE=1,Fp=Math.pow),Fp}var Up,lE;function oF(){return lE||(lE=1,Up=Math.round),Up}var Hp,uE;function lF(){return uE||(uE=1,Hp=Number.isNaN||function(t){return t!==t}),Hp}var $p,cE;function uF(){if(cE)return $p;cE=1;var e=lF();return $p=function(r){return e(r)||r===0?r:r<0?-1:1},$p}var zp,hE;function cF(){return hE||(hE=1,zp=Object.getOwnPropertyDescriptor),zp}var jp,dE;function Mu(){if(dE)return jp;dE=1;var e=cF();if(e)try{e([],"length")}catch{e=null}return jp=e,jp}var Wp,fE;function ef(){if(fE)return Wp;fE=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Wp=e,Wp}var qp,pE;function hF(){if(pE)return qp;pE=1;var e=typeof Symbol<"u"&&Symbol,t=DC();return qp=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},qp}var Gp,mE;function FC(){return mE||(mE=1,Gp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Gp}var Vp,gE;function UC(){if(gE)return Vp;gE=1;var e=BC();return Vp=e.getPrototypeOf||null,Vp}var Yp,bE;function dF(){if(bE)return Yp;bE=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],h=0;h<l.length;h+=1)c[h]=l[h];for(var f=0;f<u.length;f+=1)c[f+l.length]=u[f];return c},s=function(l,u){for(var c=[],h=u,f=0;h<l.length;h+=1,f+=1)c[f]=l[h];return c},a=function(o,l){for(var u="",c=0;c<o.length;c+=1)u+=o[c],c+1<o.length&&(u+=l);return u};return Yp=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var c=s(arguments,1),h,f=function(){if(this instanceof h){var m=u.apply(this,i(c,arguments));return Object(m)===m?m:this}return u.apply(l,i(c,arguments))},d=r(0,u.length-c.length),p=[],g=0;g<d;g++)p[g]="$"+g;if(h=Function("binder","return function ("+a(p,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var y=function(){};y.prototype=u.prototype,h.prototype=new y,y.prototype=null}return h},Yp}var Xp,yE;function Fu(){if(yE)return Xp;yE=1;var e=dF();return Xp=Function.prototype.bind||e,Xp}var Kp,_E;function Ky(){return _E||(_E=1,Kp=Function.prototype.call),Kp}var Zp,EE;function HC(){return EE||(EE=1,Zp=Function.prototype.apply),Zp}var Qp,wE;function fF(){return wE||(wE=1,Qp=typeof Reflect<"u"&&Reflect&&Reflect.apply),Qp}var Jp,xE;function pF(){if(xE)return Jp;xE=1;var e=Fu(),t=HC(),r=Ky(),n=fF();return Jp=n||e.call(r,t),Jp}var tm,TE;function mF(){if(TE)return tm;TE=1;var e=Fu(),t=Bu(),r=Ky(),n=pF();return tm=function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return n(e,r,s)},tm}var em,vE;function gF(){if(vE)return em;vE=1;var e=mF(),t=Mu(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return em=n&&typeof n.get=="function"?e([n.get]):typeof s=="function"?function(o){return s(o==null?o:i(o))}:!1,em}var rm,AE;function bF(){if(AE)return rm;AE=1;var e=FC(),t=UC(),r=gF();return rm=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,rm}var nm,CE;function yF(){if(CE)return nm;CE=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Fu();return nm=r.call(e,t),nm}var im,kE;function Zy(){if(kE)return im;kE=1;var e,t=BC(),r=Z4(),n=Q4(),i=J4(),s=tF(),a=MC(),o=Bu(),l=eF(),u=rF(),c=nF(),h=iF(),f=sF(),d=aF(),p=oF(),g=uF(),y=Function,m=function(at){try{return y('"use strict"; return ('+at+").constructor;")()}catch{}},b=Mu(),_=ef(),T=function(){throw new o},C=b?function(){try{return arguments.callee,T}catch{try{return b(arguments,"callee").get}catch{return T}}}():T,L=hF()(),N=bF(),z=UC(),R=FC(),H=HC(),K=Ky(),S={},U=typeof Uint8Array>"u"||!N?e:N(Uint8Array),w={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":L&&N?N([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&N?N(N([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!N?e:N(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!N?e:N(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&N?N(""[Symbol.iterator]()):e,"%Symbol%":L?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":C,"%TypedArray%":U,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":K,"%Function.prototype.apply%":H,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":z,"%Math.abs%":u,"%Math.floor%":c,"%Math.max%":h,"%Math.min%":f,"%Math.pow%":d,"%Math.round%":p,"%Math.sign%":g,"%Reflect.getPrototypeOf%":R};if(N)try{null.error}catch(at){var $=N(N(at));w["%Error.prototype%"]=$}var X=function at(Q){var Y;if(Q==="%AsyncFunction%")Y=m("async function () {}");else if(Q==="%GeneratorFunction%")Y=m("function* () {}");else if(Q==="%AsyncGeneratorFunction%")Y=m("async function* () {}");else if(Q==="%AsyncGenerator%"){var Z=at("%AsyncGeneratorFunction%");Z&&(Y=Z.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var _t=at("%AsyncGenerator%");_t&&N&&(Y=N(_t.prototype))}return w[Q]=Y,Y},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},nt=Fu(),J=yF(),G=nt.call(K,Array.prototype.concat),W=nt.call(H,Array.prototype.splice),B=nt.call(K,String.prototype.replace),F=nt.call(K,String.prototype.slice),it=nt.call(K,RegExp.prototype.exec),lt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ut=/\\(\\)?/g,M=function(Q){var Y=F(Q,0,1),Z=F(Q,-1);if(Y==="%"&&Z!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(Z==="%"&&Y!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var _t=[];return B(Q,lt,function(A,ot,O,x){_t[_t.length]=O?B(x,ut,"$1"):ot||A}),_t},D=function(Q,Y){var Z=Q,_t;if(J(j,Z)&&(_t=j[Z],Z="%"+_t[0]+"%"),J(w,Z)){var A=w[Z];if(A===S&&(A=X(Z)),typeof A>"u"&&!Y)throw new o("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:_t,name:Z,value:A}}throw new a("intrinsic "+Q+" does not exist!")};return im=function(Q,Y){if(typeof Q!="string"||Q.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Y!="boolean")throw new o('"allowMissing" argument must be a boolean');if(it(/^%?[^%]*%?$/,Q)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Z=M(Q),_t=Z.length>0?Z[0]:"",A=D("%"+_t+"%",Y),ot=A.name,O=A.value,x=!1,v=A.alias;v&&(_t=v[0],W(Z,G([0,1],v)));for(var I=1,V=!0;I<Z.length;I+=1){var tt=Z[I],q=F(tt,0,1),pt=F(tt,-1);if((q==='"'||q==="'"||q==="`"||pt==='"'||pt==="'"||pt==="`")&&q!==pt)throw new a("property names with quotes must have matching quotes");if((tt==="constructor"||!V)&&(x=!0),_t+="."+tt,ot="%"+_t+"%",J(w,ot))O=w[ot];else if(O!=null){if(!(tt in O)){if(!Y)throw new o("base intrinsic for "+Q+" exists, but the property is not available.");return}if(b&&I+1>=Z.length){var Et=b(O,tt);V=!!Et,V&&"get"in Et&&!("originalValue"in Et.get)?O=Et.get:O=O[tt]}else V=J(O,tt),O=O[tt];V&&!x&&(w[ot]=O)}}return O},im}var sm={exports:{}},am,SE;function _F(){if(SE)return am;SE=1;var e=ef(),t=MC(),r=Bu(),n=Mu();return am=function(s,a,o){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,f=!!n&&n(s,a);if(e)e(s,a,{configurable:c===null&&f?f.configurable:!c,enumerable:l===null&&f?f.enumerable:!l,value:o,writable:u===null&&f?f.writable:!u});else if(h||!l&&!u&&!c)s[a]=o;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},am}var om,IE;function EF(){if(IE)return om;IE=1;var e=ef(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},om=t,om}var lm,LE;function wF(){if(LE)return lm;LE=1;var e=Zy(),t=_F(),r=EF()(),n=Mu(),i=Bu(),s=e("%Math.floor%");return lm=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],c=!0,h=!0;if("length"in o&&n){var f=n(o,"length");f&&!f.configurable&&(c=!1),f&&!f.writable&&(h=!1)}return(c||h||!u)&&(r?t(o,"length",l,!0,!0):t(o,"length",l)),o},lm}var RE;function $C(){return RE||(RE=1,function(e){var t=Fu(),r=Zy(),n=wF(),i=Bu(),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||t.call(a,s),l=ef(),u=r("%Math.max%");e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var d=o(t,a,arguments);return n(d,1+u(0,f.length-(arguments.length-1)),!0)};var c=function(){return o(t,s,arguments)};l?l(e.exports,"apply",{value:c}):e.exports.apply=c}(sm)),sm.exports}var um,NE;function zC(){if(NE)return um;NE=1;var e=Zy(),t=$C(),r=t(e("String.prototype.indexOf"));return um=function(i,s){var a=e(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?t(a):a},um}var cm,OE;function xF(){if(OE)return cm;OE=1;var e=Xy()(),t=zC(),r=t("Object.prototype.toString"),n=function(o){return e&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,cm=s?n:i,cm}var hm,PE;function TF(){if(PE)return hm;PE=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=Xy()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return hm=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var u=e.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var c=s();a=c?i(c):!1}return i(l)===a},hm}var dm,DE;function vF(){if(DE)return dm;DE=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(b){b!==n&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(_){try{var T=e.call(_);return i.test(T)}catch{return!1}},a=function(_){try{return s(_)?!1:(e.call(_),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",d="[object HTMLCollection]",p=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var m=document.all;o.call(m)===o.call(document.all)&&(y=function(_){if((g||!_)&&(typeof _>"u"||typeof _=="object"))try{var T=o.call(_);return(T===h||T===f||T===d||T===l)&&_("")==null}catch{}return!1})}return dm=t?function(_){if(y(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{t(_,null,r)}catch(T){if(T!==n)return!1}return!s(_)&&a(_)}:function(_){if(y(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(p)return a(_);if(s(_))return!1;var T=o.call(_);return T!==u&&T!==c&&!/^\[object HTML/.test(T)?!1:a(_)},dm}var fm,BE;function AF(){if(BE)return fm;BE=1;var e=vF(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,c){for(var h=0,f=l.length;h<f;h++)r.call(l,h)&&(c==null?u(l[h],h,l):u.call(c,l[h],h,l))},i=function(l,u,c){for(var h=0,f=l.length;h<f;h++)c==null?u(l.charAt(h),h,l):u.call(c,l.charAt(h),h,l)},s=function(l,u,c){for(var h in l)r.call(l,h)&&(c==null?u(l[h],h,l):u.call(c,l[h],h,l))},a=function(l,u,c){if(!e(u))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=c),t.call(l)==="[object Array]"?n(l,u,h):typeof l=="string"?i(l,u,h):s(l,u,h)};return fm=a,fm}var pm,ME;function CF(){return ME||(ME=1,pm=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),pm}var mm,FE;function kF(){if(FE)return mm;FE=1;var e=CF(),t=typeof globalThis>"u"?yi:globalThis;return mm=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},mm}var gm,UE;function jC(){if(UE)return gm;UE=1;var e=AF(),t=kF(),r=$C(),n=zC(),i=Mu(),s=n("Object.prototype.toString"),a=Xy()(),o=typeof globalThis>"u"?yi:globalThis,l=t(),u=n("String.prototype.slice"),c=Object.getPrototypeOf,h=n("Array.prototype.indexOf",!0)||function(y,m){for(var b=0;b<y.length;b+=1)if(y[b]===m)return b;return-1},f={__proto__:null};a&&i&&c?e(l,function(g){var y=new o[g];if(Symbol.toStringTag in y){var m=c(y),b=i(m,Symbol.toStringTag);if(!b){var _=c(m);b=i(_,Symbol.toStringTag)}f["$"+g]=r(b.get)}}):e(l,function(g){var y=new o[g],m=y.slice||y.set;m&&(f["$"+g]=r(m))});var d=function(y){var m=!1;return e(f,function(b,_){if(!m)try{"$"+b(y)===_&&(m=u(_,1))}catch{}}),m},p=function(y){var m=!1;return e(f,function(b,_){if(!m)try{b(y),m=u(_,1)}catch{}}),m};return gm=function(y){if(!y||typeof y!="object")return!1;if(!a){var m=u(s(y),8,-1);return h(l,m)>-1?m:m!=="Object"?!1:p(y)}return i?d(y):null},gm}var bm,HE;function SF(){if(HE)return bm;HE=1;var e=jC();return bm=function(r){return!!e(r)},bm}var $E;function IF(){return $E||($E=1,function(e){var t=xF(),r=TF(),n=jC(),i=SF();function s(I){return I.call.bind(I)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(a)var f=s(BigInt.prototype.valueOf);if(o)var d=s(Symbol.prototype.valueOf);function p(I,V){if(typeof I!="object")return!1;try{return V(I),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function g(I){return typeof Promise<"u"&&I instanceof Promise||I!==null&&typeof I=="object"&&typeof I.then=="function"&&typeof I.catch=="function"}e.isPromise=g;function y(I){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(I):i(I)||F(I)}e.isArrayBufferView=y;function m(I){return n(I)==="Uint8Array"}e.isUint8Array=m;function b(I){return n(I)==="Uint8ClampedArray"}e.isUint8ClampedArray=b;function _(I){return n(I)==="Uint16Array"}e.isUint16Array=_;function T(I){return n(I)==="Uint32Array"}e.isUint32Array=T;function C(I){return n(I)==="Int8Array"}e.isInt8Array=C;function L(I){return n(I)==="Int16Array"}e.isInt16Array=L;function N(I){return n(I)==="Int32Array"}e.isInt32Array=N;function z(I){return n(I)==="Float32Array"}e.isFloat32Array=z;function R(I){return n(I)==="Float64Array"}e.isFloat64Array=R;function H(I){return n(I)==="BigInt64Array"}e.isBigInt64Array=H;function K(I){return n(I)==="BigUint64Array"}e.isBigUint64Array=K;function S(I){return l(I)==="[object Map]"}S.working=typeof Map<"u"&&S(new Map);function U(I){return typeof Map>"u"?!1:S.working?S(I):I instanceof Map}e.isMap=U;function w(I){return l(I)==="[object Set]"}w.working=typeof Set<"u"&&w(new Set);function $(I){return typeof Set>"u"?!1:w.working?w(I):I instanceof Set}e.isSet=$;function X(I){return l(I)==="[object WeakMap]"}X.working=typeof WeakMap<"u"&&X(new WeakMap);function j(I){return typeof WeakMap>"u"?!1:X.working?X(I):I instanceof WeakMap}e.isWeakMap=j;function nt(I){return l(I)==="[object WeakSet]"}nt.working=typeof WeakSet<"u"&&nt(new WeakSet);function J(I){return nt(I)}e.isWeakSet=J;function G(I){return l(I)==="[object ArrayBuffer]"}G.working=typeof ArrayBuffer<"u"&&G(new ArrayBuffer);function W(I){return typeof ArrayBuffer>"u"?!1:G.working?G(I):I instanceof ArrayBuffer}e.isArrayBuffer=W;function B(I){return l(I)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function F(I){return typeof DataView>"u"?!1:B.working?B(I):I instanceof DataView}e.isDataView=F;var it=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function lt(I){return l(I)==="[object SharedArrayBuffer]"}function ut(I){return typeof it>"u"?!1:(typeof lt.working>"u"&&(lt.working=lt(new it)),lt.working?lt(I):I instanceof it)}e.isSharedArrayBuffer=ut;function M(I){return l(I)==="[object AsyncFunction]"}e.isAsyncFunction=M;function D(I){return l(I)==="[object Map Iterator]"}e.isMapIterator=D;function at(I){return l(I)==="[object Set Iterator]"}e.isSetIterator=at;function Q(I){return l(I)==="[object Generator]"}e.isGeneratorObject=Q;function Y(I){return l(I)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Y;function Z(I){return p(I,u)}e.isNumberObject=Z;function _t(I){return p(I,c)}e.isStringObject=_t;function A(I){return p(I,h)}e.isBooleanObject=A;function ot(I){return a&&p(I,f)}e.isBigIntObject=ot;function O(I){return o&&p(I,d)}e.isSymbolObject=O;function x(I){return Z(I)||_t(I)||A(I)||ot(I)||O(I)}e.isBoxedPrimitive=x;function v(I){return typeof Uint8Array<"u"&&(W(I)||ut(I))}e.isAnyArrayBuffer=v,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(I){Object.defineProperty(e,I,{enumerable:!1,value:function(){throw new Error(I+" is not supported in userland")}})})}(Tp)),Tp}var ym,zE;function LF(){return zE||(zE=1,ym=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),ym}var jE;function WC(){return jE||(jE=1,function(e){var t=Object.getOwnPropertyDescriptors||function(F){for(var it=Object.keys(F),lt={},ut=0;ut<it.length;ut++)lt[it[ut]]=Object.getOwnPropertyDescriptor(F,it[ut]);return lt},r=/%[sdj%]/g;e.format=function(B){if(!C(B)){for(var F=[],it=0;it<arguments.length;it++)F.push(a(arguments[it]));return F.join(" ")}for(var it=1,lt=arguments,ut=lt.length,M=String(B).replace(r,function(at){if(at==="%%")return"%";if(it>=ut)return at;switch(at){case"%s":return String(lt[it++]);case"%d":return Number(lt[it++]);case"%j":try{return JSON.stringify(lt[it++])}catch{return"[Circular]"}default:return at}}),D=lt[it];it<ut;D=lt[++it])b(D)||!R(D)?M+=" "+D:M+=" "+a(D);return M},e.deprecate=function(B,F){if(typeof pe<"u"&&pe.noDeprecation===!0)return B;if(typeof pe>"u")return function(){return e.deprecate(B,F).apply(this,arguments)};var it=!1;function lt(){if(!it){if(pe.throwDeprecation)throw new Error(F);pe.traceDeprecation?console.trace(F):console.error(F),it=!0}return B.apply(this,arguments)}return lt};var n={},i=/^$/;if(pe.env.NODE_DEBUG){var s=pe.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}e.debuglog=function(B){if(B=B.toUpperCase(),!n[B])if(i.test(B)){var F=pe.pid;n[B]=function(){var it=e.format.apply(e,arguments);console.error("%s %d: %s",B,F,it)}}else n[B]=function(){};return n[B]};function a(B,F){var it={seen:[],stylize:l};return arguments.length>=3&&(it.depth=arguments[2]),arguments.length>=4&&(it.colors=arguments[3]),m(F)?it.showHidden=F:F&&e._extend(it,F),N(it.showHidden)&&(it.showHidden=!1),N(it.depth)&&(it.depth=2),N(it.colors)&&(it.colors=!1),N(it.customInspect)&&(it.customInspect=!0),it.colors&&(it.stylize=o),c(it,B,it.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(B,F){var it=a.styles[F];return it?"\x1B["+a.colors[it][0]+"m"+B+"\x1B["+a.colors[it][1]+"m":B}function l(B,F){return B}function u(B){var F={};return B.forEach(function(it,lt){F[it]=!0}),F}function c(B,F,it){if(B.customInspect&&F&&S(F.inspect)&&F.inspect!==e.inspect&&!(F.constructor&&F.constructor.prototype===F)){var lt=F.inspect(it,B);return C(lt)||(lt=c(B,lt,it)),lt}var ut=h(B,F);if(ut)return ut;var M=Object.keys(F),D=u(M);if(B.showHidden&&(M=Object.getOwnPropertyNames(F)),K(F)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return f(F);if(M.length===0){if(S(F)){var at=F.name?": "+F.name:"";return B.stylize("[Function"+at+"]","special")}if(z(F))return B.stylize(RegExp.prototype.toString.call(F),"regexp");if(H(F))return B.stylize(Date.prototype.toString.call(F),"date");if(K(F))return f(F)}var Q="",Y=!1,Z=["{","}"];if(y(F)&&(Y=!0,Z=["[","]"]),S(F)){var _t=F.name?": "+F.name:"";Q=" [Function"+_t+"]"}if(z(F)&&(Q=" "+RegExp.prototype.toString.call(F)),H(F)&&(Q=" "+Date.prototype.toUTCString.call(F)),K(F)&&(Q=" "+f(F)),M.length===0&&(!Y||F.length==0))return Z[0]+Q+Z[1];if(it<0)return z(F)?B.stylize(RegExp.prototype.toString.call(F),"regexp"):B.stylize("[Object]","special");B.seen.push(F);var A;return Y?A=d(B,F,it,D,M):A=M.map(function(ot){return p(B,F,it,D,ot,Y)}),B.seen.pop(),g(A,Q,Z)}function h(B,F){if(N(F))return B.stylize("undefined","undefined");if(C(F)){var it="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(it,"string")}if(T(F))return B.stylize(""+F,"number");if(m(F))return B.stylize(""+F,"boolean");if(b(F))return B.stylize("null","null")}function f(B){return"["+Error.prototype.toString.call(B)+"]"}function d(B,F,it,lt,ut){for(var M=[],D=0,at=F.length;D<at;++D)nt(F,String(D))?M.push(p(B,F,it,lt,String(D),!0)):M.push("");return ut.forEach(function(Q){Q.match(/^\d+$/)||M.push(p(B,F,it,lt,Q,!0))}),M}function p(B,F,it,lt,ut,M){var D,at,Q;if(Q=Object.getOwnPropertyDescriptor(F,ut)||{value:F[ut]},Q.get?Q.set?at=B.stylize("[Getter/Setter]","special"):at=B.stylize("[Getter]","special"):Q.set&&(at=B.stylize("[Setter]","special")),nt(lt,ut)||(D="["+ut+"]"),at||(B.seen.indexOf(Q.value)<0?(b(it)?at=c(B,Q.value,null):at=c(B,Q.value,it-1),at.indexOf(`
`)>-1&&(M?at=at.split(`
`).map(function(Y){return"  "+Y}).join(`
`).slice(2):at=`
`+at.split(`
`).map(function(Y){return"   "+Y}).join(`
`))):at=B.stylize("[Circular]","special")),N(D)){if(M&&ut.match(/^\d+$/))return at;D=JSON.stringify(""+ut),D.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(D=D.slice(1,-1),D=B.stylize(D,"name")):(D=D.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),D=B.stylize(D,"string"))}return D+": "+at}function g(B,F,it){var lt=B.reduce(function(ut,M){return M.indexOf(`
`)>=0,ut+M.replace(/\u001b\[\d\d?m/g,"").length+1},0);return lt>60?it[0]+(F===""?"":F+`
 `)+" "+B.join(`,
  `)+" "+it[1]:it[0]+F+" "+B.join(", ")+" "+it[1]}e.types=IF();function y(B){return Array.isArray(B)}e.isArray=y;function m(B){return typeof B=="boolean"}e.isBoolean=m;function b(B){return B===null}e.isNull=b;function _(B){return B==null}e.isNullOrUndefined=_;function T(B){return typeof B=="number"}e.isNumber=T;function C(B){return typeof B=="string"}e.isString=C;function L(B){return typeof B=="symbol"}e.isSymbol=L;function N(B){return B===void 0}e.isUndefined=N;function z(B){return R(B)&&w(B)==="[object RegExp]"}e.isRegExp=z,e.types.isRegExp=z;function R(B){return typeof B=="object"&&B!==null}e.isObject=R;function H(B){return R(B)&&w(B)==="[object Date]"}e.isDate=H,e.types.isDate=H;function K(B){return R(B)&&(w(B)==="[object Error]"||B instanceof Error)}e.isError=K,e.types.isNativeError=K;function S(B){return typeof B=="function"}e.isFunction=S;function U(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||typeof B>"u"}e.isPrimitive=U,e.isBuffer=LF();function w(B){return Object.prototype.toString.call(B)}function $(B){return B<10?"0"+B.toString(10):B.toString(10)}var X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var B=new Date,F=[$(B.getHours()),$(B.getMinutes()),$(B.getSeconds())].join(":");return[B.getDate(),X[B.getMonth()],F].join(" ")}e.log=function(){console.log("%s - %s",j(),e.format.apply(e,arguments))},e.inherits=vs(),e._extend=function(B,F){if(!F||!R(F))return B;for(var it=Object.keys(F),lt=it.length;lt--;)B[it[lt]]=F[it[lt]];return B};function nt(B,F){return Object.prototype.hasOwnProperty.call(B,F)}var J=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');if(J&&F[J]){var it=F[J];if(typeof it!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(it,J,{value:it,enumerable:!1,writable:!1,configurable:!0}),it}function it(){for(var lt,ut,M=new Promise(function(Q,Y){lt=Q,ut=Y}),D=[],at=0;at<arguments.length;at++)D.push(arguments[at]);D.push(function(Q,Y){Q?ut(Q):lt(Y)});try{F.apply(this,D)}catch(Q){ut(Q)}return M}return Object.setPrototypeOf(it,Object.getPrototypeOf(F)),J&&Object.defineProperty(it,J,{value:it,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(it,t(F))},e.promisify.custom=J;function G(B,F){if(!B){var it=new Error("Promise was rejected with a falsy value");it.reason=B,B=it}return F(B)}function W(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var it=[],lt=0;lt<arguments.length;lt++)it.push(arguments[lt]);var ut=it.pop();if(typeof ut!="function")throw new TypeError("The last argument must be of type Function");var M=this,D=function(){return ut.apply(M,arguments)};B.apply(this,it).then(function(at){pe.nextTick(D.bind(null,null,at))},function(at){pe.nextTick(G.bind(null,at,D))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(B)),Object.defineProperties(F,t(B)),F}e.callbackify=W}(xp)),xp}var _m,WE;function RF(){if(WE)return _m;WE=1;function e(f,d){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);d&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(f,y).enumerable})),p.push.apply(p,g)}return p}function t(f){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?e(Object(p),!0).forEach(function(g){r(f,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):e(Object(p)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(p,g))})}return f}function r(f,d,p){return d in f?Object.defineProperty(f,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[d]=p,f}function n(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function i(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}function s(f,d,p){return d&&i(f.prototype,d),f}var a=tf(),o=a.Buffer,l=WC(),u=l.inspect,c=u&&u.custom||"inspect";function h(f,d,p){o.prototype.copy.call(f,d,p)}return _m=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return s(f,[{key:"push",value:function(p){var g={data:p,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(p){var g={data:p,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var g=this.head,y=""+g.data;g=g.next;)y+=p+g.data;return y}},{key:"concat",value:function(p){if(this.length===0)return o.alloc(0);for(var g=o.allocUnsafe(p>>>0),y=this.head,m=0;y;)h(y.data,g,m),m+=y.data.length,y=y.next;return g}},{key:"consume",value:function(p,g){var y;return p<this.head.data.length?(y=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?y=this.shift():y=g?this._getString(p):this._getBuffer(p),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var g=this.head,y=1,m=g.data;for(p-=m.length;g=g.next;){var b=g.data,_=p>b.length?b.length:p;if(_===b.length?m+=b:m+=b.slice(0,p),p-=_,p===0){_===b.length?(++y,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=b.slice(_));break}++y}return this.length-=y,m}},{key:"_getBuffer",value:function(p){var g=o.allocUnsafe(p),y=this.head,m=1;for(y.data.copy(g),p-=y.data.length;y=y.next;){var b=y.data,_=p>b.length?b.length:p;if(b.copy(g,g.length-p,0,_),p-=_,p===0){_===b.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=b.slice(_));break}++m}return this.length-=m,g}},{key:c,value:function(p,g){return u(this,t({},g,{depth:0,customInspect:!1}))}}]),f}(),_m}var Em,qE;function qC(){if(qE)return Em;qE=1;function e(a,o){var l=this,u=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return u||c?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pe.nextTick(i,this,a)):pe.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!o&&h?l._writableState?l._writableState.errorEmitted?pe.nextTick(r,l):(l._writableState.errorEmitted=!0,pe.nextTick(t,l,h)):pe.nextTick(t,l,h):o?(pe.nextTick(r,l),o(h)):pe.nextTick(r,l)}),this)}function t(a,o){i(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var l=a._readableState,u=a._writableState;l&&l.autoDestroy||u&&u.autoDestroy?a.destroy(o):a.emit("error",o)}return Em={destroy:e,undestroy:n,errorOrDestroy:s},Em}var wm={},GE;function Fo(){if(GE)return wm;GE=1;function e(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var t={};function r(o,l,u){u||(u=Error);function c(f,d,p){return typeof l=="string"?l:l(f,d,p)}var h=function(f){e(d,f);function d(p,g,y){return f.call(this,c(p,g,y))||this}return d}(u);h.prototype.name=u.name,h.prototype.code=o,t[o]=h}function n(o,l){if(Array.isArray(o)){var u=o.length;return o=o.map(function(c){return String(c)}),u>2?"one of ".concat(l," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,u){return o.substr(0,l.length)===l}function s(o,l,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-l.length,u)===l}function a(o,l,u){return typeof u!="number"&&(u=0),u+l.length>o.length?!1:o.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,u){var c;typeof l=="string"&&i(l,"not ")?(c="must not be",l=l.replace(/^not /,"")):c="must be";var h;if(s(o," argument"))h="The ".concat(o," ").concat(c," ").concat(n(l,"type"));else{var f=a(o,".")?"property":"argument";h='The "'.concat(o,'" ').concat(f," ").concat(c," ").concat(n(l,"type"))}return h+=". Received type ".concat(typeof u),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),wm.codes=t,wm}var xm,VE;function GC(){if(VE)return xm;VE=1;var e=Fo().codes.ERR_INVALID_OPT_VALUE;function t(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,a){var o=t(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=a?s:"highWaterMark";throw new e(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return xm={getHighWaterMark:r},xm}var Tm,YE;function NF(){if(YE)return Tm;YE=1,Tm=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!yi.localStorage)return!1}catch{return!1}var n=yi.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Tm}var vm,XE;function VC(){if(XE)return vm;XE=1,vm=z;function e(ut){var M=this;this.next=null,this.entry=null,this.finish=function(){lt(M,ut)}}var t;z.WritableState=L;var r={deprecate:NF()},n=PC(),i=tf().Buffer,s=yi.Uint8Array||function(){};function a(ut){return i.from(ut)}function o(ut){return i.isBuffer(ut)||ut instanceof s}var l=qC(),u=GC(),c=u.getHighWaterMark,h=Fo().codes,f=h.ERR_INVALID_ARG_TYPE,d=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,m=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,T=l.errorOrDestroy;vs()(z,n);function C(){}function L(ut,M,D){t=t||go(),ut=ut||{},typeof D!="boolean"&&(D=M instanceof t),this.objectMode=!!ut.objectMode,D&&(this.objectMode=this.objectMode||!!ut.writableObjectMode),this.highWaterMark=c(this,ut,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var at=ut.decodeStrings===!1;this.decodeStrings=!at,this.defaultEncoding=ut.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){X(M,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ut.emitClose!==!1,this.autoDestroy=!!ut.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}L.prototype.getBuffer=function(){for(var M=this.bufferedRequest,D=[];M;)D.push(M),M=M.next;return D},function(){try{Object.defineProperty(L.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var N;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(M){return N.call(this,M)?!0:this!==z?!1:M&&M._writableState instanceof L}})):N=function(M){return M instanceof this};function z(ut){t=t||go();var M=this instanceof t;if(!M&&!N.call(z,this))return new z(ut);this._writableState=new L(ut,this,M),this.writable=!0,ut&&(typeof ut.write=="function"&&(this._write=ut.write),typeof ut.writev=="function"&&(this._writev=ut.writev),typeof ut.destroy=="function"&&(this._destroy=ut.destroy),typeof ut.final=="function"&&(this._final=ut.final)),n.call(this)}z.prototype.pipe=function(){T(this,new g)};function R(ut,M){var D=new b;T(ut,D),pe.nextTick(M,D)}function H(ut,M,D,at){var Q;return D===null?Q=new m:typeof D!="string"&&!M.objectMode&&(Q=new f("chunk",["string","Buffer"],D)),Q?(T(ut,Q),pe.nextTick(at,Q),!1):!0}z.prototype.write=function(ut,M,D){var at=this._writableState,Q=!1,Y=!at.objectMode&&o(ut);return Y&&!i.isBuffer(ut)&&(ut=a(ut)),typeof M=="function"&&(D=M,M=null),Y?M="buffer":M||(M=at.defaultEncoding),typeof D!="function"&&(D=C),at.ending?R(this,D):(Y||H(this,at,ut,D))&&(at.pendingcb++,Q=S(this,at,Y,ut,M,D)),Q},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var ut=this._writableState;ut.corked&&(ut.corked--,!ut.writing&&!ut.corked&&!ut.bufferProcessing&&ut.bufferedRequest&&J(this,ut))},z.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new _(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function K(ut,M,D){return!ut.objectMode&&ut.decodeStrings!==!1&&typeof M=="string"&&(M=i.from(M,D)),M}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function S(ut,M,D,at,Q,Y){if(!D){var Z=K(M,at,Q);at!==Z&&(D=!0,Q="buffer",at=Z)}var _t=M.objectMode?1:at.length;M.length+=_t;var A=M.length<M.highWaterMark;if(A||(M.needDrain=!0),M.writing||M.corked){var ot=M.lastBufferedRequest;M.lastBufferedRequest={chunk:at,encoding:Q,isBuf:D,callback:Y,next:null},ot?ot.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else U(ut,M,!1,_t,at,Q,Y);return A}function U(ut,M,D,at,Q,Y,Z){M.writelen=at,M.writecb=Z,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new y("write")):D?ut._writev(Q,M.onwrite):ut._write(Q,Y,M.onwrite),M.sync=!1}function w(ut,M,D,at,Q){--M.pendingcb,D?(pe.nextTick(Q,at),pe.nextTick(F,ut,M),ut._writableState.errorEmitted=!0,T(ut,at)):(Q(at),ut._writableState.errorEmitted=!0,T(ut,at),F(ut,M))}function $(ut){ut.writing=!1,ut.writecb=null,ut.length-=ut.writelen,ut.writelen=0}function X(ut,M){var D=ut._writableState,at=D.sync,Q=D.writecb;if(typeof Q!="function")throw new p;if($(D),M)w(ut,D,at,M,Q);else{var Y=G(D)||ut.destroyed;!Y&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&J(ut,D),at?pe.nextTick(j,ut,D,Y,Q):j(ut,D,Y,Q)}}function j(ut,M,D,at){D||nt(ut,M),M.pendingcb--,at(),F(ut,M)}function nt(ut,M){M.length===0&&M.needDrain&&(M.needDrain=!1,ut.emit("drain"))}function J(ut,M){M.bufferProcessing=!0;var D=M.bufferedRequest;if(ut._writev&&D&&D.next){var at=M.bufferedRequestCount,Q=new Array(at),Y=M.corkedRequestsFree;Y.entry=D;for(var Z=0,_t=!0;D;)Q[Z]=D,D.isBuf||(_t=!1),D=D.next,Z+=1;Q.allBuffers=_t,U(ut,M,!0,M.length,Q,"",Y.finish),M.pendingcb++,M.lastBufferedRequest=null,Y.next?(M.corkedRequestsFree=Y.next,Y.next=null):M.corkedRequestsFree=new e(M),M.bufferedRequestCount=0}else{for(;D;){var A=D.chunk,ot=D.encoding,O=D.callback,x=M.objectMode?1:A.length;if(U(ut,M,!1,x,A,ot,O),D=D.next,M.bufferedRequestCount--,M.writing)break}D===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=D,M.bufferProcessing=!1}z.prototype._write=function(ut,M,D){D(new d("_write()"))},z.prototype._writev=null,z.prototype.end=function(ut,M,D){var at=this._writableState;return typeof ut=="function"?(D=ut,ut=null,M=null):typeof M=="function"&&(D=M,M=null),ut!=null&&this.write(ut,M),at.corked&&(at.corked=1,this.uncork()),at.ending||it(this,at,D),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function G(ut){return ut.ending&&ut.length===0&&ut.bufferedRequest===null&&!ut.finished&&!ut.writing}function W(ut,M){ut._final(function(D){M.pendingcb--,D&&T(ut,D),M.prefinished=!0,ut.emit("prefinish"),F(ut,M)})}function B(ut,M){!M.prefinished&&!M.finalCalled&&(typeof ut._final=="function"&&!M.destroyed?(M.pendingcb++,M.finalCalled=!0,pe.nextTick(W,ut,M)):(M.prefinished=!0,ut.emit("prefinish")))}function F(ut,M){var D=G(M);if(D&&(B(ut,M),M.pendingcb===0&&(M.finished=!0,ut.emit("finish"),M.autoDestroy))){var at=ut._readableState;(!at||at.autoDestroy&&at.endEmitted)&&ut.destroy()}return D}function it(ut,M,D){M.ending=!0,F(ut,M),D&&(M.finished?pe.nextTick(D):ut.once("finish",D)),M.ended=!0,ut.writable=!1}function lt(ut,M,D){var at=ut.entry;for(ut.entry=null;at;){var Q=at.callback;M.pendingcb--,Q(D),at=at.next}M.corkedRequestsFree.next=ut}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),z.prototype.destroy=l.destroy,z.prototype._undestroy=l.undestroy,z.prototype._destroy=function(ut,M){M(ut)},vm}var Am,KE;function go(){if(KE)return Am;KE=1;var e=Object.keys||function(u){var c=[];for(var h in u)c.push(h);return c};Am=a;var t=YC(),r=VC();vs()(a,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(u){if(!(this instanceof a))return new a(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||pe.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Am}var Cm={},yc={exports:{}},ZE;function OF(){return ZE||(ZE=1,function(e,t){var r=tf(),n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return o!==void 0?typeof l=="string"?u.fill(o,l):u.fill(o):u.fill(0),u},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(yc,yc.exports)),yc.exports}var QE;function T0(){if(QE)return Cm;QE=1;var e=OF().Buffer,t=e.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var b;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(b)return;m=(""+m).toLowerCase(),b=!0}}function n(m){var b=r(m);if(typeof b!="string"&&(e.isEncoding===t||!t(m)))throw new Error("Unknown encoding: "+m);return b||m}Cm.StringDecoder=i;function i(m){this.encoding=n(m);var b;switch(this.encoding){case"utf16le":this.text=h,this.end=f,b=4;break;case"utf8":this.fillLast=l,b=4;break;case"base64":this.text=d,this.end=p,b=3;break;default:this.write=g,this.end=y;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(b)}i.prototype.write=function(m){if(m.length===0)return"";var b,_;if(this.lastNeed){if(b=this.fillLast(m),b===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<m.length?b?b+this.text(m,_):this.text(m,_):b||""},i.prototype.end=c,i.prototype.text=u,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function a(m,b,_){var T=b.length-1;if(T<_)return 0;var C=s(b[T]);return C>=0?(C>0&&(m.lastNeed=C-1),C):--T<_||C===-2?0:(C=s(b[T]),C>=0?(C>0&&(m.lastNeed=C-2),C):--T<_||C===-2?0:(C=s(b[T]),C>=0?(C>0&&(C===2?C=0:m.lastNeed=C-3),C):0))}function o(m,b,_){if((b[0]&192)!==128)return m.lastNeed=0,"ï¿½";if(m.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return m.lastNeed=1,"ï¿½";if(m.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return m.lastNeed=2,"ï¿½"}}function l(m){var b=this.lastTotal-this.lastNeed,_=o(this,m);if(_!==void 0)return _;if(this.lastNeed<=m.length)return m.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,b,0,m.length),this.lastNeed-=m.length}function u(m,b){var _=a(this,m,b);if(!this.lastNeed)return m.toString("utf8",b);this.lastTotal=_;var T=m.length-(_-this.lastNeed);return m.copy(this.lastChar,0,T),m.toString("utf8",b,T)}function c(m){var b=m&&m.length?this.write(m):"";return this.lastNeed?b+"ï¿½":b}function h(m,b){if((m.length-b)%2===0){var _=m.toString("utf16le",b);if(_){var T=_.charCodeAt(_.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",b,m.length-1)}function f(m){var b=m&&m.length?this.write(m):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,_)}return b}function d(m,b){var _=(m.length-b)%3;return _===0?m.toString("base64",b):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",b,m.length-_))}function p(m){var b=m&&m.length?this.write(m):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function g(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}return Cm}var km,JE;function Qy(){if(JE)return km;JE=1;var e=Fo().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=t(o||r);var l=a.readable||a.readable!==!1&&s.readable,u=a.writable||a.writable!==!1&&s.writable,c=function(){s.writable||f()},h=s._writableState&&s._writableState.finished,f=function(){u=!1,h=!0,l||o.call(s)},d=s._readableState&&s._readableState.endEmitted,p=function(){l=!1,d=!0,u||o.call(s)},g=function(_){o.call(s,_)},y=function(){var _;if(l&&!d)return(!s._readableState||!s._readableState.ended)&&(_=new e),o.call(s,_);if(u&&!h)return(!s._writableState||!s._writableState.ended)&&(_=new e),o.call(s,_)},m=function(){s.req.on("finish",f)};return n(s)?(s.on("complete",f),s.on("abort",y),s.req?m():s.on("request",m)):u&&!s._writableState&&(s.on("end",c),s.on("close",c)),s.on("end",p),s.on("finish",f),a.error!==!1&&s.on("error",g),s.on("close",y),function(){s.removeListener("complete",f),s.removeListener("abort",y),s.removeListener("request",m),s.req&&s.req.removeListener("finish",f),s.removeListener("end",c),s.removeListener("close",c),s.removeListener("finish",f),s.removeListener("end",p),s.removeListener("error",g),s.removeListener("close",y)}}return km=i,km}var Sm,tw;function PF(){if(tw)return Sm;tw=1;var e;function t(m,b,_){return b in m?Object.defineProperty(m,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[b]=_,m}var r=Qy(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function c(m,b){return{value:m,done:b}}function h(m){var b=m[n];if(b!==null){var _=m[u].read();_!==null&&(m[o]=null,m[n]=null,m[i]=null,b(c(_,!1)))}}function f(m){pe.nextTick(h,m)}function d(m,b){return function(_,T){m.then(function(){if(b[a]){_(c(void 0,!0));return}b[l](_,T)},T)}}var p=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((e={get stream(){return this[u]},next:function(){var b=this,_=this[s];if(_!==null)return Promise.reject(_);if(this[a])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(N,z){pe.nextTick(function(){b[s]?z(b[s]):N(c(void 0,!0))})});var T=this[o],C;if(T)C=new Promise(d(T,this));else{var L=this[u].read();if(L!==null)return Promise.resolve(c(L,!1));C=new Promise(this[l])}return this[o]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var b=this;return new Promise(function(_,T){b[u].destroy(null,function(C){if(C){T(C);return}_(c(void 0,!0))})})}),e),p),y=function(b){var _,T=Object.create(g,(_={},t(_,u,{value:b,writable:!0}),t(_,n,{value:null,writable:!0}),t(_,i,{value:null,writable:!0}),t(_,s,{value:null,writable:!0}),t(_,a,{value:b._readableState.endEmitted,writable:!0}),t(_,l,{value:function(L,N){var z=T[u].read();z?(T[o]=null,T[n]=null,T[i]=null,L(c(z,!1))):(T[n]=L,T[i]=N)},writable:!0}),_));return T[o]=null,r(b,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=T[i];L!==null&&(T[o]=null,T[n]=null,T[i]=null,L(C)),T[s]=C;return}var N=T[n];N!==null&&(T[o]=null,T[n]=null,T[i]=null,N(c(void 0,!0))),T[a]=!0}),b.on("readable",f.bind(null,T)),T};return Sm=y,Sm}var Im,ew;function DF(){return ew||(ew=1,Im=function(){throw new Error("Readable.from is not available in the browser")}),Im}var Lm,rw;function YC(){if(rw)return Lm;rw=1,Lm=R;var e;R.ReadableState=z,Yy().EventEmitter;var t=function(Z,_t){return Z.listeners(_t).length},r=PC(),n=tf().Buffer,i=yi.Uint8Array||function(){};function s(Y){return n.from(Y)}function a(Y){return n.isBuffer(Y)||Y instanceof i}var o=WC(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var u=RF(),c=qC(),h=GC(),f=h.getHighWaterMark,d=Fo().codes,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_STREAM_PUSH_AFTER_EOF,y=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,_,T;vs()(R,r);var C=c.errorOrDestroy,L=["error","close","destroy","pause","resume"];function N(Y,Z,_t){if(typeof Y.prependListener=="function")return Y.prependListener(Z,_t);!Y._events||!Y._events[Z]?Y.on(Z,_t):Array.isArray(Y._events[Z])?Y._events[Z].unshift(_t):Y._events[Z]=[_t,Y._events[Z]]}function z(Y,Z,_t){e=e||go(),Y=Y||{},typeof _t!="boolean"&&(_t=Z instanceof e),this.objectMode=!!Y.objectMode,_t&&(this.objectMode=this.objectMode||!!Y.readableObjectMode),this.highWaterMark=f(this,Y,"readableHighWaterMark",_t),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(b||(b=T0().StringDecoder),this.decoder=new b(Y.encoding),this.encoding=Y.encoding)}function R(Y){if(e=e||go(),!(this instanceof R))return new R(Y);var Z=this instanceof e;this._readableState=new z(Y,this,Z),this.readable=!0,Y&&(typeof Y.read=="function"&&(this._read=Y.read),typeof Y.destroy=="function"&&(this._destroy=Y.destroy)),r.call(this)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),R.prototype.destroy=c.destroy,R.prototype._undestroy=c.undestroy,R.prototype._destroy=function(Y,Z){Z(Y)},R.prototype.push=function(Y,Z){var _t=this._readableState,A;return _t.objectMode?A=!0:typeof Y=="string"&&(Z=Z||_t.defaultEncoding,Z!==_t.encoding&&(Y=n.from(Y,Z),Z=""),A=!0),H(this,Y,Z,!1,A)},R.prototype.unshift=function(Y){return H(this,Y,null,!0,!1)};function H(Y,Z,_t,A,ot){l("readableAddChunk",Z);var O=Y._readableState;if(Z===null)O.reading=!1,X(Y,O);else{var x;if(ot||(x=S(O,Z)),x)C(Y,x);else if(O.objectMode||Z&&Z.length>0)if(typeof Z!="string"&&!O.objectMode&&Object.getPrototypeOf(Z)!==n.prototype&&(Z=s(Z)),A)O.endEmitted?C(Y,new m):K(Y,O,Z,!0);else if(O.ended)C(Y,new g);else{if(O.destroyed)return!1;O.reading=!1,O.decoder&&!_t?(Z=O.decoder.write(Z),O.objectMode||Z.length!==0?K(Y,O,Z,!1):J(Y,O)):K(Y,O,Z,!1)}else A||(O.reading=!1,J(Y,O))}return!O.ended&&(O.length<O.highWaterMark||O.length===0)}function K(Y,Z,_t,A){Z.flowing&&Z.length===0&&!Z.sync?(Z.awaitDrain=0,Y.emit("data",_t)):(Z.length+=Z.objectMode?1:_t.length,A?Z.buffer.unshift(_t):Z.buffer.push(_t),Z.needReadable&&j(Y)),J(Y,Z)}function S(Y,Z){var _t;return!a(Z)&&typeof Z!="string"&&Z!==void 0&&!Y.objectMode&&(_t=new p("chunk",["string","Buffer","Uint8Array"],Z)),_t}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(Y){b||(b=T0().StringDecoder);var Z=new b(Y);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;for(var _t=this._readableState.buffer.head,A="";_t!==null;)A+=Z.write(_t.data),_t=_t.next;return this._readableState.buffer.clear(),A!==""&&this._readableState.buffer.push(A),this._readableState.length=A.length,this};var U=1073741824;function w(Y){return Y>=U?Y=U:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}function $(Y,Z){return Y<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:Y!==Y?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(Y>Z.highWaterMark&&(Z.highWaterMark=w(Y)),Y<=Z.length?Y:Z.ended?Z.length:(Z.needReadable=!0,0))}R.prototype.read=function(Y){l("read",Y),Y=parseInt(Y,10);var Z=this._readableState,_t=Y;if(Y!==0&&(Z.emittedReadable=!1),Y===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return l("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?D(this):j(this),null;if(Y=$(Y,Z),Y===0&&Z.ended)return Z.length===0&&D(this),null;var A=Z.needReadable;l("need readable",A),(Z.length===0||Z.length-Y<Z.highWaterMark)&&(A=!0,l("length less than watermark",A)),Z.ended||Z.reading?(A=!1,l("reading or ended",A)):A&&(l("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(Y=$(_t,Z)));var ot;return Y>0?ot=M(Y,Z):ot=null,ot===null?(Z.needReadable=Z.length<=Z.highWaterMark,Y=0):(Z.length-=Y,Z.awaitDrain=0),Z.length===0&&(Z.ended||(Z.needReadable=!0),_t!==Y&&Z.ended&&D(this)),ot!==null&&this.emit("data",ot),ot};function X(Y,Z){if(l("onEofChunk"),!Z.ended){if(Z.decoder){var _t=Z.decoder.end();_t&&_t.length&&(Z.buffer.push(_t),Z.length+=Z.objectMode?1:_t.length)}Z.ended=!0,Z.sync?j(Y):(Z.needReadable=!1,Z.emittedReadable||(Z.emittedReadable=!0,nt(Y)))}}function j(Y){var Z=Y._readableState;l("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(l("emitReadable",Z.flowing),Z.emittedReadable=!0,pe.nextTick(nt,Y))}function nt(Y){var Z=Y._readableState;l("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&(Z.length||Z.ended)&&(Y.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,ut(Y)}function J(Y,Z){Z.readingMore||(Z.readingMore=!0,pe.nextTick(G,Y,Z))}function G(Y,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){var _t=Z.length;if(l("maybeReadMore read 0"),Y.read(0),_t===Z.length)break}Z.readingMore=!1}R.prototype._read=function(Y){C(this,new y("_read()"))},R.prototype.pipe=function(Y,Z){var _t=this,A=this._readableState;switch(A.pipesCount){case 0:A.pipes=Y;break;case 1:A.pipes=[A.pipes,Y];break;default:A.pipes.push(Y);break}A.pipesCount+=1,l("pipe count=%d opts=%j",A.pipesCount,Z);var ot=(!Z||Z.end!==!1)&&Y!==pe.stdout&&Y!==pe.stderr,O=ot?v:ht;A.endEmitted?pe.nextTick(O):_t.once("end",O),Y.on("unpipe",x);function x(wt,St){l("onunpipe"),wt===_t&&St&&St.hasUnpiped===!1&&(St.hasUnpiped=!0,tt())}function v(){l("onend"),Y.end()}var I=W(_t);Y.on("drain",I);var V=!1;function tt(){l("cleanup"),Y.removeListener("close",Et),Y.removeListener("finish",gt),Y.removeListener("drain",I),Y.removeListener("error",pt),Y.removeListener("unpipe",x),_t.removeListener("end",v),_t.removeListener("end",ht),_t.removeListener("data",q),V=!0,A.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&I()}_t.on("data",q);function q(wt){l("ondata");var St=Y.write(wt);l("dest.write",St),St===!1&&((A.pipesCount===1&&A.pipes===Y||A.pipesCount>1&&Q(A.pipes,Y)!==-1)&&!V&&(l("false write response, pause",A.awaitDrain),A.awaitDrain++),_t.pause())}function pt(wt){l("onerror",wt),ht(),Y.removeListener("error",pt),t(Y,"error")===0&&C(Y,wt)}N(Y,"error",pt);function Et(){Y.removeListener("finish",gt),ht()}Y.once("close",Et);function gt(){l("onfinish"),Y.removeListener("close",Et),ht()}Y.once("finish",gt);function ht(){l("unpipe"),_t.unpipe(Y)}return Y.emit("pipe",_t),A.flowing||(l("pipe resume"),_t.resume()),Y};function W(Y){return function(){var _t=Y._readableState;l("pipeOnDrain",_t.awaitDrain),_t.awaitDrain&&_t.awaitDrain--,_t.awaitDrain===0&&t(Y,"data")&&(_t.flowing=!0,ut(Y))}}R.prototype.unpipe=function(Y){var Z=this._readableState,_t={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return Y&&Y!==Z.pipes?this:(Y||(Y=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,Y&&Y.emit("unpipe",this,_t),this);if(!Y){var A=Z.pipes,ot=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var O=0;O<ot;O++)A[O].emit("unpipe",this,{hasUnpiped:!1});return this}var x=Q(Z.pipes,Y);return x===-1?this:(Z.pipes.splice(x,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),Y.emit("unpipe",this,_t),this)},R.prototype.on=function(Y,Z){var _t=r.prototype.on.call(this,Y,Z),A=this._readableState;return Y==="data"?(A.readableListening=this.listenerCount("readable")>0,A.flowing!==!1&&this.resume()):Y==="readable"&&!A.endEmitted&&!A.readableListening&&(A.readableListening=A.needReadable=!0,A.flowing=!1,A.emittedReadable=!1,l("on readable",A.length,A.reading),A.length?j(this):A.reading||pe.nextTick(F,this)),_t},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(Y,Z){var _t=r.prototype.removeListener.call(this,Y,Z);return Y==="readable"&&pe.nextTick(B,this),_t},R.prototype.removeAllListeners=function(Y){var Z=r.prototype.removeAllListeners.apply(this,arguments);return(Y==="readable"||Y===void 0)&&pe.nextTick(B,this),Z};function B(Y){var Z=Y._readableState;Z.readableListening=Y.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused?Z.flowing=!0:Y.listenerCount("data")>0&&Y.resume()}function F(Y){l("readable nexttick read 0"),Y.read(0)}R.prototype.resume=function(){var Y=this._readableState;return Y.flowing||(l("resume"),Y.flowing=!Y.readableListening,it(this,Y)),Y.paused=!1,this};function it(Y,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,pe.nextTick(lt,Y,Z))}function lt(Y,Z){l("resume",Z.reading),Z.reading||Y.read(0),Z.resumeScheduled=!1,Y.emit("resume"),ut(Y),Z.flowing&&!Z.reading&&Y.read(0)}R.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ut(Y){var Z=Y._readableState;for(l("flow",Z.flowing);Z.flowing&&Y.read()!==null;);}R.prototype.wrap=function(Y){var Z=this,_t=this._readableState,A=!1;Y.on("end",function(){if(l("wrapped end"),_t.decoder&&!_t.ended){var x=_t.decoder.end();x&&x.length&&Z.push(x)}Z.push(null)}),Y.on("data",function(x){if(l("wrapped data"),_t.decoder&&(x=_t.decoder.write(x)),!(_t.objectMode&&x==null)&&!(!_t.objectMode&&(!x||!x.length))){var v=Z.push(x);v||(A=!0,Y.pause())}});for(var ot in Y)this[ot]===void 0&&typeof Y[ot]=="function"&&(this[ot]=function(v){return function(){return Y[v].apply(Y,arguments)}}(ot));for(var O=0;O<L.length;O++)Y.on(L[O],this.emit.bind(this,L[O]));return this._read=function(x){l("wrapped _read",x),A&&(A=!1,Y.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=PF()),_(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){this._readableState&&(this._readableState.flowing=Z)}}),R._fromList=M,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function M(Y,Z){if(Z.length===0)return null;var _t;return Z.objectMode?_t=Z.buffer.shift():!Y||Y>=Z.length?(Z.decoder?_t=Z.buffer.join(""):Z.buffer.length===1?_t=Z.buffer.first():_t=Z.buffer.concat(Z.length),Z.buffer.clear()):_t=Z.buffer.consume(Y,Z.decoder),_t}function D(Y){var Z=Y._readableState;l("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,pe.nextTick(at,Z,Y))}function at(Y,Z){if(l("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&Y.length===0&&(Y.endEmitted=!0,Z.readable=!1,Z.emit("end"),Y.autoDestroy)){var _t=Z._writableState;(!_t||_t.autoDestroy&&_t.finished)&&Z.destroy()}}typeof Symbol=="function"&&(R.from=function(Y,Z){return T===void 0&&(T=DF()),T(R,Y,Z)});function Q(Y,Z){for(var _t=0,A=Y.length;_t<A;_t++)if(Y[_t]===Z)return _t;return-1}return Lm}var Rm,nw;function XC(){if(nw)return Rm;nw=1,Rm=o;var e=Fo().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=go();vs()(o,s);function a(c,h){var f=this._transformState;f.transforming=!1;var d=f.writecb;if(d===null)return this.emit("error",new r);f.writechunk=null,f.writecb=null,h!=null&&this.push(h),d(c);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function o(c){if(!(this instanceof o))return new o(c);s.call(this,c),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function l(){var c=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,f){u(c,h,f)}):u(this,null,null)}o.prototype.push=function(c,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,h)},o.prototype._transform=function(c,h,f){f(new t("_transform()"))},o.prototype._write=function(c,h,f){var d=this._transformState;if(d.writecb=f,d.writechunk=c,d.writeencoding=h,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},o.prototype._read=function(c){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},o.prototype._destroy=function(c,h){s.prototype._destroy.call(this,c,function(f){h(f)})};function u(c,h,f){if(h)return c.emit("error",h);if(f!=null&&c.push(f),c._writableState.length)throw new i;if(c._transformState.transforming)throw new n;return c.push(null)}return Rm}var Nm,iw;function BF(){if(iw)return Nm;iw=1,Nm=t;var e=XC();vs()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Nm}var Om,sw;function MF(){if(sw)return Om;sw=1;var e;function t(f){var d=!1;return function(){d||(d=!0,f.apply(void 0,arguments))}}var r=Fo().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(f){if(f)throw f}function a(f){return f.setHeader&&typeof f.abort=="function"}function o(f,d,p,g){g=t(g);var y=!1;f.on("close",function(){y=!0}),e===void 0&&(e=Qy()),e(f,{readable:d,writable:p},function(b){if(b)return g(b);y=!0,g()});var m=!1;return function(b){if(!y&&!m){if(m=!0,a(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();g(b||new i("pipe"))}}}function l(f){f()}function u(f,d){return f.pipe(d)}function c(f){return!f.length||typeof f[f.length-1]!="function"?s:f.pop()}function h(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var g=c(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new n("streams");var y,m=d.map(function(b,_){var T=_<d.length-1,C=_>0;return o(b,T,C,function(L){y||(y=L),L&&m.forEach(l),!T&&(m.forEach(l),g(y))})});return d.reduce(u)}return Om=h,Om}var Pm,aw;function Jy(){if(aw)return Pm;aw=1,Pm=r;var e=Yy().EventEmitter,t=vs();t(r,e),r.Readable=YC(),r.Writable=VC(),r.Duplex=go(),r.Transform=XC(),r.PassThrough=BF(),r.finished=Qy(),r.pipeline=MF(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,i){var s=this;function a(d){n.writable&&n.write(d)===!1&&s.pause&&s.pause()}s.on("data",a);function o(){s.readable&&s.resume&&s.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",u),s.on("close",c));var l=!1;function u(){l||(l=!0,n.end())}function c(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function h(d){if(f(),e.listenerCount(this,"error")===0)throw d}s.on("error",h),n.on("error",h);function f(){s.removeListener("data",a),n.removeListener("drain",o),s.removeListener("end",u),s.removeListener("close",c),s.removeListener("error",h),n.removeListener("error",h),s.removeListener("end",f),s.removeListener("close",f),n.removeListener("close",f)}return s.on("end",f),s.on("close",f),n.on("close",f),n.emit("pipe",s),n},Pm}var ow;function FF(){return ow||(ow=1,function(e){(function(t){t.parser=function(M,D){return new n(M,D)},t.SAXParser=n,t.SAXStream=c,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(M,D){if(!(this instanceof n))return new n(M,D);var at=this;s(at),at.q=at.c="",at.bufferCheckPosition=t.MAX_BUFFER_LENGTH,at.opt=D||{},at.opt.lowercase=at.opt.lowercase||at.opt.lowercasetags,at.looseCase=at.opt.lowercase?"toLowerCase":"toUpperCase",at.tags=[],at.closed=at.closedRoot=at.sawRoot=!1,at.tag=at.error=null,at.strict=!!M,at.noscript=!!(M||at.opt.noscript),at.state=R.BEGIN,at.strictEntities=at.opt.strictEntities,at.ENTITIES=at.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),at.attribList=[],at.opt.xmlns&&(at.ns=Object.create(g)),at.trackPosition=at.opt.position!==!1,at.trackPosition&&(at.position=at.line=at.column=0),K(at,"onready")}Object.create||(Object.create=function(M){function D(){}D.prototype=M;var at=new D;return at}),Object.keys||(Object.keys=function(M){var D=[];for(var at in M)M.hasOwnProperty(at)&&D.push(at);return D});function i(M){for(var D=Math.max(t.MAX_BUFFER_LENGTH,10),at=0,Q=0,Y=r.length;Q<Y;Q++){var Z=M[r[Q]].length;if(Z>D)switch(r[Q]){case"textNode":U(M);break;case"cdata":S(M,"oncdata",M.cdata),M.cdata="";break;case"script":S(M,"onscript",M.script),M.script="";break;default:$(M,"Max buffer length exceeded: "+r[Q])}at=Math.max(at,Z)}var _t=t.MAX_BUFFER_LENGTH-at;M.bufferCheckPosition=_t+M.position}function s(M){for(var D=0,at=r.length;D<at;D++)M[r[D]]=""}function a(M){U(M),M.cdata!==""&&(S(M,"oncdata",M.cdata),M.cdata=""),M.script!==""&&(S(M,"onscript",M.script),M.script="")}n.prototype={end:function(){X(this)},write:ut,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=Jy().Stream}catch{o=function(){}}var l=t.EVENTS.filter(function(M){return M!=="error"&&M!=="end"});function u(M,D){return new c(M,D)}function c(M,D){if(!(this instanceof c))return new c(M,D);o.apply(this),this._parser=new n(M,D),this.writable=!0,this.readable=!0;var at=this;this._parser.onend=function(){at.emit("end")},this._parser.onerror=function(Q){at.emit("error",Q),at._parser.error=null},this._decoder=null,l.forEach(function(Q){Object.defineProperty(at,"on"+Q,{get:function(){return at._parser["on"+Q]},set:function(Y){if(!Y)return at.removeAllListeners(Q),at._parser["on"+Q]=Y,Y;at.on(Q,Y)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(M){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(M)){if(!this._decoder){var D=T0().StringDecoder;this._decoder=new D("utf8")}M=this._decoder.write(M)}return this._parser.write(M.toString()),this.emit("data",M),!0},c.prototype.end=function(M){return M&&M.length&&this.write(M),this._parser.end(),!0},c.prototype.on=function(M,D){var at=this;return!at._parser["on"+M]&&l.indexOf(M)!==-1&&(at._parser["on"+M]=function(){var Q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,M),at.emit.apply(at,Q)}),o.prototype.on.call(at,M,D)};var h="[CDATA[",f="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",g={xml:d,xmlns:p},y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function T(M){return M===" "||M===`
`||M==="\r"||M==="	"}function C(M){return M==='"'||M==="'"}function L(M){return M===">"||T(M)}function N(M,D){return M.test(D)}function z(M,D){return!N(M,D)}var R=0;t.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(M){var D=t.ENTITIES[M],at=typeof D=="number"?String.fromCharCode(D):D;t.ENTITIES[M]=at});for(var H in t.STATE)t.STATE[t.STATE[H]]=H;R=t.STATE;function K(M,D,at){M[D]&&M[D](at)}function S(M,D,at){M.textNode&&U(M),K(M,D,at)}function U(M){M.textNode=w(M.opt,M.textNode),M.textNode&&K(M,"ontext",M.textNode),M.textNode=""}function w(M,D){return M.trim&&(D=D.trim()),M.normalize&&(D=D.replace(/\s+/g," ")),D}function $(M,D){return U(M),M.trackPosition&&(D+=`
Line: `+M.line+`
Column: `+M.column+`
Char: `+M.c),D=new Error(D),M.error=D,K(M,"onerror",D),M}function X(M){return M.sawRoot&&!M.closedRoot&&j(M,"Unclosed root tag"),M.state!==R.BEGIN&&M.state!==R.BEGIN_WHITESPACE&&M.state!==R.TEXT&&$(M,"Unexpected end"),U(M),M.c="",M.closed=!0,K(M,"onend"),n.call(M,M.strict,M.opt),M}function j(M,D){if(typeof M!="object"||!(M instanceof n))throw new Error("bad call to strictFail");M.strict&&$(M,D)}function nt(M){M.strict||(M.tagName=M.tagName[M.looseCase]());var D=M.tags[M.tags.length-1]||M,at=M.tag={name:M.tagName,attributes:{}};M.opt.xmlns&&(at.ns=D.ns),M.attribList.length=0,S(M,"onopentagstart",at)}function J(M,D){var at=M.indexOf(":"),Q=at<0?["",M]:M.split(":"),Y=Q[0],Z=Q[1];return D&&M==="xmlns"&&(Y="xmlns",Z=""),{prefix:Y,local:Z}}function G(M){if(M.strict||(M.attribName=M.attribName[M.looseCase]()),M.attribList.indexOf(M.attribName)!==-1||M.tag.attributes.hasOwnProperty(M.attribName)){M.attribName=M.attribValue="";return}if(M.opt.xmlns){var D=J(M.attribName,!0),at=D.prefix,Q=D.local;if(at==="xmlns")if(Q==="xml"&&M.attribValue!==d)j(M,"xml: prefix must be bound to "+d+`
Actual: `+M.attribValue);else if(Q==="xmlns"&&M.attribValue!==p)j(M,"xmlns: prefix must be bound to "+p+`
Actual: `+M.attribValue);else{var Y=M.tag,Z=M.tags[M.tags.length-1]||M;Y.ns===Z.ns&&(Y.ns=Object.create(Z.ns)),Y.ns[Q]=M.attribValue}M.attribList.push([M.attribName,M.attribValue])}else M.tag.attributes[M.attribName]=M.attribValue,S(M,"onattribute",{name:M.attribName,value:M.attribValue});M.attribName=M.attribValue=""}function W(M,D){if(M.opt.xmlns){var at=M.tag,Q=J(M.tagName);at.prefix=Q.prefix,at.local=Q.local,at.uri=at.ns[Q.prefix]||"",at.prefix&&!at.uri&&(j(M,"Unbound namespace prefix: "+JSON.stringify(M.tagName)),at.uri=Q.prefix);var Y=M.tags[M.tags.length-1]||M;at.ns&&Y.ns!==at.ns&&Object.keys(at.ns).forEach(function(q){S(M,"onopennamespace",{prefix:q,uri:at.ns[q]})});for(var Z=0,_t=M.attribList.length;Z<_t;Z++){var A=M.attribList[Z],ot=A[0],O=A[1],x=J(ot,!0),v=x.prefix,I=x.local,V=v===""?"":at.ns[v]||"",tt={name:ot,value:O,prefix:v,local:I,uri:V};v&&v!=="xmlns"&&!V&&(j(M,"Unbound namespace prefix: "+JSON.stringify(v)),tt.uri=v),M.tag.attributes[ot]=tt,S(M,"onattribute",tt)}M.attribList.length=0}M.tag.isSelfClosing=!!D,M.sawRoot=!0,M.tags.push(M.tag),S(M,"onopentag",M.tag),D||(!M.noscript&&M.tagName.toLowerCase()==="script"?M.state=R.SCRIPT:M.state=R.TEXT,M.tag=null,M.tagName=""),M.attribName=M.attribValue="",M.attribList.length=0}function B(M){if(!M.tagName){j(M,"Weird empty close tag."),M.textNode+="</>",M.state=R.TEXT;return}if(M.script){if(M.tagName!=="script"){M.script+="</"+M.tagName+">",M.tagName="",M.state=R.SCRIPT;return}S(M,"onscript",M.script),M.script=""}var D=M.tags.length,at=M.tagName;M.strict||(at=at[M.looseCase]());for(var Q=at;D--;){var Y=M.tags[D];if(Y.name!==Q)j(M,"Unexpected close tag");else break}if(D<0){j(M,"Unmatched closing tag: "+M.tagName),M.textNode+="</"+M.tagName+">",M.state=R.TEXT;return}M.tagName=at;for(var Z=M.tags.length;Z-- >D;){var _t=M.tag=M.tags.pop();M.tagName=M.tag.name,S(M,"onclosetag",M.tagName);var A={};for(var ot in _t.ns)A[ot]=_t.ns[ot];var O=M.tags[M.tags.length-1]||M;M.opt.xmlns&&_t.ns!==O.ns&&Object.keys(_t.ns).forEach(function(x){var v=_t.ns[x];S(M,"onclosenamespace",{prefix:x,uri:v})})}D===0&&(M.closedRoot=!0),M.tagName=M.attribValue=M.attribName="",M.attribList.length=0,M.state=R.TEXT}function F(M){var D=M.entity,at=D.toLowerCase(),Q,Y="";return M.ENTITIES[D]?M.ENTITIES[D]:M.ENTITIES[at]?M.ENTITIES[at]:(D=at,D.charAt(0)==="#"&&(D.charAt(1)==="x"?(D=D.slice(2),Q=parseInt(D,16),Y=Q.toString(16)):(D=D.slice(1),Q=parseInt(D,10),Y=Q.toString(10))),D=D.replace(/^0+/,""),isNaN(Q)||Y.toLowerCase()!==D?(j(M,"Invalid character entity"),"&"+M.entity+";"):String.fromCodePoint(Q))}function it(M,D){D==="<"?(M.state=R.OPEN_WAKA,M.startTagPosition=M.position):T(D)||(j(M,"Non-whitespace before first tag."),M.textNode=D,M.state=R.TEXT)}function lt(M,D){var at="";return D<M.length&&(at=M.charAt(D)),at}function ut(M){var D=this;if(this.error)throw this.error;if(D.closed)return $(D,"Cannot write after close. Assign an onready handler.");if(M===null)return X(D);typeof M=="object"&&(M=M.toString());for(var at=0,Q="";Q=lt(M,at++),D.c=Q,!!Q;)switch(D.trackPosition&&(D.position++,Q===`
`?(D.line++,D.column=0):D.column++),D.state){case R.BEGIN:if(D.state=R.BEGIN_WHITESPACE,Q==="\uFEFF")continue;it(D,Q);continue;case R.BEGIN_WHITESPACE:it(D,Q);continue;case R.TEXT:if(D.sawRoot&&!D.closedRoot){for(var Y=at-1;Q&&Q!=="<"&&Q!=="&";)Q=lt(M,at++),Q&&D.trackPosition&&(D.position++,Q===`
`?(D.line++,D.column=0):D.column++);D.textNode+=M.substring(Y,at-1)}Q==="<"&&!(D.sawRoot&&D.closedRoot&&!D.strict)?(D.state=R.OPEN_WAKA,D.startTagPosition=D.position):(!T(Q)&&(!D.sawRoot||D.closedRoot)&&j(D,"Text data outside of root node."),Q==="&"?D.state=R.TEXT_ENTITY:D.textNode+=Q);continue;case R.SCRIPT:Q==="<"?D.state=R.SCRIPT_ENDING:D.script+=Q;continue;case R.SCRIPT_ENDING:Q==="/"?D.state=R.CLOSE_TAG:(D.script+="<"+Q,D.state=R.SCRIPT);continue;case R.OPEN_WAKA:if(Q==="!")D.state=R.SGML_DECL,D.sgmlDecl="";else if(!T(Q))if(N(y,Q))D.state=R.OPEN_TAG,D.tagName=Q;else if(Q==="/")D.state=R.CLOSE_TAG,D.tagName="";else if(Q==="?")D.state=R.PROC_INST,D.procInstName=D.procInstBody="";else{if(j(D,"Unencoded <"),D.startTagPosition+1<D.position){var Z=D.position-D.startTagPosition;Q=new Array(Z).join(" ")+Q}D.textNode+="<"+Q,D.state=R.TEXT}continue;case R.SGML_DECL:(D.sgmlDecl+Q).toUpperCase()===h?(S(D,"onopencdata"),D.state=R.CDATA,D.sgmlDecl="",D.cdata=""):D.sgmlDecl+Q==="--"?(D.state=R.COMMENT,D.comment="",D.sgmlDecl=""):(D.sgmlDecl+Q).toUpperCase()===f?(D.state=R.DOCTYPE,(D.doctype||D.sawRoot)&&j(D,"Inappropriately located doctype declaration"),D.doctype="",D.sgmlDecl=""):Q===">"?(S(D,"onsgmldeclaration",D.sgmlDecl),D.sgmlDecl="",D.state=R.TEXT):(C(Q)&&(D.state=R.SGML_DECL_QUOTED),D.sgmlDecl+=Q);continue;case R.SGML_DECL_QUOTED:Q===D.q&&(D.state=R.SGML_DECL,D.q=""),D.sgmlDecl+=Q;continue;case R.DOCTYPE:Q===">"?(D.state=R.TEXT,S(D,"ondoctype",D.doctype),D.doctype=!0):(D.doctype+=Q,Q==="["?D.state=R.DOCTYPE_DTD:C(Q)&&(D.state=R.DOCTYPE_QUOTED,D.q=Q));continue;case R.DOCTYPE_QUOTED:D.doctype+=Q,Q===D.q&&(D.q="",D.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:D.doctype+=Q,Q==="]"?D.state=R.DOCTYPE:C(Q)&&(D.state=R.DOCTYPE_DTD_QUOTED,D.q=Q);continue;case R.DOCTYPE_DTD_QUOTED:D.doctype+=Q,Q===D.q&&(D.state=R.DOCTYPE_DTD,D.q="");continue;case R.COMMENT:Q==="-"?D.state=R.COMMENT_ENDING:D.comment+=Q;continue;case R.COMMENT_ENDING:Q==="-"?(D.state=R.COMMENT_ENDED,D.comment=w(D.opt,D.comment),D.comment&&S(D,"oncomment",D.comment),D.comment=""):(D.comment+="-"+Q,D.state=R.COMMENT);continue;case R.COMMENT_ENDED:Q!==">"?(j(D,"Malformed comment"),D.comment+="--"+Q,D.state=R.COMMENT):D.state=R.TEXT;continue;case R.CDATA:Q==="]"?D.state=R.CDATA_ENDING:D.cdata+=Q;continue;case R.CDATA_ENDING:Q==="]"?D.state=R.CDATA_ENDING_2:(D.cdata+="]"+Q,D.state=R.CDATA);continue;case R.CDATA_ENDING_2:Q===">"?(D.cdata&&S(D,"oncdata",D.cdata),S(D,"onclosecdata"),D.cdata="",D.state=R.TEXT):Q==="]"?D.cdata+="]":(D.cdata+="]]"+Q,D.state=R.CDATA);continue;case R.PROC_INST:Q==="?"?D.state=R.PROC_INST_ENDING:T(Q)?D.state=R.PROC_INST_BODY:D.procInstName+=Q;continue;case R.PROC_INST_BODY:if(!D.procInstBody&&T(Q))continue;Q==="?"?D.state=R.PROC_INST_ENDING:D.procInstBody+=Q;continue;case R.PROC_INST_ENDING:Q===">"?(S(D,"onprocessinginstruction",{name:D.procInstName,body:D.procInstBody}),D.procInstName=D.procInstBody="",D.state=R.TEXT):(D.procInstBody+="?"+Q,D.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:N(m,Q)?D.tagName+=Q:(nt(D),Q===">"?W(D):Q==="/"?D.state=R.OPEN_TAG_SLASH:(T(Q)||j(D,"Invalid character in tag name"),D.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:Q===">"?(W(D,!0),B(D)):(j(D,"Forward-slash in opening tag not followed by >"),D.state=R.ATTRIB);continue;case R.ATTRIB:if(T(Q))continue;Q===">"?W(D):Q==="/"?D.state=R.OPEN_TAG_SLASH:N(y,Q)?(D.attribName=Q,D.attribValue="",D.state=R.ATTRIB_NAME):j(D,"Invalid attribute name");continue;case R.ATTRIB_NAME:Q==="="?D.state=R.ATTRIB_VALUE:Q===">"?(j(D,"Attribute without value"),D.attribValue=D.attribName,G(D),W(D)):T(Q)?D.state=R.ATTRIB_NAME_SAW_WHITE:N(m,Q)?D.attribName+=Q:j(D,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if(Q==="=")D.state=R.ATTRIB_VALUE;else{if(T(Q))continue;j(D,"Attribute without value"),D.tag.attributes[D.attribName]="",D.attribValue="",S(D,"onattribute",{name:D.attribName,value:""}),D.attribName="",Q===">"?W(D):N(y,Q)?(D.attribName=Q,D.state=R.ATTRIB_NAME):(j(D,"Invalid attribute name"),D.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(T(Q))continue;C(Q)?(D.q=Q,D.state=R.ATTRIB_VALUE_QUOTED):(j(D,"Unquoted attribute value"),D.state=R.ATTRIB_VALUE_UNQUOTED,D.attribValue=Q);continue;case R.ATTRIB_VALUE_QUOTED:if(Q!==D.q){Q==="&"?D.state=R.ATTRIB_VALUE_ENTITY_Q:D.attribValue+=Q;continue}G(D),D.q="",D.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:T(Q)?D.state=R.ATTRIB:Q===">"?W(D):Q==="/"?D.state=R.OPEN_TAG_SLASH:N(y,Q)?(j(D,"No whitespace between attributes"),D.attribName=Q,D.attribValue="",D.state=R.ATTRIB_NAME):j(D,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!L(Q)){Q==="&"?D.state=R.ATTRIB_VALUE_ENTITY_U:D.attribValue+=Q;continue}G(D),Q===">"?W(D):D.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(D.tagName)Q===">"?B(D):N(m,Q)?D.tagName+=Q:D.script?(D.script+="</"+D.tagName,D.tagName="",D.state=R.SCRIPT):(T(Q)||j(D,"Invalid tagname in closing tag"),D.state=R.CLOSE_TAG_SAW_WHITE);else{if(T(Q))continue;z(y,Q)?D.script?(D.script+="</"+Q,D.state=R.SCRIPT):j(D,"Invalid tagname in closing tag."):D.tagName=Q}continue;case R.CLOSE_TAG_SAW_WHITE:if(T(Q))continue;Q===">"?B(D):j(D,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var _t,A;switch(D.state){case R.TEXT_ENTITY:_t=R.TEXT,A="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:_t=R.ATTRIB_VALUE_QUOTED,A="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:_t=R.ATTRIB_VALUE_UNQUOTED,A="attribValue";break}Q===";"?(D[A]+=F(D),D.entity="",D.state=_t):N(D.entity.length?_:b,Q)?D.entity+=Q:(j(D,"Invalid character in entity name"),D[A]+="&"+D.entity+Q,D.entity="",D.state=_t);continue;default:throw new Error(D,"Unknown state: "+D.state)}return D.position>=D.bufferCheckPosition&&i(D),D}String.fromCodePoint||function(){var M=String.fromCharCode,D=Math.floor,at=function(){var Q=16384,Y=[],Z,_t,A=-1,ot=arguments.length;if(!ot)return"";for(var O="";++A<ot;){var x=Number(arguments[A]);if(!isFinite(x)||x<0||x>1114111||D(x)!==x)throw RangeError("Invalid code point: "+x);x<=65535?Y.push(x):(x-=65536,Z=(x>>10)+55296,_t=x%1024+56320,Y.push(Z,_t)),(A+1===ot||Y.length>Q)&&(O+=M.apply(null,Y),Y.length=0)}return O};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:at,configurable:!0,writable:!0}):String.fromCodePoint=at}()})(e)}(_p)),_p}var Dm,lw;function t1(){return lw||(lw=1,Dm={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),Dm}var Bm,uw;function e1(){if(uw)return Bm;uw=1;var e=t1().isArray;return Bm={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},Bm}var Mm,cw;function KC(){if(cw)return Mm;cw=1;var e=FF(),t=e1(),r=t1().isArray,n,i;function s(m){return n=t.copyOptions(m),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function a(m){var b=Number(m);if(!isNaN(b))return b;var _=m.toLowerCase();return _==="true"?!0:_==="false"?!1:m}function o(m,b){var _;if(n.compact){if(!i[n[m+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[m+"Key"])!==-1:n.alwaysArray)&&(i[n[m+"Key"]]=[]),i[n[m+"Key"]]&&!r(i[n[m+"Key"]])&&(i[n[m+"Key"]]=[i[n[m+"Key"]]]),m+"Fn"in n&&typeof b=="string"&&(b=n[m+"Fn"](b,i)),m==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(_ in b)if(b.hasOwnProperty(_))if("instructionFn"in n)b[_]=n.instructionFn(b[_],_,i);else{var T=b[_];delete b[_],b[n.instructionNameFn(_,T,i)]=T}}r(i[n[m+"Key"]])?i[n[m+"Key"]].push(b):i[n[m+"Key"]]=b}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var C={};if(C[n.typeKey]=m,m==="instruction"){for(_ in b)if(b.hasOwnProperty(_))break;C[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(_,b,i):_,n.instructionHasAttributes?(C[n.attributesKey]=b[_][n.attributesKey],"instructionFn"in n&&(C[n.attributesKey]=n.instructionFn(C[n.attributesKey],_,i))):("instructionFn"in n&&(b[_]=n.instructionFn(b[_],_,i)),C[n.instructionKey]=b[_])}else m+"Fn"in n&&(b=n[m+"Fn"](b,i)),C[n[m+"Key"]]=b;n.addParent&&(C[n.parentKey]=i),i[n.elementsKey].push(C)}}function l(m){if("attributesFn"in n&&m&&(m=n.attributesFn(m,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&m){var b;for(b in m)if(m.hasOwnProperty(b)&&(n.trim&&(m[b]=m[b].trim()),n.nativeTypeAttributes&&(m[b]=a(m[b])),"attributeValueFn"in n&&(m[b]=n.attributeValueFn(m[b],b,i)),"attributeNameFn"in n)){var _=m[b];delete m[b],m[n.attributeNameFn(b,m[b],i)]=_}}return m}function u(m){var b={};if(m.body&&(m.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var _=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,T;(T=_.exec(m.body))!==null;)b[T[1]]=T[2]||T[3]||T[4];b=l(b)}if(m.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(b).length&&(i[n.declarationKey][n.attributesKey]=b),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(m.body=m.body.trim());var C={};n.instructionHasAttributes&&Object.keys(b).length?(C[m.name]={},C[m.name][n.attributesKey]=b):C[m.name]=m.body,o("instruction",C)}}function c(m,b){var _;if(typeof m=="object"&&(b=m.attributes,m=m.name),b=l(b),"elementNameFn"in n&&(m=n.elementNameFn(m,i)),n.compact){if(_={},!n.ignoreAttributes&&b&&Object.keys(b).length){_[n.attributesKey]={};var T;for(T in b)b.hasOwnProperty(T)&&(_[n.attributesKey][T]=b[T])}!(m in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(m)!==-1:n.alwaysArray)&&(i[m]=[]),i[m]&&!r(i[m])&&(i[m]=[i[m]]),r(i[m])?i[m].push(_):i[m]=_}else i[n.elementsKey]||(i[n.elementsKey]=[]),_={},_[n.typeKey]="element",_[n.nameKey]=m,!n.ignoreAttributes&&b&&Object.keys(b).length&&(_[n.attributesKey]=b),n.alwaysChildren&&(_[n.elementsKey]=[]),i[n.elementsKey].push(_);_[n.parentKey]=i,i=_}function h(m){n.ignoreText||!m.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(m=m.trim()),n.nativeType&&(m=a(m)),n.sanitize&&(m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",m))}function f(m){n.ignoreComment||(n.trim&&(m=m.trim()),o("comment",m))}function d(m){var b=i[n.parentKey];n.addParent||delete i[n.parentKey],i=b}function p(m){n.ignoreCdata||(n.trim&&(m=m.trim()),o("cdata",m))}function g(m){n.ignoreDoctype||(m=m.replace(/^ /,""),n.trim&&(m=m.trim()),o("doctype",m))}function y(m){m.note=m}return Mm=function(m,b){var _=e.parser(!0,{}),T={};if(i=T,n=s(b),_.opt={strictEntities:!0},_.onopentag=c,_.ontext=h,_.oncomment=f,_.onclosetag=d,_.onerror=y,_.oncdata=p,_.ondoctype=g,_.onprocessinginstruction=u,_.write(m).close(),T[n.elementsKey]){var C=T[n.elementsKey];delete T[n.elementsKey],T[n.elementsKey]=C,delete T.text}return T},Mm}var Fm,hw;function UF(){if(hw)return Fm;hw=1;var e=e1(),t=KC();function r(n){var i=e.copyOptions(n);return e.ensureSpacesExists(i),i}return Fm=function(n,i){var s,a,o,l;return s=r(i),a=t(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?o=JSON.stringify(a,function(u,c){return u===l?"_":c},s.spaces):o=JSON.stringify(a,null,s.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Fm}var Um,dw;function ZC(){if(dw)return Um;dw=1;var e=e1(),t=t1().isArray,r,n;function i(_){var T=e.copyOptions(_);return e.ensureFlagExists("ignoreDeclaration",T),e.ensureFlagExists("ignoreInstruction",T),e.ensureFlagExists("ignoreAttributes",T),e.ensureFlagExists("ignoreText",T),e.ensureFlagExists("ignoreComment",T),e.ensureFlagExists("ignoreCdata",T),e.ensureFlagExists("ignoreDoctype",T),e.ensureFlagExists("compact",T),e.ensureFlagExists("indentText",T),e.ensureFlagExists("indentCdata",T),e.ensureFlagExists("indentAttributes",T),e.ensureFlagExists("indentInstruction",T),e.ensureFlagExists("fullTagEmptyElement",T),e.ensureFlagExists("noQuotesForNativeAttributes",T),e.ensureSpacesExists(T),typeof T.spaces=="number"&&(T.spaces=Array(T.spaces+1).join(" ")),e.ensureKeyExists("declaration",T),e.ensureKeyExists("instruction",T),e.ensureKeyExists("attributes",T),e.ensureKeyExists("text",T),e.ensureKeyExists("comment",T),e.ensureKeyExists("cdata",T),e.ensureKeyExists("doctype",T),e.ensureKeyExists("type",T),e.ensureKeyExists("name",T),e.ensureKeyExists("elements",T),e.checkFnExists("doctype",T),e.checkFnExists("instruction",T),e.checkFnExists("cdata",T),e.checkFnExists("comment",T),e.checkFnExists("text",T),e.checkFnExists("instructionName",T),e.checkFnExists("elementName",T),e.checkFnExists("attributeName",T),e.checkFnExists("attributeValue",T),e.checkFnExists("attributes",T),e.checkFnExists("fullTagEmptyElement",T),T}function s(_,T,C){return(!C&&_.spaces?`
`:"")+Array(T+1).join(_.spaces)}function a(_,T,C){if(T.ignoreAttributes)return"";"attributesFn"in T&&(_=T.attributesFn(_,n,r));var L,N,z,R,H=[];for(L in _)_.hasOwnProperty(L)&&_[L]!==null&&_[L]!==void 0&&(R=T.noQuotesForNativeAttributes&&typeof _[L]!="string"?"":'"',N=""+_[L],N=N.replace(/"/g,"&quot;"),z="attributeNameFn"in T?T.attributeNameFn(L,N,n,r):L,H.push(T.spaces&&T.indentAttributes?s(T,C+1,!1):" "),H.push(z+"="+R+("attributeValueFn"in T?T.attributeValueFn(N,L,n,r):N)+R));return _&&Object.keys(_).length&&T.spaces&&T.indentAttributes&&H.push(s(T,C,!1)),H.join("")}function o(_,T,C){return r=_,n="xml",T.ignoreDeclaration?"":"<?xml"+a(_[T.attributesKey],T,C)+"?>"}function l(_,T,C){if(T.ignoreInstruction)return"";var L;for(L in _)if(_.hasOwnProperty(L))break;var N="instructionNameFn"in T?T.instructionNameFn(L,_[L],n,r):L;if(typeof _[L]=="object")return r=_,n=N,"<?"+N+a(_[L][T.attributesKey],T,C)+"?>";var z=_[L]?_[L]:"";return"instructionFn"in T&&(z=T.instructionFn(z,L,n,r)),"<?"+N+(z?" "+z:"")+"?>"}function u(_,T){return T.ignoreComment?"":"<!--"+("commentFn"in T?T.commentFn(_,n,r):_)+"-->"}function c(_,T){return T.ignoreCdata?"":"<![CDATA["+("cdataFn"in T?T.cdataFn(_,n,r):_.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(_,T){return T.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in T?T.doctypeFn(_,n,r):_)+">"}function f(_,T){return T.ignoreText?"":(_=""+_,_=_.replace(/&amp;/g,"&"),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in T?T.textFn(_,n,r):_)}function d(_,T){var C;if(_.elements&&_.elements.length)for(C=0;C<_.elements.length;++C)switch(_.elements[C][T.typeKey]){case"text":if(T.indentText)return!0;break;case"cdata":if(T.indentCdata)return!0;break;case"instruction":if(T.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function p(_,T,C){r=_,n=_.name;var L=[],N="elementNameFn"in T?T.elementNameFn(_.name,_):_.name;L.push("<"+N),_[T.attributesKey]&&L.push(a(_[T.attributesKey],T,C));var z=_[T.elementsKey]&&_[T.elementsKey].length||_[T.attributesKey]&&_[T.attributesKey]["xml:space"]==="preserve";return z||("fullTagEmptyElementFn"in T?z=T.fullTagEmptyElementFn(_.name,_):z=T.fullTagEmptyElement),z?(L.push(">"),_[T.elementsKey]&&_[T.elementsKey].length&&(L.push(g(_[T.elementsKey],T,C+1)),r=_,n=_.name),L.push(T.spaces&&d(_,T)?`
`+Array(C+1).join(T.spaces):""),L.push("</"+N+">")):L.push("/>"),L.join("")}function g(_,T,C,L){return _.reduce(function(N,z){var R=s(T,C,L&&!N);switch(z.type){case"element":return N+R+p(z,T,C);case"comment":return N+R+u(z[T.commentKey],T);case"doctype":return N+R+h(z[T.doctypeKey],T);case"cdata":return N+(T.indentCdata?R:"")+c(z[T.cdataKey],T);case"text":return N+(T.indentText?R:"")+f(z[T.textKey],T);case"instruction":var H={};return H[z[T.nameKey]]=z[T.attributesKey]?z:z[T.instructionKey],N+(T.indentInstruction?R:"")+l(H,T,C)}},"")}function y(_,T,C){var L;for(L in _)if(_.hasOwnProperty(L))switch(L){case T.parentKey:case T.attributesKey:break;case T.textKey:if(T.indentText||C)return!0;break;case T.cdataKey:if(T.indentCdata||C)return!0;break;case T.instructionKey:if(T.indentInstruction||C)return!0;break;case T.doctypeKey:case T.commentKey:return!0;default:return!0}return!1}function m(_,T,C,L,N){r=_,n=T;var z="elementNameFn"in C?C.elementNameFn(T,_):T;if(typeof _>"u"||_===null||_==="")return"fullTagEmptyElementFn"in C&&C.fullTagEmptyElementFn(T,_)||C.fullTagEmptyElement?"<"+z+"></"+z+">":"<"+z+"/>";var R=[];if(T){if(R.push("<"+z),typeof _!="object")return R.push(">"+f(_,C)+"</"+z+">"),R.join("");_[C.attributesKey]&&R.push(a(_[C.attributesKey],C,L));var H=y(_,C,!0)||_[C.attributesKey]&&_[C.attributesKey]["xml:space"]==="preserve";if(H||("fullTagEmptyElementFn"in C?H=C.fullTagEmptyElementFn(T,_):H=C.fullTagEmptyElement),H)R.push(">");else return R.push("/>"),R.join("")}return R.push(b(_,C,L+1,!1)),r=_,n=T,T&&R.push((N?s(C,L,!1):"")+"</"+z+">"),R.join("")}function b(_,T,C,L){var N,z,R,H=[];for(z in _)if(_.hasOwnProperty(z))for(R=t(_[z])?_[z]:[_[z]],N=0;N<R.length;++N){switch(z){case T.declarationKey:H.push(o(R[N],T,C));break;case T.instructionKey:H.push((T.indentInstruction?s(T,C,L):"")+l(R[N],T,C));break;case T.attributesKey:case T.parentKey:break;case T.textKey:H.push((T.indentText?s(T,C,L):"")+f(R[N],T));break;case T.cdataKey:H.push((T.indentCdata?s(T,C,L):"")+c(R[N],T));break;case T.doctypeKey:H.push(s(T,C,L)+h(R[N],T));break;case T.commentKey:H.push(s(T,C,L)+u(R[N],T));break;default:H.push(s(T,C,L)+m(R[N],z,T,C,y(R[N],T)))}L=L&&!H.length}return H.join("")}return Um=function(_,T){T=i(T);var C=[];return r=_,n="_root_",T.compact?C.push(b(_,T,0,!0)):(_[T.declarationKey]&&C.push(o(_[T.declarationKey],T,0)),_[T.elementsKey]&&_[T.elementsKey].length&&C.push(g(_[T.elementsKey],T,0,!C.length))),C.join("")},Um}var Hm,fw;function HF(){if(fw)return Hm;fw=1;var e=ZC();return Hm=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)},Hm}var $m,pw;function $F(){if(pw)return $m;pw=1;var e=KC(),t=UF(),r=ZC(),n=HF();return $m={xml2js:e,xml2json:t,js2xml:r,json2xml:n},$m}var QC=$F();const r1=e=>{switch(e.type){case void 0:case"element":const t=new jF(e.name,e.attributes),r=e.elements||[];for(const n of r){const i=r1(n);i!==void 0&&t.push(i)}return t;case"text":return e.text;default:return}};class zF extends $t{}class jF extends vt{static fromXmlString(t){const r=QC.xml2js(t,{compact:!1});return r1(r)}constructor(t,r){super(t),r&&this.root.push(new zF(r))}push(t){this.root.push(t)}}class WF extends vt{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class JC extends vt{constructor(t,r){super(t),r&&(this.root=r.root)}}const Hr=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},rf=e=>{const t=Hr(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},tk=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},mw=e=>tk(e,1),n1=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},ek=e=>{const t=n1(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},bo=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return tk(t,3)},Mi=e=>typeof e=="string"?n1(e):Hr(e),qF=e=>typeof e=="string"?ek(e):rf(e),Ir=e=>typeof e=="string"?ek(e):rf(e),GF=e=>{const t=e.substring(0,e.length-1);return`${Number(t)}%`},rk=e=>typeof e=="number"?Hr(e):e.slice(-1)==="%"?GF(e):n1(e),VF=rf,YF=rf,XF=e=>e.toISOString();class Rt extends vt{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Ge({val:r}))}}class zm extends vt{constructor(t,r){super(t),this.root.push(new Ge({val:qF(r)}))}}class ea extends vt{constructor(t,r){super(t),this.root.push(new Ge({val:r}))}}const Qo=(e,t)=>new Ne({name:e,attributes:{value:{key:"w:val",value:t}}});class ql extends vt{constructor(t,r){super(t),this.root.push(new Ge({val:r}))}}class KF extends vt{constructor(t,r){super(t),this.root.push(new Ge({val:r}))}}class Ds extends vt{constructor(t,r){super(t),this.root.push(r)}}class Ne extends vt{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new Zi(r)),n&&this.root.push(...n)}}const Ln={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class ZF extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}class nk extends vt{constructor(t){super("w:jc"),this.root.push(new ZF({val:t}))}}class Pe extends vt{constructor(t,{color:r,size:n,space:i,style:s}){super(t),this.root.push(new QF({style:s,color:r===void 0?void 0:bo(r),size:n===void 0?void 0:VF(n),space:i===void 0?void 0:YF(i)}))}}class QF extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const i1={SINGLE:"single",NONE:"none"};class JF extends Ki{constructor(t){super("w:pBdr"),t.top&&this.root.push(new Pe("w:top",t.top)),t.bottom&&this.root.push(new Pe("w:bottom",t.bottom)),t.left&&this.root.push(new Pe("w:left",t.left)),t.right&&this.root.push(new Pe("w:right",t.right))}}class t8 extends vt{constructor(){super("w:pBdr");const t=new Pe("w:bottom",{color:"auto",space:1,style:i1.SINGLE,size:6});this.root.push(t)}}class e8 extends vt{constructor({start:t,end:r,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new Zi({start:{key:"w:start",value:t===void 0?void 0:Mi(t)},end:{key:"w:end",value:r===void 0?void 0:Mi(r)},left:{key:"w:left",value:n===void 0?void 0:Mi(n)},right:{key:"w:right",value:i===void 0?void 0:Mi(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:Ir(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:Ir(a)}}))}}let r8=class extends vt{constructor(){super("w:br")}};const s1={BEGIN:"begin",END:"end",SEPARATE:"separate"};class a1 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class _c extends vt{constructor(t){super("w:fldChar"),this.root.push(new a1({type:s1.BEGIN,dirty:t}))}}class Ec extends vt{constructor(t){super("w:fldChar"),this.root.push(new a1({type:s1.SEPARATE,dirty:t}))}}class wc extends vt{constructor(t){super("w:fldChar"),this.root.push(new a1({type:s1.END,dirty:t}))}}const yo={DEFAULT:"default",PRESERVE:"preserve"};class _o extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{space:"xml:space"})}}class n8 extends vt{constructor(){super("w:instrText"),this.root.push(new _o({space:yo.PRESERVE})),this.root.push("PAGE")}}class i8 extends vt{constructor(){super("w:instrText"),this.root.push(new _o({space:yo.PRESERVE})),this.root.push("NUMPAGES")}}class s8 extends vt{constructor(){super("w:instrText"),this.root.push(new _o({space:yo.PRESERVE})),this.root.push("SECTIONPAGES")}}class a8 extends vt{constructor(){super("w:instrText"),this.root.push(new _o({space:yo.PRESERVE})),this.root.push("SECTION")}}class o8 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class nf extends vt{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new o8({fill:t===void 0?void 0:bo(t),color:r===void 0?void 0:bo(r),type:n}))}}class l8 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const u8={DOT:"dot"};class c8 extends vt{constructor(t){super("w:em"),this.root.push(new Ge({val:t}))}}class h8 extends c8{constructor(t=u8.DOT){super(t)}}class d8 extends vt{constructor(t){super("w:spacing"),this.root.push(new Ge({val:Mi(t)}))}}let f8=class extends vt{constructor(t){super("w:color"),this.root.push(new Ge({val:bo(t)}))}},p8=class extends vt{constructor(t){super("w:highlight"),this.root.push(new Ge({val:t}))}};class m8 extends vt{constructor(t){super("w:highlightCs"),this.root.push(new Ge({val:t}))}}const g8=e=>new Ne({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class gw extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class jm extends vt{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new gw({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new gw(n))}}}let ik=class extends vt{constructor(t){super("w:vertAlign"),this.root.push(new Ge({val:t}))}};class b8 extends ik{constructor(){super("superscript")}}class y8 extends ik{constructor(){super("subscript")}}const sk={SINGLE:"single"};class _8 extends vt{constructor(t=sk.SINGLE,r){super("w:u"),this.root.push(new Ge({val:t,color:r===void 0?void 0:bo(r)}))}}class _a extends Ki{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new ea("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new jm(t.font)):"name"in t.font?this.push(new jm(t.font.name,t.font.hint)):this.push(new jm(t.font))),t.bold!==void 0&&this.push(new Rt("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new Rt("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new Rt("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new Rt("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new Rt("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new Rt("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new Rt("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new Rt("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new Rt("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new Rt("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new Rt("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new Rt("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new Rt("w:vanish",t.vanish)),t.color&&this.push(new f8(t.color)),t.characterSpacing&&this.push(new d8(t.characterSpacing)),t.scale!==void 0&&this.push(new ql("w:w",t.scale)),t.kern&&this.push(new zm("w:kern",t.kern)),t.position&&this.push(new ea("w:position",t.position)),t.size!==void 0&&this.push(new zm("w:sz",t.size));const i=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;i&&this.push(new zm("w:szCs",i)),t.highlight&&this.push(new p8(t.highlight));const s=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;s&&this.push(new m8(s)),t.underline&&this.push(new _8(t.underline.type,t.underline.color)),t.effect&&this.push(new ea("w:effect",t.effect)),t.border&&this.push(new Pe("w:bdr",t.border)),t.shading&&this.push(new nf(t.shading)),t.subScript&&this.push(new y8),t.superScript&&this.push(new b8),t.rightToLeft!==void 0&&this.push(new Rt("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new h8(t.emphasisMark.type)),t.language&&this.push(g8(t.language)),t.specVanish&&this.push(new Rt("w:specVanish",t.vanish)),t.math&&this.push(new Rt("w:oMath",t.math)),t.revision&&this.push(new E8(t.revision))}push(t){this.root.push(t)}}class E8 extends vt{constructor(t){super("w:rPrChange"),this.root.push(new l8({id:t.id,author:t.author,date:t.date})),this.addChildElement(new _a(t))}}class bw extends vt{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new _o({space:yo.PRESERVE})),this.root.push(t)):(this.root.push(new _o({space:(r=t.space)!=null?r:yo.DEFAULT})),this.root.push(t.text))}}const xc={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Ea extends vt{constructor(t){if(super("w:r"),At(this,"properties"),this.properties=new _a(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new r8);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case xc.CURRENT:this.root.push(new _c),this.root.push(new n8),this.root.push(new Ec),this.root.push(new wc);break;case xc.TOTAL_PAGES:this.root.push(new _c),this.root.push(new i8),this.root.push(new Ec),this.root.push(new wc);break;case xc.TOTAL_PAGES_IN_SECTION:this.root.push(new _c),this.root.push(new s8),this.root.push(new Ec),this.root.push(new wc);break;case xc.CURRENT_SECTION:this.root.push(new _c),this.root.push(new a8),this.root.push(new Ec),this.root.push(new wc);break;default:this.root.push(new bw(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new bw(t.text))}}class au extends Ea{constructor(t){super(typeof t=="string"?{text:t}:t)}}var Wm={},Oe={},qm,yw;function Uu(){if(yw)return qm;yw=1,qm=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},qm}var _w;function vi(){if(_w)return Oe;_w=1;var e=Uu(),t=vs();Oe.inherits=t;function r(S,U){return(S.charCodeAt(U)&64512)!==55296||U<0||U+1>=S.length?!1:(S.charCodeAt(U+1)&64512)===56320}function n(S,U){if(Array.isArray(S))return S.slice();if(!S)return[];var w=[];if(typeof S=="string")if(U){if(U==="hex")for(S=S.replace(/[^a-z0-9]+/ig,""),S.length%2!==0&&(S="0"+S),X=0;X<S.length;X+=2)w.push(parseInt(S[X]+S[X+1],16))}else for(var $=0,X=0;X<S.length;X++){var j=S.charCodeAt(X);j<128?w[$++]=j:j<2048?(w[$++]=j>>6|192,w[$++]=j&63|128):r(S,X)?(j=65536+((j&1023)<<10)+(S.charCodeAt(++X)&1023),w[$++]=j>>18|240,w[$++]=j>>12&63|128,w[$++]=j>>6&63|128,w[$++]=j&63|128):(w[$++]=j>>12|224,w[$++]=j>>6&63|128,w[$++]=j&63|128)}else for(X=0;X<S.length;X++)w[X]=S[X]|0;return w}Oe.toArray=n;function i(S){for(var U="",w=0;w<S.length;w++)U+=o(S[w].toString(16));return U}Oe.toHex=i;function s(S){var U=S>>>24|S>>>8&65280|S<<8&16711680|(S&255)<<24;return U>>>0}Oe.htonl=s;function a(S,U){for(var w="",$=0;$<S.length;$++){var X=S[$];U==="little"&&(X=s(X)),w+=l(X.toString(16))}return w}Oe.toHex32=a;function o(S){return S.length===1?"0"+S:S}Oe.zero2=o;function l(S){return S.length===7?"0"+S:S.length===6?"00"+S:S.length===5?"000"+S:S.length===4?"0000"+S:S.length===3?"00000"+S:S.length===2?"000000"+S:S.length===1?"0000000"+S:S}Oe.zero8=l;function u(S,U,w,$){var X=w-U;e(X%4===0);for(var j=new Array(X/4),nt=0,J=U;nt<j.length;nt++,J+=4){var G;$==="big"?G=S[J]<<24|S[J+1]<<16|S[J+2]<<8|S[J+3]:G=S[J+3]<<24|S[J+2]<<16|S[J+1]<<8|S[J],j[nt]=G>>>0}return j}Oe.join32=u;function c(S,U){for(var w=new Array(S.length*4),$=0,X=0;$<S.length;$++,X+=4){var j=S[$];U==="big"?(w[X]=j>>>24,w[X+1]=j>>>16&255,w[X+2]=j>>>8&255,w[X+3]=j&255):(w[X+3]=j>>>24,w[X+2]=j>>>16&255,w[X+1]=j>>>8&255,w[X]=j&255)}return w}Oe.split32=c;function h(S,U){return S>>>U|S<<32-U}Oe.rotr32=h;function f(S,U){return S<<U|S>>>32-U}Oe.rotl32=f;function d(S,U){return S+U>>>0}Oe.sum32=d;function p(S,U,w){return S+U+w>>>0}Oe.sum32_3=p;function g(S,U,w,$){return S+U+w+$>>>0}Oe.sum32_4=g;function y(S,U,w,$,X){return S+U+w+$+X>>>0}Oe.sum32_5=y;function m(S,U,w,$){var X=S[U],j=S[U+1],nt=$+j>>>0,J=(nt<$?1:0)+w+X;S[U]=J>>>0,S[U+1]=nt}Oe.sum64=m;function b(S,U,w,$){var X=U+$>>>0,j=(X<U?1:0)+S+w;return j>>>0}Oe.sum64_hi=b;function _(S,U,w,$){var X=U+$;return X>>>0}Oe.sum64_lo=_;function T(S,U,w,$,X,j,nt,J){var G=0,W=U;W=W+$>>>0,G+=W<U?1:0,W=W+j>>>0,G+=W<j?1:0,W=W+J>>>0,G+=W<J?1:0;var B=S+w+X+nt+G;return B>>>0}Oe.sum64_4_hi=T;function C(S,U,w,$,X,j,nt,J){var G=U+$+j+J;return G>>>0}Oe.sum64_4_lo=C;function L(S,U,w,$,X,j,nt,J,G,W){var B=0,F=U;F=F+$>>>0,B+=F<U?1:0,F=F+j>>>0,B+=F<j?1:0,F=F+J>>>0,B+=F<J?1:0,F=F+W>>>0,B+=F<W?1:0;var it=S+w+X+nt+G+B;return it>>>0}Oe.sum64_5_hi=L;function N(S,U,w,$,X,j,nt,J,G,W){var B=U+$+j+J+W;return B>>>0}Oe.sum64_5_lo=N;function z(S,U,w){var $=U<<32-w|S>>>w;return $>>>0}Oe.rotr64_hi=z;function R(S,U,w){var $=S<<32-w|U>>>w;return $>>>0}Oe.rotr64_lo=R;function H(S,U,w){return S>>>w}Oe.shr64_hi=H;function K(S,U,w){var $=S<<32-w|U>>>w;return $>>>0}return Oe.shr64_lo=K,Oe}var Gm={},Ew;function Hu(){if(Ew)return Gm;Ew=1;var e=vi(),t=Uu();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Gm.BlockHash=r,r.prototype.update=function(i,s){if(i=e.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=e.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),t(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var l=1;l<a;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,u=8;u<this.padLength;u++)o[l++]=0;return o},Gm}var Bs={},ii={},ww;function ak(){if(ww)return ii;ww=1;var e=vi(),t=e.rotr32;function r(c,h,f,d){if(c===0)return n(h,f,d);if(c===1||c===3)return s(h,f,d);if(c===2)return i(h,f,d)}ii.ft_1=r;function n(c,h,f){return c&h^~c&f}ii.ch32=n;function i(c,h,f){return c&h^c&f^h&f}ii.maj32=i;function s(c,h,f){return c^h^f}ii.p32=s;function a(c){return t(c,2)^t(c,13)^t(c,22)}ii.s0_256=a;function o(c){return t(c,6)^t(c,11)^t(c,25)}ii.s1_256=o;function l(c){return t(c,7)^t(c,18)^c>>>3}ii.g0_256=l;function u(c){return t(c,17)^t(c,19)^c>>>10}return ii.g1_256=u,ii}var Vm,xw;function w8(){if(xw)return Vm;xw=1;var e=vi(),t=Hu(),r=ak(),n=e.rotl32,i=e.sum32,s=e.sum32_5,a=r.ft_1,o=t.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(u,o),Vm=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(h,f){for(var d=this.W,p=0;p<16;p++)d[p]=h[f+p];for(;p<d.length;p++)d[p]=n(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);var g=this.h[0],y=this.h[1],m=this.h[2],b=this.h[3],_=this.h[4];for(p=0;p<d.length;p++){var T=~~(p/20),C=s(n(g,5),a(T,y,m,b),_,d[p],l[T]);_=b,b=m,m=n(y,30),y=g,g=C}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],y),this.h[2]=i(this.h[2],m),this.h[3]=i(this.h[3],b),this.h[4]=i(this.h[4],_)},u.prototype._digest=function(h){return h==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Vm}var Ym,Tw;function ok(){if(Tw)return Ym;Tw=1;var e=vi(),t=Hu(),r=ak(),n=Uu(),i=e.sum32,s=e.sum32_4,a=e.sum32_5,o=r.ch32,l=r.maj32,u=r.s0_256,c=r.s1_256,h=r.g0_256,f=r.g1_256,d=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return e.inherits(g,d),Ym=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(m,b){for(var _=this.W,T=0;T<16;T++)_[T]=m[b+T];for(;T<_.length;T++)_[T]=s(f(_[T-2]),_[T-7],h(_[T-15]),_[T-16]);var C=this.h[0],L=this.h[1],N=this.h[2],z=this.h[3],R=this.h[4],H=this.h[5],K=this.h[6],S=this.h[7];for(n(this.k.length===_.length),T=0;T<_.length;T++){var U=a(S,c(R),o(R,H,K),this.k[T],_[T]),w=i(u(C),l(C,L,N));S=K,K=H,H=R,R=i(z,U),z=N,N=L,L=C,C=i(U,w)}this.h[0]=i(this.h[0],C),this.h[1]=i(this.h[1],L),this.h[2]=i(this.h[2],N),this.h[3]=i(this.h[3],z),this.h[4]=i(this.h[4],R),this.h[5]=i(this.h[5],H),this.h[6]=i(this.h[6],K),this.h[7]=i(this.h[7],S)},g.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Ym}var Xm,vw;function x8(){if(vw)return Xm;vw=1;var e=vi(),t=ok();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),Xm=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},Xm}var Km,Aw;function lk(){if(Aw)return Km;Aw=1;var e=vi(),t=Hu(),r=Uu(),n=e.rotr64_hi,i=e.rotr64_lo,s=e.shr64_hi,a=e.shr64_lo,o=e.sum64,l=e.sum64_hi,u=e.sum64_lo,c=e.sum64_4_hi,h=e.sum64_4_lo,f=e.sum64_5_hi,d=e.sum64_5_lo,p=t.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}e.inherits(y,p),Km=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(w,$){for(var X=this.W,j=0;j<32;j++)X[j]=w[$+j];for(;j<X.length;j+=2){var nt=K(X[j-4],X[j-3]),J=S(X[j-4],X[j-3]),G=X[j-14],W=X[j-13],B=R(X[j-30],X[j-29]),F=H(X[j-30],X[j-29]),it=X[j-32],lt=X[j-31];X[j]=c(nt,J,G,W,B,F,it,lt),X[j+1]=h(nt,J,G,W,B,F,it,lt)}},y.prototype._update=function(w,$){this._prepareBlock(w,$);var X=this.W,j=this.h[0],nt=this.h[1],J=this.h[2],G=this.h[3],W=this.h[4],B=this.h[5],F=this.h[6],it=this.h[7],lt=this.h[8],ut=this.h[9],M=this.h[10],D=this.h[11],at=this.h[12],Q=this.h[13],Y=this.h[14],Z=this.h[15];r(this.k.length===X.length);for(var _t=0;_t<X.length;_t+=2){var A=Y,ot=Z,O=N(lt,ut),x=z(lt,ut),v=m(lt,ut,M,D,at),I=b(lt,ut,M,D,at,Q),V=this.k[_t],tt=this.k[_t+1],q=X[_t],pt=X[_t+1],Et=f(A,ot,O,x,v,I,V,tt,q,pt),gt=d(A,ot,O,x,v,I,V,tt,q,pt);A=C(j,nt),ot=L(j,nt),O=_(j,nt,J,G,W),x=T(j,nt,J,G,W,B);var ht=l(A,ot,O,x),wt=u(A,ot,O,x);Y=at,Z=Q,at=M,Q=D,M=lt,D=ut,lt=l(F,it,Et,gt),ut=u(it,it,Et,gt),F=W,it=B,W=J,B=G,J=j,G=nt,j=l(Et,gt,ht,wt),nt=u(Et,gt,ht,wt)}o(this.h,0,j,nt),o(this.h,2,J,G),o(this.h,4,W,B),o(this.h,6,F,it),o(this.h,8,lt,ut),o(this.h,10,M,D),o(this.h,12,at,Q),o(this.h,14,Y,Z)},y.prototype._digest=function(w){return w==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function m(U,w,$,X,j){var nt=U&$^~U&j;return nt<0&&(nt+=4294967296),nt}function b(U,w,$,X,j,nt){var J=w&X^~w&nt;return J<0&&(J+=4294967296),J}function _(U,w,$,X,j){var nt=U&$^U&j^$&j;return nt<0&&(nt+=4294967296),nt}function T(U,w,$,X,j,nt){var J=w&X^w&nt^X&nt;return J<0&&(J+=4294967296),J}function C(U,w){var $=n(U,w,28),X=n(w,U,2),j=n(w,U,7),nt=$^X^j;return nt<0&&(nt+=4294967296),nt}function L(U,w){var $=i(U,w,28),X=i(w,U,2),j=i(w,U,7),nt=$^X^j;return nt<0&&(nt+=4294967296),nt}function N(U,w){var $=n(U,w,14),X=n(U,w,18),j=n(w,U,9),nt=$^X^j;return nt<0&&(nt+=4294967296),nt}function z(U,w){var $=i(U,w,14),X=i(U,w,18),j=i(w,U,9),nt=$^X^j;return nt<0&&(nt+=4294967296),nt}function R(U,w){var $=n(U,w,1),X=n(U,w,8),j=s(U,w,7),nt=$^X^j;return nt<0&&(nt+=4294967296),nt}function H(U,w){var $=i(U,w,1),X=i(U,w,8),j=a(U,w,7),nt=$^X^j;return nt<0&&(nt+=4294967296),nt}function K(U,w){var $=n(U,w,19),X=n(w,U,29),j=s(U,w,6),nt=$^X^j;return nt<0&&(nt+=4294967296),nt}function S(U,w){var $=i(U,w,19),X=i(w,U,29),j=a(U,w,6),nt=$^X^j;return nt<0&&(nt+=4294967296),nt}return Km}var Zm,Cw;function T8(){if(Cw)return Zm;Cw=1;var e=vi(),t=lk();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),Zm=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},Zm}var kw;function v8(){return kw||(kw=1,Bs.sha1=w8(),Bs.sha224=x8(),Bs.sha256=ok(),Bs.sha384=T8(),Bs.sha512=lk()),Bs}var Qm={},Sw;function A8(){if(Sw)return Qm;Sw=1;var e=vi(),t=Hu(),r=e.rotl32,n=e.sum32,i=e.sum32_3,s=e.sum32_4,a=t.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(o,a),Qm.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(y,m){for(var b=this.h[0],_=this.h[1],T=this.h[2],C=this.h[3],L=this.h[4],N=b,z=_,R=T,H=C,K=L,S=0;S<80;S++){var U=n(r(s(b,l(S,_,T,C),y[h[S]+m],u(S)),d[S]),L);b=L,L=C,C=r(T,10),T=_,_=U,U=n(r(s(N,l(79-S,z,R,H),y[f[S]+m],c(S)),p[S]),K),N=K,K=H,H=r(R,10),R=z,z=U}U=i(this.h[1],T,H),this.h[1]=i(this.h[2],C,K),this.h[2]=i(this.h[3],L,N),this.h[3]=i(this.h[4],b,z),this.h[4]=i(this.h[0],_,R),this.h[0]=U},o.prototype._digest=function(y){return y==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function l(g,y,m,b){return g<=15?y^m^b:g<=31?y&m|~y&b:g<=47?(y|~m)^b:g<=63?y&b|m&~b:y^(m|~b)}function u(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function c(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Qm}var Jm,Iw;function C8(){if(Iw)return Jm;Iw=1;var e=vi(),t=Uu();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(i,s))}return Jm=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),t(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Jm}var Lw;function k8(){return Lw||(Lw=1,function(e){var t=e;t.utils=vi(),t.common=Hu(),t.sha=v8(),t.ripemd=A8(),t.hmac=C8(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Wm)),Wm}var S8=k8();const I8=Vy(S8);let L8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",R8=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n},N8=(e=21)=>{let t="",r=e|0;for(;r--;)t+=L8[Math.random()*64|0];return t};const $n=e=>Math.floor(e*72*20),sf=(e=0)=>{let t=e;return()=>++t},O8=()=>sf(),P8=()=>sf(1),D8=()=>sf(),B8=()=>sf(),M8=()=>N8().toLowerCase(),Rw=e=>I8.sha1().update(e instanceof ArrayBuffer?new Uint8Array(e):e).digest("hex"),Jo=e=>R8("1234567890abcdef",e)(),F8=()=>`${Jo(8)}-${Jo(4)}-${Jo(4)}-${Jo(4)}-${Jo(12)}`,U8={PAGE:"page"},H8={PAGE:"page"},$8=()=>new Ne({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),uk=e=>new Ne({name:"wp:align",children:[e]}),ck=e=>new Ne({name:"wp:posOffset",children:[e.toString()]}),z8=({relative:e,align:t,offset:r})=>new Ne({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:e??U8.PAGE}},children:[(()=>{if(t)return uk(t);if(r!==void 0)return ck(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),j8=({relative:e,align:t,offset:r})=>new Ne({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:e??H8.PAGE}},children:[(()=>{if(t)return uk(t);if(r!==void 0)return ck(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]});class W8 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{uri:"uri"})}}const q8=e=>new Ne({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${e.fileName}}`}}}),G8=e=>new Ne({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[q8(e)]}),V8=e=>new Ne({name:"a:extLst",children:[G8(e)]}),Y8=e=>new Ne({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${e.type==="svg"?e.fallback.fileName:e.fileName}}`},cstate:{key:"cstate",value:"none"}},children:e.type==="svg"?[V8(e)]:[]});class X8 extends vt{constructor(){super("a:srcRect")}}class K8 extends vt{constructor(){super("a:fillRect")}}class Z8 extends vt{constructor(){super("a:stretch"),this.root.push(new K8)}}class Q8 extends vt{constructor(t){super("pic:blipFill"),this.root.push(Y8(t)),this.root.push(new X8),this.root.push(new Z8)}}class J8 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class t9 extends vt{constructor(){super("a:picLocks"),this.root.push(new J8({noChangeAspect:1,noChangeArrowheads:1}))}}class e9 extends vt{constructor(){super("pic:cNvPicPr"),this.root.push(new t9)}}const hk=(e,t)=>new Ne({name:"a:hlinkClick",attributes:zi(de({},t?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${e}`}})});class r9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class n9 extends vt{constructor(){super("pic:cNvPr"),this.root.push(new r9({id:0,name:"",descr:""}))}prepForXml(t){for(let r=t.stack.length-1;r>=0;r--){const n=t.stack[r];if(n instanceof o1){this.root.push(hk(n.linkId,!1));break}}return super.prepForXml(t)}}class i9 extends vt{constructor(){super("pic:nvPicPr"),this.root.push(new n9),this.root.push(new e9)}}class s9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class a9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class o9 extends vt{constructor(t,r){super("a:ext"),At(this,"attributes"),this.attributes=new a9({cx:t,cy:r}),this.root.push(this.attributes)}}class l9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{x:"x",y:"y"})}}class u9 extends vt{constructor(){super("a:off"),this.root.push(new l9({x:0,y:0}))}}class c9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class h9 extends vt{constructor(t){var r,n;super("a:xfrm"),At(this,"extents"),this.root.push(new c9({flipVertical:(r=t.flip)==null?void 0:r.vertical,flipHorizontal:(n=t.flip)==null?void 0:n.horizontal,rotation:t.rotation})),this.extents=new o9(t.emus.x,t.emus.y),this.root.push(new u9),this.root.push(this.extents)}}const dk=()=>new Ne({name:"a:noFill"}),d9=e=>new Ne({name:"a:srgbClr",attributes:{value:{key:"val",value:e.value}}}),f9=e=>new Ne({name:"a:schemeClr",attributes:{value:{key:"val",value:e.value}}}),Nw=e=>new Ne({name:"a:solidFill",children:[e.type==="rgb"?d9(e):f9(e)]}),p9=e=>new Ne({name:"a:ln",attributes:{width:{key:"w",value:e.width},cap:{key:"cap",value:e.cap},compoundLine:{key:"cmpd",value:e.compoundLine},align:{key:"algn",value:e.align}},children:[e.type==="noFill"?dk():e.solidFillType==="rgb"?Nw({type:"rgb",value:e.value}):Nw({type:"scheme",value:e.value})]});class m9 extends vt{constructor(){super("a:avLst")}}class g9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{prst:"prst"})}}class b9 extends vt{constructor(){super("a:prstGeom"),this.root.push(new g9({prst:"rect"})),this.root.push(new m9)}}class y9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{bwMode:"bwMode"})}}class _9 extends vt{constructor({outline:t,transform:r}){super("pic:spPr"),At(this,"form"),this.root.push(new y9({bwMode:"auto"})),this.form=new h9(r),this.root.push(this.form),this.root.push(new b9),t&&(this.root.push(dk()),this.root.push(p9(t)))}}class E9 extends vt{constructor({mediaData:t,transform:r,outline:n}){super("pic:pic"),this.root.push(new s9({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new i9),this.root.push(new Q8(t)),this.root.push(new _9({transform:r,outline:n}))}}class w9 extends vt{constructor({mediaData:t,transform:r,outline:n}){super("a:graphicData"),At(this,"pic"),this.root.push(new W8({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new E9({mediaData:t,transform:r,outline:n}),this.root.push(this.pic)}}class x9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{a:"xmlns:a"})}}class fk extends vt{constructor({mediaData:t,transform:r,outline:n}){super("a:graphic"),At(this,"data"),this.root.push(new x9({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new w9({mediaData:t,transform:r,outline:n}),this.root.push(this.data)}}const Tc={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},T9={BOTH_SIDES:"bothSides"};class Ow extends vt{constructor(){super("wp:wrapNone")}}class v9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class A9 extends vt{constructor(t,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new v9({wrapText:t.side||T9.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}}class C9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class k9 extends vt{constructor(t={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new C9({distT:t.top,distB:t.bottom}))}}class S9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class I9 extends vt{constructor(t={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new S9({distT:t.top,distB:t.bottom}))}}class pk extends vt{constructor({name:t,description:r,title:n}={name:"",description:"",title:""}){super("wp:docPr"),At(this,"docPropertiesUniqueNumericId",D8());const i={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:t}};r!=null&&(i.description={key:"descr",value:r}),n!=null&&(i.title={key:"title",value:n}),this.root.push(new Zi(i))}prepForXml(t){for(let r=t.stack.length-1;r>=0;r--){const n=t.stack[r];if(n instanceof o1){this.root.push(hk(n.linkId,!0));break}}return super.prepForXml(t)}}const mk=({top:e,right:t,bottom:r,left:n})=>new Ne({name:"wp:effectExtent",attributes:{top:{key:"t",value:e},right:{key:"r",value:t},bottom:{key:"b",value:r},left:{key:"l",value:n}}}),gk=({x:e,y:t})=>new Ne({name:"wp:extent",attributes:{x:{key:"cx",value:e},y:{key:"cy",value:t}}});class L9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class R9 extends vt{constructor(){super("a:graphicFrameLocks"),this.root.push(new L9({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const bk=()=>new Ne({name:"wp:cNvGraphicFramePr",children:[new R9]});class N9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class O9 extends vt{constructor({mediaData:t,transform:r,drawingOptions:n}){super("wp:anchor");const i=de({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new N9({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:r.emus.y})),this.root.push($8()),this.root.push(z8(i.horizontalPosition)),this.root.push(j8(i.verticalPosition)),this.root.push(gk({x:r.emus.x,y:r.emus.y})),this.root.push(mk({top:0,right:0,bottom:0,left:0})),n.floating!==void 0&&n.floating.wrap!==void 0)switch(n.floating.wrap.type){case Tc.SQUARE:this.root.push(new A9(n.floating.wrap,n.floating.margins));break;case Tc.TIGHT:this.root.push(new k9(n.floating.margins));break;case Tc.TOP_AND_BOTTOM:this.root.push(new I9(n.floating.margins));break;case Tc.NONE:default:this.root.push(new Ow)}else this.root.push(new Ow);this.root.push(new pk(n.docProperties)),this.root.push(bk()),this.root.push(new fk({mediaData:t,transform:r,outline:n.outline}))}}const P9=({mediaData:e,transform:t,docProperties:r,outline:n})=>{var i,s,a,o;return new Ne({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[gk({x:t.emus.x,y:t.emus.y}),mk(n?{top:((i=n.width)!=null?i:9525)*2,right:((s=n.width)!=null?s:9525)*2,bottom:((a=n.width)!=null?a:9525)*2,left:((o=n.width)!=null?o:9525)*2}:{top:0,right:0,bottom:0,left:0}),new pk(r),bk(),new fk({mediaData:e,transform:t,outline:n})]})};class D9 extends vt{constructor(t,r={}){super("w:drawing"),r.floating?this.root.push(new O9({mediaData:t,transform:t.transformation,drawingOptions:r})):this.root.push(P9({mediaData:t,transform:t.transformation,docProperties:r.docProperties,outline:r.outline}))}}const B9=e=>{if(typeof atob=="function"){const t=";base64,",r=e.indexOf(t),n=r===-1?0:r+t.length;return new Uint8Array(atob(e.substring(n)).split("").map(i=>i.charCodeAt(0)))}else{const t=require("buffer");return new t.Buffer(e,"base64")}},M9=e=>typeof e=="string"?B9(e):e,tg=(e,t)=>({data:M9(e.data),fileName:t,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(e.transformation.width*9525),y:Math.round(e.transformation.height*9525)},flip:e.transformation.flip,rotation:e.transformation.rotation?e.transformation.rotation*6e4:void 0}});class Pw extends Ea{constructor(t){super({}),At(this,"imageData");const n=`${Rw(t.data)}.${t.type}`;this.imageData=t.type==="svg"?zi(de({type:t.type},tg(t,n)),{fallback:de({type:t.fallback.type},tg(zi(de({},t.fallback),{transformation:t.transformation}),`${Rw(t.fallback.data)}.${t.fallback.type}`))}):de({type:t.type},tg(t,n));const i=new D9(this.imageData,{floating:t.floating,docProperties:t.altText,outline:t.outline});this.root.push(i)}prepForXml(t){return t.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&t.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(t)}}class F9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{xmlns:"xmlns"})}}class U9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const H9={EXTERNAL:"External"};class $9 extends vt{constructor(t,r,n,i){super("Relationship"),this.root.push(new U9({id:t,type:r,target:n,targetMode:i}))}}class wa extends vt{constructor(){super("Relationships"),this.root.push(new F9({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,i){const s=new $9(`rId${t}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class z9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class j9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class W9 extends vt{constructor({id:t,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new z9({id:t,initials:r,author:n,date:i.toISOString()}));for(const a of s)this.root.push(a)}}class q9 extends vt{constructor({children:t}){super("w:comments"),At(this,"relationships"),this.root.push(new j9({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new W9(r));this.relationships=new wa}get Relationships(){return this.relationships}}const G9={PAGE:"page"};class V9 extends vt{constructor(t){super("w:br"),this.root.push(new Ge({type:t}))}}class Y9 extends Ea{constructor(){super({}),this.root.push(new V9(G9.PAGE))}}class X9 extends vt{constructor(){super("w:pageBreakBefore")}}const v0={AUTO:"auto"};class K9 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class Z9 extends vt{constructor(t){super("w:spacing"),this.root.push(new K9(t))}}const Q9={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let vc=class extends vt{constructor(t){super("w:pStyle"),this.root.push(new Ge({val:t}))}};class J9 extends vt{constructor(t){super("w:tabs");for(const r of t)this.root.push(new e7(r))}}const Dw={LEFT:"left",RIGHT:"right"};class t7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class e7 extends vt{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new t7({val:t,pos:r,leader:n}))}}class eg extends vt{constructor(t,r){super("w:numPr"),this.root.push(new r7(r)),this.root.push(new n7(t))}}class r7 extends vt{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ge({val:t}))}}class n7 extends vt{constructor(t){super("w:numId"),this.root.push(new Ge({val:typeof t=="string"?`{${t}}`:t}))}}class yk extends vt{constructor(){super(...arguments),At(this,"fileChild",Symbol())}}class i7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class o1 extends vt{constructor(t,r,n){super("w:hyperlink"),At(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new i7(i);this.root.push(s),t.forEach(a=>{this.root.push(a)})}}class _k extends vt{constructor(t){super("w:externalHyperlink"),this.options=t}}class s7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class a7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{id:"w:id"})}}class o7{constructor(t){At(this,"bookmarkUniqueNumericId",B8()),At(this,"start"),At(this,"children"),At(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new l7(t.id,r),this.children=t.children,this.end=new u7(r)}}class l7 extends vt{constructor(t,r){super("w:bookmarkStart");const n=new s7({name:t,id:r});this.root.push(n)}}class u7 extends vt{constructor(t){super("w:bookmarkEnd");const r=new a7({id:t});this.root.push(r)}}class c7 extends vt{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Ge({val:t}))}}const h7={TOP:"top",CENTER:"center",BOTTOM:"bottom"};zi(de({},h7),{BOTH:"both"});class d7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{verticalAlign:"w:val"})}}class Ek extends vt{constructor(t){super("w:vAlign"),this.root.push(new d7({verticalAlign:t}))}}class f7 extends vt{constructor({space:t,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Zi({space:{key:"w:space",value:t===void 0?void 0:Ir(t)},count:{key:"w:num",value:r===void 0?void 0:Hr(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}}const p7=({type:e,linePitch:t,charSpace:r})=>new Ne({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:Hr(t)},charSpace:{key:"w:charSpace",value:r?Hr(r):void 0}}}),Qa={DEFAULT:"default",FIRST:"first",EVEN:"even"};class m7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Bw={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class rg extends vt{constructor(t,r){super(t),this.root.push(new m7({type:r.type||Qa.DEFAULT,id:`rId${r.id}`}))}}const g7=({countBy:e,start:t,restart:r,distance:n})=>new Ne({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:Hr(e)},start:{key:"w:start",value:t===void 0?void 0:Hr(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:Ir(n)}}});class Mw extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class b7 extends Ki{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new Mw({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new Mw({})),t.pageBorderTop&&this.root.push(new Pe("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new Pe("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new Pe("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new Pe("w:right",t.pageBorderRight))}}class y7 extends vt{constructor(t,r,n,i,s,a,o){super("w:pgMar"),this.root.push(new Zi({top:{key:"w:top",value:Mi(t)},right:{key:"w:right",value:Ir(r)},bottom:{key:"w:bottom",value:Mi(n)},left:{key:"w:left",value:Ir(i)},header:{key:"w:header",value:Ir(s)},footer:{key:"w:footer",value:Ir(a)},gutter:{key:"w:gutter",value:Ir(o)}}))}}class _7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class E7 extends vt{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new _7({start:t===void 0?void 0:Hr(t),formatType:r,separator:n}))}}const A0={PORTRAIT:"portrait",LANDSCAPE:"landscape"},w7=({width:e,height:t,orientation:r,code:n})=>{const i=Ir(e),s=Ir(t);return new Ne({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===A0.LANDSCAPE?s:i},height:{key:"w:h",value:r===A0.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class x7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}class T7 extends vt{constructor(t){super("w:textDirection"),this.root.push(new x7({val:t}))}}class v7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}let A7=class extends vt{constructor(t){super("w:type"),this.root.push(new v7({val:t}))}};const ns={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},lh={WIDTH:11906,HEIGHT:16838,ORIENTATION:A0.PORTRAIT};class C7 extends vt{constructor({page:{size:{width:t=lh.WIDTH,height:r=lh.HEIGHT,orientation:n=lh.ORIENTATION}={},margin:{top:i=ns.TOP,right:s=ns.RIGHT,bottom:a=ns.BOTTOM,left:o=ns.LEFT,header:l=ns.HEADER,footer:u=ns.FOOTER,gutter:c=ns.GUTTER}={},pageNumbers:h={},borders:f,textDirection:d}={},grid:{linePitch:p=360,charSpace:g,type:y}={},headerWrapperGroup:m={},footerWrapperGroup:b={},lineNumbers:_,titlePage:T,verticalAlign:C,column:L,type:N}={}){super("w:sectPr"),this.addHeaderFooterGroup(Bw.HEADER,m),this.addHeaderFooterGroup(Bw.FOOTER,b),N&&this.root.push(new A7(N)),this.root.push(w7({width:t,height:r,orientation:n})),this.root.push(new y7(i,s,a,o,l,u,c)),f&&this.root.push(new b7(f)),_&&this.root.push(g7(_)),this.root.push(new E7(h)),L&&this.root.push(new f7(L)),C&&this.root.push(new Ek(C)),T!==void 0&&this.root.push(new Rt("w:titlePg",T)),d&&this.root.push(new T7(d)),this.root.push(p7({linePitch:p,charSpace:g,type:y}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new rg(t,{type:Qa.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new rg(t,{type:Qa.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new rg(t,{type:Qa.EVEN,id:r.even.View.ReferenceId}))}}class k7 extends vt{constructor(){super("w:body"),At(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new C7(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new Tn({}),n=new Eo({});return n.push(t),r.addChildElement(n),r}}const Fw={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class af extends $t{constructor(t,r){super(de({Ignorable:r},Object.fromEntries(t.map(n=>[n,Fw[n]])))),At(this,"xmlKeys",de({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(Fw).map(n=>[n,`xmlns:${n}`]))))}}class S7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class I7 extends vt{constructor(t){super("w:background"),this.root.push(new S7({color:t.color===void 0?void 0:bo(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:mw(t.themeShade),themeTint:t.themeTint===void 0?void 0:mw(t.themeTint)}))}}class L7 extends vt{constructor(t){super("w:document"),At(this,"body"),this.root.push(new af(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new k7,t.background&&this.root.push(new I7(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class wk{constructor(t){At(this,"document"),At(this,"relationships"),this.document=new L7(t),this.relationships=new wa}get View(){return this.document}get Relationships(){return this.relationships}}class R7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}class N7 extends vt{constructor(){super("w:wordWrap"),this.root.push(new R7({val:0}))}}const O7=e=>{var t,r;return new Ne({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class Eo extends Ki{constructor(t){var r,n;if(super("w:pPr"),At(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new vc(t.heading)),t.bullet&&this.push(new vc("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new vc("ListParagraph"))),t.style&&this.push(new vc(t.style)),t.keepNext!==void 0&&this.push(new Rt("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new Rt("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new X9),t.frame&&this.push(O7(t.frame)),t.widowControl!==void 0&&this.push(new Rt("w:widowControl",t.widowControl)),t.bullet&&this.push(new eg(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new eg(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new eg(0,0)),t.border&&this.push(new JF(t.border)),t.thematicBreak&&this.push(new t8),t.shading&&this.push(new nf(t.shading)),t.wordWrap&&this.push(new N7),t.overflowPunctuation&&this.push(new Rt("w:overflowPunct",t.overflowPunctuation));const i=[...t.rightTabStop!==void 0?[{type:Dw.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:Dw.LEFT,position:t.leftTabStop}]:[]];i.length>0&&this.push(new J9(i)),t.bidirectional!==void 0&&this.push(new Rt("w:bidi",t.bidirectional)),t.spacing&&this.push(new Z9(t.spacing)),t.indent&&this.push(new e8(t.indent)),t.contextualSpacing!==void 0&&this.push(new Rt("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new nk(t.alignment)),t.outlineLevel!==void 0&&this.push(new c7(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new Rt("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new Rt("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new _a(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof wk)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class Tn extends yk{constructor(t){if(super("w:p"),At(this,"properties"),typeof t=="string")return this.properties=new Eo({}),this.root.push(this.properties),this.root.push(new au(t)),this;if(this.properties=new Eo(t),this.root.push(this.properties),t.text&&this.root.push(new au(t.text)),t.children)for(const r of t.children){if(r instanceof o7){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof _k){const n=this.root.indexOf(r),i=new o1(r.options.children,M8());t.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,H9.EXTERNAL),this.root[n]=i}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}class P7 extends vt{constructor(t){super("w:tblGrid");for(const r of t)this.root.push(new D7(r))}}class D7 extends vt{constructor(t){super("w:gridCol"),t!==void 0&&this.root.push(new Zi({width:{key:"w:w",value:Ir(t)}}))}}const xk={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class Tk extends Ki{constructor(t,{marginUnitType:r=C0.DXA,top:n,left:i,bottom:s,right:a}){super(t),n!==void 0&&this.root.push(new Gs("w:top",{type:r,size:n})),i!==void 0&&this.root.push(new Gs("w:left",{type:r,size:i})),s!==void 0&&this.root.push(new Gs("w:bottom",{type:r,size:s})),a!==void 0&&this.root.push(new Gs("w:right",{type:r,size:a}))}}const C0={AUTO:"auto",DXA:"dxa",PERCENTAGE:"pct"};class Gs extends vt{constructor(t,{type:r=C0.AUTO,size:n}){super(t);let i=n;r===C0.PERCENTAGE&&typeof n=="number"&&(i=`${n}%`),this.root.push(new Zi({type:{key:"w:type",value:r},size:{key:"w:w",value:rk(i)}}))}}class B7 extends Ki{constructor(t){super("w:tcBorders"),t.top&&this.root.push(new Pe("w:top",t.top)),t.start&&this.root.push(new Pe("w:start",t.start)),t.left&&this.root.push(new Pe("w:left",t.left)),t.bottom&&this.root.push(new Pe("w:bottom",t.bottom)),t.end&&this.root.push(new Pe("w:end",t.end)),t.right&&this.root.push(new Pe("w:right",t.right))}}class M7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}class F7 extends vt{constructor(t){super("w:gridSpan"),this.root.push(new M7({val:Hr(t)}))}}const vk={CONTINUE:"continue",RESTART:"restart"};class U7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}class Uw extends vt{constructor(t){super("w:vMerge"),this.root.push(new U7({val:t}))}}class H7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}class $7 extends vt{constructor(t){super("w:textDirection"),this.root.push(new H7({val:t}))}}class z7 extends Ki{constructor(t){super("w:tcPr"),t.width&&this.root.push(new Gs("w:tcW",t.width)),t.columnSpan&&this.root.push(new F7(t.columnSpan)),t.verticalMerge?this.root.push(new Uw(t.verticalMerge)):t.rowSpan&&t.rowSpan>1&&this.root.push(new Uw(vk.RESTART)),t.borders&&this.root.push(new B7(t.borders)),t.shading&&this.root.push(new nf(t.shading)),t.margins&&this.root.push(new Tk(xk.TABLE_CELL,t.margins)),t.textDirection&&this.root.push(new $7(t.textDirection)),t.verticalAlign&&this.root.push(new Ek(t.verticalAlign))}}class l1 extends vt{constructor(t){super("w:tc"),this.options=t,this.root.push(new z7(t));for(const r of t.children)this.root.push(r)}prepForXml(t){return this.root[this.root.length-1]instanceof Tn||this.root.push(new Tn({})),super.prepForXml(t)}}const Oa={style:i1.NONE,size:0,color:"auto"},Pa={style:i1.SINGLE,size:4,color:"auto"};class Ak extends vt{constructor(t){super("w:tblBorders"),t.top?this.root.push(new Pe("w:top",t.top)):this.root.push(new Pe("w:top",Pa)),t.left?this.root.push(new Pe("w:left",t.left)):this.root.push(new Pe("w:left",Pa)),t.bottom?this.root.push(new Pe("w:bottom",t.bottom)):this.root.push(new Pe("w:bottom",Pa)),t.right?this.root.push(new Pe("w:right",t.right)):this.root.push(new Pe("w:right",Pa)),t.insideHorizontal?this.root.push(new Pe("w:insideH",t.insideHorizontal)):this.root.push(new Pe("w:insideH",Pa)),t.insideVertical?this.root.push(new Pe("w:insideV",t.insideVertical)):this.root.push(new Pe("w:insideV",Pa))}}At(Ak,"NONE",{top:Oa,bottom:Oa,left:Oa,right:Oa,insideHorizontal:Oa,insideVertical:Oa});class j7 extends vt{constructor({horizontalAnchor:t,verticalAnchor:r,absoluteHorizontalPosition:n,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:a,bottomFromText:o,topFromText:l,leftFromText:u,rightFromText:c,overlap:h}){super("w:tblpPr"),this.root.push(new Zi({leftFromText:{key:"w:leftFromText",value:u===void 0?void 0:Ir(u)},rightFromText:{key:"w:rightFromText",value:c===void 0?void 0:Ir(c)},topFromText:{key:"w:topFromText",value:l===void 0?void 0:Ir(l)},bottomFromText:{key:"w:bottomFromText",value:o===void 0?void 0:Ir(o)},absoluteHorizontalPosition:{key:"w:tblpX",value:n===void 0?void 0:Mi(n)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:Mi(s)},horizontalAnchor:{key:"w:horzAnchor",value:t===void 0?void 0:t},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:a},verticalAnchor:{key:"w:vertAnchor",value:r}})),h&&this.root.push(new KF("w:tblOverlap",h))}}class W7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{type:"w:type"})}}class q7 extends vt{constructor(t){super("w:tblLayout"),this.root.push(new W7({type:t}))}}const G7={DXA:"dxa"};class Ck extends vt{constructor({type:t=G7.DXA,value:r}){super("w:tblCellSpacing"),this.root.push(new Zi({type:{key:"w:type",value:t},value:{key:"w:w",value:rk(r)}}))}}class V7 extends Ki{constructor(t){super("w:tblPr"),t.style&&this.root.push(new ea("w:tblStyle",t.style)),t.float&&this.root.push(new j7(t.float)),t.visuallyRightToLeft!==void 0&&this.root.push(new Rt("w:bidiVisual",t.visuallyRightToLeft)),t.width&&this.root.push(new Gs("w:tblW",t.width)),t.alignment&&this.root.push(new nk(t.alignment)),t.indent&&this.root.push(new Gs("w:tblInd",t.indent)),t.borders&&this.root.push(new Ak(t.borders)),t.shading&&this.root.push(new nf(t.shading)),t.layout&&this.root.push(new q7(t.layout)),t.cellMargin&&this.root.push(new Tk(xk.TABLE,t.cellMargin)),t.cellSpacing&&this.root.push(new Ck(t.cellSpacing))}}class Y7 extends yk{constructor({rows:t,width:r,columnWidths:n=Array(Math.max(...t.map(d=>d.CellCount))).fill(100),margins:i,indent:s,float:a,layout:o,style:l,borders:u,alignment:c,visuallyRightToLeft:h,cellSpacing:f}){super("w:tbl"),this.root.push(new V7({borders:u??{},width:r??{size:100},indent:s,float:a,layout:o,style:l,alignment:c,cellMargin:i,visuallyRightToLeft:h,cellSpacing:f})),this.root.push(new P7(n));for(const d of t)this.root.push(d);t.forEach((d,p)=>{if(p===t.length-1)return;let g=0;d.cells.forEach(y=>{if(y.options.rowSpan&&y.options.rowSpan>1){const m=new l1({rowSpan:y.options.rowSpan-1,columnSpan:y.options.columnSpan,borders:y.options.borders,children:[],verticalMerge:vk.CONTINUE});t[p+1].addCellToColumnIndex(m,g)}g+=y.options.columnSpan||1})})}}class X7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class K7 extends vt{constructor(t,r){super("w:trHeight"),this.root.push(new X7({value:Ir(t),rule:r}))}}class Z7 extends Ki{constructor(t){super("w:trPr"),t.cantSplit!==void 0&&this.root.push(new Rt("w:cantSplit",t.cantSplit)),t.tableHeader!==void 0&&this.root.push(new Rt("w:tblHeader",t.tableHeader)),t.height&&this.root.push(new K7(t.height.value,t.height.rule)),t.cellSpacing&&this.root.push(new Ck(t.cellSpacing))}}class Q7 extends vt{constructor(t){super("w:tr"),this.options=t,this.root.push(new Z7(t));for(const r of t.children)this.root.push(r)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(t=>t instanceof l1)}addCellToIndex(t,r){this.root.splice(r+1,0,t)}addCellToColumnIndex(t,r){const n=this.columnIndexToRootIndex(r,!0);this.addCellToIndex(t,n-1)}rootIndexToColumnIndex(t){if(t<1||t>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let r=0;for(let n=1;n<t;n++){const i=this.root[n];r+=i.options.columnSpan||1}return r}columnIndexToRootIndex(t,r=!1){if(t<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,i=1;for(;n<=t;){if(i>=this.root.length){if(r)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${n-1}`)}const s=this.root[i];i+=1,n+=s&&s.options.columnSpan||1}return i-1}}class J7 extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class tU extends vt{constructor(){super("Properties"),this.root.push(new J7({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class eU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{xmlns:"xmlns"})}}class rU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Ii extends vt{constructor(t,r){super("Default"),this.root.push(new rU({contentType:t,extension:r}))}}class nU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class kn extends vt{constructor(t,r){super("Override"),this.root.push(new nU({contentType:t,partName:r}))}}class iU extends vt{constructor(){super("Types"),this.root.push(new eU({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Ii("image/png","png")),this.root.push(new Ii("image/jpeg","jpeg")),this.root.push(new Ii("image/jpeg","jpg")),this.root.push(new Ii("image/bmp","bmp")),this.root.push(new Ii("image/gif","gif")),this.root.push(new Ii("image/svg+xml","svg")),this.root.push(new Ii("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Ii("application/xml","xml")),this.root.push(new Ii("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new kn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new kn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class sU extends vt{constructor(t){super("cp:coreProperties"),this.root.push(new af(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new Ds("dc:title",t.title)),t.subject&&this.root.push(new Ds("dc:subject",t.subject)),t.creator&&this.root.push(new Ds("dc:creator",t.creator)),t.keywords&&this.root.push(new Ds("cp:keywords",t.keywords)),t.description&&this.root.push(new Ds("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new Ds("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new Ds("cp:revision",String(t.revision))),this.root.push(new Hw("dcterms:created")),this.root.push(new Hw("dcterms:modified"))}}class aU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{type:"xsi:type"})}}class Hw extends vt{constructor(t){super(t),this.root.push(new aU({type:"dcterms:W3CDTF"})),this.root.push(XF(new Date))}}class oU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class lU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class uU extends vt{constructor(t,r){super("property"),this.root.push(new lU({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new cU(r.value))}}class cU extends vt{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class hU extends vt{constructor(t){super("Properties"),At(this,"nextId"),At(this,"properties",[]),this.root.push(new oU({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new uU(this.nextId++,t))}}const Ac=({id:e,fontKey:t,subsetted:r},n)=>new Ne({name:n,attributes:de({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new Rt("w:subsetted",r)]:[]]}),dU=({name:e,altName:t,panose1:r,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:l,embedBold:u,embedItalic:c,embedBoldItalic:h})=>new Ne({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[Qo("w:altName",t)]:[],...r?[Qo("w:panose1",r)]:[],...n?[Qo("w:charset",n)]:[],Qo("w:family",i),...s?[new Rt("w:notTrueType",s)]:[],Qo("w:pitch",a),...o?[new Ne({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[Ac(l,"w:embedRegular")]:[],...u?[Ac(u,"w:embedBold")]:[],...c?[Ac(c,"w:embedItalic")]:[],...h?[Ac(h,"w:embedBoldItalic")]:[]]}),fU=({name:e,index:t,fontKey:r,characterSet:n})=>dU({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),pU=e=>new Ne({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>fU({name:t.name,index:r+1,fontKey:t.fontKey}))});class mU{constructor(t){At(this,"fontTable"),At(this,"relationships"),At(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>zi(de({},r),{fontKey:F8()})),this.fontTable=pU(this.fontOptionsWithKey),this.relationships=new wa;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class gU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let bU=class extends JC{constructor(t,r){super("w:ftr",r),At(this,"refId"),this.refId=t,r||this.root.push(new gU({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class yU{constructor(t,r,n){At(this,"footer"),At(this,"relationships"),this.media=t,this.footer=new bU(r,n),this.relationships=new wa}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class _U extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class EU extends vt{constructor(){super("w:footnoteRef")}}class wU extends Ea{constructor(){super({style:"FootnoteReference"}),this.root.push(new EU)}}const $w={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class ng extends vt{constructor(t){super("w:footnote"),this.root.push(new _U({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new wU),this.root.push(n)}}}class xU extends vt{constructor(){super("w:continuationSeparator")}}class TU extends Ea{constructor(){super({}),this.root.push(new xU)}}class vU extends vt{constructor(){super("w:separator")}}class AU extends Ea{constructor(){super({}),this.root.push(new vU)}}class CU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class kU extends vt{constructor(){super("w:footnotes"),this.root.push(new CU({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new ng({id:-1,type:$w.SEPERATOR,children:[new Tn({spacing:{after:0,line:240,lineRule:v0.AUTO},children:[new AU]})]});this.root.push(t);const r=new ng({id:0,type:$w.CONTINUATION_SEPERATOR,children:[new Tn({spacing:{after:0,line:240,lineRule:v0.AUTO},children:[new TU]})]});this.root.push(r)}createFootNote(t,r){const n=new ng({id:t,children:r});this.root.push(n)}}class SU{constructor(){At(this,"footnotess"),At(this,"relationships"),this.footnotess=new kU,this.relationships=new wa}get View(){return this.footnotess}get Relationships(){return this.relationships}}class IU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let LU=class extends JC{constructor(t,r){super("w:hdr",r),At(this,"refId"),this.refId=t,r||this.root.push(new IU({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class RU{constructor(t,r,n){At(this,"header"),At(this,"relationships"),this.media=t,this.header=new LU(r,n),this.relationships=new wa}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class NU{constructor(){At(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const oi={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class OU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class PU extends vt{constructor(t){super("w:numFmt"),this.root.push(new Ge({val:t}))}}class DU extends vt{constructor(t){super("w:lvlText"),this.root.push(new Ge({val:t}))}}class BU extends vt{constructor(t){super("w:lvlJc"),this.root.push(new Ge({val:t}))}}class MU extends vt{constructor(t){super("w:suff"),this.root.push(new Ge({val:t}))}}class FU extends vt{constructor(){super("w:isLgl")}}class UU extends vt{constructor({level:t,format:r,text:n,alignment:i=Ln.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),At(this,"paragraphProperties"),At(this,"runProperties"),this.root.push(new ql("w:start",Hr(s))),r&&this.root.push(new PU(r)),o&&this.root.push(new MU(o)),l&&this.root.push(new FU),n&&this.root.push(new DU(n)),this.root.push(new BU(i)),this.paragraphProperties=new Eo(a&&a.paragraph),this.runProperties=new _a(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new OU({ilvl:Hr(t),tentative:1}))}}class HU extends UU{}class $U extends vt{constructor(t){super("w:multiLevelType"),this.root.push(new Ge({val:t}))}}class zU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class zw extends vt{constructor(t,r){super("w:abstractNum"),At(this,"id"),this.root.push(new zU({abstractNumId:Hr(t),restartNumberingAfterBreak:0})),this.root.push(new $U("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new HU(n))}}class jU extends vt{constructor(t){super("w:abstractNumId"),this.root.push(new Ge({val:t}))}}class WU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{numId:"w:numId"})}}class jw extends vt{constructor(t){if(super("w:num"),At(this,"numId"),At(this,"reference"),At(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new WU({numId:Hr(t.numId)})),this.root.push(new jU(Hr(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new GU(r.num,r.start))}}class qU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{ilvl:"w:ilvl"})}}class GU extends vt{constructor(t,r){super("w:lvlOverride"),this.root.push(new qU({ilvl:t})),r!==void 0&&this.root.push(new YU(r))}}class VU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}class YU extends vt{constructor(t){super("w:startOverride"),this.root.push(new VU({val:t}))}}class XU extends vt{constructor(t){super("w:numbering"),At(this,"abstractNumberingMap",new Map),At(this,"concreteNumberingMap",new Map),At(this,"referenceConfigMap",new Map),At(this,"abstractNumUniqueNumericId",O8()),At(this,"concreteNumUniqueNumericId",P8()),this.root.push(new af(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new zw(this.abstractNumUniqueNumericId(),[{level:0,format:oi.BULLET,text:"â",alignment:Ln.LEFT,style:{paragraph:{indent:{left:$n(.5),hanging:$n(.25)}}}},{level:1,format:oi.BULLET,text:"â",alignment:Ln.LEFT,style:{paragraph:{indent:{left:$n(1),hanging:$n(.25)}}}},{level:2,format:oi.BULLET,text:"â ",alignment:Ln.LEFT,style:{paragraph:{indent:{left:2160,hanging:$n(.25)}}}},{level:3,format:oi.BULLET,text:"â",alignment:Ln.LEFT,style:{paragraph:{indent:{left:2880,hanging:$n(.25)}}}},{level:4,format:oi.BULLET,text:"â",alignment:Ln.LEFT,style:{paragraph:{indent:{left:3600,hanging:$n(.25)}}}},{level:5,format:oi.BULLET,text:"â ",alignment:Ln.LEFT,style:{paragraph:{indent:{left:4320,hanging:$n(.25)}}}},{level:6,format:oi.BULLET,text:"â",alignment:Ln.LEFT,style:{paragraph:{indent:{left:5040,hanging:$n(.25)}}}},{level:7,format:oi.BULLET,text:"â",alignment:Ln.LEFT,style:{paragraph:{indent:{left:5760,hanging:$n(.25)}}}},{level:8,format:oi.BULLET,text:"â",alignment:Ln.LEFT,style:{paragraph:{indent:{left:6480,hanging:$n(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new jw({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new zw(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const i=`${t}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(t),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new jw(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class KU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class ZU extends vt{constructor(t){super("w:compatSetting"),this.root.push(new KU({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class QU extends vt{constructor(t){super("w:compat"),t.version&&this.root.push(new ZU(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new Rt("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new Rt("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new Rt("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new Rt("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new Rt("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new Rt("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new Rt("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new Rt("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new Rt("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new Rt("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new Rt("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new Rt("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new Rt("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new Rt("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new Rt("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new Rt("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new Rt("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new Rt("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new Rt("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new Rt("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new Rt("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new Rt("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new Rt("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new Rt("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new Rt("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new Rt("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new Rt("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new Rt("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new Rt("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new Rt("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new Rt("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new Rt("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new Rt("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new Rt("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new Rt("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new Rt("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new Rt("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Rt("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new Rt("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new Rt("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new Rt("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new Rt("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new Rt("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new Rt("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new Rt("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new Rt("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new Rt("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new Rt("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new Rt("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new Rt("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new Rt("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new Rt("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new Rt("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new Rt("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new Rt("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new Rt("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new Rt("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new Rt("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new Rt("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new Rt("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new Rt("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new Rt("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Rt("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new Rt("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new Rt("w:cachedColBalance",t.cachedColumnBalance))}}class JU extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class tH extends vt{constructor(t){var r,n,i,s,a,o,l,u;super("w:settings"),this.root.push(new JU({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Rt("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new Rt("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new Rt("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new Rt("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new ql("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Rt("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new ql("w:hyphenationZone",t.hyphenation.hyphenationZone)),((i=t.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new ql("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((s=t.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Rt("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new QU(zi(de({},(a=t.compatibility)!=null?a:{}),{version:(u=(l=(o=t.compatibility)==null?void 0:o.version)!=null?l:t.compatibilityModeVersion)!=null?u:15})))}}class kk extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{val:"w:val"})}}class eH extends vt{constructor(t){super("w:name"),this.root.push(new kk({val:t}))}}class rH extends vt{constructor(t){super("w:uiPriority"),this.root.push(new kk({val:Hr(t)}))}}let nH=class extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}};class Sk extends vt{constructor(t,r){super("w:style"),this.root.push(new nH(t)),r.name&&this.root.push(new eH(r.name)),r.basedOn&&this.root.push(new ea("w:basedOn",r.basedOn)),r.next&&this.root.push(new ea("w:next",r.next)),r.link&&this.root.push(new ea("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new rH(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Rt("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Rt("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Rt("w:qFormat",r.quickFormat))}}class of extends Sk{constructor(t){super({type:"paragraph",styleId:t.id},t),At(this,"paragraphProperties"),At(this,"runProperties"),this.paragraphProperties=new Eo(t.paragraph),this.runProperties=new _a(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class lf extends Sk{constructor(t){super({type:"character",styleId:t.id},de({uiPriority:99,unhideWhenUsed:!0},t)),At(this,"runProperties"),this.runProperties=new _a(t.run),this.root.push(this.runProperties)}}class As extends of{constructor(t){super(de({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class iH extends As{constructor(t){super(de({id:"Title",name:"Title"},t))}}class sH extends As{constructor(t){super(de({id:"Heading1",name:"Heading 1"},t))}}class aH extends As{constructor(t){super(de({id:"Heading2",name:"Heading 2"},t))}}class oH extends As{constructor(t){super(de({id:"Heading3",name:"Heading 3"},t))}}class lH extends As{constructor(t){super(de({id:"Heading4",name:"Heading 4"},t))}}class uH extends As{constructor(t){super(de({id:"Heading5",name:"Heading 5"},t))}}class cH extends As{constructor(t){super(de({id:"Heading6",name:"Heading 6"},t))}}class hH extends As{constructor(t){super(de({id:"Strong",name:"Strong"},t))}}class dH extends of{constructor(t){super(de({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class fH extends of{constructor(t){super(de({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:v0.AUTO}},run:{size:20}},t))}}class pH extends lf{constructor(t){super(de({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class mH extends lf{constructor(t){super(de({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class gH extends lf{constructor(t){super(de({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:sk.SINGLE}}},t))}}let k0=class extends vt{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new of(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new lf(r))}};class bH extends vt{constructor(t){super("w:pPrDefault"),this.root.push(new Eo(t))}}class yH extends vt{constructor(t){super("w:rPrDefault"),this.root.push(new _a(t))}}class _H extends vt{constructor(t){super("w:docDefaults"),At(this,"runPropertiesDefaults"),At(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new yH(t.run),this.paragraphPropertiesDefaults=new bH(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class EH{newInstance(t){const r=QC.xml2js(t,{compact:!1});let n;for(const a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new k0({initialStyles:new WF(n.attributes),importedStyles:i.map(a=>r1(a))})}}class Ww{newInstance(t={}){var r;return{initialStyles:new af(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new _H((r=t.document)!=null?r:{}),new iH(de({run:{size:56}},t.title)),new sH(de({run:{color:"2E74B5",size:32}},t.heading1)),new aH(de({run:{color:"2E74B5",size:26}},t.heading2)),new oH(de({run:{color:"1F4D78",size:24}},t.heading3)),new lH(de({run:{color:"2E74B5",italics:!0}},t.heading4)),new uH(de({run:{color:"2E74B5"}},t.heading5)),new cH(de({run:{color:"1F4D78"}},t.heading6)),new hH(de({run:{bold:!0}},t.strong)),new dH(t.listParagraph||{}),new gH(t.hyperlink||{}),new pH(t.footnoteReference||{}),new fH(t.footnoteText||{}),new mH(t.footnoteTextChar||{})]}}}class wH{constructor(t){At(this,"currentRelationshipId",1),At(this,"documentWrapper"),At(this,"headers",[]),At(this,"footers",[]),At(this,"coreProperties"),At(this,"numbering"),At(this,"media"),At(this,"fileRelationships"),At(this,"footnotesWrapper"),At(this,"settings"),At(this,"contentTypes"),At(this,"customProperties"),At(this,"appProperties"),At(this,"styles"),At(this,"comments"),At(this,"fontWrapper");var r,n,i,s,a,o,l,u,c,h,f,d;if(this.coreProperties=new sU(zi(de({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(i=t.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new XU(t.numbering?t.numbering:{config:[]}),this.comments=new q9((s=t.comments)!=null?s:{children:[]}),this.fileRelationships=new wa,this.customProperties=new hU((a=t.customProperties)!=null?a:[]),this.appProperties=new tU,this.footnotesWrapper=new SU,this.contentTypes=new iU,this.documentWrapper=new wk({background:t.background}),this.settings=new tH({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(o=t.features)==null?void 0:o.trackRevisions,updateFields:(l=t.features)==null?void 0:l.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(u=t.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(c=t.hyphenation)==null?void 0:c.hyphenationZone,consecutiveHyphenLimit:(h=t.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(f=t.hyphenation)==null?void 0:f.doNotHyphenateCaps}}),this.media=new NU,t.externalStyles!==void 0){const p=new EH;this.styles=p.newInstance(t.externalStyles)}else if(t.styles){const g=new Ww().newInstance(t.styles.default);this.styles=new k0(de(de({},g),t.styles))}else{const p=new Ww;this.styles=new k0(p.newInstance())}this.addDefaultRelationships();for(const p of t.sections)this.addSection(p);if(t.footnotes)for(const p in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(p),t.footnotes[p].children);this.fontWrapper=new mU((d=t.fonts)!=null?d:[])}addSection({headers:t={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(zi(de({},i),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(t){const r=new RU(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new yU(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Qa.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Qa.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}class xH extends $t{constructor(){super(...arguments),At(this,"xmlKeys",{id:"w:id"})}}class TH extends vt{constructor(t){super("w:footnoteReference"),this.root.push(new xH({id:t}))}}class vH extends Ea{constructor(t){super({style:"FootnoteReference"}),this.root.push(new TH(t))}}var AH=Jy();function Cc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ig={exports:{}},qw;function CH(){return qw||(qw=1,function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function a(u,c){if(!i[u]){if(!n[u]){var h=typeof Cc=="function"&&Cc;if(!c&&h)return h(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[u]={exports:{}};n[u][0].call(d.exports,function(p){var g=n[u][1][p];return a(g||p)},d,d.exports,r,n,i,s)}return i[u].exports}for(var o=typeof Cc=="function"&&Cc,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,h,f,d,p,g,y=[],m=0,b=l.length,_=b,T=s.getTypeOf(l)!=="string";m<l.length;)_=b-m,h=T?(u=l[m++],c=m<b?l[m++]:0,m<b?l[m++]:0):(u=l.charCodeAt(m++),c=m<b?l.charCodeAt(m++):0,m<b?l.charCodeAt(m++):0),f=u>>2,d=(3&u)<<4|c>>4,p=1<_?(15&c)<<2|h>>6:64,g=2<_?63&h:64,y.push(o.charAt(f)+o.charAt(d)+o.charAt(p)+o.charAt(g));return y.join("")},i.decode=function(l){var u,c,h,f,d,p,g=0,y=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var b,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&_--,l.charAt(l.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=a.uint8array?new Uint8Array(0|_):new Array(0|_);g<l.length;)u=o.indexOf(l.charAt(g++))<<2|(f=o.indexOf(l.charAt(g++)))>>4,c=(15&f)<<4|(d=o.indexOf(l.charAt(g++)))>>2,h=(3&d)<<6|(p=o.indexOf(l.charAt(g++))),b[y++]=u,d!==64&&(b[y++]=c),p!==64&&(b[y++]=h);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,h,f,d,p){this.compressedSize=c,this.uncompressedSize=h,this.crc32=f,this.compression=d,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,f){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(u,c,h,f){var d=a,p=f+h;u^=-1;for(var g=f;g<p;g++)u=u>>>8^d[255&(u^c[g])];return-1^u}(0|l,o,o.length,0):function(u,c,h,f){var d=a,p=f+h;u^=-1;for(var g=f;g<p;g++)u=u>>>8^d[255&(u^c.charCodeAt(g))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function c(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new c("Deflate",h)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(d,p){var g,y="";for(g=0;g<p;g++)y+=String.fromCharCode(255&d),d>>>=8;return y}function a(d,p,g,y,m,b){var _,T,C=d.file,L=d.compression,N=b!==u.utf8encode,z=o.transformTo("string",b(C.name)),R=o.transformTo("string",u.utf8encode(C.name)),H=C.comment,K=o.transformTo("string",b(H)),S=o.transformTo("string",u.utf8encode(H)),U=R.length!==C.name.length,w=S.length!==H.length,$="",X="",j="",nt=C.dir,J=C.date,G={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(G.crc32=d.crc32,G.compressedSize=d.compressedSize,G.uncompressedSize=d.uncompressedSize);var W=0;p&&(W|=8),N||!U&&!w||(W|=2048);var B=0,F=0;nt&&(B|=16),m==="UNIX"?(F=798,B|=function(lt,ut){var M=lt;return lt||(M=ut?16893:33204),(65535&M)<<16}(C.unixPermissions,nt)):(F=20,B|=function(lt){return 63&(lt||0)}(C.dosPermissions)),_=J.getUTCHours(),_<<=6,_|=J.getUTCMinutes(),_<<=5,_|=J.getUTCSeconds()/2,T=J.getUTCFullYear()-1980,T<<=4,T|=J.getUTCMonth()+1,T<<=5,T|=J.getUTCDate(),U&&(X=s(1,1)+s(c(z),4)+R,$+="up"+s(X.length,2)+X),w&&(j=s(1,1)+s(c(K),4)+S,$+="uc"+s(j.length,2)+j);var it="";return it+=`
\0`,it+=s(W,2),it+=L.magic,it+=s(_,2),it+=s(T,2),it+=s(G.crc32,4),it+=s(G.compressedSize,4),it+=s(G.uncompressedSize,4),it+=s(z.length,2),it+=s($.length,2),{fileRecord:h.LOCAL_FILE_HEADER+it+z+$,dirRecord:h.CENTRAL_FILE_HEADER+s(F,2)+it+s(K.length,2)+"\0\0\0\0"+s(B,4)+s(y,4)+z+$+K}}var o=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),h=r("../signature");function f(d,p,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,l),f.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-y-1))/g:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=a(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=a(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(y){return h.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,y=function(m,b,_,T,C){var L=o.transformTo("string",C(T));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(b,4)+s(_,4)+s(L.length,2)+L}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new a(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{o.forEach(function(f,d){h++;var p=function(b,_){var T=b||_,C=s[T];if(!C)throw new Error(T+" is not a valid compression method !");return C}(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},y=d.dir,m=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:f,dir:y,date:m,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function h(f){return new a.Promise(function(d,p){var g=f.decompressed.getContentWorker().pipe(new u);g.on("error",function(y){p(y)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(f,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,d.optimizedBinaryString,d.base64).then(function(g){var y=new l(d);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],m=g.files;if(d.checkCRC32)for(var b=0;b<m.length;b++)y.push(h(m[b]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),m=y.files,b=0;b<m.length;b++){var _=m[b],T=_.fileNameStr,C=s.resolve(_.fileNameStr);p.file(C,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:d.createFolders}),_.dir||(p.file(C).unsafeOriginalName=T)}return y.zipComment.length&&(p.comment=y.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var c=this;o.on("data",function(h,f){c.push(h)||c._helper.pause(),u&&u(f)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(C,L,N){var z,R=o.getTypeOf(L),H=o.extend(N||{},c);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(C=m(C)),H.createFolders&&(z=y(C))&&b.call(this,z,!0);var K=R==="string"&&H.binary===!1&&H.base64===!1;N&&N.binary!==void 0||(H.binary=!K),(L instanceof h&&L.uncompressedSize===0||H.dir||!L||L.length===0)&&(H.base64=!1,H.binary=!0,L="",H.compression="STORE",R="string");var S=null;S=L instanceof h||L instanceof l?L:p.isNode&&p.isStream(L)?new g(C,L):o.prepareContent(C,L,H.binary,H.optimizedBinaryString,H.base64);var U=new f(C,S,H);this.files[C]=U}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),d=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),y=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var L=C.lastIndexOf("/");return 0<L?C.substring(0,L):""},m=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},b=function(C,L){return L=L!==void 0?L:c.createFolders,C=m(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:L}),this.files[C]};function _(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var L,N,z;for(L in this.files)z=this.files[L],(N=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&C(N,z)},filter:function(C){var L=[];return this.forEach(function(N,z){C(N,z)&&L.push(z)}),L},file:function(C,L,N){if(arguments.length!==1)return C=this.root+C,s.call(this,C,L,N),this;if(_(C)){var z=C;return this.filter(function(H,K){return!K.dir&&z.test(H)})}var R=this.files[this.root+C];return R&&!R.dir?R:null},folder:function(C){if(!C)return this;if(_(C))return this.filter(function(R,H){return H.dir&&C.test(R)});var L=this.root+C,N=b.call(this,L),z=this.clone();return z.root=N.name,z},remove:function(C){C=this.root+C;var L=this.files[C];if(L||(C.slice(-1)!=="/"&&(C+="/"),L=this.files[C]),L&&!L.dir)delete this.files[C];else for(var N=this.filter(function(R,H){return H.name.slice(0,C.length)===C}),z=0;z<N.length;z++)delete this.files[N[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var L,N={};try{if((N=o.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");o.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var z=N.comment||this.comment||"";L=d.generateWorker(this,N,z)}catch(R){(L=new l("error")).error(R)}return new u(L,N.type||"string",N.mimeType)},generateAsync:function(C,L){return this.generateInternalStream(C).accumulate(L)},generateNodeStream:function(C,L){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(L)}};n.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===h)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&h===f[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new u(h):a.uint8array?new c(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),h=null;if(u.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,g){return new c.Promise(function(y,m){var b=[],_=p._internalType,T=p._outputType,C=p._mimeType;p.on("data",function(L,N){b.push(L),g&&g(N)}).on("error",function(L){b=[],m(L)}).on("end",function(){try{var L=function(N,z,R){switch(N){case"blob":return s.newBlob(s.transformTo("arraybuffer",z),R);case"base64":return l.encode(z);default:return s.transformTo(N,z)}}(T,function(N,z){var R,H=0,K=null,S=0;for(R=0;R<z.length;R++)S+=z[R].length;switch(N){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(K=new Uint8Array(S),R=0;R<z.length;R++)K.set(z[R],H),H+=z[R].length;return K;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+N+"'")}}(_,b),C);y(L)}catch(N){m(N)}b=[]}).resume()})}function d(p,g,y){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=y,s.checkSupport(m),this._worker=p.pipe(new a(m)),p.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}d.prototype={accumulate:function(p){return f(this,p)},on:function(p,g){var y=this;return p==="data"?this._worker.on(p,function(m){g.call(y,m.data,m.meta)}):this._worker.on(p,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return a.nodebuffer?o.newBufferFrom(d,"utf-8"):function(p){var g,y,m,b,_,T=p.length,C=0;for(b=0;b<T;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<T&&(64512&(m=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(m-56320),b++),C+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(C):new Array(C),b=_=0;_<C;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<T&&(64512&(m=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(m-56320),b++),y<128?g[_++]=y:(y<2048?g[_++]=192|y>>>6:(y<65536?g[_++]=224|y>>>12:(g[_++]=240|y>>>18,g[_++]=128|y>>>12&63),g[_++]=128|y>>>6&63),g[_++]=128|63&y);return g}(d)},i.utf8decode=function(d){return a.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,y,m,b,_=p.length,T=new Array(2*_);for(g=y=0;g<_;)if((m=p[g++])<128)T[y++]=m;else if(4<(b=u[m]))T[y++]=65533,g+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&g<_;)m=m<<6|63&p[g++],b--;1<b?T[y++]=65533:m<65536?T[y++]=m:(m-=65536,T[y++]=55296|m>>10&1023,T[y++]=56320|1023&m)}return T.length!==y&&(T.subarray?T=T.subarray(0,y):T.length=y),s.applyFromCharCode(T)}(d=s.transformTo(a.uint8array?"uint8array":"array",d))},s.inherits(h,l),h.prototype.processChunk=function(d){var p=s.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var y=function(b,_){var T;for((_=_||b.length)>b.length&&(_=b.length),T=_-1;0<=T&&(192&b[T])==128;)T--;return T<0||T===0?_:T+u[b[T]]>_?T:_}(p),m=p;y!==p.length&&(a.uint8array?(m=p.subarray(0,y),this.leftOver=p.subarray(y,p.length)):(m=p.slice(0,y),this.leftOver=p.slice(y,p.length))),this.push({data:i.utf8decode(m),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,l),f.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function u(g){return g}function c(g,y){for(var m=0;m<g.length;++m)y[m]=255&g.charCodeAt(m);return y}r("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(g),m.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,y,m){var b=[],_=0,T=g.length;if(T<=m)return String.fromCharCode.apply(null,g);for(;_<T;)y==="array"||y==="nodebuffer"?b.push(String.fromCharCode.apply(null,g.slice(_,Math.min(_+m,T)))):b.push(String.fromCharCode.apply(null,g.subarray(_,Math.min(_+m,T)))),_+=m;return b.join("")},stringifyByChar:function(g){for(var y="",m=0;m<g.length;m++)y+=String.fromCharCode(g[m]);return y},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var y=65536,m=i.getTypeOf(g),b=!0;if(m==="uint8array"?b=h.applyCanBeUsed.uint8array:m==="nodebuffer"&&(b=h.applyCanBeUsed.nodebuffer),b)for(;1<y;)try{return h.stringifyByChunk(g,m,y)}catch{y=Math.floor(y/2)}return h.stringifyByChar(g)}function d(g,y){for(var m=0;m<g.length;m++)y[m]=g[m];return y}i.applyFromCharCode=f;var p={};p.string={string:u,array:function(g){return c(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return c(g,new Uint8Array(g.length))},nodebuffer:function(g){return c(g,o.allocBuffer(g.length))}},p.array={string:f,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},p.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return o.newBufferFrom(g)}},p.nodebuffer={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:u},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var m=i.getTypeOf(y);return p[m][g](y)},i.resolve=function(g){for(var y=g.split("/"),m=[],b=0;b<y.length;b++){var _=y[b];_==="."||_===""&&b!==0&&b!==y.length-1||(_===".."?m.pop():m.push(_))}return m.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,m,b="";for(m=0;m<(g||"").length;m++)b+="\\x"+((y=g.charCodeAt(m))<16?"0":"")+y.toString(16).toUpperCase();return b},i.delay=function(g,y,m){setImmediate(function(){g.apply(m||null,y||[])})},i.inherits=function(g,y){function m(){}m.prototype=y.prototype,g.prototype=new m},i.extend=function(){var g,y,m={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&m[y]===void 0&&(m[y]=arguments[g][y]);return m},i.prepareContent=function(g,y,m,b,_){return l.Promise.resolve(y).then(function(T){return s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,L){var N=new FileReader;N.onload=function(z){C(z.target.result)},N.onerror=function(z){L(z.target.error)},N.readAsArrayBuffer(T)}):T}).then(function(T){var C=i.getTypeOf(T);return C?(C==="arraybuffer"?T=i.transformTo("uint8array",T):C==="string"&&(_?T=a.decode(T):m&&b!==!0&&(T=function(L){return c(L,s.uint8array?new Uint8Array(L.length):new Array(L.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(h)+")")}},isSignature:function(h,f){var d=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===f;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",d=a.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,d,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),f=this.reader.readInt(4),d=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=f-d;if(0<p)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),h=r("./support");function f(d,p){this.options=d,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(y){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===y)return c[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,y,m=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<m;)p=d.readInt(2),g=d.readInt(2),y=d.readData(g),this.extraFields[p]={id:p,length:g,value:y};d.setIndex(m)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var m=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(d.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(p,g,y){this.name=p,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,y="string";try{if(!p)throw new Error("No output type specified.");var m=(y=p.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var b=!this._dataBinary;b&&!m&&(g=g.pipe(new l.Utf8EncodeWorker)),!b&&m&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(_){(g=new c("error")).error(_)}return new a(g,y,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(y,p,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)s.prototype[h[d]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(p),h=s.document.createTextNode("");c.observe(h,{characterData:!0}),a=function(){h.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}var d=[];function p(){var g,y;o=!0;for(var m=d.length;m;){for(y=d,d=[],g=-1;++g<m;)y[g]();m=d.length}o=!1}n.exports=function(g){d.push(g)!==1||o||a()}}).call(this,typeof yi<"u"?yi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==a&&g(this,m)}function f(m,b,_){this.promise=m,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function d(m,b,_){s(function(){var T;try{T=b(_)}catch(C){return o.reject(m,C)}T===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,T)})}function p(m){var b=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof b=="function")return function(){b.apply(m,arguments)}}function g(m,b){var _=!1;function T(N){_||(_=!0,o.reject(m,N))}function C(N){_||(_=!0,o.resolve(m,N))}var L=y(function(){b(C,T)});L.status==="error"&&T(L.value)}function y(m,b){var _={};try{_.value=m(b),_.status="success"}catch(T){_.status="error",_.value=T}return _}(n.exports=h).prototype.finally=function(m){if(typeof m!="function")return this;var b=this.constructor;return this.then(function(_){return b.resolve(m()).then(function(){return _})},function(_){return b.resolve(m()).then(function(){throw _})})},h.prototype.catch=function(m){return this.then(null,m)},h.prototype.then=function(m,b){if(typeof m!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var _=new this.constructor(a);return this.state!==c?d(_,this.state===u?m:b,this.outcome):this.queue.push(new f(_,m,b)),_},f.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},f.prototype.otherCallFulfilled=function(m){d(this.promise,this.onFulfilled,m)},f.prototype.callRejected=function(m){o.reject(this.promise,m)},f.prototype.otherCallRejected=function(m){d(this.promise,this.onRejected,m)},o.resolve=function(m,b){var _=y(p,b);if(_.status==="error")return o.reject(m,_.value);var T=_.value;if(T)g(m,T);else{m.state=u,m.outcome=b;for(var C=-1,L=m.queue.length;++C<L;)m.queue[C].callFulfilled(b)}return m},o.reject=function(m,b){m.state=l,m.outcome=b;for(var _=-1,T=m.queue.length;++_<T;)m.queue[_].callRejected(b);return m},h.resolve=function(m){return m instanceof this?m:o.resolve(new this(a),m)},h.reject=function(m){var b=new this(a);return o.reject(b,m)},h.all=function(m){var b=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,T=!1;if(!_)return this.resolve([]);for(var C=new Array(_),L=0,N=-1,z=new this(a);++N<_;)R(m[N],N);return z;function R(H,K){b.resolve(H).then(function(S){C[K]=S,++L!==_||T||(T=!0,o.resolve(z,C))},function(S){T||(T=!0,o.reject(z,S))})}},h.race=function(m){var b=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,T=!1;if(!_)return this.resolve([]);for(var C=-1,L=new this(a);++C<_;)N=m[C],b.resolve(N).then(function(z){T||(T=!0,o.resolve(L,z))},function(z){T||(T=!0,o.reject(L,z))});var N;return L}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,h=0,f=-1,d=0,p=8;function g(m){if(!(this instanceof g))return new g(m);this.options=a.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},m||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(_!==h)throw new Error(l[_]);if(b.header&&s.deflateSetHeader(this.strm,b.header),b.dictionary){var T;if(T=typeof b.dictionary=="string"?o.string2buf(b.dictionary):c.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(_=s.deflateSetDictionary(this.strm,T))!==h)throw new Error(l[_]);this._dict_set=!0}}function y(m,b){var _=new g(b);if(_.push(m,!0),_.err)throw _.msg||l[_.err];return _.result}g.prototype.push=function(m,b){var _,T,C=this.strm,L=this.options.chunkSize;if(this.ended)return!1;T=b===~~b?b:b===!0?4:0,typeof m=="string"?C.input=o.string2buf(m):c.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(L),C.next_out=0,C.avail_out=L),(_=s.deflate(C,T))!==1&&_!==h)return this.onEnd(_),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(C.output,C.next_out))):this.onData(a.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&_!==1);return T===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===h):T!==2||(this.onEnd(h),!(C.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(m,b){return(b=b||{}).raw=!0,y(m,b)},i.gzip=function(m,b){return(b=b||{}).gzip=!0,y(m,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,y.windowBits);if(m!==l.Z_OK)throw new Error(u[m]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function p(g,y){var m=new d(y);if(m.push(g,!0),m.err)throw m.msg||u[m.err];return m.result}d.prototype.push=function(g,y){var m,b,_,T,C,L,N=this.strm,z=this.options.chunkSize,R=this.options.dictionary,H=!1;if(this.ended)return!1;b=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?N.input=o.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?N.input=new Uint8Array(g):N.input=g,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(z),N.next_out=0,N.avail_out=z),(m=s.inflate(N,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(L=typeof R=="string"?o.string2buf(R):f.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,m=s.inflateSetDictionary(this.strm,L)),m===l.Z_BUF_ERROR&&H===!0&&(m=l.Z_OK,H=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&m!==l.Z_STREAM_END&&(N.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(N.output,N.next_out),T=N.next_out-_,C=o.buf2string(N.output,_),N.next_out=T,N.avail_out=z-T,T&&a.arraySet(N.output,N.output,_,T,0),this.onData(C)):this.onData(a.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(H=!0)}while((0<N.avail_in||N.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(N.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,p(g,y)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,c,h,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),f);else for(var d=0;d<h;d++)l[f+d]=u[c+d]},flattenChunks:function(l){var u,c,h,f,d,p;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(p=new Uint8Array(h),u=f=0,c=l.length;u<c;u++)d=l[u],p.set(d,f),f+=d.length;return p}},o={arraySet:function(l,u,c,h,f){for(var d=0;d<h;d++)l[f+d]=u[c+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,f){if(f<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var d="",p=0;p<f;p++)d+=String.fromCharCode(h[p]);return d}l[254]=l[254]=1,i.string2buf=function(h){var f,d,p,g,y,m=h.length,b=0;for(g=0;g<m;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<m&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),b+=d<128?1:d<2048?2:d<65536?3:4;for(f=new s.Buf8(b),g=y=0;y<b;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<m&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?f[y++]=d:(d<2048?f[y++]=192|d>>>6:(d<65536?f[y++]=224|d>>>12:(f[y++]=240|d>>>18,f[y++]=128|d>>>12&63),f[y++]=128|d>>>6&63),f[y++]=128|63&d);return f},i.buf2binstring=function(h){return c(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),d=0,p=f.length;d<p;d++)f[d]=h.charCodeAt(d);return f},i.buf2string=function(h,f){var d,p,g,y,m=f||h.length,b=new Array(2*m);for(d=p=0;d<m;)if((g=h[d++])<128)b[p++]=g;else if(4<(y=l[g]))b[p++]=65533,d+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&d<m;)g=g<<6|63&h[d++],y--;1<y?b[p++]=65533:g<65536?b[p++]=g:(g-=65536,b[p++]=55296|g>>10&1023,b[p++]=56320|1023&g)}return c(b,p)},i.utf8border=function(h,f){var d;for((f=f||h.length)>h.length&&(f=h.length),d=f-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?f:d+l[h[d]]>f?d:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var u=65535&s|0,c=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;c=c+(u=u+a[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();n.exports=function(a,o,l,u){var c=s,h=u+l;a^=-1;for(var f=u;f<h;f++)a=a>>>8^c[255&(a^o[f])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),h=0,f=4,d=0,p=-2,g=-1,y=4,m=2,b=8,_=9,T=286,C=30,L=19,N=2*T+1,z=15,R=3,H=258,K=H+R+1,S=42,U=113,w=1,$=2,X=3,j=4;function nt(A,ot){return A.msg=c[ot],ot}function J(A){return(A<<1)-(4<A?9:0)}function G(A){for(var ot=A.length;0<=--ot;)A[ot]=0}function W(A){var ot=A.state,O=ot.pending;O>A.avail_out&&(O=A.avail_out),O!==0&&(a.arraySet(A.output,ot.pending_buf,ot.pending_out,O,A.next_out),A.next_out+=O,ot.pending_out+=O,A.total_out+=O,A.avail_out-=O,ot.pending-=O,ot.pending===0&&(ot.pending_out=0))}function B(A,ot){o._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ot),A.block_start=A.strstart,W(A.strm)}function F(A,ot){A.pending_buf[A.pending++]=ot}function it(A,ot){A.pending_buf[A.pending++]=ot>>>8&255,A.pending_buf[A.pending++]=255&ot}function lt(A,ot){var O,x,v=A.max_chain_length,I=A.strstart,V=A.prev_length,tt=A.nice_match,q=A.strstart>A.w_size-K?A.strstart-(A.w_size-K):0,pt=A.window,Et=A.w_mask,gt=A.prev,ht=A.strstart+H,wt=pt[I+V-1],St=pt[I+V];A.prev_length>=A.good_match&&(v>>=2),tt>A.lookahead&&(tt=A.lookahead);do if(pt[(O=ot)+V]===St&&pt[O+V-1]===wt&&pt[O]===pt[I]&&pt[++O]===pt[I+1]){I+=2,O++;do;while(pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&I<ht);if(x=H-(ht-I),I=ht-H,V<x){if(A.match_start=ot,tt<=(V=x))break;wt=pt[I+V-1],St=pt[I+V]}}while((ot=gt[ot&Et])>q&&--v!=0);return V<=A.lookahead?V:A.lookahead}function ut(A){var ot,O,x,v,I,V,tt,q,pt,Et,gt=A.w_size;do{if(v=A.window_size-A.lookahead-A.strstart,A.strstart>=gt+(gt-K)){for(a.arraySet(A.window,A.window,gt,gt,0),A.match_start-=gt,A.strstart-=gt,A.block_start-=gt,ot=O=A.hash_size;x=A.head[--ot],A.head[ot]=gt<=x?x-gt:0,--O;);for(ot=O=gt;x=A.prev[--ot],A.prev[ot]=gt<=x?x-gt:0,--O;);v+=gt}if(A.strm.avail_in===0)break;if(V=A.strm,tt=A.window,q=A.strstart+A.lookahead,pt=v,Et=void 0,Et=V.avail_in,pt<Et&&(Et=pt),O=Et===0?0:(V.avail_in-=Et,a.arraySet(tt,V.input,V.next_in,Et,q),V.state.wrap===1?V.adler=l(V.adler,tt,Et,q):V.state.wrap===2&&(V.adler=u(V.adler,tt,Et,q)),V.next_in+=Et,V.total_in+=Et,Et),A.lookahead+=O,A.lookahead+A.insert>=R)for(I=A.strstart-A.insert,A.ins_h=A.window[I],A.ins_h=(A.ins_h<<A.hash_shift^A.window[I+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[I+R-1])&A.hash_mask,A.prev[I&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=I,I++,A.insert--,!(A.lookahead+A.insert<R)););}while(A.lookahead<K&&A.strm.avail_in!==0)}function M(A,ot){for(var O,x;;){if(A.lookahead<K){if(ut(A),A.lookahead<K&&ot===h)return w;if(A.lookahead===0)break}if(O=0,A.lookahead>=R&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+R-1])&A.hash_mask,O=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),O!==0&&A.strstart-O<=A.w_size-K&&(A.match_length=lt(A,O)),A.match_length>=R)if(x=o._tr_tally(A,A.strstart-A.match_start,A.match_length-R),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=R){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+R-1])&A.hash_mask,O=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else x=o._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(x&&(B(A,!1),A.strm.avail_out===0))return w}return A.insert=A.strstart<R-1?A.strstart:R-1,ot===f?(B(A,!0),A.strm.avail_out===0?X:j):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?w:$}function D(A,ot){for(var O,x,v;;){if(A.lookahead<K){if(ut(A),A.lookahead<K&&ot===h)return w;if(A.lookahead===0)break}if(O=0,A.lookahead>=R&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+R-1])&A.hash_mask,O=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=R-1,O!==0&&A.prev_length<A.max_lazy_match&&A.strstart-O<=A.w_size-K&&(A.match_length=lt(A,O),A.match_length<=5&&(A.strategy===1||A.match_length===R&&4096<A.strstart-A.match_start)&&(A.match_length=R-1)),A.prev_length>=R&&A.match_length<=A.prev_length){for(v=A.strstart+A.lookahead-R,x=o._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-R),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=v&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+R-1])&A.hash_mask,O=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=R-1,A.strstart++,x&&(B(A,!1),A.strm.avail_out===0))return w}else if(A.match_available){if((x=o._tr_tally(A,0,A.window[A.strstart-1]))&&B(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return w}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(x=o._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<R-1?A.strstart:R-1,ot===f?(B(A,!0),A.strm.avail_out===0?X:j):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?w:$}function at(A,ot,O,x,v){this.good_length=A,this.max_lazy=ot,this.nice_length=O,this.max_chain=x,this.func=v}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*N),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*L+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(z+1),this.heap=new a.Buf16(2*T+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*T+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(A){var ot;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=m,(ot=A.state).pending=0,ot.pending_out=0,ot.wrap<0&&(ot.wrap=-ot.wrap),ot.status=ot.wrap?S:U,A.adler=ot.wrap===2?0:1,ot.last_flush=h,o._tr_init(ot),d):nt(A,p)}function Z(A){var ot=Y(A);return ot===d&&function(O){O.window_size=2*O.w_size,G(O.head),O.max_lazy_match=s[O.level].max_lazy,O.good_match=s[O.level].good_length,O.nice_match=s[O.level].nice_length,O.max_chain_length=s[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=R-1,O.match_available=0,O.ins_h=0}(A.state),ot}function _t(A,ot,O,x,v,I){if(!A)return p;var V=1;if(ot===g&&(ot=6),x<0?(V=0,x=-x):15<x&&(V=2,x-=16),v<1||_<v||O!==b||x<8||15<x||ot<0||9<ot||I<0||y<I)return nt(A,p);x===8&&(x=9);var tt=new Q;return(A.state=tt).strm=A,tt.wrap=V,tt.gzhead=null,tt.w_bits=x,tt.w_size=1<<tt.w_bits,tt.w_mask=tt.w_size-1,tt.hash_bits=v+7,tt.hash_size=1<<tt.hash_bits,tt.hash_mask=tt.hash_size-1,tt.hash_shift=~~((tt.hash_bits+R-1)/R),tt.window=new a.Buf8(2*tt.w_size),tt.head=new a.Buf16(tt.hash_size),tt.prev=new a.Buf16(tt.w_size),tt.lit_bufsize=1<<v+6,tt.pending_buf_size=4*tt.lit_bufsize,tt.pending_buf=new a.Buf8(tt.pending_buf_size),tt.d_buf=1*tt.lit_bufsize,tt.l_buf=3*tt.lit_bufsize,tt.level=ot,tt.strategy=I,tt.method=O,Z(A)}s=[new at(0,0,0,0,function(A,ot){var O=65535;for(O>A.pending_buf_size-5&&(O=A.pending_buf_size-5);;){if(A.lookahead<=1){if(ut(A),A.lookahead===0&&ot===h)return w;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var x=A.block_start+O;if((A.strstart===0||A.strstart>=x)&&(A.lookahead=A.strstart-x,A.strstart=x,B(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-K&&(B(A,!1),A.strm.avail_out===0))return w}return A.insert=0,ot===f?(B(A,!0),A.strm.avail_out===0?X:j):(A.strstart>A.block_start&&(B(A,!1),A.strm.avail_out),w)}),new at(4,4,8,4,M),new at(4,5,16,8,M),new at(4,6,32,32,M),new at(4,4,16,16,D),new at(8,16,32,32,D),new at(8,16,128,128,D),new at(8,32,128,256,D),new at(32,128,258,1024,D),new at(32,258,258,4096,D)],i.deflateInit=function(A,ot){return _t(A,ot,b,15,8,0)},i.deflateInit2=_t,i.deflateReset=Z,i.deflateResetKeep=Y,i.deflateSetHeader=function(A,ot){return A&&A.state?A.state.wrap!==2?p:(A.state.gzhead=ot,d):p},i.deflate=function(A,ot){var O,x,v,I;if(!A||!A.state||5<ot||ot<0)return A?nt(A,p):p;if(x=A.state,!A.output||!A.input&&A.avail_in!==0||x.status===666&&ot!==f)return nt(A,A.avail_out===0?-5:p);if(x.strm=A,O=x.last_flush,x.last_flush=ot,x.status===S)if(x.wrap===2)A.adler=0,F(x,31),F(x,139),F(x,8),x.gzhead?(F(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),F(x,255&x.gzhead.time),F(x,x.gzhead.time>>8&255),F(x,x.gzhead.time>>16&255),F(x,x.gzhead.time>>24&255),F(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),F(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(F(x,255&x.gzhead.extra.length),F(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(A.adler=u(A.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(F(x,0),F(x,0),F(x,0),F(x,0),F(x,0),F(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),F(x,3),x.status=U);else{var V=b+(x.w_bits-8<<4)<<8;V|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(V|=32),V+=31-V%31,x.status=U,it(x,V),x.strstart!==0&&(it(x,A.adler>>>16),it(x,65535&A.adler)),A.adler=1}if(x.status===69)if(x.gzhead.extra){for(v=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),W(A),v=x.pending,x.pending!==x.pending_buf_size));)F(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){v=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),W(A),v=x.pending,x.pending===x.pending_buf_size)){I=1;break}I=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,F(x,I)}while(I!==0);x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),I===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){v=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),W(A),v=x.pending,x.pending===x.pending_buf_size)){I=1;break}I=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,F(x,I)}while(I!==0);x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),I===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&W(A),x.pending+2<=x.pending_buf_size&&(F(x,255&A.adler),F(x,A.adler>>8&255),A.adler=0,x.status=U)):x.status=U),x.pending!==0){if(W(A),A.avail_out===0)return x.last_flush=-1,d}else if(A.avail_in===0&&J(ot)<=J(O)&&ot!==f)return nt(A,-5);if(x.status===666&&A.avail_in!==0)return nt(A,-5);if(A.avail_in!==0||x.lookahead!==0||ot!==h&&x.status!==666){var tt=x.strategy===2?function(q,pt){for(var Et;;){if(q.lookahead===0&&(ut(q),q.lookahead===0)){if(pt===h)return w;break}if(q.match_length=0,Et=o._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,Et&&(B(q,!1),q.strm.avail_out===0))return w}return q.insert=0,pt===f?(B(q,!0),q.strm.avail_out===0?X:j):q.last_lit&&(B(q,!1),q.strm.avail_out===0)?w:$}(x,ot):x.strategy===3?function(q,pt){for(var Et,gt,ht,wt,St=q.window;;){if(q.lookahead<=H){if(ut(q),q.lookahead<=H&&pt===h)return w;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=R&&0<q.strstart&&(gt=St[ht=q.strstart-1])===St[++ht]&&gt===St[++ht]&&gt===St[++ht]){wt=q.strstart+H;do;while(gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&ht<wt);q.match_length=H-(wt-ht),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=R?(Et=o._tr_tally(q,1,q.match_length-R),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(Et=o._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),Et&&(B(q,!1),q.strm.avail_out===0))return w}return q.insert=0,pt===f?(B(q,!0),q.strm.avail_out===0?X:j):q.last_lit&&(B(q,!1),q.strm.avail_out===0)?w:$}(x,ot):s[x.level].func(x,ot);if(tt!==X&&tt!==j||(x.status=666),tt===w||tt===X)return A.avail_out===0&&(x.last_flush=-1),d;if(tt===$&&(ot===1?o._tr_align(x):ot!==5&&(o._tr_stored_block(x,0,0,!1),ot===3&&(G(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),W(A),A.avail_out===0))return x.last_flush=-1,d}return ot!==f?d:x.wrap<=0?1:(x.wrap===2?(F(x,255&A.adler),F(x,A.adler>>8&255),F(x,A.adler>>16&255),F(x,A.adler>>24&255),F(x,255&A.total_in),F(x,A.total_in>>8&255),F(x,A.total_in>>16&255),F(x,A.total_in>>24&255)):(it(x,A.adler>>>16),it(x,65535&A.adler)),W(A),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?d:1)},i.deflateEnd=function(A){var ot;return A&&A.state?(ot=A.state.status)!==S&&ot!==69&&ot!==73&&ot!==91&&ot!==103&&ot!==U&&ot!==666?nt(A,p):(A.state=null,ot===U?nt(A,-3):d):p},i.deflateSetDictionary=function(A,ot){var O,x,v,I,V,tt,q,pt,Et=ot.length;if(!A||!A.state||(I=(O=A.state).wrap)===2||I===1&&O.status!==S||O.lookahead)return p;for(I===1&&(A.adler=l(A.adler,ot,Et,0)),O.wrap=0,Et>=O.w_size&&(I===0&&(G(O.head),O.strstart=0,O.block_start=0,O.insert=0),pt=new a.Buf8(O.w_size),a.arraySet(pt,ot,Et-O.w_size,O.w_size,0),ot=pt,Et=O.w_size),V=A.avail_in,tt=A.next_in,q=A.input,A.avail_in=Et,A.next_in=0,A.input=ot,ut(O);O.lookahead>=R;){for(x=O.strstart,v=O.lookahead-(R-1);O.ins_h=(O.ins_h<<O.hash_shift^O.window[x+R-1])&O.hash_mask,O.prev[x&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=x,x++,--v;);O.strstart=x,O.lookahead=R-1,ut(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=R-1,O.match_available=0,A.next_in=tt,A.input=q,A.avail_in=V,O.wrap=I,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,u,c,h,f,d,p,g,y,m,b,_,T,C,L,N,z,R,H,K,S,U,w,$;o=s.state,l=s.next_in,w=s.input,u=l+(s.avail_in-5),c=s.next_out,$=s.output,h=c-(a-s.avail_out),f=c+(s.avail_out-257),d=o.dmax,p=o.wsize,g=o.whave,y=o.wnext,m=o.window,b=o.hold,_=o.bits,T=o.lencode,C=o.distcode,L=(1<<o.lenbits)-1,N=(1<<o.distbits)-1;t:do{_<15&&(b+=w[l++]<<_,_+=8,b+=w[l++]<<_,_+=8),z=T[b&L];e:for(;;){if(b>>>=R=z>>>24,_-=R,(R=z>>>16&255)===0)$[c++]=65535&z;else{if(!(16&R)){if((64&R)==0){z=T[(65535&z)+(b&(1<<R)-1)];continue e}if(32&R){o.mode=12;break t}s.msg="invalid literal/length code",o.mode=30;break t}H=65535&z,(R&=15)&&(_<R&&(b+=w[l++]<<_,_+=8),H+=b&(1<<R)-1,b>>>=R,_-=R),_<15&&(b+=w[l++]<<_,_+=8,b+=w[l++]<<_,_+=8),z=C[b&N];r:for(;;){if(b>>>=R=z>>>24,_-=R,!(16&(R=z>>>16&255))){if((64&R)==0){z=C[(65535&z)+(b&(1<<R)-1)];continue r}s.msg="invalid distance code",o.mode=30;break t}if(K=65535&z,_<(R&=15)&&(b+=w[l++]<<_,(_+=8)<R&&(b+=w[l++]<<_,_+=8)),d<(K+=b&(1<<R)-1)){s.msg="invalid distance too far back",o.mode=30;break t}if(b>>>=R,_-=R,(R=c-h)<K){if(g<(R=K-R)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break t}if(U=m,(S=0)===y){if(S+=p-R,R<H){for(H-=R;$[c++]=m[S++],--R;);S=c-K,U=$}}else if(y<R){if(S+=p+y-R,(R-=y)<H){for(H-=R;$[c++]=m[S++],--R;);if(S=0,y<H){for(H-=R=y;$[c++]=m[S++],--R;);S=c-K,U=$}}}else if(S+=y-R,R<H){for(H-=R;$[c++]=m[S++],--R;);S=c-K,U=$}for(;2<H;)$[c++]=U[S++],$[c++]=U[S++],$[c++]=U[S++],H-=3;H&&($[c++]=U[S++],1<H&&($[c++]=U[S++]))}else{for(S=c-K;$[c++]=$[S++],$[c++]=$[S++],$[c++]=$[S++],2<(H-=3););H&&($[c++]=$[S++],1<H&&($[c++]=$[S++]))}break}}break}}while(l<u&&c<f);l-=H=_>>3,b&=(1<<(_-=H<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<f?f-c+257:257-(c-f),o.hold=b,o.bits=_}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,h=2,f=0,d=-2,p=1,g=852,y=592;function m(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(S){var U;return S&&S.state?(U=S.state,S.total_in=S.total_out=U.total=0,S.msg="",U.wrap&&(S.adler=1&U.wrap),U.mode=p,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(g),U.distcode=U.distdyn=new s.Buf32(y),U.sane=1,U.back=-1,f):d}function T(S){var U;return S&&S.state?((U=S.state).wsize=0,U.whave=0,U.wnext=0,_(S)):d}function C(S,U){var w,$;return S&&S.state?($=S.state,U<0?(w=0,U=-U):(w=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?d:($.window!==null&&$.wbits!==U&&($.window=null),$.wrap=w,$.wbits=U,T(S))):d}function L(S,U){var w,$;return S?($=new b,(S.state=$).window=null,(w=C(S,U))!==f&&(S.state=null),w):d}var N,z,R=!0;function H(S){if(R){var U;for(N=new s.Buf32(512),z=new s.Buf32(32),U=0;U<144;)S.lens[U++]=8;for(;U<256;)S.lens[U++]=9;for(;U<280;)S.lens[U++]=7;for(;U<288;)S.lens[U++]=8;for(u(c,S.lens,0,288,N,0,S.work,{bits:9}),U=0;U<32;)S.lens[U++]=5;u(h,S.lens,0,32,z,0,S.work,{bits:5}),R=!1}S.lencode=N,S.lenbits=9,S.distcode=z,S.distbits=5}function K(S,U,w,$){var X,j=S.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new s.Buf8(j.wsize)),$>=j.wsize?(s.arraySet(j.window,U,w-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):($<(X=j.wsize-j.wnext)&&(X=$),s.arraySet(j.window,U,w-$,X,j.wnext),($-=X)?(s.arraySet(j.window,U,w-$,$,0),j.wnext=$,j.whave=j.wsize):(j.wnext+=X,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=X))),0}i.inflateReset=T,i.inflateReset2=C,i.inflateResetKeep=_,i.inflateInit=function(S){return L(S,15)},i.inflateInit2=L,i.inflate=function(S,U){var w,$,X,j,nt,J,G,W,B,F,it,lt,ut,M,D,at,Q,Y,Z,_t,A,ot,O,x,v=0,I=new s.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return d;(w=S.state).mode===12&&(w.mode=13),nt=S.next_out,X=S.output,G=S.avail_out,j=S.next_in,$=S.input,J=S.avail_in,W=w.hold,B=w.bits,F=J,it=G,ot=f;t:for(;;)switch(w.mode){case p:if(w.wrap===0){w.mode=13;break}for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(2&w.wrap&&W===35615){I[w.check=0]=255&W,I[1]=W>>>8&255,w.check=o(w.check,I,2,0),B=W=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&W)<<8)+(W>>8))%31){S.msg="incorrect header check",w.mode=30;break}if((15&W)!=8){S.msg="unknown compression method",w.mode=30;break}if(B-=4,A=8+(15&(W>>>=4)),w.wbits===0)w.wbits=A;else if(A>w.wbits){S.msg="invalid window size",w.mode=30;break}w.dmax=1<<A,S.adler=w.check=1,w.mode=512&W?10:12,B=W=0;break;case 2:for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(w.flags=W,(255&w.flags)!=8){S.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){S.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=W>>8&1),512&w.flags&&(I[0]=255&W,I[1]=W>>>8&255,w.check=o(w.check,I,2,0)),B=W=0,w.mode=3;case 3:for(;B<32;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.head&&(w.head.time=W),512&w.flags&&(I[0]=255&W,I[1]=W>>>8&255,I[2]=W>>>16&255,I[3]=W>>>24&255,w.check=o(w.check,I,4,0)),B=W=0,w.mode=4;case 4:for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.head&&(w.head.xflags=255&W,w.head.os=W>>8),512&w.flags&&(I[0]=255&W,I[1]=W>>>8&255,w.check=o(w.check,I,2,0)),B=W=0,w.mode=5;case 5:if(1024&w.flags){for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.length=W,w.head&&(w.head.extra_len=W),512&w.flags&&(I[0]=255&W,I[1]=W>>>8&255,w.check=o(w.check,I,2,0)),B=W=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(J<(lt=w.length)&&(lt=J),lt&&(w.head&&(A=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),s.arraySet(w.head.extra,$,j,lt,A)),512&w.flags&&(w.check=o(w.check,$,lt,j)),J-=lt,j+=lt,w.length-=lt),w.length))break t;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(J===0)break t;for(lt=0;A=$[j+lt++],w.head&&A&&w.length<65536&&(w.head.name+=String.fromCharCode(A)),A&&lt<J;);if(512&w.flags&&(w.check=o(w.check,$,lt,j)),J-=lt,j+=lt,A)break t}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(J===0)break t;for(lt=0;A=$[j+lt++],w.head&&A&&w.length<65536&&(w.head.comment+=String.fromCharCode(A)),A&&lt<J;);if(512&w.flags&&(w.check=o(w.check,$,lt,j)),J-=lt,j+=lt,A)break t}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(W!==(65535&w.check)){S.msg="header crc mismatch",w.mode=30;break}B=W=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),S.adler=w.check=0,w.mode=12;break;case 10:for(;B<32;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}S.adler=w.check=m(W),B=W=0,w.mode=11;case 11:if(w.havedict===0)return S.next_out=nt,S.avail_out=G,S.next_in=j,S.avail_in=J,w.hold=W,w.bits=B,2;S.adler=w.check=1,w.mode=12;case 12:if(U===5||U===6)break t;case 13:if(w.last){W>>>=7&B,B-=7&B,w.mode=27;break}for(;B<3;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}switch(w.last=1&W,B-=1,3&(W>>>=1)){case 0:w.mode=14;break;case 1:if(H(w),w.mode=20,U!==6)break;W>>>=2,B-=2;break t;case 2:w.mode=17;break;case 3:S.msg="invalid block type",w.mode=30}W>>>=2,B-=2;break;case 14:for(W>>>=7&B,B-=7&B;B<32;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if((65535&W)!=(W>>>16^65535)){S.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&W,B=W=0,w.mode=15,U===6)break t;case 15:w.mode=16;case 16:if(lt=w.length){if(J<lt&&(lt=J),G<lt&&(lt=G),lt===0)break t;s.arraySet(X,$,j,lt,nt),J-=lt,j+=lt,G-=lt,nt+=lt,w.length-=lt;break}w.mode=12;break;case 17:for(;B<14;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(w.nlen=257+(31&W),W>>>=5,B-=5,w.ndist=1+(31&W),W>>>=5,B-=5,w.ncode=4+(15&W),W>>>=4,B-=4,286<w.nlen||30<w.ndist){S.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;B<3;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.lens[V[w.have++]]=7&W,W>>>=3,B-=3}for(;w.have<19;)w.lens[V[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,O={bits:w.lenbits},ot=u(0,w.lens,0,19,w.lencode,0,w.work,O),w.lenbits=O.bits,ot){S.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;at=(v=w.lencode[W&(1<<w.lenbits)-1])>>>16&255,Q=65535&v,!((D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(Q<16)W>>>=D,B-=D,w.lens[w.have++]=Q;else{if(Q===16){for(x=D+2;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(W>>>=D,B-=D,w.have===0){S.msg="invalid bit length repeat",w.mode=30;break}A=w.lens[w.have-1],lt=3+(3&W),W>>>=2,B-=2}else if(Q===17){for(x=D+3;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}B-=D,A=0,lt=3+(7&(W>>>=D)),W>>>=3,B-=3}else{for(x=D+7;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}B-=D,A=0,lt=11+(127&(W>>>=D)),W>>>=7,B-=7}if(w.have+lt>w.nlen+w.ndist){S.msg="invalid bit length repeat",w.mode=30;break}for(;lt--;)w.lens[w.have++]=A}}if(w.mode===30)break;if(w.lens[256]===0){S.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,O={bits:w.lenbits},ot=u(c,w.lens,0,w.nlen,w.lencode,0,w.work,O),w.lenbits=O.bits,ot){S.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,O={bits:w.distbits},ot=u(h,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,O),w.distbits=O.bits,ot){S.msg="invalid distances set",w.mode=30;break}if(w.mode=20,U===6)break t;case 20:w.mode=21;case 21:if(6<=J&&258<=G){S.next_out=nt,S.avail_out=G,S.next_in=j,S.avail_in=J,w.hold=W,w.bits=B,l(S,it),nt=S.next_out,X=S.output,G=S.avail_out,j=S.next_in,$=S.input,J=S.avail_in,W=w.hold,B=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;at=(v=w.lencode[W&(1<<w.lenbits)-1])>>>16&255,Q=65535&v,!((D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(at&&(240&at)==0){for(Y=D,Z=at,_t=Q;at=(v=w.lencode[_t+((W&(1<<Y+Z)-1)>>Y)])>>>16&255,Q=65535&v,!(Y+(D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}W>>>=Y,B-=Y,w.back+=Y}if(W>>>=D,B-=D,w.back+=D,w.length=Q,at===0){w.mode=26;break}if(32&at){w.back=-1,w.mode=12;break}if(64&at){S.msg="invalid literal/length code",w.mode=30;break}w.extra=15&at,w.mode=22;case 22:if(w.extra){for(x=w.extra;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.length+=W&(1<<w.extra)-1,W>>>=w.extra,B-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;at=(v=w.distcode[W&(1<<w.distbits)-1])>>>16&255,Q=65535&v,!((D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if((240&at)==0){for(Y=D,Z=at,_t=Q;at=(v=w.distcode[_t+((W&(1<<Y+Z)-1)>>Y)])>>>16&255,Q=65535&v,!(Y+(D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}W>>>=Y,B-=Y,w.back+=Y}if(W>>>=D,B-=D,w.back+=D,64&at){S.msg="invalid distance code",w.mode=30;break}w.offset=Q,w.extra=15&at,w.mode=24;case 24:if(w.extra){for(x=w.extra;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.offset+=W&(1<<w.extra)-1,W>>>=w.extra,B-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){S.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(G===0)break t;if(lt=it-G,w.offset>lt){if((lt=w.offset-lt)>w.whave&&w.sane){S.msg="invalid distance too far back",w.mode=30;break}ut=lt>w.wnext?(lt-=w.wnext,w.wsize-lt):w.wnext-lt,lt>w.length&&(lt=w.length),M=w.window}else M=X,ut=nt-w.offset,lt=w.length;for(G<lt&&(lt=G),G-=lt,w.length-=lt;X[nt++]=M[ut++],--lt;);w.length===0&&(w.mode=21);break;case 26:if(G===0)break t;X[nt++]=w.length,G--,w.mode=21;break;case 27:if(w.wrap){for(;B<32;){if(J===0)break t;J--,W|=$[j++]<<B,B+=8}if(it-=G,S.total_out+=it,w.total+=it,it&&(S.adler=w.check=w.flags?o(w.check,X,it,nt-it):a(w.check,X,it,nt-it)),it=G,(w.flags?W:m(W))!==w.check){S.msg="incorrect data check",w.mode=30;break}B=W=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;B<32;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(W!==(4294967295&w.total)){S.msg="incorrect length check",w.mode=30;break}B=W=0}w.mode=29;case 29:ot=1;break t;case 30:ot=-3;break t;case 31:return-4;case 32:default:return d}return S.next_out=nt,S.avail_out=G,S.next_in=j,S.avail_in=J,w.hold=W,w.bits=B,(w.wsize||it!==S.avail_out&&w.mode<30&&(w.mode<27||U!==4))&&K(S,S.output,S.next_out,it-S.avail_out)?(w.mode=31,-4):(F-=S.avail_in,it-=S.avail_out,S.total_in+=F,S.total_out+=it,w.total+=it,w.wrap&&it&&(S.adler=w.check=w.flags?o(w.check,X,it,S.next_out-it):a(w.check,X,it,S.next_out-it)),S.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(F==0&&it===0||U===4)&&ot===f&&(ot=-5),ot)},i.inflateEnd=function(S){if(!S||!S.state)return d;var U=S.state;return U.window&&(U.window=null),S.state=null,f},i.inflateGetHeader=function(S,U){var w;return S&&S.state?(2&(w=S.state).wrap)==0?d:((w.head=U).done=!1,f):d},i.inflateSetDictionary=function(S,U){var w,$=U.length;return S&&S.state?(w=S.state).wrap!==0&&w.mode!==11?d:w.mode===11&&a(1,U,$,0)!==w.check?-3:K(S,U,$,$)?(w.mode=31,-4):(w.havedict=1,f):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,h,f,d,p,g,y,m){var b,_,T,C,L,N,z,R,H,K=m.bits,S=0,U=0,w=0,$=0,X=0,j=0,nt=0,J=0,G=0,W=0,B=null,F=0,it=new s.Buf16(16),lt=new s.Buf16(16),ut=null,M=0;for(S=0;S<=15;S++)it[S]=0;for(U=0;U<d;U++)it[h[f+U]]++;for(X=K,$=15;1<=$&&it[$]===0;$--);if($<X&&(X=$),$===0)return p[g++]=20971520,p[g++]=20971520,m.bits=1,0;for(w=1;w<$&&it[w]===0;w++);for(X<w&&(X=w),S=J=1;S<=15;S++)if(J<<=1,(J-=it[S])<0)return-1;if(0<J&&(c===0||$!==1))return-1;for(lt[1]=0,S=1;S<15;S++)lt[S+1]=lt[S]+it[S];for(U=0;U<d;U++)h[f+U]!==0&&(y[lt[h[f+U]]++]=U);if(N=c===0?(B=ut=y,19):c===1?(B=a,F-=257,ut=o,M-=257,256):(B=l,ut=u,-1),S=w,L=g,nt=U=W=0,T=-1,C=(G=1<<(j=X))-1,c===1&&852<G||c===2&&592<G)return 1;for(;;){for(z=S-nt,H=y[U]<N?(R=0,y[U]):y[U]>N?(R=ut[M+y[U]],B[F+y[U]]):(R=96,0),b=1<<S-nt,w=_=1<<j;p[L+(W>>nt)+(_-=b)]=z<<24|R<<16|H|0,_!==0;);for(b=1<<S-1;W&b;)b>>=1;if(b!==0?(W&=b-1,W+=b):W=0,U++,--it[S]==0){if(S===$)break;S=h[f+y[U]]}if(X<S&&(W&C)!==T){for(nt===0&&(nt=X),L+=w,J=1<<(j=S-nt);j+nt<$&&!((J-=it[j+nt])<=0);)j++,J<<=1;if(G+=1<<j,c===1&&852<G||c===2&&592<G)return 1;p[T=W&C]=X<<24|j<<16|L-g|0}}return W!==0&&(p[L+W]=S-nt<<24|64<<16|0),m.bits=X,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(v){for(var I=v.length;0<=--I;)v[I]=0}var u=0,c=29,h=256,f=h+1+c,d=30,p=19,g=2*f+1,y=15,m=16,b=7,_=256,T=16,C=17,L=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(f+2));l(K);var S=new Array(2*d);l(S);var U=new Array(512);l(U);var w=new Array(256);l(w);var $=new Array(c);l($);var X,j,nt,J=new Array(d);function G(v,I,V,tt,q){this.static_tree=v,this.extra_bits=I,this.extra_base=V,this.elems=tt,this.max_length=q,this.has_stree=v&&v.length}function W(v,I){this.dyn_tree=v,this.max_code=0,this.stat_desc=I}function B(v){return v<256?U[v]:U[256+(v>>>7)]}function F(v,I){v.pending_buf[v.pending++]=255&I,v.pending_buf[v.pending++]=I>>>8&255}function it(v,I,V){v.bi_valid>m-V?(v.bi_buf|=I<<v.bi_valid&65535,F(v,v.bi_buf),v.bi_buf=I>>m-v.bi_valid,v.bi_valid+=V-m):(v.bi_buf|=I<<v.bi_valid&65535,v.bi_valid+=V)}function lt(v,I,V){it(v,V[2*I],V[2*I+1])}function ut(v,I){for(var V=0;V|=1&v,v>>>=1,V<<=1,0<--I;);return V>>>1}function M(v,I,V){var tt,q,pt=new Array(y+1),Et=0;for(tt=1;tt<=y;tt++)pt[tt]=Et=Et+V[tt-1]<<1;for(q=0;q<=I;q++){var gt=v[2*q+1];gt!==0&&(v[2*q]=ut(pt[gt]++,gt))}}function D(v){var I;for(I=0;I<f;I++)v.dyn_ltree[2*I]=0;for(I=0;I<d;I++)v.dyn_dtree[2*I]=0;for(I=0;I<p;I++)v.bl_tree[2*I]=0;v.dyn_ltree[2*_]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function at(v){8<v.bi_valid?F(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function Q(v,I,V,tt){var q=2*I,pt=2*V;return v[q]<v[pt]||v[q]===v[pt]&&tt[I]<=tt[V]}function Y(v,I,V){for(var tt=v.heap[V],q=V<<1;q<=v.heap_len&&(q<v.heap_len&&Q(I,v.heap[q+1],v.heap[q],v.depth)&&q++,!Q(I,tt,v.heap[q],v.depth));)v.heap[V]=v.heap[q],V=q,q<<=1;v.heap[V]=tt}function Z(v,I,V){var tt,q,pt,Et,gt=0;if(v.last_lit!==0)for(;tt=v.pending_buf[v.d_buf+2*gt]<<8|v.pending_buf[v.d_buf+2*gt+1],q=v.pending_buf[v.l_buf+gt],gt++,tt===0?lt(v,q,I):(lt(v,(pt=w[q])+h+1,I),(Et=N[pt])!==0&&it(v,q-=$[pt],Et),lt(v,pt=B(--tt),V),(Et=z[pt])!==0&&it(v,tt-=J[pt],Et)),gt<v.last_lit;);lt(v,_,I)}function _t(v,I){var V,tt,q,pt=I.dyn_tree,Et=I.stat_desc.static_tree,gt=I.stat_desc.has_stree,ht=I.stat_desc.elems,wt=-1;for(v.heap_len=0,v.heap_max=g,V=0;V<ht;V++)pt[2*V]!==0?(v.heap[++v.heap_len]=wt=V,v.depth[V]=0):pt[2*V+1]=0;for(;v.heap_len<2;)pt[2*(q=v.heap[++v.heap_len]=wt<2?++wt:0)]=1,v.depth[q]=0,v.opt_len--,gt&&(v.static_len-=Et[2*q+1]);for(I.max_code=wt,V=v.heap_len>>1;1<=V;V--)Y(v,pt,V);for(q=ht;V=v.heap[1],v.heap[1]=v.heap[v.heap_len--],Y(v,pt,1),tt=v.heap[1],v.heap[--v.heap_max]=V,v.heap[--v.heap_max]=tt,pt[2*q]=pt[2*V]+pt[2*tt],v.depth[q]=(v.depth[V]>=v.depth[tt]?v.depth[V]:v.depth[tt])+1,pt[2*V+1]=pt[2*tt+1]=q,v.heap[1]=q++,Y(v,pt,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(St,zt){var oe,Ee,Ve,Qt,er,qe,he=zt.dyn_tree,Lr=zt.max_code,Ar=zt.stat_desc.static_tree,Xo=zt.stat_desc.has_stree,es=zt.stat_desc.extra_bits,ri=zt.stat_desc.extra_base,_n=zt.stat_desc.max_length,jr=0;for(Qt=0;Qt<=y;Qt++)St.bl_count[Qt]=0;for(he[2*St.heap[St.heap_max]+1]=0,oe=St.heap_max+1;oe<g;oe++)_n<(Qt=he[2*he[2*(Ee=St.heap[oe])+1]+1]+1)&&(Qt=_n,jr++),he[2*Ee+1]=Qt,Lr<Ee||(St.bl_count[Qt]++,er=0,ri<=Ee&&(er=es[Ee-ri]),qe=he[2*Ee],St.opt_len+=qe*(Qt+er),Xo&&(St.static_len+=qe*(Ar[2*Ee+1]+er)));if(jr!==0){do{for(Qt=_n-1;St.bl_count[Qt]===0;)Qt--;St.bl_count[Qt]--,St.bl_count[Qt+1]+=2,St.bl_count[_n]--,jr-=2}while(0<jr);for(Qt=_n;Qt!==0;Qt--)for(Ee=St.bl_count[Qt];Ee!==0;)Lr<(Ve=St.heap[--oe])||(he[2*Ve+1]!==Qt&&(St.opt_len+=(Qt-he[2*Ve+1])*he[2*Ve],he[2*Ve+1]=Qt),Ee--)}}(v,I),M(pt,wt,v.bl_count)}function A(v,I,V){var tt,q,pt=-1,Et=I[1],gt=0,ht=7,wt=4;for(Et===0&&(ht=138,wt=3),I[2*(V+1)+1]=65535,tt=0;tt<=V;tt++)q=Et,Et=I[2*(tt+1)+1],++gt<ht&&q===Et||(gt<wt?v.bl_tree[2*q]+=gt:q!==0?(q!==pt&&v.bl_tree[2*q]++,v.bl_tree[2*T]++):gt<=10?v.bl_tree[2*C]++:v.bl_tree[2*L]++,pt=q,wt=(gt=0)===Et?(ht=138,3):q===Et?(ht=6,3):(ht=7,4))}function ot(v,I,V){var tt,q,pt=-1,Et=I[1],gt=0,ht=7,wt=4;for(Et===0&&(ht=138,wt=3),tt=0;tt<=V;tt++)if(q=Et,Et=I[2*(tt+1)+1],!(++gt<ht&&q===Et)){if(gt<wt)for(;lt(v,q,v.bl_tree),--gt!=0;);else q!==0?(q!==pt&&(lt(v,q,v.bl_tree),gt--),lt(v,T,v.bl_tree),it(v,gt-3,2)):gt<=10?(lt(v,C,v.bl_tree),it(v,gt-3,3)):(lt(v,L,v.bl_tree),it(v,gt-11,7));pt=q,wt=(gt=0)===Et?(ht=138,3):q===Et?(ht=6,3):(ht=7,4)}}l(J);var O=!1;function x(v,I,V,tt){it(v,(u<<1)+(tt?1:0),3),function(q,pt,Et,gt){at(q),F(q,Et),F(q,~Et),s.arraySet(q.pending_buf,q.window,pt,Et,q.pending),q.pending+=Et}(v,I,V)}i._tr_init=function(v){O||(function(){var I,V,tt,q,pt,Et=new Array(y+1);for(q=tt=0;q<c-1;q++)for($[q]=tt,I=0;I<1<<N[q];I++)w[tt++]=q;for(w[tt-1]=q,q=pt=0;q<16;q++)for(J[q]=pt,I=0;I<1<<z[q];I++)U[pt++]=q;for(pt>>=7;q<d;q++)for(J[q]=pt<<7,I=0;I<1<<z[q]-7;I++)U[256+pt++]=q;for(V=0;V<=y;V++)Et[V]=0;for(I=0;I<=143;)K[2*I+1]=8,I++,Et[8]++;for(;I<=255;)K[2*I+1]=9,I++,Et[9]++;for(;I<=279;)K[2*I+1]=7,I++,Et[7]++;for(;I<=287;)K[2*I+1]=8,I++,Et[8]++;for(M(K,f+1,Et),I=0;I<d;I++)S[2*I+1]=5,S[2*I]=ut(I,5);X=new G(K,N,h+1,f,y),j=new G(S,z,0,d,y),nt=new G(new Array(0),R,0,p,b)}(),O=!0),v.l_desc=new W(v.dyn_ltree,X),v.d_desc=new W(v.dyn_dtree,j),v.bl_desc=new W(v.bl_tree,nt),v.bi_buf=0,v.bi_valid=0,D(v)},i._tr_stored_block=x,i._tr_flush_block=function(v,I,V,tt){var q,pt,Et=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=function(gt){var ht,wt=4093624447;for(ht=0;ht<=31;ht++,wt>>>=1)if(1&wt&&gt.dyn_ltree[2*ht]!==0)return a;if(gt.dyn_ltree[18]!==0||gt.dyn_ltree[20]!==0||gt.dyn_ltree[26]!==0)return o;for(ht=32;ht<h;ht++)if(gt.dyn_ltree[2*ht]!==0)return o;return a}(v)),_t(v,v.l_desc),_t(v,v.d_desc),Et=function(gt){var ht;for(A(gt,gt.dyn_ltree,gt.l_desc.max_code),A(gt,gt.dyn_dtree,gt.d_desc.max_code),_t(gt,gt.bl_desc),ht=p-1;3<=ht&&gt.bl_tree[2*H[ht]+1]===0;ht--);return gt.opt_len+=3*(ht+1)+5+5+4,ht}(v),q=v.opt_len+3+7>>>3,(pt=v.static_len+3+7>>>3)<=q&&(q=pt)):q=pt=V+5,V+4<=q&&I!==-1?x(v,I,V,tt):v.strategy===4||pt===q?(it(v,2+(tt?1:0),3),Z(v,K,S)):(it(v,4+(tt?1:0),3),function(gt,ht,wt,St){var zt;for(it(gt,ht-257,5),it(gt,wt-1,5),it(gt,St-4,4),zt=0;zt<St;zt++)it(gt,gt.bl_tree[2*H[zt]+1],3);ot(gt,gt.dyn_ltree,ht-1),ot(gt,gt.dyn_dtree,wt-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,Et+1),Z(v,v.dyn_ltree,v.dyn_dtree)),D(v),tt&&at(v)},i._tr_tally=function(v,I,V){return v.pending_buf[v.d_buf+2*v.last_lit]=I>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&I,v.pending_buf[v.l_buf+v.last_lit]=255&V,v.last_lit++,I===0?v.dyn_ltree[2*V]++:(v.matches++,I--,v.dyn_ltree[2*(w[V]+h+1)]++,v.dyn_dtree[2*B(I)]++),v.last_lit===v.lit_bufsize-1},i._tr_align=function(v){it(v,2,3),lt(v,_,K),function(I){I.bi_valid===16?(F(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):8<=I.bi_valid&&(I.pending_buf[I.pending++]=255&I.bi_buf,I.bi_buf>>=8,I.bi_valid-=8)}(v)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,c,h,f=1,d={},p=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(T){pe.nextTick(function(){b(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,C=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=C,T}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",_,!1):a.attachEvent("onmessage",_),function(T){a.postMessage(h+T,"*")}):a.MessageChannel?((c=new MessageChannel).port1.onmessage=function(T){b(T.data)},function(T){c.port2.postMessage(T)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(T){var C=g.createElement("script");C.onreadystatechange=function(){b(T),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(T){setTimeout(b,0,T)},y.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var C=new Array(arguments.length-1),L=0;L<C.length;L++)C[L]=arguments[L+1];var N={callback:T,args:C};return d[f]=N,l(f),f++},y.clearImmediate=m}function m(T){delete d[T]}function b(T){if(p)setTimeout(b,0,T);else{var C=d[T];if(C){p=!0;try{(function(L){var N=L.callback,z=L.args;switch(z.length){case 0:N();break;case 1:N(z[0]);break;case 2:N(z[0],z[1]);break;case 3:N(z[0],z[1],z[2]);break;default:N.apply(o,z)}})(C)}finally{m(T),p=!1}}}}function _(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(h)===0&&b(+T.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof yi<"u"?yi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(ig)),ig.exports}var kH=CH();const SH=Vy(kH);var tl={exports:{}},sg,Gw;function IH(){if(Gw)return sg;Gw=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return e[i]}):r}return sg=t,sg}var Vw;function LH(){if(Vw)return tl.exports;Vw=1;var e=IH(),t=Jy().Stream,r="    ";function n(u,c){typeof c!="object"&&(c={indent:c});var h=c.stream?new t:null,f="",d=!1,p=c.indent?c.indent===!0?r:c.indent:"",g=!0;function y(C){g?pe.nextTick(C):C()}function m(C,L){if(L!==void 0&&(f+=L),C&&!d&&(h=h||new t,d=!0),C&&d){var N=f;y(function(){h.emit("data",N)}),f=""}}function b(C,L){o(m,a(C,p,p?1:0),L)}function _(){if(h){var C=f;y(function(){h.emit("data",C),h.emit("end"),h.readable=!1,h.emit("close")})}}function T(C){var L=C.encoding||"UTF-8",N={version:"1.0",encoding:L};C.standalone&&(N.standalone=C.standalone),b({"?xml":{_attr:N}}),f=f.replace("/>","?>")}return y(function(){g=!1}),c.declaration&&T(c.declaration),u&&u.forEach?u.forEach(function(C,L){var N;L+1===u.length&&(N=_),b(C,N)}):b(u,_),h?(h.readable=!0,h):f}function i(){var u=Array.prototype.slice.call(arguments),c={_elem:a(u)};return c.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var f=this,d=this._elem.indent;o(this.append,a(h,d,this._elem.icount+(d?1:0)),function(){f.append(!0)})},c.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},c}function s(u,c){return new Array(c||0).join(u||"")}function a(u,c,h){h=h||0;var f=s(c,h),d,p=u,g=!1;if(typeof u=="object"){var y=Object.keys(u);if(d=y[0],p=u[d],p&&p._elem)return p._elem.name=d,p._elem.icount=h,p._elem.indent=c,p._elem.indents=f,p._elem.interrupt=p,p._elem}var m=[],b=[],_;function T(C){var L=Object.keys(C);L.forEach(function(N){m.push(l(N,C[N]))})}switch(typeof p){case"object":if(p===null)break;p._attr&&T(p._attr),p._cdata&&b.push(("<![CDATA["+p._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),p.forEach&&(_=!1,b.push(""),p.forEach(function(C){if(typeof C=="object"){var L=Object.keys(C)[0];L=="_attr"?T(C._attr):b.push(a(C,c,h+1))}else b.pop(),_=!0,b.push(e(C))}),_||b.push(""));break;default:b.push(e(p))}return{name:d,interrupt:g,attributes:m,content:b,icount:h,indents:f,indent:c}}function o(u,c,h){if(typeof c!="object")return u(!1,c);var f=c.interrupt?1:c.content.length;function d(){for(;c.content.length;){var g=c.content.shift();if(g!==void 0){if(p(g))return;o(u,g)}}u(!1,(f>1?c.indents:"")+(c.name?"</"+c.name+">":"")+(c.indent&&!h?`
`:"")),h&&h()}function p(g){return g.interrupt?(g.interrupt.append=u,g.interrupt.end=d,g.interrupt=!1,u(!0),!0):!1}if(u(!1,c.indents+(c.name?"<"+c.name:"")+(c.attributes.length?" "+c.attributes.join(" "):"")+(f?c.name?">":"":c.name?"/>":"")+(c.indent&&f>1?`
`:"")),!f)return u(!1,c.indent?`
`:"");p(c)||d()}function l(u,c){return u+'="'+e(c)+'"'}return tl.exports=n,tl.exports.element=tl.exports.Element=i,tl.exports}var RH=LH();const Ye=Vy(RH),el=0,ag=32,NH=32,OH=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==NH)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const a=e.slice(el,ag).map((l,u)=>l^i[u%i.length]),o=new Uint8Array(el+a.length+Math.max(0,e.length-ag));return o.set(e.slice(0,el)),o.set(a,el),o.set(e.slice(ag),el+a.length),o};class PH{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class DH{replace(t,r,n){let i=t;return r.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class BH{replace(t,r){let n=t;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class MH{constructor(){At(this,"formatter"),At(this,"imageReplacer"),At(this,"numberingReplacer"),this.formatter=new PH,this.imageReplacer=new DH,this.numberingReplacer=new BH}compile(t,r,n=[]){const i=new SH,s=this.xmlifyFile(t,r),a=new Map(Object.entries(s));for(const[,o]of a)if(Array.isArray(o))for(const l of o)i.file(l.path,l.data);else i.file(o.path,o.data);for(const o of n)i.file(o.path,o.data);for(const o of t.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:l,fontKey:u}of t.FontTable.fontOptionsWithKey){const[c]=l.split(".");i.file(`word/fonts/${c}.odttf`,OH(o,u))}return i}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,i=Ye(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=t.Comments.Relationships.RelationshipCount+1,a=Ye(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,t.Media),l=this.imageReplacer.getMediaData(a,t.Media);return{Relationships:{data:(o.forEach((u,c)=>{t.Document.Relationships.createRelationship(n+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Ye(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const u=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const u=Ye(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Ye(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Ye(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Ye(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((u,c)=>{const h=Ye(this.formatter.format(u.View,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((d,p)=>{u.Relationships.createRelationship(p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:Ye(this.formatter.format(u.Relationships,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${c+1}.xml.rels`}}),FooterRelationships:t.Footers.map((u,c)=>{const h=Ye(this.formatter.format(u.View,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((d,p)=>{u.Relationships.createRelationship(p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:Ye(this.formatter.format(u.Relationships,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${c+1}.xml.rels`}}),Headers:t.Headers.map((u,c)=>{const h=Ye(this.formatter.format(u.View,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(h,t.Media),d=this.imageReplacer.replace(h,f,0);return{data:this.numberingReplacer.replace(d,t.Numbering.ConcreteNumbering),path:`word/header${c+1}.xml`}}),Footers:t.Footers.map((u,c)=>{const h=Ye(this.formatter.format(u.View,{viewWrapper:u,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(h,t.Media),d=this.imageReplacer.replace(h,f,0);return{data:this.numberingReplacer.replace(d,t.Numbering.ConcreteNumbering),path:`word/footer${c+1}.xml`}}),ContentTypes:{data:Ye(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Ye(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Ye(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Ye(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Ye(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Ye(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const u=this.imageReplacer.replace(a,l,s);return this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((u,c)=>{t.Comments.Relationships.createRelationship(s+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),Ye(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Ye(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Ye(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const FH={WITH_2_BLANKS:"  "},Yw=e=>e===!0?FH.WITH_2_BLANKS:e===!1?void 0:e,Ik=class $a{static pack(t,r,n){return j4(this,arguments,function*(i,s,a,o=[]){return this.compiler.compile(i,Yw(a),o).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return $a.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return $a.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return $a.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return $a.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return $a.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const i=new AH.Stream;return this.compiler.compile(t,Yw(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{i.emit("data",a),i.emit("end")}),i}};At(Ik,"compiler",new MH);let UH=Ik;const Xw={};function ra(e,t=!1){!t&&!Xw[e]&&(Xw[e]=!0,console.warn(e))}function HH(e){const t=new Map;if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return Ei(e,"definition",function(n){const i=Kw(n.identifier);i&&!t.get(i)&&t.set(i,n)}),r;function r(n){const i=Kw(n);return t.get(i)}}function Kw(e){return String(e||"").toUpperCase()}var og,Zw;function $H(){if(Zw)return og;Zw=1;var e=function(b){return t(b)&&!r(b)};function t(m){return!!m&&typeof m=="object"}function r(m){var b=Object.prototype.toString.call(m);return b==="[object RegExp]"||b==="[object Date]"||s(m)}var n=typeof Symbol=="function"&&Symbol.for,i=n?Symbol.for("react.element"):60103;function s(m){return m.$$typeof===i}function a(m){return Array.isArray(m)?[]:{}}function o(m,b){return b.clone!==!1&&b.isMergeableObject(m)?g(a(m),m,b):m}function l(m,b,_){return m.concat(b).map(function(T){return o(T,_)})}function u(m,b){if(!b.customMerge)return g;var _=b.customMerge(m);return typeof _=="function"?_:g}function c(m){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(m).filter(function(b){return Object.propertyIsEnumerable.call(m,b)}):[]}function h(m){return Object.keys(m).concat(c(m))}function f(m,b){try{return b in m}catch{return!1}}function d(m,b){return f(m,b)&&!(Object.hasOwnProperty.call(m,b)&&Object.propertyIsEnumerable.call(m,b))}function p(m,b,_){var T={};return _.isMergeableObject(m)&&h(m).forEach(function(C){T[C]=o(m[C],_)}),h(b).forEach(function(C){d(m,C)||(f(m,C)&&_.isMergeableObject(b[C])?T[C]=u(C,_)(m[C],b[C],_):T[C]=o(b[C],_))}),T}function g(m,b,_){_=_||{},_.arrayMerge=_.arrayMerge||l,_.isMergeableObject=_.isMergeableObject||e,_.cloneUnlessOtherwiseSpecified=o;var T=Array.isArray(b),C=Array.isArray(m),L=T===C;return L?T?_.arrayMerge(m,b,_):p(m,b,_):o(b,_)}g.all=function(b,_){if(!Array.isArray(b))throw new Error("first argument should be an array");return b.reduce(function(T,C){return g(T,C,_)},{})};var y=g;return og=y,og}var zH=$H();const jH=Ou(zH),Lk="bullet",WH="ordered",Rk="task-complete",Nk="task-incomplete",qH="Hyperlink",Ok=e=>({hanging:400,left:400*(e+1)}),GH=()=>{const e=new Map,t=new Map;return{id:r=>{let n=e.get(r);return n==null&&e.set(r,n=e.size+1),n},set:(r,n)=>{t.set(r,n)},toConfig:()=>t.entries().reduce((r,[n,i])=>(r[n]={children:i},r),{})}},VH=()=>{let e=1;const t=[];return{createId:()=>{const r=`${WH}-${e++}`;return t.push(r),r},getIds:()=>t}},YH=(e,t)=>e.reduceRight((r,n)=>{for(const[i,s]of Object.entries(n)){const a=r[i];r[i]=a?(o,l)=>{const u=s(o,l);return u||a(o,l)}:s}return r},t),kc=e=>e.map(({format:t,text:r},n)=>({level:n,format:oi[t],text:r,alignment:Ln.LEFT,style:{paragraph:{indent:Ok(n)}}})),Pk=(e,t)=>{if(t.quote!=null&&(e.indent=Ok(t.quote+1)),t.list){const{level:r,meta:n}=t.list;n.type==="task"?e.numbering={reference:n.checked?Rk:Nk,level:r}:n.type==="ordered"?e.numbering={reference:n.reference,level:r}:e.numbering={reference:Lk,level:r}}return t.rtl&&(e.bidirectional=!0),new Tn(e)},Dk=(e,t,{width:r})=>{let{width:n,height:i}=e;const o=r/1440*96;if(n>o){const h=o/n;n*=h,i*=h}const l=t.alt||t.title?{name:"",description:t.alt??void 0,title:t.title??void 0}:void 0;if(e.type==="svg"){const{type:h,data:f,fallback:d}=e;return new Pw({type:h,data:f,transformation:{width:n,height:i},fallback:{type:"png",data:d},altText:l})}const{type:u,data:c}=e;return new Pw({type:u,data:c,transformation:{width:n,height:i},altText:l})},XH=async(e,{plugins:t=[],title:r,subject:n,creator:i,keywords:s,description:a,styles:o,size:l,margin:u,orientation:c,columns:h,spacing:f,direction:d,background:p,thematicBreak:g="page",orderedListFormat:y}={})=>{const m=HH(e),b=VH(),_=GH(),T=new Map,C={root:e,images:T,definition:m},L=YH(await Promise.all(t.map(W=>W(C))),{paragraph:KH,heading:ZH,thematicBreak:QH,blockquote:JH,list:t$,listItem:e$,table:r$,tableRow:lg,tableCell:lg,html:Sc,code:Sc,definition:lg,footnoteDefinition:h$,text:u1,emphasis:n$,strong:i$,delete:s$,inlineCode:a$,break:o$,link:Bk,linkReference:l$,image:u$,imageReference:c$,footnoteReference:d$,math:Sc,inlineMath:Sc}),N=(W,B)=>{const F=L[W.type];if(!F)return ra(`${W.type} node is not supported without plugins.`),null;const it=F(W,B);return it?Array.isArray(it)?it:[it]:null};let{WIDTH:z,HEIGHT:R}=lh;l&&(l.width!=null&&(z=l.width),l.height!=null&&(R=l.height));let{TOP:H,LEFT:K,BOTTOM:S,RIGHT:U}=ns;u&&(u.top!=null&&(H=u.top),u.left!=null&&(K=u.left),u.bottom!=null&&(S=u.bottom),u.right!=null&&(U=u.right));const w={render(W,B){const F=[];for(const it of W){const lt=N(it,B??this);lt&&F.push(...lt)}return F},width:z-K-U,style:{},thematicBreak:g,rtl:d==="rtl",definition:m,images:T,footnote:_,orderedId:b.createId},$=[[]];for(const W of e.children){const B=N(W,w);B&&(B.length?$[$.length-1].push(...B):$.push([]))}const X=kc(y??[{text:"%1.",format:"DECIMAL"},{text:"%2.",format:"DECIMAL"},{text:"%3.",format:"DECIMAL"},{text:"%4.",format:"DECIMAL"},{text:"%5.",format:"DECIMAL"},{text:"%6.",format:"DECIMAL"}]),j={column:h?{count:h}:void 0,page:{textDirection:d==="vertical"?"tbRl":void 0,size:{width:z,height:R,orientation:c},margin:{top:H,left:K,bottom:S,right:U}}},nt=new wH({title:r,subject:n,creator:i,keywords:s,description:a,styles:jH({default:{document:{paragraph:{spacing:f?{after:f}:void 0}}}},o||{}),background:p,sections:$.filter(W=>W.length).map(W=>({properties:j,children:W})),footnotes:_.toConfig(),numbering:{config:[{reference:Lk,levels:kc([{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â ",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â ",format:"BULLET"}])},...b.getIds().map(W=>({reference:W,levels:X})),{reference:Rk,levels:kc([{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"}])},{reference:Nk,levels:kc([{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"},{text:"â",format:"BULLET"}])}]}}),J="default-bullet-numbering",G=nt.numbering;return G.abstractNumberingMap.delete(J),G.concreteNumberingMap.delete(J),UH.toArrayBuffer(nt)},KH=({children:e},t)=>Pk({children:t.render(e)},t),ZH=({children:e,depth:t},r)=>{let n;switch(t){case 1:n="TITLE";break;case 2:n="HEADING_1";break;case 3:n="HEADING_2";break;case 4:n="HEADING_3";break;case 5:n="HEADING_4";break;case 6:n="HEADING_5";break}return Pk({heading:Q9[n],children:r.render(e)},r)},QH=(e,t)=>{switch(t.thematicBreak){case"page":return new Tn({children:[new Y9]});case"section":return[];case"line":return new Tn({thematicBreak:!0})}},JH=({children:e},t)=>t.render(e,{...t,quote:t.quote==null?0:t.quote+1}),t$=({children:e,ordered:t},r)=>{const n=r.list;let i;return t?i={type:"ordered",reference:n&&n.meta.type==="ordered"?n.meta.reference:r.orderedId()}:i={type:"bullet"},r.render(e,{...r,list:{level:n?n.level+1:0,meta:i}})},e$=({children:e,checked:t},r)=>{let n=r.list;return n&&t!=null&&(n={level:n.level,meta:{type:"task",checked:t}}),r.render(e,{...r,list:n})},r$=({children:e,align:t},r)=>{const n=t?.map(o=>{switch(o){case"left":return"LEFT";case"right":return"RIGHT";case"center":return"CENTER";default:return"LEFT"}}),i=e[0].children.length,s=r.width/i,a={columnWidths:Array.from({length:i}).map(()=>s),rows:e.map(o=>new Q7({children:o.children.map((l,u)=>new l1({width:{size:s,type:"dxa"},children:[new Tn({alignment:Ln[n?.[u]??"LEFT"],children:r.render(l.children,{...r,rtl:void 0})})]}))}))};return r.rtl&&(a.visuallyRightToLeft=!0),new Y7(a)},u1=({value:e},{style:t,rtl:r})=>{const n={text:e,bold:t.bold,italics:t.italic,strike:t.strike};return t.inlineCode&&(n.highlight="lightGray"),t.link&&(n.style=qH),r&&(n.rightToLeft=!0),new au(n)},n$=({children:e},t)=>t.render(e,{...t,style:{...t.style,italic:!0}}),i$=({children:e},t)=>t.render(e,{...t,style:{...t.style,bold:!0}}),s$=({children:e},t)=>t.render(e,{...t,style:{...t.style,strike:!0}}),a$=({value:e},t)=>u1({value:e},{...t,style:{...t.style,inlineCode:!0}}),o$=()=>new au({text:"",break:1}),Bk=({children:e,url:t},r)=>t.startsWith("#")?r.render(e):new _k({link:t,children:r.render(e,{...r,style:{...r.style,link:!0}})}),l$=({children:e,identifier:t},r)=>{const n=r.definition(t);return n==null?r.render(e):Bk({children:e,url:n.url},r)},u$=(e,t)=>{const r=t.images.get(e.url);return r?Dk(r,e,t):null},c$=(e,t)=>{const r=t.definition(e.identifier);if(r==null)return null;const n=t.images.get(r.url);return n?Dk(n,{alt:e.alt,title:r.title},t):null},h$=({children:e,identifier:t},r)=>{const n=r.render(e).filter(i=>i instanceof Tn);return r.footnote.set(r.footnote.id(t),n),null},d$=({identifier:e},t)=>new vH(t.footnote.id(e)),lg=()=>null,Sc=(e,t)=>(ra(`${e.type} node is not supported without plugins, falling back to text.`),u1({value:e.value},t)),f$=function(e){this.compiler=t=>XH(t,e)},p$=["png","jpg","gif","bmp","svg"],m$=e=>e?!!p$.includes(e):!1;var g$=new TextDecoder,De=(e,t=0,r=e.length)=>g$.decode(e.slice(t,r)),Uo=(e,t=0,r=e.length)=>e.slice(t,r).reduce((n,i)=>n+`0${i.toString(16)}`.slice(-2),""),Cs=(e,t)=>new DataView(e.buffer,e.byteOffset+t),Qw=(e,t=0)=>Cs(e,t).getInt16(0,!0),Hh=(e,t=0)=>Cs(e,t).getUint16(0,!1),pn=(e,t=0)=>Cs(e,t).getUint16(0,!0),Jw=(e,t=0)=>{const r=Cs(e,t);return r.getUint16(0,!0)+(r.getUint8(2)<<16)},b$=(e,t=0)=>Cs(e,t).getInt32(0,!0),vr=(e,t=0)=>Cs(e,t).getUint32(0,!1),na=(e,t=0)=>Cs(e,t).getUint32(0,!0),c1=(e,t,r)=>Cs(e,t).getBigUint64(0,!r),y$={readUInt16BE:Hh,readUInt16LE:pn,readUInt32BE:vr,readUInt32LE:na};function cn(e,t,r=0,n=!1){const s=`readUInt${t}${n?"BE":"LE"}`;return y$[s](e,r)}function _$(e,t){if(e.length-t<4)return;const r=vr(e,t);if(!(e.length-t<r))return{name:De(e,4+t,8+t),offset:t,size:r}}function Nn(e,t,r){for(;r<e.length;){const n=_$(e,r);if(!n)break;if(n.name===t)return n;r+=n.size>0?n.size:8}}var E$={validate:e=>De(e,0,2)==="BM",calculate:e=>({height:Math.abs(b$(e,22)),width:na(e,18)})},w$=1,x$=6,T$=16;function tx(e,t){const r=e[t];return r===0?256:r}function ex(e,t){const r=x$+t*T$;return{height:tx(e,r+1),width:tx(e,r)}}var Mk={validate(e){const t=pn(e,0),r=pn(e,4);return t!==0||r===0?!1:pn(e,2)===w$},calculate(e){const t=pn(e,4),r=ex(e,0);if(t===1)return r;const n=[];for(let i=0;i<t;i+=1)n.push(ex(e,i));return{width:r.width,height:r.height,images:n}}},v$=2,A$={validate(e){const t=pn(e,0),r=pn(e,4);return t!==0||r===0?!1:pn(e,2)===v$},calculate:e=>Mk.calculate(e)},C$={validate:e=>na(e,0)===542327876,calculate:e=>({height:na(e,12),width:na(e,16)})},k$=/^GIF8[79]a/,S$={validate:e=>k$.test(De(e,0,6)),calculate:e=>({height:pn(e,8),width:pn(e,6)})},I$={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},L$={validate(e){if(De(e,4,8)!=="ftyp")return!1;const r=Nn(e,"ftyp",0);return r?De(e,r.offset+8,r.offset+12)in I$:!1},calculate(e){const t=Nn(e,"meta",0),r=t&&Nn(e,"iprp",t.offset+12),n=r&&Nn(e,"ipco",r.offset+8);if(!n)throw new TypeError("Invalid HEIF, no ipco box found");const i=De(e,8,12),s=[];let a=n.offset+8;for(;a<n.offset+n.size;){const o=Nn(e,"ispe",a);if(!o)break;const l=vr(e,o.offset+12),u=vr(e,o.offset+16),c=Nn(e,"clap",a);let h=l,f=u;if(c&&c.offset<n.offset+n.size){const d=vr(e,c.offset+12);h=l-d}s.push({height:f,width:h}),a=o.offset+o.size}if(s.length===0)throw new TypeError("Invalid HEIF, no sizes found");return{width:s[0].width,height:s[0].height,type:i,...s.length>1?{images:s}:{}}}},R$=8,N$=4,O$=4,P$={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function D$(e,t){const r=t+O$;return[De(e,t,r),vr(e,r)]}function B$(e){const t=P$[e];return{width:t,height:t,type:e}}var M$={validate:e=>De(e,0,4)==="icns",calculate(e){const t=e.length,r=vr(e,N$);let n=R$;const i=[];for(;n<r&&n<t;){const s=D$(e,n),a=B$(s[0]);i.push(a),n+=s[1]}if(i.length===0)throw new TypeError("Invalid ICNS, no sizes found");return{width:i[0].width,height:i[0].height,...i.length>1?{images:i}:{}}}},F$={validate:e=>vr(e,0)===4283432785,calculate:e=>({height:vr(e,12),width:vr(e,8)})},U$={validate(e){if(De(e,4,8)!=="jP  ")return!1;const r=Nn(e,"ftyp",0);return r?De(e,r.offset+8,r.offset+12)==="jp2 ":!1},calculate(e){const t=Nn(e,"jp2h",0),r=t&&Nn(e,"ihdr",t.offset+8);if(r)return{height:vr(e,r.offset+8),width:vr(e,r.offset+12)};throw new TypeError("Unsupported JPEG 2000 format")}},H$="45786966",$$=2,S0=6,z$=2,j$="4d4d",W$="4949",rx=12,q$=2;function G$(e){return Uo(e,2,6)===H$}function V$(e,t){return{height:Hh(e,t),width:Hh(e,t+2)}}function Y$(e,t){const n=S0+8,i=cn(e,16,n,t);for(let s=0;s<i;s++){const a=n+q$+s*rx,o=a+rx;if(a>e.length)return;const l=e.slice(a,o);if(cn(l,16,0,t)===274)return cn(l,16,2,t)!==3||cn(l,32,4,t)!==1?void 0:cn(l,16,8,t)}}function X$(e,t){const r=e.slice($$,t),n=Uo(r,S0,S0+z$),i=n===j$;if(i||n===W$)return Y$(r,i)}function K$(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits")}var Z$={validate:e=>Uo(e,0,2)==="ffd8",calculate(e){let t=e.slice(4),r,n;for(;t.length;){const i=Hh(t,0);if(K$(t,i),t[i]!==255){t=t.slice(1);continue}if(G$(t)&&(r=X$(t,i)),n=t[i+1],n===192||n===193||n===194){const s=V$(t,i+5);return r?{height:s.height,orientation:r,width:s.width}:s}t=t.slice(i+2)}throw new TypeError("Invalid JPG, no size found")}},Q$=class{constructor(e,t){this.input=e,this.endianness=t,this.byteOffset=2,this.bitOffset=0}getBits(e=1){let t=0,r=0;for(;r<e;){if(this.byteOffset>=this.input.length)throw new Error("Reached end of input");const n=this.input[this.byteOffset],i=8-this.bitOffset,s=Math.min(e-r,i);if(this.endianness==="little-endian"){const a=(1<<s)-1,o=n>>this.bitOffset&a;t|=o<<r}else{const a=(1<<s)-1<<8-this.bitOffset-s,o=(n&a)>>8-this.bitOffset-s;t=t<<s|o}r+=s,this.bitOffset+=s,this.bitOffset===8&&(this.byteOffset++,this.bitOffset=0)}return t}};function Fk(e,t){if(t)return 8*(1+e.getBits(5));const r=e.getBits(2),n=[9,13,18,30][r];return 1+e.getBits(n)}function J$(e,t,r,n){if(t&&r===0)return 8*(1+e.getBits(5));if(r===0)return Fk(e,!1);const i=[1,1.2,4/3,1.5,16/9,5/4,2];return Math.floor(n*i[r-1])}var Uk={validate:e=>Uo(e,0,2)==="ff0a",calculate(e){const t=new Q$(e,"little-endian"),r=t.getBits(1)===1,n=Fk(t,r),i=t.getBits(3);return{width:J$(t,r,i,n),height:n}}};function tz(e){const t=Nn(e,"jxlc",0);if(t)return e.slice(t.offset+8,t.offset+t.size);const r=ez(e);if(r.length>0)return rz(r)}function ez(e){const t=[];let r=0;for(;r<e.length;){const n=Nn(e,"jxlp",r);if(!n)break;t.push(e.slice(n.offset+12,n.offset+n.size)),r=n.offset+n.size}return t}function rz(e){const t=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}var nz={validate:e=>{if(De(e,4,8)!=="JXL ")return!1;const r=Nn(e,"ftyp",0);return r?De(e,r.offset+8,r.offset+12)==="jxl ":!1},calculate(e){const t=tz(e);if(t)return Uk.calculate(t);throw new Error("No codestream found in JXL container")}},iz={validate:e=>{const t=De(e,1,7);return["KTX 11","KTX 20"].includes(t)},calculate:e=>{const t=e[5]===49?"ktx":"ktx2",r=t==="ktx"?36:20;return{height:na(e,r+4),width:na(e,r),type:t}}},sz=`PNG\r

`,az="IHDR",nx="CgBI",oz={validate(e){if(sz===De(e,1,8)){let t=De(e,12,16);if(t===nx&&(t=De(e,28,32)),t!==az)throw new TypeError("Invalid PNG");return!0}return!1},calculate(e){return De(e,12,16)===nx?{height:vr(e,36),width:vr(e,32)}:{height:vr(e,20),width:vr(e,16)}}},ix={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},sx={default:e=>{let t=[];for(;e.length>0;){const r=e.shift();if(r[0]!=="#"){t=r.split(" ");break}}if(t.length===2)return{height:Number.parseInt(t[1],10),width:Number.parseInt(t[0],10)};throw new TypeError("Invalid PNM")},pam:e=>{const t={};for(;e.length>0;){const r=e.shift();if(r.length>16||r.charCodeAt(0)>128)continue;const[n,i]=r.split(" ");if(n&&i&&(t[n.toLowerCase()]=Number.parseInt(i,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw new TypeError("Invalid PAM")}},lz={validate:e=>De(e,0,2)in ix,calculate(e){const t=De(e,0,2),r=ix[t],n=De(e,3).split(/[\r\n]+/);return(sx[r]||sx.default)(n)}},uz={validate:e=>De(e,0,4)==="8BPS",calculate:e=>({height:vr(e,14),width:vr(e,18)})},Hk=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,uh={height:/\sheight=(['"])([^%]+?)\1/,root:Hk,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},ug=2.54,$k={in:96,cm:96/ug,em:16,ex:8,m:96/ug*100,mm:96/ug/10,pc:96/72/12,pt:96/72,px:1},cz=new RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys($k).join("|")})?$`);function $h(e){const t=cz.exec(e);if(t)return Math.round(Number(t[1])*($k[t[2]]||1))}function hz(e){const t=e.split(" ");return{height:$h(t[3]),width:$h(t[2])}}function dz(e){const t=e.match(uh.width),r=e.match(uh.height),n=e.match(uh.viewbox);return{height:r&&$h(r[2]),viewbox:n&&hz(n[2]),width:t&&$h(t[2])}}function fz(e){return{height:e.height,width:e.width}}function pz(e,t){const r=t.width/t.height;return e.width?{height:Math.floor(e.width/r),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*r)}:{height:t.height,width:t.width}}var mz={validate:e=>Hk.test(De(e,0,1e3)),calculate(e){const t=De(e).match(uh.root);if(t){const r=dz(t[0]);if(r.width&&r.height)return fz(r);if(r.viewbox)return pz(r,r.viewbox)}throw new TypeError("Invalid SVG")}},gz={validate(e){return pn(e,0)===0&&pn(e,4)===0},calculate(e){return{height:pn(e,14),width:pn(e,12)}}},mn={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function bz(e,{isBigEndian:t,isBigTiff:r}){const n=r?Number(c1(e,8,t)):cn(e,32,4,t),i=r?mn.COUNT_SIZE.BIG:mn.COUNT_SIZE.STANDARD;return e.slice(n+i)}function yz(e,t,r,n){switch(t){case mn.TYPE.SHORT:return cn(e,16,r,n);case mn.TYPE.LONG:return cn(e,32,r,n);case mn.TYPE.LONG8:{const i=Number(c1(e,r,n));if(i>Number.MAX_SAFE_INTEGER)throw new TypeError("Value too large");return i}default:return 0}}function _z(e,t){const r=t?mn.ENTRY_SIZE.BIG:mn.ENTRY_SIZE.STANDARD;if(e.length>r)return e.slice(r)}function Ez(e,{isBigEndian:t,isBigTiff:r}){const n={};let i=e;for(;i?.length;){const s=cn(i,16,0,t),a=cn(i,16,2,t),o=r?Number(c1(i,4,t)):cn(i,32,4,t);if(s===0)break;if(o===1&&(a===mn.TYPE.SHORT||a===mn.TYPE.LONG||r&&a===mn.TYPE.LONG8)){const l=r?12:8;n[s]=yz(i,a,l,t)}i=_z(i,r)}return n}function wz(e){const t=De(e,0,2),r=cn(e,16,2,t==="MM");return{isBigEndian:t==="MM",isBigTiff:r===43}}function xz(e,t){const r=cn(e,16,4,t),n=cn(e,16,6,t);if(r!==8||n!==0)throw new TypeError("Invalid BigTIFF header")}var Tz=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]),vz={validate:e=>{const t=Uo(e,0,4);return Tz.has(t)},calculate(e){const t=wz(e);t.isBigTiff&&xz(e,t.isBigEndian);const r=bz(e,t),n=Ez(r,t),i={height:n[mn.TAG.HEIGHT],width:n[mn.TAG.WIDTH],type:t.isBigTiff?"bigtiff":"tiff"};if(n[mn.TAG.COMPRESSION]&&(i.compression=n[mn.TAG.COMPRESSION]),!i.width||!i.height)throw new TypeError("Invalid Tiff. Missing tags");return i}};function Az(e){return{height:1+Jw(e,7),width:1+Jw(e,4)}}function Cz(e){return{height:1+((e[4]&15)<<10|e[3]<<2|(e[2]&192)>>6),width:1+((e[2]&63)<<8|e[1])}}function kz(e){return{height:Qw(e,8)&16383,width:Qw(e,6)&16383}}var Sz={validate(e){const t=De(e,0,4)==="RIFF",r=De(e,8,12)==="WEBP",n=De(e,12,15)==="VP8";return t&&r&&n},calculate(e){const t=De(e,12,16),r=e.slice(20,30);if(t==="VP8X"){const i=r[0],s=(i&192)===0,a=(i&1)===0;if(s&&a)return Az(r);throw new TypeError("Invalid WebP")}if(t==="VP8 "&&r[0]!==47)return kz(r);const n=Uo(r,3,6);if(t==="VP8L"&&n!=="9d012a")return Cz(r);throw new TypeError("Invalid WebP")}},zh=new Map([["bmp",E$],["cur",A$],["dds",C$],["gif",S$],["heif",L$],["icns",M$],["ico",Mk],["j2c",F$],["jp2",U$],["jpg",Z$],["jxl",nz],["jxl-stream",Uk],["ktx",iz],["png",oz],["pnm",lz],["psd",uz],["svg",mz],["tga",gz],["tiff",vz],["webp",Sz]]),Iz=Array.from(zh.keys()),Lz=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function Rz(e){const t=e[0],r=Lz.get(t);return r&&zh.get(r).validate(e)?r:Iz.find(n=>zh.get(n).validate(e))}var Nz={disabledTypes:[]};function zk(e){const t=Rz(e);if(typeof t<"u"){if(Nz.disabledTypes.indexOf(t)>-1)throw new TypeError(`disabled file type: ${t}`);const r=zh.get(t).calculate(e);if(r!==void 0){if(r.type=r.type??t,r.images&&r.images.length>1){const n=r.images.reduce((i,s)=>s.width*s.height>i.width*i.height?s:i,r.images[0]);r.width=n.width,r.height=n.height}return r}}throw new TypeError(`unsupported file type: ${t}`)}const Oz=async e=>(await fetch(e)).arrayBuffer(),jk=async({buffer:e,width:t,height:r})=>{const n=new Blob([e],{type:"image/svg+xml"}),i=URL.createObjectURL(n);try{const s=new Image;s.src=i,await s.decode();const a=window.devicePixelRatio,o=document.createElement("canvas"),l=t*a,u=r*a;return o.width=l,o.height=u,o.getContext("2d").drawImage(s,0,0,l,u),new Promise(h=>{o.toBlob(f=>{f.arrayBuffer().then(h)},"image/png")})}finally{URL.revokeObjectURL(i)}},Pz=({load:e=Oz,fallbackSvg:t=jk}={})=>{const r=new Map;return async({root:n,definition:i,images:s})=>{const a=[];if(Ei(n,"image",o=>{a.push(o)}),Ei(n,"imageReference",o=>{const l=i(o.identifier);l&&a.push(l)}),a.length!==0){const o=new Map;a.forEach(({url:l})=>{if(!s.has(l)){if(r.has(l)){s.set(l,r.get(l));return}o.has(l)||o.set(l,(async()=>{let u;try{u=await e(l)}catch(d){ra(`Failed to load image: ${l} ${d}`);return}const{width:c,height:h,type:f}=zk(new Uint8Array(u));if(!m$(f)){ra(`Not supported image type: ${f}`);return}if(f==="svg")try{const d=await t({buffer:u,width:c,height:h}),p={type:f,width:c,height:h,data:u,fallback:d};s.set(l,p),r.set(l,p)}catch(d){ra(`Failed to create fallback image: ${l} ${d}`);return}else{const d={type:f,width:c,height:h,data:u};s.set(l,d),r.set(l,d)}})())}}),await Promise.all(o.values())}return{}}};let ar=class extends Error{constructor(t){super(t),this.name="ShikiError"}};function Dz(e){return h1(e)}function h1(e){return Array.isArray(e)?Bz(e):e instanceof RegExp?e:typeof e=="object"?Mz(e):e}function Bz(e){let t=[];for(let r=0,n=e.length;r<n;r++)t[r]=h1(e[r]);return t}function Mz(e){let t={};for(let r in e)t[r]=h1(e[r]);return t}function Wk(e,...t){return t.forEach(r=>{for(let n in r)e[n]=r[n]}),e}function qk(e){const t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return t===0?e:~t===e.length-1?qk(e.substring(0,e.length-1)):e.substr(~t+1)}var cg=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Ic=class{static hasCaptures(e){return e===null?!1:(cg.lastIndex=0,cg.test(e))}static replaceCaptures(e,t,r){return e.replace(cg,(n,i,s,a)=>{let o=r[parseInt(i||s,10)];if(o){let l=t.substring(o.start,o.end);for(;l[0]===".";)l=l.substring(1);switch(a){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return n})}};function Gk(e,t){return e<t?-1:e>t?1:0}function Vk(e,t){if(e===null&&t===null)return 0;if(!e)return-1;if(!t)return 1;let r=e.length,n=t.length;if(r===n){for(let i=0;i<r;i++){let s=Gk(e[i],t[i]);if(s!==0)return s}return 0}return r-n}function ax(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function Yk(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var Xk=class{constructor(e){this.fn=e}cache=new Map;get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},jh=class{constructor(t,r,n){this._colorMap=t,this._defaults=r,this._root=n}static createFromRawTheme(t,r){return this.createFromParsedTheme(Hz(t),r)}static createFromParsedTheme(t,r){return zz(t,r)}_cachedMatchRoot=new Xk(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const r=t.scopeName,i=this._cachedMatchRoot.get(r).find(s=>Fz(t.parent,s.parentScopes));return i?new Kk(i.fontStyle,i.foreground,i.background):null}},hg=class ch{constructor(t,r){this.parent=t,this.scopeName=r}static push(t,r){for(const n of r)t=new ch(t,n);return t}static from(...t){let r=null;for(let n=0;n<t.length;n++)r=new ch(r,t[n]);return r}push(t){return new ch(this,t)}getSegments(){let t=this;const r=[];for(;t;)r.push(t.scopeName),t=t.parent;return r.reverse(),r}toString(){return this.getSegments().join(" ")}extends(t){return this===t?!0:this.parent===null?!1:this.parent.extends(t)}getExtensionIfDefined(t){const r=[];let n=this;for(;n&&n!==t;)r.push(n.scopeName),n=n.parent;return n===t?r.reverse():void 0}};function Fz(e,t){if(t.length===0)return!0;for(let r=0;r<t.length;r++){let n=t[r],i=!1;if(n===">"){if(r===t.length-1)return!1;n=t[++r],i=!0}for(;e&&!Uz(e.scopeName,n);){if(i)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}function Uz(e,t){return t===e||e.startsWith(t)&&e[t.length]==="."}var Kk=class{constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}};function Hz(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],n=0;for(let i=0,s=t.length;i<s;i++){let a=t[i];if(!a.settings)continue;let o;if(typeof a.scope=="string"){let h=a.scope;h=h.replace(/^[,]+/,""),h=h.replace(/[,]+$/,""),o=h.split(",")}else Array.isArray(a.scope)?o=a.scope:o=[""];let l=-1;if(typeof a.settings.fontStyle=="string"){l=0;let h=a.settings.fontStyle.split(" ");for(let f=0,d=h.length;f<d;f++)switch(h[f]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let u=null;typeof a.settings.foreground=="string"&&ax(a.settings.foreground)&&(u=a.settings.foreground);let c=null;typeof a.settings.background=="string"&&ax(a.settings.background)&&(c=a.settings.background);for(let h=0,f=o.length;h<f;h++){let p=o[h].trim().split(" "),g=p[p.length-1],y=null;p.length>1&&(y=p.slice(0,p.length-1),y.reverse()),r[n++]=new $z(g,y,i,l,u,c)}}return r}var $z=class{constructor(e,t,r,n,i,s){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=n,this.foreground=i,this.background=s}},Br=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(Br||{});function zz(e,t){e.sort((l,u)=>{let c=Gk(l.scope,u.scope);return c!==0||(c=Vk(l.parentScopes,u.parentScopes),c!==0)?c:l.index-u.index});let r=0,n="#000000",i="#ffffff";for(;e.length>=1&&e[0].scope==="";){let l=e.shift();l.fontStyle!==-1&&(r=l.fontStyle),l.foreground!==null&&(n=l.foreground),l.background!==null&&(i=l.background)}let s=new jz(t),a=new Kk(r,s.getId(n),s.getId(i)),o=new qz(new I0(0,null,-1,0,0),[]);for(let l=0,u=e.length;l<u;l++){let c=e[l];o.insert(0,c.scope,c.parentScopes,c.fontStyle,s.getId(c.foreground),s.getId(c.background))}return new jh(s,a,o)}var jz=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},Wz=Object.freeze([]),I0=class Zk{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(t,r,n,i,s){this.scopeDepth=t,this.parentScopes=r||Wz,this.fontStyle=n,this.foreground=i,this.background=s}clone(){return new Zk(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(t){let r=[];for(let n=0,i=t.length;n<i;n++)r[n]=t[n].clone();return r}acceptOverwrite(t,r,n,i){this.scopeDepth>t?console.log("how did this happen?"):this.scopeDepth=t,r!==-1&&(this.fontStyle=r),n!==0&&(this.foreground=n),i!==0&&(this.background=i)}},qz=class L0{constructor(t,r=[],n={}){this._mainRule=t,this._children=n,this._rulesWithParentScopes=r}_rulesWithParentScopes;static _cmpBySpecificity(t,r){if(t.scopeDepth!==r.scopeDepth)return r.scopeDepth-t.scopeDepth;let n=0,i=0;for(;t.parentScopes[n]===">"&&n++,r.parentScopes[i]===">"&&i++,!(n>=t.parentScopes.length||i>=r.parentScopes.length);){const s=r.parentScopes[i].length-t.parentScopes[n].length;if(s!==0)return s;n++,i++}return r.parentScopes.length-t.parentScopes.length}match(t){if(t!==""){let n=t.indexOf("."),i,s;if(n===-1?(i=t,s=""):(i=t.substring(0,n),s=t.substring(n+1)),this._children.hasOwnProperty(i))return this._children[i].match(s)}const r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(L0._cmpBySpecificity),r}insert(t,r,n,i,s,a){if(r===""){this._doInsertHere(t,n,i,s,a);return}let o=r.indexOf("."),l,u;o===-1?(l=r,u=""):(l=r.substring(0,o),u=r.substring(o+1));let c;this._children.hasOwnProperty(l)?c=this._children[l]:(c=new L0(this._mainRule.clone(),I0.cloneArr(this._rulesWithParentScopes)),this._children[l]=c),c.insert(t+1,u,n,i,s,a)}_doInsertHere(t,r,n,i,s){if(r===null){this._mainRule.acceptOverwrite(t,n,i,s);return}for(let a=0,o=this._rulesWithParentScopes.length;a<o;a++){let l=this._rulesWithParentScopes[a];if(Vk(l.parentScopes,r)===0){l.acceptOverwrite(t,n,i,s);return}}n===-1&&(n=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new I0(t,r,n,i,s))}},wo=class In{static toBinaryStr(t){return t.toString(2).padStart(32,"0")}static print(t){const r=In.getLanguageId(t),n=In.getTokenType(t),i=In.getFontStyle(t),s=In.getForeground(t),a=In.getBackground(t);console.log({languageId:r,tokenType:n,fontStyle:i,foreground:s,background:a})}static getLanguageId(t){return(t&255)>>>0}static getTokenType(t){return(t&768)>>>8}static containsBalancedBrackets(t){return(t&1024)!==0}static getFontStyle(t){return(t&30720)>>>11}static getForeground(t){return(t&16744448)>>>15}static getBackground(t){return(t&4278190080)>>>24}static set(t,r,n,i,s,a,o){let l=In.getLanguageId(t),u=In.getTokenType(t),c=In.containsBalancedBrackets(t)?1:0,h=In.getFontStyle(t),f=In.getForeground(t),d=In.getBackground(t);return r!==0&&(l=r),n!==8&&(u=n),i!==null&&(c=i?1:0),s!==-1&&(h=s),a!==0&&(f=a),o!==0&&(d=o),(l<<0|u<<8|c<<10|h<<11|f<<15|d<<24)>>>0}};function Wh(e,t){const r=[],n=Gz(e);let i=n.next();for(;i!==null;){let l=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=n.next()}let u=a();if(r.push({matcher:u,priority:l}),i!==",")break;i=n.next()}return r;function s(){if(i==="-"){i=n.next();const l=s();return u=>!!l&&!l(u)}if(i==="("){i=n.next();const l=o();return i===")"&&(i=n.next()),l}if(ox(i)){const l=[];do l.push(i),i=n.next();while(ox(i));return u=>t(l,u)}return null}function a(){const l=[];let u=s();for(;u;)l.push(u),u=s();return c=>l.every(h=>h(c))}function o(){const l=[];let u=a();for(;u&&(l.push(u),i==="|"||i===",");){do i=n.next();while(i==="|"||i===",");u=a()}return c=>l.some(h=>h(c))}}function ox(e){return!!e&&!!e.match(/[\w\.:]+/)}function Gz(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,r=t.exec(e);return{next:()=>{if(!r)return null;const n=r[0];return r=t.exec(e),n}}}function Qk(e){typeof e.dispose=="function"&&e.dispose()}var ou=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},Vz=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},Yz=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},Xz=class{constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new ou(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const e=this.Q;this.Q=[];const t=new Yz;for(const r of e)Kz(r,this.initialScopeName,this.repo,t);for(const r of t.references)if(r instanceof ou){if(this.seenFullScopeRequests.has(r.scopeName))continue;this.seenFullScopeRequests.add(r.scopeName),this.Q.push(r)}else{if(this.seenFullScopeRequests.has(r.scopeName)||this.seenPartialScopeRequests.has(r.toKey()))continue;this.seenPartialScopeRequests.add(r.toKey()),this.Q.push(r)}}};function Kz(e,t,r,n){const i=r.lookup(e.scopeName);if(!i){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const s=r.lookup(t);e instanceof ou?hh({baseGrammar:s,selfGrammar:i},n):R0(e.ruleName,{baseGrammar:s,selfGrammar:i,repository:i.repository},n);const a=r.injections(e.scopeName);if(a)for(const o of a)n.add(new ou(o))}function R0(e,t,r){if(t.repository&&t.repository[e]){const n=t.repository[e];qh([n],t,r)}}function hh(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&qh(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&qh(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function qh(e,t,r){for(const n of e){if(r.visitedRule.has(n))continue;r.visitedRule.add(n);const i=n.repository?Wk({},t.repository,n.repository):t.repository;Array.isArray(n.patterns)&&qh(n.patterns,{...t,repository:i},r);const s=n.include;if(!s)continue;const a=Jk(s);switch(a.kind){case 0:hh({...t,selfGrammar:t.baseGrammar},r);break;case 1:hh(t,r);break;case 2:R0(a.ruleName,{...t,repository:i},r);break;case 3:case 4:const o=a.scopeName===t.selfGrammar.scopeName?t.selfGrammar:a.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(o){const l={baseGrammar:t.baseGrammar,selfGrammar:o,repository:i};a.kind===4?R0(a.ruleName,l,r):hh(l,r)}else a.kind===4?r.add(new Vz(a.scopeName,a.ruleName)):r.add(new ou(a.scopeName));break}}}var Zz=class{kind=0},Qz=class{kind=1},Jz=class{constructor(e){this.ruleName=e}kind=2},tj=class{constructor(e){this.scopeName=e}kind=3},ej=class{constructor(e,t){this.scopeName=e,this.ruleName=t}kind=4};function Jk(e){if(e==="$base")return new Zz;if(e==="$self")return new Qz;const t=e.indexOf("#");if(t===-1)return new tj(e);if(t===0)return new Jz(e.substring(1));{const r=e.substring(0,t),n=e.substring(t+1);return new ej(r,n)}}var rj=/\\(\d+)/,lx=/\\(\d+)/g,nj=-1,tS=-2;var $u=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,t,r,n){this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=Ic.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=Ic.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${qk(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:Ic.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Ic.replaceCaptures(this._contentName,e,t)}},ij=class extends $u{retokenizeCapturedWithRuleId;constructor(e,t,r,n,i){super(e,t,r,n),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,t){throw new Error("Not supported!")}compile(e,t){throw new Error("Not supported!")}compileAG(e,t,r,n){throw new Error("Not supported!")}},sj=class extends $u{_match;captures;_cachedCompiledPatterns;constructor(e,t,r,n,i){super(e,t,r,null),this._match=new lu(n,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new uu,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},ux=class extends $u{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,i){super(e,t,r,n),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(const r of this.patterns)e.getRule(r).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new uu,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},N0=class extends $u{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,i,s,a,o,l,u){super(e,t,r,n),this._begin=new lu(i,this.id),this.beginCaptures=s,this._end=new lu(a||"ï¿¿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=o,this.applyEndPatternLast=l||!1,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e,t).compileAG(e,r,n)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new uu;for(const r of this.patterns)e.getRule(r).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}},Gh=class extends $u{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(e,t,r,n,i,s,a,o,l){super(e,t,r,n),this._begin=new lu(i,this.id),this.beginCaptures=s,this.whileCaptures=o,this._while=new lu(a,tS),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new uu;for(const t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,r,n){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,r,n)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new uu,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||"ï¿¿"),this._cachedCompiledWhilePatterns}},eS=class Nr{static createCaptureRule(t,r,n,i,s){return t.registerRule(a=>new ij(r,a,n,i,s))}static getCompiledRuleId(t,r,n){return t.id||r.registerRule(i=>{if(t.id=i,t.match)return new sj(t.$vscodeTextmateLocation,t.id,t.name,t.match,Nr._compileCaptures(t.captures,r,n));if(typeof t.begin>"u"){t.repository&&(n=Wk({},n,t.repository));let s=t.patterns;return typeof s>"u"&&t.include&&(s=[{include:t.include}]),new ux(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,Nr._compilePatterns(s,r,n))}return t.while?new Gh(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,Nr._compileCaptures(t.beginCaptures||t.captures,r,n),t.while,Nr._compileCaptures(t.whileCaptures||t.captures,r,n),Nr._compilePatterns(t.patterns,r,n)):new N0(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,Nr._compileCaptures(t.beginCaptures||t.captures,r,n),t.end,Nr._compileCaptures(t.endCaptures||t.captures,r,n),t.applyEndPatternLast,Nr._compilePatterns(t.patterns,r,n))}),t.id}static _compileCaptures(t,r,n){let i=[];if(t){let s=0;for(const a in t){if(a==="$vscodeTextmateLocation")continue;const o=parseInt(a,10);o>s&&(s=o)}for(let a=0;a<=s;a++)i[a]=null;for(const a in t){if(a==="$vscodeTextmateLocation")continue;const o=parseInt(a,10);let l=0;t[a].patterns&&(l=Nr.getCompiledRuleId(t[a],r,n)),i[o]=Nr.createCaptureRule(r,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,l)}}return i}static _compilePatterns(t,r,n){let i=[];if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s];let l=-1;if(o.include){const u=Jk(o.include);switch(u.kind){case 0:case 1:l=Nr.getCompiledRuleId(n[o.include],r,n);break;case 2:let c=n[u.ruleName];c&&(l=Nr.getCompiledRuleId(c,r,n));break;case 3:case 4:const h=u.scopeName,f=u.kind===4?u.ruleName:null,d=r.getExternalGrammar(h,n);if(d)if(f){let p=d.repository[f];p&&(l=Nr.getCompiledRuleId(p,r,d.repository))}else l=Nr.getCompiledRuleId(d.repository.$self,r,d.repository);break}}else l=Nr.getCompiledRuleId(o,r,n);if(l!==-1){const u=r.getRule(l);let c=!1;if((u instanceof ux||u instanceof N0||u instanceof Gh)&&u.hasMissingPatterns&&u.patterns.length===0&&(c=!0),c)continue;i.push(l)}}return{patterns:i,hasMissingPatterns:(t?t.length:0)!==i.length}}},lu=class rS{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(t,r){if(t&&typeof t=="string"){const n=t.length;let i=0,s=[],a=!1;for(let o=0;o<n;o++)if(t.charAt(o)==="\\"&&o+1<n){const u=t.charAt(o+1);u==="z"?(s.push(t.substring(i,o)),s.push("$(?!\\n)(?<!\\n)"),i=o+2):(u==="A"||u==="G")&&(a=!0),o++}this.hasAnchor=a,i===0?this.source=t:(s.push(t.substring(i,n)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=r,typeof this.source=="string"?this.hasBackReferences=rj.test(this.source):this.hasBackReferences=!1}clone(){return new rS(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,r){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let n=r.map(i=>t.substring(i.start,i.end));return lx.lastIndex=0,this.source.replace(lx,(i,s)=>Yk(n[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let t=[],r=[],n=[],i=[],s,a,o,l;for(s=0,a=this.source.length;s<a;s++)o=this.source.charAt(s),t[s]=o,r[s]=o,n[s]=o,i[s]=o,o==="\\"&&s+1<a&&(l=this.source.charAt(s+1),l==="A"?(t[s+1]="ï¿¿",r[s+1]="ï¿¿",n[s+1]="A",i[s+1]="A"):l==="G"?(t[s+1]="ï¿¿",r[s+1]="G",n[s+1]="ï¿¿",i[s+1]="G"):(t[s+1]=l,r[s+1]=l,n[s+1]=l,i[s+1]=l),s++);return{A0_G0:t.join(""),A0_G1:r.join(""),A1_G0:n.join(""),A1_G1:i.join("")}}resolveAnchors(t,r){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:t?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},uu=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(r=>r.source);this._cached=new cx(e,t,this._items.map(r=>r.ruleId))}return this._cached}compileAG(e,t,r){return this._hasAnchors?t?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,r){let n=this._items.map(i=>i.resolveAnchors(t,r));return new cx(e,n,this._items.map(i=>i.ruleId))}},cx=class{constructor(e,t,r){this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,r){const n=this.scanner.findNextMatchSync(e,t,r);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}},dg=class{constructor(e,t){this.languageId=e,this.tokenType=t}},aj=class O0{_defaultAttributes;_embeddedLanguagesMatcher;constructor(t,r){this._defaultAttributes=new dg(t,8),this._embeddedLanguagesMatcher=new oj(Object.entries(r||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return t===null?O0._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}static _NULL_SCOPE_METADATA=new dg(0,0);_getBasicScopeAttributes=new Xk(t=>{const r=this._scopeToLanguage(t),n=this._toStandardTokenType(t);return new dg(r,n)});_scopeToLanguage(t){return this._embeddedLanguagesMatcher.match(t)||0}_toStandardTokenType(t){const r=t.match(O0.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},oj=class{values;scopesRegExp;constructor(e){if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([r,n])=>Yk(r));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}},hx=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function nS(e,t,r,n,i,s,a,o){const l=t.content.length;let u=!1,c=-1;if(a){const d=lj(e,t,r,n,i,s);i=d.stack,n=d.linePos,r=d.isFirstLine,c=d.anchorPosition}const h=Date.now();for(;!u;){if(o!==0&&Date.now()-h>o)return new hx(i,!0);f()}return new hx(i,!1);function f(){const d=uj(e,t,r,n,i,c);if(!d){s.produce(i,l),u=!0;return}const p=d.captureIndices,g=d.matchedRuleId,y=p&&p.length>0?p[0].end>n:!1;if(g===nj){const m=i.getRule(e);s.produce(i,p[0].start),i=i.withContentNameScopesList(i.nameScopesList),Sl(e,t,r,i,s,m.endCaptures,p),s.produce(i,p[0].end);const b=i;if(i=i.parent,c=b.getAnchorPos(),!y&&b.getEnterPos()===n){i=b,s.produce(i,l),u=!0;return}}else{const m=e.getRule(g);s.produce(i,p[0].start);const b=i,_=m.getName(t.content,p),T=i.contentNameScopesList.pushAttributed(_,e);if(i=i.push(g,n,c,p[0].end===l,null,T,T),m instanceof N0){const C=m;Sl(e,t,r,i,s,C.beginCaptures,p),s.produce(i,p[0].end),c=p[0].end;const L=C.getContentName(t.content,p),N=T.pushAttributed(L,e);if(i=i.withContentNameScopesList(N),C.endHasBackReferences&&(i=i.withEndRule(C.getEndWithResolvedBackReferences(t.content,p))),!y&&b.hasSameRuleAs(i)){i=i.pop(),s.produce(i,l),u=!0;return}}else if(m instanceof Gh){const C=m;Sl(e,t,r,i,s,C.beginCaptures,p),s.produce(i,p[0].end),c=p[0].end;const L=C.getContentName(t.content,p),N=T.pushAttributed(L,e);if(i=i.withContentNameScopesList(N),C.whileHasBackReferences&&(i=i.withEndRule(C.getWhileWithResolvedBackReferences(t.content,p))),!y&&b.hasSameRuleAs(i)){i=i.pop(),s.produce(i,l),u=!0;return}}else if(Sl(e,t,r,i,s,m.captures,p),s.produce(i,p[0].end),i=i.pop(),!y){i=i.safePop(),s.produce(i,l),u=!0;return}}p[0].end>n&&(n=p[0].end,r=!1)}}function lj(e,t,r,n,i,s){let a=i.beginRuleCapturedEOL?0:-1;const o=[];for(let l=i;l;l=l.pop()){const u=l.getRule(e);u instanceof Gh&&o.push({rule:u,stack:l})}for(let l=o.pop();l;l=o.pop()){const{ruleScanner:u,findOptions:c}=dj(l.rule,e,l.stack.endRule,r,n===a),h=u.findNextMatchSync(t,n,c);if(h){if(h.ruleId!==tS){i=l.stack.pop();break}h.captureIndices&&h.captureIndices.length&&(s.produce(l.stack,h.captureIndices[0].start),Sl(e,t,r,l.stack,s,l.rule.whileCaptures,h.captureIndices),s.produce(l.stack,h.captureIndices[0].end),a=h.captureIndices[0].end,h.captureIndices[0].end>n&&(n=h.captureIndices[0].end,r=!1))}else{i=l.stack.pop();break}}return{stack:i,linePos:n,anchorPosition:a,isFirstLine:r}}function uj(e,t,r,n,i,s){const a=cj(e,t,r,n,i,s),o=e.getInjections();if(o.length===0)return a;const l=hj(o,e,t,r,n,i,s);if(!l)return a;if(!a)return l;const u=a.captureIndices[0].start,c=l.captureIndices[0].start;return c<u||l.priorityMatch&&c===u?l:a}function cj(e,t,r,n,i,s){const a=i.getRule(e),{ruleScanner:o,findOptions:l}=iS(a,e,i.endRule,r,n===s),u=o.findNextMatchSync(t,n,l);return u?{captureIndices:u.captureIndices,matchedRuleId:u.ruleId}:null}function hj(e,t,r,n,i,s,a){let o=Number.MAX_VALUE,l=null,u,c=0;const h=s.contentNameScopesList.getScopeNames();for(let f=0,d=e.length;f<d;f++){const p=e[f];if(!p.matcher(h))continue;const g=t.getRule(p.ruleId),{ruleScanner:y,findOptions:m}=iS(g,t,null,n,i===a),b=y.findNextMatchSync(r,i,m);if(!b)continue;const _=b.captureIndices[0].start;if(!(_>=o)&&(o=_,l=b.captureIndices,u=b.ruleId,c=p.priority,o===i))break}return l?{priorityMatch:c===-1,captureIndices:l,matchedRuleId:u}:null}function iS(e,t,r,n,i){return{ruleScanner:e.compileAG(t,r,n,i),findOptions:0}}function dj(e,t,r,n,i){return{ruleScanner:e.compileWhileAG(t,r,n,i),findOptions:0}}function Sl(e,t,r,n,i,s,a){if(s.length===0)return;const o=t.content,l=Math.min(s.length,a.length),u=[],c=a[0].end;for(let h=0;h<l;h++){const f=s[h];if(f===null)continue;const d=a[h];if(d.length===0)continue;if(d.start>c)break;for(;u.length>0&&u[u.length-1].endPos<=d.start;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?i.produceFromScopes(u[u.length-1].scopes,d.start):i.produce(n,d.start),f.retokenizeCapturedWithRuleId){const g=f.getName(o,a),y=n.contentNameScopesList.pushAttributed(g,e),m=f.getContentName(o,a),b=y.pushAttributed(m,e),_=n.push(f.retokenizeCapturedWithRuleId,d.start,-1,!1,null,y,b),T=e.createOnigString(o.substring(0,d.end));nS(e,T,r&&d.start===0,d.start,_,i,!1,0),Qk(T);continue}const p=f.getName(o,a);if(p!==null){const y=(u.length>0?u[u.length-1].scopes:n.contentNameScopesList).pushAttributed(p,e);u.push(new fj(y,d.end))}}for(;u.length>0;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}var fj=class{scopes;endPos;constructor(e,t){this.scopes=e,this.endPos=t}};function pj(e,t,r,n,i,s,a,o){return new gj(e,t,r,n,i,s,a,o)}function dx(e,t,r,n,i){const s=Wh(t,Vh),a=eS.getCompiledRuleId(r,n,i.repository);for(const o of s)e.push({debugSelector:t,matcher:o.matcher,ruleId:a,grammar:i,priority:o.priority})}function Vh(e,t){if(t.length<e.length)return!1;let r=0;return e.every(n=>{for(let i=r;i<t.length;i++)if(mj(t[i],n))return r=i+1,!0;return!1})}function mj(e,t){if(!e)return!1;if(e===t)return!0;const r=t.length;return e.length>r&&e.substr(0,r)===t&&e[r]==="."}var gj=class{constructor(e,t,r,n,i,s,a,o){if(this._rootScopeName=e,this.balancedBracketSelectors=s,this._onigLib=o,this._basicScopeAttributesProvider=new aj(r,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=a,this._grammar=fx(t,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const l of Object.keys(i)){const u=Wh(l,Vh);for(const c of u)this._tokenTypeMatchers.push({matcher:c.matcher,type:i[l]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),injections:i=>this._grammarRepository.injections(i)},t=[],r=this._rootScopeName,n=e.lookup(r);if(n){const i=n.injections;if(i)for(let a in i)dx(t,a,i[a],this,n);const s=this._grammarRepository.injections(r);s&&s.forEach(a=>{const o=this.getExternalGrammar(a);if(o){const l=o.injectionSelector;l&&dx(t,l,o,this,o)}})}return t.sort((i,s)=>i.priority-s.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=fx(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){const n=this._tokenize(e,t,!1,r);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(e,t,r=0){const n=this._tokenize(e,t,!0,r);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(e,t,r,n){this._rootId===-1&&(this._rootId=eS.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!t||t===P0.NULL){i=!0;const u=this._basicScopeAttributesProvider.getDefaultAttributes(),c=this.themeProvider.getDefaults(),h=wo.set(0,u.languageId,u.tokenType,null,c.fontStyle,c.foregroundId,c.backgroundId),f=this.getRule(this._rootId).getName(null,null);let d;f?d=Gl.createRootAndLookUpScopeName(f,h,this):d=Gl.createRoot("unknown",h),t=new P0(null,this._rootId,-1,-1,!1,null,d,d)}else i=!1,t.reset();e=e+`
`;const s=this.createOnigString(e),a=s.content.length,o=new yj(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),l=nS(this,s,i,0,t,o,!0,n);return Qk(s),{lineLength:a,lineTokens:o,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function fx(e,t){return e=Dz(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var Gl=class li{constructor(t,r,n){this.parent=t,this.scopePath=r,this.tokenAttributes=n}static fromExtension(t,r){let n=t,i=t?.scopePath??null;for(const s of r)i=hg.push(i,s.scopeNames),n=new li(n,i,s.encodedTokenAttributes);return n}static createRoot(t,r){return new li(null,new hg(null,t),r)}static createRootAndLookUpScopeName(t,r,n){const i=n.getMetadataForScope(t),s=new hg(null,t),a=n.themeProvider.themeMatch(s),o=li.mergeAttributes(r,i,a);return new li(null,s,o)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return li.equals(this,t)}static equals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.scopeName!==r.scopeName||t.tokenAttributes!==r.tokenAttributes)return!1;t=t.parent,r=r.parent}while(!0)}static mergeAttributes(t,r,n){let i=-1,s=0,a=0;return n!==null&&(i=n.fontStyle,s=n.foregroundId,a=n.backgroundId),wo.set(t,r.languageId,r.tokenType,null,i,s,a)}pushAttributed(t,r){if(t===null)return this;if(t.indexOf(" ")===-1)return li._pushAttributed(this,t,r);const n=t.split(/ /g);let i=this;for(const s of n)i=li._pushAttributed(i,s,r);return i}static _pushAttributed(t,r,n){const i=n.getMetadataForScope(r),s=t.scopePath.push(r),a=n.themeProvider.themeMatch(s),o=li.mergeAttributes(t.tokenAttributes,i,a);return new li(t,s,o)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){const r=[];let n=this;for(;n&&n!==t;)r.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(n.parent?.scopePath??null)}),n=n.parent;return n===t?r.reverse():void 0}},P0=class Hs{constructor(t,r,n,i,s,a,o,l){this.parent=t,this.ruleId=r,this.beginRuleCapturedEOL=s,this.endRule=a,this.nameScopesList=o,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=i}_stackElementBrand=void 0;static NULL=new Hs(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(t){return t===null?!1:Hs._equals(this,t)}static _equals(t,r){return t===r?!0:this._structuralEquals(t,r)?Gl.equals(t.contentNameScopesList,r.contentNameScopesList):!1}static _structuralEquals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.depth!==r.depth||t.ruleId!==r.ruleId||t.endRule!==r.endRule)return!1;t=t.parent,r=r.parent}while(!0)}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){Hs._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,n,i,s,a,o){return new Hs(this,t,r,n,i,s,a,o)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,r){return this.parent&&(r=this.parent._writeString(t,r)),t[r++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,r}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new Hs(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let r=this;for(;r&&r._enterPos===t._enterPos;){if(r.ruleId===t.ruleId)return!0;r=r.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,r){const n=Gl.fromExtension(t?.nameScopesList??null,r.nameScopesList);return new Hs(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,n,Gl.fromExtension(n,r.contentNameScopesList))}},bj=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(e,t){this.balancedBracketScopes=e.flatMap(r=>r==="*"?(this.allowAny=!0,[]):Wh(r,Vh).map(n=>n.matcher)),this.unbalancedBracketScopes=t.flatMap(r=>Wh(r,Vh).map(n=>n.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},yj=class{constructor(e,t,r,n){this.balancedBracketSelectors=n,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let n=e?.tokenAttributes??0,i=!1;if(this.balancedBracketSelectors?.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const s=e?.getScopeNames()??[];for(const a of this._tokenTypeOverrides)a.matcher(s)&&(n=wo.set(n,0,a.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(s))}if(i&&(n=wo.set(n,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),this._lastTokenEndIndex=t;return}const r=e?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let n=0,i=this._binaryTokens.length;n<i;n++)r[n]=this._binaryTokens[n];return r}},_j=class{constructor(e,t){this._onigLib=t,this._theme=e}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,n,i){if(!this._grammars.has(e)){let s=this._rawGrammars.get(e);if(!s)return null;this._grammars.set(e,pj(e,s,t,r,n,i,this,this._onigLib))}return this._grammars.get(e)}},Ej=class{_options;_syncRegistry;_ensureGrammarCache;constructor(t){this._options=t,this._syncRegistry=new _j(jh.createFromRawTheme(t.theme,t.colorMap),t.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(t,r){this._syncRegistry.setTheme(jh.createFromRawTheme(t,r))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(t,r,n){return this.loadGrammarWithConfiguration(t,r,{embeddedLanguages:n})}loadGrammarWithConfiguration(t,r,n){return this._loadGrammar(t,r,n.embeddedLanguages,n.tokenTypes,new bj(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(t){return this._loadGrammar(t,0,null,null,null)}_loadGrammar(t,r,n,i,s){const a=new Xz(this._syncRegistry,t);for(;a.Q.length>0;)a.Q.map(o=>this._loadSingleGrammar(o.scopeName)),a.processQueue();return this._grammarForScopeName(t,r,n,i,s)}_loadSingleGrammar(t){this._ensureGrammarCache.has(t)||(this._doLoadSingleGrammar(t),this._ensureGrammarCache.set(t,!0))}_doLoadSingleGrammar(t){const r=this._options.loadGrammar(t);if(r){const n=typeof this._options.getInjections=="function"?this._options.getInjections(t):void 0;this._syncRegistry.addGrammar(r,n)}}addGrammar(t,r=[],n=0,i=null){return this._syncRegistry.addGrammar(t,r),this._grammarForScopeName(t.scopeName,n,i)}_grammarForScopeName(t,r=0,n=null,i=null,s=null){return this._syncRegistry.grammarForScopeName(t,r,n,i,s)}},D0=P0.NULL;const wj=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class zu{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}zu.prototype.normal={};zu.prototype.property={};zu.prototype.space=void 0;function sS(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new zu(r,n,t)}function cu(e){return e.toLowerCase()}class yn{constructor(t,r){this.attribute=r,this.property=t}}yn.prototype.attribute="";yn.prototype.booleanish=!1;yn.prototype.boolean=!1;yn.prototype.commaOrSpaceSeparated=!1;yn.prototype.commaSeparated=!1;yn.prototype.defined=!1;yn.prototype.mustUseProperty=!1;yn.prototype.number=!1;yn.prototype.overloadedBoolean=!1;yn.prototype.property="";yn.prototype.spaceSeparated=!1;yn.prototype.space=void 0;let xj=0;const ce=xa(),ir=xa(),B0=xa(),Dt=xa(),Fe=xa(),Ja=xa(),wn=xa();function xa(){return 2**++xj}const M0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ce,booleanish:ir,commaOrSpaceSeparated:wn,commaSeparated:Ja,number:Dt,overloadedBoolean:B0,spaceSeparated:Fe},Symbol.toStringTag,{value:"Module"})),fg=Object.keys(M0);class d1 extends yn{constructor(t,r,n,i){let s=-1;if(super(t,r),px(this,"space",i),typeof n=="number")for(;++s<fg.length;){const a=fg[s];px(this,fg[s],(n&M0[a])===M0[a])}}}d1.prototype.defined=!0;function px(e,t,r){r&&(e[t]=r)}function Ho(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new d1(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[cu(n)]=n,r[cu(s.attribute)]=n}return new zu(t,r,e.space)}const aS=Ho({properties:{ariaActiveDescendant:null,ariaAtomic:ir,ariaAutoComplete:null,ariaBusy:ir,ariaChecked:ir,ariaColCount:Dt,ariaColIndex:Dt,ariaColSpan:Dt,ariaControls:Fe,ariaCurrent:null,ariaDescribedBy:Fe,ariaDetails:null,ariaDisabled:ir,ariaDropEffect:Fe,ariaErrorMessage:null,ariaExpanded:ir,ariaFlowTo:Fe,ariaGrabbed:ir,ariaHasPopup:null,ariaHidden:ir,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Fe,ariaLevel:Dt,ariaLive:null,ariaModal:ir,ariaMultiLine:ir,ariaMultiSelectable:ir,ariaOrientation:null,ariaOwns:Fe,ariaPlaceholder:null,ariaPosInSet:Dt,ariaPressed:ir,ariaReadOnly:ir,ariaRelevant:null,ariaRequired:ir,ariaRoleDescription:Fe,ariaRowCount:Dt,ariaRowIndex:Dt,ariaRowSpan:Dt,ariaSelected:ir,ariaSetSize:Dt,ariaSort:null,ariaValueMax:Dt,ariaValueMin:Dt,ariaValueNow:Dt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function oS(e,t){return t in e?e[t]:t}function lS(e,t){return oS(e,t.toLowerCase())}const Tj=Ho({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ja,acceptCharset:Fe,accessKey:Fe,action:null,allow:null,allowFullScreen:ce,allowPaymentRequest:ce,allowUserMedia:ce,alt:null,as:null,async:ce,autoCapitalize:null,autoComplete:Fe,autoFocus:ce,autoPlay:ce,blocking:Fe,capture:null,charSet:null,checked:ce,cite:null,className:Fe,cols:Dt,colSpan:null,content:null,contentEditable:ir,controls:ce,controlsList:Fe,coords:Dt|Ja,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ce,defer:ce,dir:null,dirName:null,disabled:ce,download:B0,draggable:ir,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ce,formTarget:null,headers:Fe,height:Dt,hidden:B0,high:Dt,href:null,hrefLang:null,htmlFor:Fe,httpEquiv:Fe,id:null,imageSizes:null,imageSrcSet:null,inert:ce,inputMode:null,integrity:null,is:null,isMap:ce,itemId:null,itemProp:Fe,itemRef:Fe,itemScope:ce,itemType:Fe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ce,low:Dt,manifest:null,max:null,maxLength:Dt,media:null,method:null,min:null,minLength:Dt,multiple:ce,muted:ce,name:null,nonce:null,noModule:ce,noValidate:ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ce,optimum:Dt,pattern:null,ping:Fe,placeholder:null,playsInline:ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ce,referrerPolicy:null,rel:Fe,required:ce,reversed:ce,rows:Dt,rowSpan:Dt,sandbox:Fe,scope:null,scoped:ce,seamless:ce,selected:ce,shadowRootClonable:ce,shadowRootDelegatesFocus:ce,shadowRootMode:null,shape:null,size:Dt,sizes:null,slot:null,span:Dt,spellCheck:ir,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Dt,step:null,style:null,tabIndex:Dt,target:null,title:null,translate:null,type:null,typeMustMatch:ce,useMap:null,value:ir,width:Dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Fe,axis:null,background:null,bgColor:null,border:Dt,borderColor:null,bottomMargin:Dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ce,declare:ce,event:null,face:null,frame:null,frameBorder:null,hSpace:Dt,leftMargin:Dt,link:null,longDesc:null,lowSrc:null,marginHeight:Dt,marginWidth:Dt,noResize:ce,noHref:ce,noShade:ce,noWrap:ce,object:null,profile:null,prompt:null,rev:null,rightMargin:Dt,rules:null,scheme:null,scrolling:ir,standby:null,summary:null,text:null,topMargin:Dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ce,disableRemotePlayback:ce,prefix:null,property:null,results:Dt,security:null,unselectable:null},space:"html",transform:lS}),vj=Ho({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wn,accentHeight:Dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Dt,amplitude:Dt,arabicForm:null,ascent:Dt,attributeName:null,attributeType:null,azimuth:Dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Dt,by:null,calcMode:null,capHeight:Dt,className:Fe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Dt,diffuseConstant:Dt,direction:null,display:null,dur:null,divisor:Dt,dominantBaseline:null,download:ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:Dt,enableBackground:null,end:null,event:null,exponent:Dt,externalResourcesRequired:null,fill:null,fillOpacity:Dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ja,g2:Ja,glyphName:Ja,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Dt,horizOriginX:Dt,horizOriginY:Dt,id:null,ideographic:Dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Dt,k:Dt,k1:Dt,k2:Dt,k3:Dt,k4:Dt,kernelMatrix:wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Dt,overlineThickness:Dt,paintOrder:null,panose1:null,path:null,pathLength:Dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Fe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Dt,pointsAtY:Dt,pointsAtZ:Dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wn,rev:wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wn,requiredFeatures:wn,requiredFonts:wn,requiredFormats:wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Dt,specularExponent:Dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Dt,strikethroughThickness:Dt,string:null,stroke:null,strokeDashArray:wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Dt,strokeOpacity:Dt,strokeWidth:null,style:null,surfaceScale:Dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wn,tabIndex:Dt,tableValues:null,target:null,targetX:Dt,targetY:Dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Dt,underlineThickness:Dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Dt,values:null,vAlphabetic:Dt,vMathematical:Dt,vectorEffect:null,vHanging:Dt,vIdeographic:Dt,version:null,vertAdvY:Dt,vertOriginX:Dt,vertOriginY:Dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:oS}),uS=Ho({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),cS=Ho({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lS}),hS=Ho({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Aj=/[A-Z]/g,mx=/-[a-z]/g,Cj=/^data[-\w.:]+$/i;function f1(e,t){const r=cu(t);let n=t,i=yn;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Cj.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(mx,Sj);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!mx.test(s)){let a=s.replace(Aj,kj);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=d1}return new i(n,t)}function kj(e){return"-"+e.toLowerCase()}function Sj(e){return e.charAt(1).toUpperCase()}const uf=sS([aS,Tj,uS,cS,hS],"html"),ju=sS([aS,vj,uS,cS,hS],"svg"),Ij=/["&'<>`]/g,Lj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rj=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Nj=/[|\\{}()[\]^$+*?.]/g,gx=new WeakMap;function Oj(e,t){if(e=e.replace(t.subset?Pj(t.subset):Ij,n),t.subset||t.escapeOnly)return e;return e.replace(Lj,r).replace(Rj,n);function r(i,s,a){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(s+2),t)}function n(i,s,a){return t.format(i.charCodeAt(0),a.charCodeAt(s+1),t)}}function Pj(e){let t=gx.get(e);return t||(t=Dj(e),gx.set(e,t)),t}function Dj(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(Nj,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const Bj=/[\dA-Fa-f]/;function Mj(e,t,r){const n="&#x"+e.toString(16).toUpperCase();return r&&t&&!Bj.test(String.fromCharCode(t))?n:n+";"}const Fj=/\d/;function Uj(e,t,r){const n="&#"+String(e);return r&&t&&!Fj.test(String.fromCharCode(t))?n:n+";"}const Hj=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],pg={nbsp:"Â ",iexcl:"Â¡",cent:"Â¢",pound:"Â£",curren:"Â¤",yen:"Â¥",brvbar:"Â¦",sect:"Â§",uml:"Â¨",copy:"Â©",ordf:"Âª",laquo:"Â«",not:"Â¬",shy:"Â­",reg:"Â®",macr:"Â¯",deg:"Â°",plusmn:"Â±",sup2:"Â²",sup3:"Â³",acute:"Â´",micro:"Âµ",para:"Â¶",middot:"Â·",cedil:"Â¸",sup1:"Â¹",ordm:"Âº",raquo:"Â»",frac14:"Â¼",frac12:"Â½",frac34:"Â¾",iquest:"Â¿",Agrave:"Ã",Aacute:"Ã",Acirc:"Ã",Atilde:"Ã",Auml:"Ã",Aring:"Ã",AElig:"Ã",Ccedil:"Ã",Egrave:"Ã",Eacute:"Ã",Ecirc:"Ã",Euml:"Ã",Igrave:"Ã",Iacute:"Ã",Icirc:"Ã",Iuml:"Ã",ETH:"Ã",Ntilde:"Ã",Ograve:"Ã",Oacute:"Ã",Ocirc:"Ã",Otilde:"Ã",Ouml:"Ã",times:"Ã",Oslash:"Ã",Ugrave:"Ã",Uacute:"Ã",Ucirc:"Ã",Uuml:"Ã",Yacute:"Ã",THORN:"Ã",szlig:"Ã",agrave:"Ã ",aacute:"Ã¡",acirc:"Ã¢",atilde:"Ã£",auml:"Ã¤",aring:"Ã¥",aelig:"Ã¦",ccedil:"Ã§",egrave:"Ã¨",eacute:"Ã©",ecirc:"Ãª",euml:"Ã«",igrave:"Ã¬",iacute:"Ã­",icirc:"Ã®",iuml:"Ã¯",eth:"Ã°",ntilde:"Ã±",ograve:"Ã²",oacute:"Ã³",ocirc:"Ã´",otilde:"Ãµ",ouml:"Ã¶",divide:"Ã·",oslash:"Ã¸",ugrave:"Ã¹",uacute:"Ãº",ucirc:"Ã»",uuml:"Ã¼",yacute:"Ã½",thorn:"Ã¾",yuml:"Ã¿",fnof:"Æ",Alpha:"Î",Beta:"Î",Gamma:"Î",Delta:"Î",Epsilon:"Î",Zeta:"Î",Eta:"Î",Theta:"Î",Iota:"Î",Kappa:"Î",Lambda:"Î",Mu:"Î",Nu:"Î",Xi:"Î",Omicron:"Î",Pi:"Î ",Rho:"Î¡",Sigma:"Î£",Tau:"Î¤",Upsilon:"Î¥",Phi:"Î¦",Chi:"Î§",Psi:"Î¨",Omega:"Î©",alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",epsilon:"Îµ",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",lambda:"Î»",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",pi:"Ï",rho:"Ï",sigmaf:"Ï",sigma:"Ï",tau:"Ï",upsilon:"Ï",phi:"Ï",chi:"Ï",psi:"Ï",omega:"Ï",thetasym:"Ï",upsih:"Ï",piv:"Ï",bull:"â¢",hellip:"â¦",prime:"â²",Prime:"â³",oline:"â¾",frasl:"â",weierp:"â",image:"â",real:"â",trade:"â¢",alefsym:"âµ",larr:"â",uarr:"â",rarr:"â",darr:"â",harr:"â",crarr:"âµ",lArr:"â",uArr:"â",rArr:"â",dArr:"â",hArr:"â",forall:"â",part:"â",exist:"â",empty:"â",nabla:"â",isin:"â",notin:"â",ni:"â",prod:"â",sum:"â",minus:"â",lowast:"â",radic:"â",prop:"â",infin:"â",ang:"â ",and:"â§",or:"â¨",cap:"â©",cup:"âª",int:"â«",there4:"â´",sim:"â¼",cong:"â",asymp:"â",ne:"â ",equiv:"â¡",le:"â¤",ge:"â¥",sub:"â",sup:"â",nsub:"â",sube:"â",supe:"â",oplus:"â",otimes:"â",perp:"â¥",sdot:"â",lceil:"â",rceil:"â",lfloor:"â",rfloor:"â",lang:"â©",rang:"âª",loz:"â",spades:"â ",clubs:"â£",hearts:"â¥",diams:"â¦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Å",oelig:"Å",Scaron:"Å ",scaron:"Å¡",Yuml:"Å¸",circ:"Ë",tilde:"Ë",ensp:"â",emsp:"â",thinsp:"â",zwnj:"â",zwj:"â",lrm:"â",rlm:"â",ndash:"â",mdash:"â",lsquo:"â",rsquo:"â",sbquo:"â",ldquo:"â",rdquo:"â",bdquo:"â",dagger:"â ",Dagger:"â¡",permil:"â°",lsaquo:"â¹",rsaquo:"âº",euro:"â¬"},$j=["cent","copy","divide","gt","lt","not","para","times"],dS={}.hasOwnProperty,F0={};let Lc;for(Lc in pg)dS.call(pg,Lc)&&(F0[pg[Lc]]=Lc);const zj=/[^\dA-Za-z]/;function jj(e,t,r,n){const i=String.fromCharCode(e);if(dS.call(F0,i)){const s=F0[i],a="&"+s;return r&&Hj.includes(s)&&!$j.includes(s)&&(!n||t&&t!==61&&zj.test(String.fromCharCode(t)))?a:a+";"}return""}function Wj(e,t,r){let n=Mj(e,t,r.omitOptionalSemicolons),i;if((r.useNamedReferences||r.useShortestReferences)&&(i=jj(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!i)&&r.useShortestReferences){const s=Uj(e,t,r.omitOptionalSemicolons);s.length<n.length&&(n=s)}return i&&(!r.useShortestReferences||i.length<n.length)?i:n}function to(e,t){return Oj(e,Object.assign({format:Wj},t))}const qj=/^>|^->|<!--|-->|--!>|<!-$/g,Gj=[">"],Vj=["<",">"];function Yj(e,t,r,n){return n.settings.bogusComments?"<?"+to(e.value,Object.assign({},n.settings.characterReferences,{subset:Gj}))+">":"<!--"+e.value.replace(qj,i)+"-->";function i(s){return to(s,Object.assign({},n.settings.characterReferences,{subset:Vj}))}}function Xj(e,t,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}function bx(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&t.push(a),i=n+1,n=r.indexOf(",",i)}return t}function Kj(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}function yx(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Zj(e){return e.join(" ").trim()}const Qj=/[ \t\n\f\r]/g;function Wu(e){return typeof e=="object"?e.type==="text"?_x(e.value):!1:_x(e)}function _x(e){return e.replace(Qj,"")===""}const br=pS(1),fS=pS(-1),Jj=[];function pS(e){return t;function t(r,n,i){const s=r?r.children:Jj;let a=(n||0)+e,o=s[a];if(!i)for(;o&&Wu(o);)a+=e,o=s[a];return o}}const tW={}.hasOwnProperty;function mS(e){return t;function t(r,n,i){return tW.call(e,r.tagName)&&e[r.tagName](r,n,i)}}const p1=mS({body:rW,caption:mg,colgroup:mg,dd:aW,dt:sW,head:mg,html:eW,li:iW,optgroup:oW,option:lW,p:nW,rp:Ex,rt:Ex,tbody:cW,td:wx,tfoot:hW,th:wx,thead:uW,tr:dW});function mg(e,t,r){const n=br(r,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Wu(n.value.charAt(0)))}function eW(e,t,r){const n=br(r,t);return!n||n.type!=="comment"}function rW(e,t,r){const n=br(r,t);return!n||n.type!=="comment"}function nW(e,t,r){const n=br(r,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}function iW(e,t,r){const n=br(r,t);return!n||n.type==="element"&&n.tagName==="li"}function sW(e,t,r){const n=br(r,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function aW(e,t,r){const n=br(r,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Ex(e,t,r){const n=br(r,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function oW(e,t,r){const n=br(r,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function lW(e,t,r){const n=br(r,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function uW(e,t,r){const n=br(r,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function cW(e,t,r){const n=br(r,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function hW(e,t,r){return!br(r,t)}function dW(e,t,r){const n=br(r,t);return!n||n.type==="element"&&n.tagName==="tr"}function wx(e,t,r){const n=br(r,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const fW=mS({body:gW,colgroup:bW,head:mW,html:pW,tbody:yW});function pW(e){const t=br(e,-1);return!t||t.type!=="comment"}function mW(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const r=e.children[0];return!r||r.type==="element"}function gW(e){const t=br(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Wu(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function bW(e,t,r){const n=fS(r,t),i=br(e,-1,!0);return r&&n&&n.type==="element"&&n.tagName==="colgroup"&&p1(n,r.children.indexOf(n),r)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function yW(e,t,r){const n=fS(r,t),i=br(e,-1);return r&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&p1(n,r.children.indexOf(n),r)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Rc={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function _W(e,t,r,n){const i=n.schema,s=i.space==="svg"?!1:n.settings.omitOptionalTags;let a=i.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const o=[];let l;i.space==="html"&&e.tagName==="svg"&&(n.schema=ju);const u=EW(n,e.properties),c=n.all(i.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=i,c&&(a=!1),(u||!s||!fW(e,t,r))&&(o.push("<",e.tagName,u?" "+u:""),a&&(i.space==="svg"||n.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!n.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&o.push(" "),o.push("/")),o.push(">")),o.push(c),!a&&(!s||!p1(e,t,r))&&o.push("</"+e.tagName+">"),o.join("")}function EW(e,t){const r=[];let n=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const s=wW(e,i,t[i]);s&&r.push(s)}}for(;++n<r.length;){const s=e.settings.tightAttributes?r[n].charAt(r[n].length-1):void 0;n!==r.length-1&&s!=='"'&&s!=="'"&&(r[n]+=" ")}return r.join("")}function wW(e,t,r){const n=f1(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,s=e.settings.allowDangerousCharacters?0:1;let a=e.quote,o;if(n.overloadedBoolean&&(r===n.attribute||r==="")?r=!0:(n.boolean||n.overloadedBoolean)&&(typeof r!="string"||r===n.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const l=to(n.attribute,Object.assign({},e.settings.characterReferences,{subset:Rc.name[i][s]}));return r===!0||(r=Array.isArray(r)?(n.commaSeparated?Kj:Zj)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?l:(e.settings.preferUnquoted&&(o=to(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Rc.unquoted[i][s]}))),o!==r&&(e.settings.quoteSmart&&Bh(r,a)>Bh(r,e.alternative)&&(a=e.alternative),o=a+to(r,Object.assign({},e.settings.characterReferences,{subset:(a==="'"?Rc.single:Rc.double)[i][s],attribute:!0}))+a),l+(o&&"="+o))}const xW=["<","&"];function gS(e,t,r,n){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?e.value:to(e.value,Object.assign({},n.settings.characterReferences,{subset:xW}))}function TW(e,t,r,n){return n.settings.allowDangerousHtml?e.value:gS(e,t,r,n)}function vW(e,t,r,n){return n.all(e)}const AW=nM("type",{invalid:CW,unknown:kW,handlers:{comment:Yj,doctype:Xj,element:_W,raw:TW,root:vW,text:gS}});function CW(e){throw new Error("Expected node, not `"+e+"`")}function kW(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const SW={},IW={},LW=[];function RW(e,t){const r=t||SW,n=r.quote||'"',i=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:NW,all:OW,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||wj,characterReferences:r.characterReferences||IW,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?ju:uf,quote:n,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function NW(e,t,r){return AW(e,t,r,this)}function OW(e){const t=[],r=e&&e.children||LW;let n=-1;for(;++n<r.length;)t[n]=this.one(r[n],n,e);return t.join("")}function Yh(e,t){const r=typeof e=="string"?{}:{...e.colorReplacements},n=typeof e=="string"?e:e.name;for(const[i,s]of Object.entries(t?.colorReplacements||{}))typeof s=="string"?r[i]=s:i===n&&Object.assign(r,s);return r}function ps(e,t){return e&&(t?.[e?.toLowerCase()]||e)}function PW(e){return Array.isArray(e)?e:[e]}async function bS(e){return Promise.resolve(typeof e=="function"?e():e).then(t=>t.default||t)}function m1(e){return!e||["plaintext","txt","text","plain"].includes(e)}function yS(e){return e==="ansi"||m1(e)}function g1(e){return e==="none"}function _S(e){return g1(e)}function ES(e,t){if(!t)return e;e.properties||={},e.properties.class||=[],typeof e.properties.class=="string"&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);const r=Array.isArray(t)?t:t.split(/\s+/g);for(const n of r)n&&!e.properties.class.includes(n)&&e.properties.class.push(n);return e}function cf(e,t=!1){if(e.length===0)return[["",0]];const r=e.split(/(\r?\n)/g);let n=0;const i=[];for(let s=0;s<r.length;s+=2){const a=t?r[s]+(r[s+1]||""):r[s];i.push([a,n]),n+=r[s].length,n+=r[s+1]?.length||0}return i}function DW(e){const t=cf(e,!0).map(([i])=>i);function r(i){if(i===e.length)return{line:t.length-1,character:t[t.length-1].length};let s=i,a=0;for(const o of t){if(s<o.length)break;s-=o.length,a++}return{line:a,character:s}}function n(i,s){let a=0;for(let o=0;o<i;o++)a+=t[o].length;return a+=s,a}return{lines:t,indexToPos:r,posToIndex:n}}const b1="light-dark()",BW=["color","background-color"];function MW(e,t){let r=0;const n=[];for(const i of t)i>r&&n.push({...e,content:e.content.slice(r,i),offset:e.offset+r}),r=i;return r<e.content.length&&n.push({...e,content:e.content.slice(r),offset:e.offset+r}),n}function FW(e,t){const r=Array.from(t instanceof Set?t:new Set(t)).sort((n,i)=>n-i);return r.length?e.map(n=>n.flatMap(i=>{const s=r.filter(a=>i.offset<a&&a<i.offset+i.content.length).map(a=>a-i.offset).sort((a,o)=>a-o);return s.length?MW(i,s):i})):e}function UW(e,t,r,n,i="css-vars"){const s={content:e.content,explanation:e.explanation,offset:e.offset},a=t.map(c=>Xh(e.variants[c])),o=new Set(a.flatMap(c=>Object.keys(c))),l={},u=(c,h)=>{const f=h==="color"?"":h==="background-color"?"-bg":`-${h}`;return r+t[c]+(h==="color"?"":f)};return a.forEach((c,h)=>{for(const f of o){const d=c[f]||"inherit";if(h===0&&n&&BW.includes(f))if(n===b1&&a.length>1){const p=t.findIndex(b=>b==="light"),g=t.findIndex(b=>b==="dark");if(p===-1||g===-1)throw new ar('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const y=a[p][f]||"inherit",m=a[g][f]||"inherit";l[f]=`light-dark(${y}, ${m})`,i==="css-vars"&&(l[u(h,f)]=d)}else l[f]=d;else i==="css-vars"&&(l[u(h,f)]=d)}}),s.htmlStyle=l,s}function Xh(e){const t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&Br.Italic&&(t["font-style"]="italic"),e.fontStyle&Br.Bold&&(t["font-weight"]="bold");const r=[];e.fontStyle&Br.Underline&&r.push("underline"),e.fontStyle&Br.Strikethrough&&r.push("line-through"),r.length&&(t["text-decoration"]=r.join(" "))}return t}function U0(e){return typeof e=="string"?e:Object.entries(e).map(([t,r])=>`${t}:${r}`).join(";")}const wS=new WeakMap;function hf(e,t){wS.set(e,t)}function hu(e){return wS.get(e)}class $o{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(t,r){return new $o(Object.fromEntries(PW(r).map(n=>[n,D0])),t)}constructor(...t){if(t.length===2){const[r,n]=t;this.lang=n,this._stacks=r}else{const[r,n,i]=t;this.lang=n,this._stacks={[i]:r}}}getInternalStack(t=this.theme){return this._stacks[t]}getScopes(t=this.theme){return HW(this._stacks[t])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function HW(e){const t=[],r=new Set;function n(i){if(r.has(i))return;r.add(i);const s=i?.nameScopesList?.scopeName;s&&t.push(s),i.parent&&n(i.parent)}return n(e),t}function $W(e,t){if(!(e instanceof $o))throw new ar("Invalid grammar state");return e.getInternalStack(t)}function zW(){const e=new WeakMap;function t(r){if(!e.has(r.meta)){let n=function(a){if(typeof a=="number"){if(a<0||a>r.source.length)throw new ar(`Invalid decoration offset: ${a}. Code length: ${r.source.length}`);return{...i.indexToPos(a),offset:a}}else{const o=i.lines[a.line];if(o===void 0)throw new ar(`Invalid decoration position ${JSON.stringify(a)}. Lines length: ${i.lines.length}`);let l=a.character;if(l<0&&(l=o.length+l),l<0||l>o.length)throw new ar(`Invalid decoration position ${JSON.stringify(a)}. Line ${a.line} length: ${o.length}`);return{...a,character:l,offset:i.posToIndex(a.line,l)}}};const i=DW(r.source),s=(r.options.decorations||[]).map(a=>({...a,start:n(a.start),end:n(a.end)}));jW(s),e.set(r.meta,{decorations:s,converter:i,source:r.source})}return e.get(r.meta)}return{name:"shiki:decorations",tokens(r){if(!this.options.decorations?.length)return;const i=t(this).decorations.flatMap(a=>[a.start.offset,a.end.offset]);return FW(r,i)},code(r){if(!this.options.decorations?.length)return;const n=t(this),i=Array.from(r.children).filter(c=>c.type==="element"&&c.tagName==="span");if(i.length!==n.converter.lines.length)throw new ar(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${n.converter.lines.length}). Failed to apply decorations.`);function s(c,h,f,d){const p=i[c];let g="",y=-1,m=-1;if(h===0&&(y=0),f===0&&(m=0),f===Number.POSITIVE_INFINITY&&(m=p.children.length),y===-1||m===-1)for(let _=0;_<p.children.length;_++)g+=xS(p.children[_]),y===-1&&g.length===h&&(y=_+1),m===-1&&g.length===f&&(m=_+1);if(y===-1)throw new ar(`Failed to find start index for decoration ${JSON.stringify(d.start)}`);if(m===-1)throw new ar(`Failed to find end index for decoration ${JSON.stringify(d.end)}`);const b=p.children.slice(y,m);if(!d.alwaysWrap&&b.length===p.children.length)o(p,d,"line");else if(!d.alwaysWrap&&b.length===1&&b[0].type==="element")o(b[0],d,"token");else{const _={type:"element",tagName:"span",properties:{},children:b};o(_,d,"wrapper"),p.children.splice(y,b.length,_)}}function a(c,h){i[c]=o(i[c],h,"line")}function o(c,h,f){const d=h.properties||{},p=h.transform||(g=>g);return c.tagName=h.tagName||"span",c.properties={...c.properties,...d,class:c.properties.class},h.properties?.class&&ES(c,h.properties.class),c=p(c,f)||c,c}const l=[],u=n.decorations.sort((c,h)=>h.start.offset-c.start.offset||c.end.offset-h.end.offset);for(const c of u){const{start:h,end:f}=c;if(h.line===f.line)s(h.line,h.character,f.character,c);else if(h.line<f.line){s(h.line,h.character,Number.POSITIVE_INFINITY,c);for(let d=h.line+1;d<f.line;d++)l.unshift(()=>a(d,c));s(f.line,0,f.character,c)}}l.forEach(c=>c())}}}function jW(e){for(let t=0;t<e.length;t++){const r=e[t];if(r.start.offset>r.end.offset)throw new ar(`Invalid decoration range: ${JSON.stringify(r.start)} - ${JSON.stringify(r.end)}`);for(let n=t+1;n<e.length;n++){const i=e[n],s=r.start.offset<=i.start.offset&&i.start.offset<r.end.offset,a=r.start.offset<i.end.offset&&i.end.offset<=r.end.offset,o=i.start.offset<=r.start.offset&&r.start.offset<i.end.offset,l=i.start.offset<r.end.offset&&r.end.offset<=i.end.offset;if(s||a||o||l){if(s&&a||o&&l||o&&r.start.offset===r.end.offset||a&&i.start.offset===i.end.offset)continue;throw new ar(`Decorations ${JSON.stringify(r.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}function xS(e){return e.type==="text"?e.value:e.type==="element"?e.children.map(xS).join(""):""}const WW=[zW()];function Kh(e){const t=qW(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...WW]}function qW(e){const t=[],r=[],n=[];for(const i of e)switch(i.enforce){case"pre":t.push(i);break;case"post":r.push(i);break;default:n.push(i)}return{pre:t,post:r,normal:n}}var Vs=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],gg={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function GW(e,t){const r=e.indexOf("\x1B",t);if(r!==-1&&e[r+1]==="["){const n=e.indexOf("m",r);if(n!==-1)return{sequence:e.substring(r+2,n).split(";"),startPosition:r,position:n+1}}return{position:e.length}}function xx(e){const t=e.shift();if(t==="2"){const r=e.splice(0,3).map(n=>Number.parseInt(n));return r.length!==3||r.some(n=>Number.isNaN(n))?void 0:{type:"rgb",rgb:r}}else if(t==="5"){const r=e.shift();if(r)return{type:"table",index:Number(r)}}}function VW(e){const t=[];for(;e.length>0;){const r=e.shift();if(!r)continue;const n=Number.parseInt(r);if(!Number.isNaN(n))if(n===0)t.push({type:"resetAll"});else if(n<=9)gg[n]&&t.push({type:"setDecoration",value:gg[n]});else if(n<=29){const i=gg[n-20];i&&(t.push({type:"resetDecoration",value:i}),i==="dim"&&t.push({type:"resetDecoration",value:"bold"}))}else if(n<=37)t.push({type:"setForegroundColor",value:{type:"named",name:Vs[n-30]}});else if(n===38){const i=xx(e);i&&t.push({type:"setForegroundColor",value:i})}else if(n===39)t.push({type:"resetForegroundColor"});else if(n<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:Vs[n-40]}});else if(n===48){const i=xx(e);i&&t.push({type:"setBackgroundColor",value:i})}else n===49?t.push({type:"resetBackgroundColor"}):n===53?t.push({type:"setDecoration",value:"overline"}):n===55?t.push({type:"resetDecoration",value:"overline"}):n>=90&&n<=97?t.push({type:"setForegroundColor",value:{type:"named",name:Vs[n-90+8]}}):n>=100&&n<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:Vs[n-100+8]}})}return t}function YW(){let e=null,t=null,r=new Set;return{parse(n){const i=[];let s=0;do{const a=GW(n,s),o=a.sequence?n.substring(s,a.startPosition):n.substring(s);if(o.length>0&&i.push({value:o,foreground:e,background:t,decorations:new Set(r)}),a.sequence){const l=VW(a.sequence);for(const u of l)u.type==="resetAll"?(e=null,t=null,r.clear()):u.type==="resetForegroundColor"?e=null:u.type==="resetBackgroundColor"?t=null:u.type==="resetDecoration"&&r.delete(u.value);for(const u of l)u.type==="setForegroundColor"?e=u.value:u.type==="setBackgroundColor"?t=u.value:u.type==="setDecoration"&&r.add(u.value)}s=a.position}while(s<n.length);return i}}}var XW={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function KW(e=XW){function t(o){return e[o]}function r(o){return`#${o.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let n;function i(){if(n)return n;n=[];for(let u=0;u<Vs.length;u++)n.push(t(Vs[u]));let o=[0,95,135,175,215,255];for(let u=0;u<6;u++)for(let c=0;c<6;c++)for(let h=0;h<6;h++)n.push(r([o[u],o[c],o[h]]));let l=8;for(let u=0;u<24;u++,l+=10)n.push(r([l,l,l]));return n}function s(o){return i()[o]}function a(o){switch(o.type){case"named":return t(o.name);case"rgb":return r(o.rgb);case"table":return s(o.index)}}return{value:a}}const ZW={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function QW(e,t,r){const n=Yh(e,r),i=cf(t),s=Object.fromEntries(Vs.map(l=>{const u=`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`,c=e.colors?.[u];return[l,c||ZW[l]]})),a=KW(s),o=YW();return i.map(l=>o.parse(l[0]).map(u=>{let c,h;u.decorations.has("reverse")?(c=u.background?a.value(u.background):e.bg,h=u.foreground?a.value(u.foreground):e.fg):(c=u.foreground?a.value(u.foreground):e.fg,h=u.background?a.value(u.background):void 0),c=ps(c,n),h=ps(h,n),u.decorations.has("dim")&&(c=JW(c));let f=Br.None;return u.decorations.has("bold")&&(f|=Br.Bold),u.decorations.has("italic")&&(f|=Br.Italic),u.decorations.has("underline")&&(f|=Br.Underline),u.decorations.has("strikethrough")&&(f|=Br.Strikethrough),{content:u.value,offset:l[1],color:c,bgColor:h,fontStyle:f}}))}function JW(e){const t=e.match(/#([0-9a-f]{3,8})/i);if(t){const n=t[1];if(n.length===8){const i=Math.round(Number.parseInt(n.slice(6,8),16)/2).toString(16).padStart(2,"0");return`#${n.slice(0,6)}${i}`}else{if(n.length===6)return`#${n}80`;if(n.length===4){const i=n[0],s=n[1],a=n[2],o=n[3],l=Math.round(Number.parseInt(`${o}${o}`,16)/2).toString(16).padStart(2,"0");return`#${i}${i}${s}${s}${a}${a}${l}`}else if(n.length===3){const i=n[0],s=n[1],a=n[2];return`#${i}${i}${s}${s}${a}${a}80`}}}const r=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return r?`var(${r[1]}-dim)`:e}function y1(e,t,r={}){const{theme:n=e.getLoadedThemes()[0]}=r,i=e.resolveLangAlias(r.lang||"text");if(m1(i)||g1(n))return cf(t).map(l=>[{content:l[0],offset:l[1]}]);const{theme:s,colorMap:a}=e.setTheme(n);if(i==="ansi")return QW(s,t,r);const o=e.getLanguage(r.lang||"text");if(r.grammarState){if(r.grammarState.lang!==o.name)throw new ar(`Grammar state language "${r.grammarState.lang}" does not match highlight language "${o.name}"`);if(!r.grammarState.themes.includes(s.name))throw new ar(`Grammar state themes "${r.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return eq(t,o,s,a,r)}function tq(...e){if(e.length===2)return hu(e[1]);const[t,r,n={}]=e,{lang:i="text",theme:s=t.getLoadedThemes()[0]}=n;if(m1(i)||g1(s))throw new ar("Plain language does not have grammar state");if(i==="ansi")throw new ar("ANSI language does not have grammar state");const{theme:a,colorMap:o}=t.setTheme(s),l=t.getLanguage(i);return new $o(Zh(r,l,a,o,n).stateStack,l.name,a.name)}function eq(e,t,r,n,i){const s=Zh(e,t,r,n,i),a=new $o(Zh(e,t,r,n,i).stateStack,t.name,r.name);return hf(s.tokens,a),s.tokens}function Zh(e,t,r,n,i){const s=Yh(r,i),{tokenizeMaxLineLength:a=0,tokenizeTimeLimit:o=500}=i,l=cf(e);let u=i.grammarState?$W(i.grammarState,r.name)??D0:i.grammarContextCode!=null?Zh(i.grammarContextCode,t,r,n,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:D0,c=[];const h=[];for(let f=0,d=l.length;f<d;f++){const[p,g]=l[f];if(p===""){c=[],h.push([]);continue}if(a>0&&p.length>=a){c=[],h.push([{content:p,offset:g,color:"",fontStyle:0}]);continue}let y,m,b;i.includeExplanation&&(y=t.tokenizeLine(p,u,o),m=y.tokens,b=0);const _=t.tokenizeLine2(p,u,o),T=_.tokens.length/2;for(let C=0;C<T;C++){const L=_.tokens[2*C],N=C+1<T?_.tokens[2*C+2]:p.length;if(L===N)continue;const z=_.tokens[2*C+1],R=ps(n[wo.getForeground(z)],s),H=wo.getFontStyle(z),K={content:p.substring(L,N),offset:g+L,color:R,fontStyle:H};if(i.includeExplanation){const S=[];if(i.includeExplanation!=="scopeName")for(const w of r.settings){let $;switch(typeof w.scope){case"string":$=w.scope.split(/,/).map(X=>X.trim());break;case"object":$=w.scope;break;default:continue}S.push({settings:w,selectors:$.map(X=>X.split(/ /))})}K.explanation=[];let U=0;for(;L+U<N;){const w=m[b],$=p.substring(w.startIndex,w.endIndex);U+=$.length,K.explanation.push({content:$,scopes:i.includeExplanation==="scopeName"?rq(w.scopes):nq(S,w.scopes)}),b+=1}}c.push(K)}h.push(c),c=[],u=_.ruleStack}return{tokens:h,stateStack:u}}function rq(e){return e.map(t=>({scopeName:t}))}function nq(e,t){const r=[];for(let n=0,i=t.length;n<i;n++){const s=t[n];r[n]={scopeName:s,themeMatches:sq(e,s,t.slice(0,n))}}return r}function Tx(e,t){return e===t||t.substring(0,e.length)===e&&t[e.length]==="."}function iq(e,t,r){if(!Tx(e[e.length-1],t))return!1;let n=e.length-2,i=r.length-1;for(;n>=0&&i>=0;)Tx(e[n],r[i])&&(n-=1),i-=1;return n===-1}function sq(e,t,r){const n=[];for(const{selectors:i,settings:s}of e)for(const a of i)if(iq(a,t,r)){n.push(s);break}return n}function TS(e,t,r){const n=Object.entries(r.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),i=n.map(l=>{const u=y1(e,t,{...r,theme:l.theme}),c=hu(u),h=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:u,state:c,theme:h}}),s=aq(...i.map(l=>l.tokens)),a=s[0].map((l,u)=>l.map((c,h)=>{const f={content:c.content,variants:{},offset:c.offset};return"includeExplanation"in r&&r.includeExplanation&&(f.explanation=c.explanation),s.forEach((d,p)=>{const{content:g,explanation:y,offset:m,...b}=d[u][h];f.variants[n[p].color]=b}),f})),o=i[0].state?new $o(Object.fromEntries(i.map(l=>[l.theme,l.state?.getInternalStack(l.theme)])),i[0].state.lang):void 0;return o&&hf(a,o),a}function aq(...e){const t=e.map(()=>[]),r=e.length;for(let n=0;n<e[0].length;n++){const i=e.map(l=>l[n]),s=t.map(()=>[]);t.forEach((l,u)=>l.push(s[u]));const a=i.map(()=>0),o=i.map(l=>l[0]);for(;o.every(l=>l);){const l=Math.min(...o.map(u=>u.content.length));for(let u=0;u<r;u++){const c=o[u];c.content.length===l?(s[u].push(c),a[u]+=1,o[u]=i[u][a[u]]):(s[u].push({...c,content:c.content.slice(0,l)}),o[u]={...c,content:c.content.slice(l),offset:c.offset+l})}}}return t}function Qh(e,t,r){let n,i,s,a,o,l;if("themes"in r){const{defaultColor:u="light",cssVariablePrefix:c="--shiki-",colorsRendering:h="css-vars"}=r,f=Object.entries(r.themes).filter(m=>m[1]).map(m=>({color:m[0],theme:m[1]})).sort((m,b)=>m.color===u?-1:b.color===u?1:0);if(f.length===0)throw new ar("`themes` option must not be empty");const d=TS(e,t,r);if(l=hu(d),u&&b1!==u&&!f.find(m=>m.color===u))throw new ar(`\`themes\` option must contain the defaultColor key \`${u}\``);const p=f.map(m=>e.getTheme(m.theme)),g=f.map(m=>m.color);s=d.map(m=>m.map(b=>UW(b,g,c,u,h))),l&&hf(s,l);const y=f.map(m=>Yh(m.theme,r));i=vx(f,p,y,c,u,"fg",h),n=vx(f,p,y,c,u,"bg",h),a=`shiki-themes ${p.map(m=>m.name).join(" ")}`,o=u?void 0:[i,n].join(";")}else if("theme"in r){const u=Yh(r.theme,r);s=y1(e,t,r);const c=e.getTheme(r.theme);n=ps(c.bg,u),i=ps(c.fg,u),a=c.name,l=hu(s)}else throw new ar("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:i,bg:n,themeName:a,rootStyle:o,grammarState:l}}function vx(e,t,r,n,i,s,a){return e.map((o,l)=>{const u=ps(t[l][s],r[l])||"inherit",c=`${n+o.color}${s==="bg"?"-bg":""}:${u}`;if(l===0&&i){if(i===b1&&e.length>1){const h=e.findIndex(g=>g.color==="light"),f=e.findIndex(g=>g.color==="dark");if(h===-1||f===-1)throw new ar('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const d=ps(t[h][s],r[h])||"inherit",p=ps(t[f][s],r[f])||"inherit";return`light-dark(${d}, ${p});${c}`}return u}return a==="css-vars"?c:null}).filter(o=>!!o).join(";")}function Jh(e,t,r,n={meta:{},options:r,codeToHast:(i,s)=>Jh(e,i,s),codeToTokens:(i,s)=>Qh(e,i,s)}){let i=t;for(const p of Kh(r))i=p.preprocess?.call(n,i,r)||i;let{tokens:s,fg:a,bg:o,themeName:l,rootStyle:u,grammarState:c}=Qh(e,i,r);const{mergeWhitespaces:h=!0,mergeSameStyleTokens:f=!1}=r;h===!0?s=lq(s):h==="never"&&(s=uq(s)),f&&(s=cq(s));const d={...n,get source(){return i}};for(const p of Kh(r))s=p.tokens?.call(d,s)||s;return oq(s,{...r,fg:a,bg:o,themeName:l,rootStyle:r.rootStyle===!1?!1:r.rootStyle??u},d,c)}function oq(e,t,r,n=hu(e)){const i=Kh(t),s=[],a={type:"root",children:[]},{structure:o="classic",tabindex:l="0"}=t,u={class:`shiki ${t.themeName||""}`};t.rootStyle!==!1&&(t.rootStyle!=null?u.style=t.rootStyle:u.style=`background-color:${t.bg};color:${t.fg}`),l!==!1&&l!=null&&(u.tabindex=l.toString());for(const[g,y]of Object.entries(t.meta||{}))g.startsWith("_")||(u[g]=y);let c={type:"element",tagName:"pre",properties:u,children:[]},h={type:"element",tagName:"code",properties:{},children:s};const f=[],d={...r,structure:o,addClassToHast:ES,get source(){return r.source},get tokens(){return e},get options(){return t},get root(){return a},get pre(){return c},get code(){return h},get lines(){return f}};if(e.forEach((g,y)=>{y&&(o==="inline"?a.children.push({type:"element",tagName:"br",properties:{},children:[]}):o==="classic"&&s.push({type:"text",value:`
`}));let m={type:"element",tagName:"span",properties:{class:"line"},children:[]},b=0;for(const _ of g){let T={type:"element",tagName:"span",properties:{..._.htmlAttrs},children:[{type:"text",value:_.content}]};const C=U0(_.htmlStyle||Xh(_));C&&(T.properties.style=C);for(const L of i)T=L?.span?.call(d,T,y+1,b,m,_)||T;o==="inline"?a.children.push(T):o==="classic"&&m.children.push(T),b+=_.content.length}if(o==="classic"){for(const _ of i)m=_?.line?.call(d,m,y+1)||m;f.push(m),s.push(m)}else o==="inline"&&f.push(m)}),o==="classic"){for(const g of i)h=g?.code?.call(d,h)||h;c.children.push(h);for(const g of i)c=g?.pre?.call(d,c)||c;a.children.push(c)}else if(o==="inline"){const g=[];let y={type:"element",tagName:"span",properties:{class:"line"},children:[]};for(const _ of a.children)_.type==="element"&&_.tagName==="br"?(g.push(y),y={type:"element",tagName:"span",properties:{class:"line"},children:[]}):(_.type==="element"||_.type==="text")&&y.children.push(_);g.push(y);let b={type:"element",tagName:"code",properties:{},children:g};for(const _ of i)b=_?.code?.call(d,b)||b;a.children=[];for(let _=0;_<b.children.length;_++){_>0&&a.children.push({type:"element",tagName:"br",properties:{},children:[]});const T=b.children[_];T.type==="element"&&a.children.push(...T.children)}}let p=a;for(const g of i)p=g?.root?.call(d,p)||p;return n&&hf(p,n),p}function lq(e){return e.map(t=>{const r=[];let n="",i;return t.forEach((s,a)=>{const l=!(s.fontStyle&&(s.fontStyle&Br.Underline||s.fontStyle&Br.Strikethrough));l&&s.content.match(/^\s+$/)&&t[a+1]?(i===void 0&&(i=s.offset),n+=s.content):n?(l?r.push({...s,offset:i,content:n+s.content}):r.push({content:n,offset:i},s),i=void 0,n=""):r.push(s)}),r})}function uq(e){return e.map(t=>t.flatMap(r=>{if(r.content.match(/^\s+$/))return r;const n=r.content.match(/^(\s*)(.*?)(\s*)$/);if(!n)return r;const[,i,s,a]=n;if(!i&&!a)return r;const o=[{...r,offset:r.offset+i.length,content:s}];return i&&o.unshift({content:i,offset:r.offset}),a&&o.push({content:a,offset:r.offset+i.length+s.length}),o}))}function cq(e){return e.map(t=>{const r=[];for(const n of t){if(r.length===0){r.push({...n});continue}const i=r[r.length-1],s=U0(i.htmlStyle||Xh(i)),a=U0(n.htmlStyle||Xh(n)),o=i.fontStyle&&(i.fontStyle&Br.Underline||i.fontStyle&Br.Strikethrough),l=n.fontStyle&&(n.fontStyle&Br.Underline||n.fontStyle&Br.Strikethrough);!o&&!l&&s===a?i.content+=n.content:r.push({...n})}return r})}const hq=RW;function dq(e,t,r){const n={meta:{},options:r,codeToHast:(s,a)=>Jh(e,s,a),codeToTokens:(s,a)=>Qh(e,s,a)};let i=hq(Jh(e,t,r,n));for(const s of Kh(r))i=s.postprocess?.call(n,i,r)||i;return i}const Ax={light:"#333333",dark:"#bbbbbb"},Cx={light:"#fffffe",dark:"#1e1e1e"},kx="__shiki_resolved";function _1(e){if(e?.[kx])return e;const t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||="dark",t.colorReplacements={...t.colorReplacements},t.settings||=[];let{bg:r,fg:n}=t;if(!r||!n){const o=t.settings?t.settings.find(l=>!l.name&&!l.scope):void 0;o?.settings?.foreground&&(n=o.settings.foreground),o?.settings?.background&&(r=o.settings.background),!n&&t?.colors?.["editor.foreground"]&&(n=t.colors["editor.foreground"]),!r&&t?.colors?.["editor.background"]&&(r=t.colors["editor.background"]),n||(n=t.type==="light"?Ax.light:Ax.dark),r||(r=t.type==="light"?Cx.light:Cx.dark),t.fg=n,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let i=0;const s=new Map;function a(o){if(s.has(o))return s.get(o);i+=1;const l=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return t.colorReplacements?.[`#${l}`]?a(o):(s.set(o,l),l)}t.settings=t.settings.map(o=>{const l=o.settings?.foreground&&!o.settings.foreground.startsWith("#"),u=o.settings?.background&&!o.settings.background.startsWith("#");if(!l&&!u)return o;const c={...o,settings:{...o.settings}};if(l){const h=a(o.settings.foreground);t.colorReplacements[h]=o.settings.foreground,c.settings.foreground=h}if(u){const h=a(o.settings.background);t.colorReplacements[h]=o.settings.background,c.settings.background=h}return c});for(const o of Object.keys(t.colors||{}))if((o==="editor.foreground"||o==="editor.background"||o.startsWith("terminal.ansi"))&&!t.colors[o]?.startsWith("#")){const l=a(t.colors[o]);t.colorReplacements[l]=t.colors[o],t.colors[o]=l}return Object.defineProperty(t,kx,{enumerable:!1,writable:!1,value:!0}),t}async function vS(e){return Array.from(new Set((await Promise.all(e.filter(t=>!yS(t)).map(async t=>await bS(t).then(r=>Array.isArray(r)?r:[r])))).flat()))}async function AS(e){return(await Promise.all(e.map(async r=>_S(r)?null:_1(await bS(r))))).filter(r=>!!r)}let fq=3;function pq(e,t=3){t>fq||console.trace(`[SHIKI DEPRECATE]: ${e}`)}let Ya=class extends Error{constructor(t){super(t),this.name="ShikiError"}};function CS(e,t){if(!t)return e;if(t[e]){const r=new Set([e]);for(;t[e];){if(e=t[e],r.has(e))throw new Ya(`Circular alias \`${Array.from(r).join(" -> ")} -> ${e}\``);r.add(e)}}return e}class mq extends Ej{constructor(t,r,n,i={}){super(t),this._resolver=t,this._themes=r,this._langs=n,this._alias=i,this._themes.map(s=>this.loadTheme(s)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(t){return typeof t=="string"?this._resolvedThemes.get(t):this.loadTheme(t)}loadTheme(t){const r=_1(t);return r.name&&(this._resolvedThemes.set(r.name,r),this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(t){let r=this._textmateThemeCache.get(t);r||(r=jh.createFromRawTheme(t),this._textmateThemeCache.set(t,r)),this._syncRegistry.setTheme(r)}getGrammar(t){return t=CS(t,this._alias),this._resolvedGrammars.get(t)}loadLanguage(t){if(this.getGrammar(t.name))return;const r=new Set([...this._langMap.values()].filter(s=>s.embeddedLangsLazy?.includes(t.name)));this._resolver.addLanguage(t);const n={balancedBracketSelectors:t.balancedBracketSelectors||["*"],unbalancedBracketSelectors:t.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(t.scopeName,t);const i=this.loadGrammarWithConfiguration(t.scopeName,1,n);if(i.name=t.name,this._resolvedGrammars.set(t.name,i),t.aliases&&t.aliases.forEach(s=>{this._alias[s]=t.name}),this._loadedLanguagesCache=null,r.size)for(const s of r)this._resolvedGrammars.delete(s.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(s.scopeName),this._syncRegistry?._grammars?.delete(s.scopeName),this.loadLanguage(this._langMap.get(s.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(t){for(const i of t)this.resolveEmbeddedLanguages(i);const r=Array.from(this._langGraph.entries()),n=r.filter(([i,s])=>!s);if(n.length){const i=r.filter(([s,a])=>a?(a.embeddedLanguages||a.embeddedLangs)?.some(l=>n.map(([u])=>u).includes(l)):!1).filter(s=>!n.includes(s));throw new Ya(`Missing languages ${n.map(([s])=>`\`${s}\``).join(", ")}, required by ${i.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[i,s]of r)this._resolver.addLanguage(s);for(const[i,s]of r)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(t){this._langMap.set(t.name,t),this._langGraph.set(t.name,t);const r=t.embeddedLanguages??t.embeddedLangs;if(r)for(const n of r)this._langGraph.set(n,this._langMap.get(n))}}class gq{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(t,r){this._onigLib={createOnigScanner:n=>t.createScanner(n),createOnigString:n=>t.createString(n)},r.forEach(n=>this.addLanguage(n))}get onigLib(){return this._onigLib}getLangRegistration(t){return this._langs.get(t)}loadGrammar(t){return this._scopeToLang.get(t)}addLanguage(t){this._langs.set(t.name,t),t.aliases&&t.aliases.forEach(r=>{this._langs.set(r,t)}),this._scopeToLang.set(t.scopeName,t),t.injectTo&&t.injectTo.forEach(r=>{this._injections.get(r)||this._injections.set(r,[]),this._injections.get(r).push(t.scopeName)})}getInjections(t){const r=t.split(".");let n=[];for(let i=1;i<=r.length;i++){const s=r.slice(0,i).join(".");n=[...n,...this._injections.get(s)||[]]}return n}}let rl=0;function bq(e){rl+=1,e.warnings!==!1&&rl>=10&&rl%10===0&&console.warn(`[Shiki] ${rl} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new Ya("`engine` option is required for synchronous mode");const r=(e.langs||[]).flat(1),n=(e.themes||[]).flat(1).map(_1),i=new gq(e.engine,r),s=new mq(i,n,r,e.langAlias);let a;function o(_){return CS(_,e.langAlias)}function l(_){m();const T=s.getGrammar(typeof _=="string"?_:_.name);if(!T)throw new Ya(`Language \`${_}\` not found, you may need to load it first`);return T}function u(_){if(_==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};m();const T=s.getTheme(_);if(!T)throw new Ya(`Theme \`${_}\` not found, you may need to load it first`);return T}function c(_){m();const T=u(_);a!==_&&(s.setTheme(T),a=_);const C=s.getColorMap();return{theme:T,colorMap:C}}function h(){return m(),s.getLoadedThemes()}function f(){return m(),s.getLoadedLanguages()}function d(..._){m(),s.loadLanguages(_.flat(1))}async function p(..._){return d(await vS(_))}function g(..._){m();for(const T of _.flat(1))s.loadTheme(T)}async function y(..._){return m(),g(await AS(_))}function m(){if(t)throw new Ya("Shiki instance has been disposed")}function b(){t||(t=!0,s.dispose(),rl-=1)}return{setTheme:c,getTheme:u,getLanguage:l,getLoadedThemes:h,getLoadedLanguages:f,resolveLangAlias:o,loadLanguage:p,loadLanguageSync:d,loadTheme:y,loadThemeSync:g,dispose:b,[Symbol.dispose]:b}}async function yq(e){e.engine||pq("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[t,r,n]=await Promise.all([AS(e.themes||[]),vS(e.langs||[]),e.engine]);return bq({...e,themes:t,langs:r,engine:n})}async function _q(e){const t=await yq(e);return{getLastGrammarState:(...r)=>tq(t,...r),codeToTokensBase:(r,n)=>y1(t,r,n),codeToTokensWithThemes:(r,n)=>TS(t,r,n),codeToTokens:(r,n)=>Qh(t,r,n),codeToHast:(r,n)=>Jh(t,r,n),codeToHtml:(r,n)=>dq(t,r,n),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...t,getInternalContext:()=>t}}function Eq(e){const t=e.langs,r=e.themes,n=e.engine;async function i(s){function a(h){if(typeof h=="string"){if(h=s.langAlias?.[h]||h,yS(h))return[];const f=t[h];if(!f)throw new ar(`Language \`${h}\` is not included in this bundle. You may want to load it from external source.`);return f}return h}function o(h){if(_S(h))return"none";if(typeof h=="string"){const f=r[h];if(!f)throw new ar(`Theme \`${h}\` is not included in this bundle. You may want to load it from external source.`);return f}return h}const l=(s.themes??[]).map(h=>o(h)),u=(s.langs??[]).map(h=>a(h)),c=await _q({engine:s.engine??n(),...s,themes:l,langs:u});return{...c,loadLanguage(...h){return c.loadLanguage(...h.map(a))},loadTheme(...h){return c.loadTheme(...h.map(o))},getBundledLanguages(){return t},getBundledThemes(){return r}}}return i}const kS=[{id:"abap",name:"ABAP",import:()=>et(()=>import("./abap-BdImnpbu.js"),[],import.meta.url)},{id:"actionscript-3",name:"ActionScript",import:()=>et(()=>import("./actionscript-3-CfeIJUat.js"),[],import.meta.url)},{id:"ada",name:"Ada",import:()=>et(()=>import("./ada-bCR0ucgS.js"),[],import.meta.url)},{id:"angular-html",name:"Angular HTML",import:()=>et(()=>import("./angular-html-CU67Zn6k.js").then(e=>e.f),__vite__mapDeps([0,1,2,3]),import.meta.url)},{id:"angular-ts",name:"Angular TypeScript",import:()=>et(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5]),import.meta.url)},{id:"apache",name:"Apache Conf",import:()=>et(()=>import("./apache-Pmp26Uib.js"),[],import.meta.url)},{id:"apex",name:"Apex",import:()=>et(()=>import("./apex-DDbsPZ6N.js"),[],import.meta.url)},{id:"apl",name:"APL",import:()=>et(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9]),import.meta.url)},{id:"applescript",name:"AppleScript",import:()=>et(()=>import("./applescript-Co6uUVPk.js"),[],import.meta.url)},{id:"ara",name:"Ara",import:()=>et(()=>import("./ara-BRHolxvo.js"),[],import.meta.url)},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>et(()=>import("./asciidoc-Dv7Oe6Be.js"),[],import.meta.url)},{id:"asm",name:"Assembly",import:()=>et(()=>import("./asm-D_Q5rh1f.js"),[],import.meta.url)},{id:"astro",name:"Astro",import:()=>et(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13]),import.meta.url)},{id:"awk",name:"AWK",import:()=>et(()=>import("./awk-DMzUqQB5.js"),[],import.meta.url)},{id:"ballerina",name:"Ballerina",import:()=>et(()=>import("./ballerina-BFfxhgS-.js"),[],import.meta.url)},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>et(()=>import("./bat-BkioyH1T.js"),[],import.meta.url)},{id:"beancount",name:"Beancount",import:()=>et(()=>import("./beancount-k_qm7-4y.js"),[],import.meta.url)},{id:"berry",name:"Berry",aliases:["be"],import:()=>et(()=>import("./berry-uYugtg8r.js"),[],import.meta.url)},{id:"bibtex",name:"BibTeX",import:()=>et(()=>import("./bibtex-CHM0blh-.js"),[],import.meta.url)},{id:"bicep",name:"Bicep",import:()=>et(()=>import("./bicep-Bmn6On1c.js"),[],import.meta.url)},{id:"blade",name:"Blade",import:()=>et(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9]),import.meta.url)},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>et(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18]),import.meta.url)},{id:"c",name:"C",import:()=>et(()=>import("./c-BIGW1oBm.js"),[],import.meta.url)},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>et(()=>import("./cadence-Bv_4Rxtq.js"),[],import.meta.url)},{id:"cairo",name:"Cairo",import:()=>et(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20]),import.meta.url)},{id:"clarity",name:"Clarity",import:()=>et(()=>import("./clarity-D53aC0YG.js"),[],import.meta.url)},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>et(()=>import("./clojure-P80f7IUj.js"),[],import.meta.url)},{id:"cmake",name:"CMake",import:()=>et(()=>import("./cmake-D1j8_8rp.js"),[],import.meta.url)},{id:"cobol",name:"COBOL",import:()=>et(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8]),import.meta.url)},{id:"codeowners",name:"CODEOWNERS",import:()=>et(()=>import("./codeowners-Bp6g37R7.js"),[],import.meta.url)},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>et(()=>import("./codeql-DsOJ9woJ.js"),[],import.meta.url)},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>et(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2]),import.meta.url)},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>et(()=>import("./common-lisp-Cg-RD9OK.js"),[],import.meta.url)},{id:"coq",name:"Coq",import:()=>et(()=>import("./coq-DkFqJrB1.js"),[],import.meta.url)},{id:"cpp",name:"C++",aliases:["c++"],import:()=>et(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16]),import.meta.url)},{id:"crystal",name:"Crystal",import:()=>et(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28]),import.meta.url)},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>et(()=>import("./csharp-K5feNrxe.js"),[],import.meta.url)},{id:"css",name:"CSS",import:()=>et(()=>import("./css-DPfMkruS.js"),[],import.meta.url)},{id:"csv",name:"CSV",import:()=>et(()=>import("./csv-fuZLfV_i.js"),[],import.meta.url)},{id:"cue",name:"CUE",import:()=>et(()=>import("./cue-D82EKSYY.js"),[],import.meta.url)},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>et(()=>import("./cypher-COkxafJQ.js"),[],import.meta.url)},{id:"d",name:"D",import:()=>et(()=>import("./d-85-TOEBH.js"),[],import.meta.url)},{id:"dart",name:"Dart",import:()=>et(()=>import("./dart-CF10PKvl.js"),[],import.meta.url)},{id:"dax",name:"DAX",import:()=>et(()=>import("./dax-CEL-wOlO.js"),[],import.meta.url)},{id:"desktop",name:"Desktop",import:()=>et(()=>import("./desktop-BmXAJ9_W.js"),[],import.meta.url)},{id:"diff",name:"Diff",import:()=>et(()=>import("./diff-D97Zzqfu.js"),[],import.meta.url)},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>et(()=>import("./docker-BcOcwvcX.js"),[],import.meta.url)},{id:"dotenv",name:"dotEnv",import:()=>et(()=>import("./dotenv-Da5cRb03.js"),[],import.meta.url)},{id:"dream-maker",name:"Dream Maker",import:()=>et(()=>import("./dream-maker-BtqSS_iP.js"),[],import.meta.url)},{id:"edge",name:"Edge",import:()=>et(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15]),import.meta.url)},{id:"elixir",name:"Elixir",import:()=>et(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3]),import.meta.url)},{id:"elm",name:"Elm",import:()=>et(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26]),import.meta.url)},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>et(()=>import("./emacs-lisp-C9XAeP06.js"),[],import.meta.url)},{id:"erb",name:"ERB",import:()=>et(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]),import.meta.url)},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>et(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40]),import.meta.url)},{id:"fennel",name:"Fennel",import:()=>et(()=>import("./fennel-BYunw83y.js"),[],import.meta.url)},{id:"fish",name:"Fish",import:()=>et(()=>import("./fish-BvzEVeQv.js"),[],import.meta.url)},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>et(()=>import("./fluent-C4IJs8-o.js"),[],import.meta.url)},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>et(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42]),import.meta.url)},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>et(()=>import("./fortran-free-form-D22FLkUw.js"),[],import.meta.url)},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>et(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40]),import.meta.url)},{id:"gdresource",name:"GDResource",import:()=>et(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46]),import.meta.url)},{id:"gdscript",name:"GDScript",import:()=>et(()=>import("./gdscript-DTMYz4Jt.js"),[],import.meta.url)},{id:"gdshader",name:"GDShader",import:()=>et(()=>import("./gdshader-DkwncUOv.js"),[],import.meta.url)},{id:"genie",name:"Genie",import:()=>et(()=>import("./genie-D0YGMca9.js"),[],import.meta.url)},{id:"gherkin",name:"Gherkin",import:()=>et(()=>import("./gherkin-DyxjwDmM.js"),[],import.meta.url)},{id:"git-commit",name:"Git Commit Message",import:()=>et(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48]),import.meta.url)},{id:"git-rebase",name:"Git Rebase Message",import:()=>et(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28]),import.meta.url)},{id:"gleam",name:"Gleam",import:()=>et(()=>import("./gleam-BspZqrRM.js"),[],import.meta.url)},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>et(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1]),import.meta.url)},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>et(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1]),import.meta.url)},{id:"glsl",name:"GLSL",import:()=>et(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26]),import.meta.url)},{id:"gnuplot",name:"Gnuplot",import:()=>et(()=>import("./gnuplot-DdkO51Og.js"),[],import.meta.url)},{id:"go",name:"Go",import:()=>et(()=>import("./go-Dn2_MT6a.js"),[],import.meta.url)},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>et(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13]),import.meta.url)},{id:"groovy",name:"Groovy",import:()=>et(()=>import("./groovy-gcz8RCvz.js"),[],import.meta.url)},{id:"hack",name:"Hack",import:()=>et(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16]),import.meta.url)},{id:"haml",name:"Ruby Haml",import:()=>et(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3]),import.meta.url)},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>et(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38]),import.meta.url)},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>et(()=>import("./haskell-Df6bDoY_.js"),[],import.meta.url)},{id:"haxe",name:"Haxe",import:()=>et(()=>import("./haxe-CzTSHFRz.js"),[],import.meta.url)},{id:"hcl",name:"HashiCorp HCL",import:()=>et(()=>import("./hcl-BWvSN4gD.js"),[],import.meta.url)},{id:"hjson",name:"Hjson",import:()=>et(()=>import("./hjson-D5-asLiD.js"),[],import.meta.url)},{id:"hlsl",name:"HLSL",import:()=>et(()=>import("./hlsl-D3lLCCz7.js"),[],import.meta.url)},{id:"html",name:"HTML",import:()=>et(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3]),import.meta.url)},{id:"html-derivative",name:"HTML (Derivative)",import:()=>et(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3]),import.meta.url)},{id:"http",name:"HTTP",import:()=>et(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13]),import.meta.url)},{id:"hurl",name:"Hurl",import:()=>et(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56]),import.meta.url)},{id:"hxml",name:"HXML",import:()=>et(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58]),import.meta.url)},{id:"hy",name:"Hy",import:()=>et(()=>import("./hy-DFXneXwc.js"),[],import.meta.url)},{id:"imba",name:"Imba",import:()=>et(()=>import("./imba-DGztddWO.js"),[],import.meta.url)},{id:"ini",name:"INI",aliases:["properties"],import:()=>et(()=>import("./ini-BEwlwnbL.js"),[],import.meta.url)},{id:"java",name:"Java",import:()=>et(()=>import("./java-CylS5w8V.js"),[],import.meta.url)},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:()=>et(()=>import("./javascript-wDzz0qaB.js"),[],import.meta.url)},{id:"jinja",name:"Jinja",import:()=>et(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3]),import.meta.url)},{id:"jison",name:"Jison",import:()=>et(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2]),import.meta.url)},{id:"json",name:"JSON",import:()=>et(()=>import("./json-Cp-IABpG.js"),[],import.meta.url)},{id:"json5",name:"JSON5",import:()=>et(()=>import("./json5-C9tS-k6U.js"),[],import.meta.url)},{id:"jsonc",name:"JSON with Comments",import:()=>et(()=>import("./jsonc-Des-eS-w.js"),[],import.meta.url)},{id:"jsonl",name:"JSON Lines",import:()=>et(()=>import("./jsonl-DcaNXYhu.js"),[],import.meta.url)},{id:"jsonnet",name:"Jsonnet",import:()=>et(()=>import("./jsonnet-DFQXde-d.js"),[],import.meta.url)},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>et(()=>import("./jssm-C2t-YnRu.js"),[],import.meta.url)},{id:"jsx",name:"JSX",import:()=>et(()=>import("./jsx-g9-lgVsj.js"),[],import.meta.url)},{id:"julia",name:"Julia",aliases:["jl"],import:()=>et(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62]),import.meta.url)},{id:"kdl",name:"KDL",import:()=>et(()=>import("./kdl-DV7GczEv.js"),[],import.meta.url)},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>et(()=>import("./kotlin-BdnUsdx6.js"),[],import.meta.url)},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>et(()=>import("./kusto-BvAqAH-y.js"),[],import.meta.url)},{id:"latex",name:"LaTeX",import:()=>et(()=>import("./latex-BdAV_C_H.js"),__vite__mapDeps([63,64,62]),import.meta.url)},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>et(()=>import("./lean-Bc6EcWN3.js"),[],import.meta.url)},{id:"less",name:"Less",import:()=>et(()=>import("./less-B1dDrJ26.js"),[],import.meta.url)},{id:"liquid",name:"Liquid",import:()=>et(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9]),import.meta.url)},{id:"llvm",name:"LLVM IR",import:()=>et(()=>import("./llvm-BtvRca6l.js"),[],import.meta.url)},{id:"log",name:"Log file",import:()=>et(()=>import("./log-2UxHyX5q.js"),[],import.meta.url)},{id:"logo",name:"Logo",import:()=>et(()=>import("./logo-BtOb2qkB.js"),[],import.meta.url)},{id:"lua",name:"Lua",import:()=>et(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26]),import.meta.url)},{id:"luau",name:"Luau",import:()=>et(()=>import("./luau-CXu1NL6O.js"),[],import.meta.url)},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>et(()=>import("./make-CHLpvVh8.js"),[],import.meta.url)},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>et(()=>import("./markdown-Cvjx9yec.js"),[],import.meta.url)},{id:"marko",name:"Marko",import:()=>et(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11]),import.meta.url)},{id:"matlab",name:"MATLAB",import:()=>et(()=>import("./matlab-D7o27uSR.js"),[],import.meta.url)},{id:"mdc",name:"MDC",import:()=>et(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3]),import.meta.url)},{id:"mdx",name:"MDX",import:()=>et(()=>import("./mdx-Cmh6b_Ma.js"),[],import.meta.url)},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>et(()=>import("./mermaid-DKYwYmdq.js"),[],import.meta.url)},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>et(()=>import("./mipsasm-CKIfxQSi.js"),[],import.meta.url)},{id:"mojo",name:"Mojo",import:()=>et(()=>import("./mojo-1DNp92w6.js"),[],import.meta.url)},{id:"move",name:"Move",import:()=>et(()=>import("./move-Bu9oaDYs.js"),[],import.meta.url)},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>et(()=>import("./narrat-DRg8JJMk.js"),[],import.meta.url)},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>et(()=>import("./nextflow-BrzmwbiE.js"),[],import.meta.url)},{id:"nginx",name:"Nginx",import:()=>et(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26]),import.meta.url)},{id:"nim",name:"Nim",import:()=>et(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40]),import.meta.url)},{id:"nix",name:"Nix",import:()=>et(()=>import("./nix-c8nO5XWb.js"),[],import.meta.url)},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>et(()=>import("./nushell-C-sUppwS.js"),[],import.meta.url)},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>et(()=>import("./objective-c-DXmwc3jG.js"),[],import.meta.url)},{id:"objective-cpp",name:"Objective-C++",import:()=>et(()=>import("./objective-cpp-CLxacb5B.js"),[],import.meta.url)},{id:"ocaml",name:"OCaml",import:()=>et(()=>import("./ocaml-C0hk2d4L.js"),[],import.meta.url)},{id:"openscad",name:"OpenSCAD",aliases:["scad"],import:()=>et(()=>import("./openscad-C4EeE6gA.js"),[],import.meta.url)},{id:"pascal",name:"Pascal",import:()=>et(()=>import("./pascal-D93ZcfNL.js"),[],import.meta.url)},{id:"perl",name:"Perl",import:()=>et(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16]),import.meta.url)},{id:"php",name:"PHP",import:()=>et(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9]),import.meta.url)},{id:"pkl",name:"Pkl",import:()=>et(()=>import("./pkl-u5AG7uiY.js"),[],import.meta.url)},{id:"plsql",name:"PL/SQL",import:()=>et(()=>import("./plsql-ChMvpjG-.js"),[],import.meta.url)},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>et(()=>import("./po-BTJTHyun.js"),[],import.meta.url)},{id:"polar",name:"Polar",import:()=>et(()=>import("./polar-C0HS_06l.js"),[],import.meta.url)},{id:"postcss",name:"PostCSS",import:()=>et(()=>import("./postcss-CXtECtnM.js"),[],import.meta.url)},{id:"powerquery",name:"PowerQuery",import:()=>et(()=>import("./powerquery-CEu0bR-o.js"),[],import.meta.url)},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>et(()=>import("./powershell-Dpen1YoG.js"),[],import.meta.url)},{id:"prisma",name:"Prisma",import:()=>et(()=>import("./prisma-Dd19v3D-.js"),[],import.meta.url)},{id:"prolog",name:"Prolog",import:()=>et(()=>import("./prolog-CbFg5uaA.js"),[],import.meta.url)},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>et(()=>import("./proto-DyJlTyXw.js"),[],import.meta.url)},{id:"pug",name:"Pug",aliases:["jade"],import:()=>et(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1]),import.meta.url)},{id:"puppet",name:"Puppet",import:()=>et(()=>import("./puppet-BMWR74SV.js"),[],import.meta.url)},{id:"purescript",name:"PureScript",import:()=>et(()=>import("./purescript-CklMAg4u.js"),[],import.meta.url)},{id:"python",name:"Python",aliases:["py"],import:()=>et(()=>import("./python-B6aJPvgy.js"),[],import.meta.url)},{id:"qml",name:"QML",import:()=>et(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2]),import.meta.url)},{id:"qmldir",name:"QML Directory",import:()=>et(()=>import("./qmldir-C8lEn-DE.js"),[],import.meta.url)},{id:"qss",name:"Qt Style Sheets",import:()=>et(()=>import("./qss-IeuSbFQv.js"),[],import.meta.url)},{id:"r",name:"R",import:()=>et(()=>import("./r-DiinP2Uv.js"),[],import.meta.url)},{id:"racket",name:"Racket",import:()=>et(()=>import("./racket-BqYA7rlc.js"),[],import.meta.url)},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>et(()=>import("./raku-DXvB9xmW.js"),[],import.meta.url)},{id:"razor",name:"ASP.NET Razor",import:()=>et(()=>import("./razor-CE9lU5zL.js"),__vite__mapDeps([75,1,2,3,76]),import.meta.url)},{id:"reg",name:"Windows Registry Script",import:()=>et(()=>import("./reg-C-SQnVFl.js"),[],import.meta.url)},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>et(()=>import("./regexp-CDVJQ6XC.js"),[],import.meta.url)},{id:"rel",name:"Rel",import:()=>et(()=>import("./rel-C3B-1QV4.js"),[],import.meta.url)},{id:"riscv",name:"RISC-V",import:()=>et(()=>import("./riscv-BM1_JUlF.js"),[],import.meta.url)},{id:"rosmsg",name:"ROS Interface",import:()=>et(()=>import("./rosmsg-BJDFO7_C.js"),[],import.meta.url)},{id:"rst",name:"reStructuredText",import:()=>et(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37]),import.meta.url)},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>et(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]),import.meta.url)},{id:"rust",name:"Rust",aliases:["rs"],import:()=>et(()=>import("./rust-B1yitclQ.js"),[],import.meta.url)},{id:"sas",name:"SAS",import:()=>et(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16]),import.meta.url)},{id:"sass",name:"Sass",import:()=>et(()=>import("./sass-Cj5Yp3dK.js"),[],import.meta.url)},{id:"scala",name:"Scala",import:()=>et(()=>import("./scala-C151Ov-r.js"),[],import.meta.url)},{id:"scheme",name:"Scheme",import:()=>et(()=>import("./scheme-C98Dy4si.js"),[],import.meta.url)},{id:"scss",name:"SCSS",import:()=>et(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3]),import.meta.url)},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>et(()=>import("./sdbl-DVxCFoDh.js"),[],import.meta.url)},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>et(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81]),import.meta.url)},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>et(()=>import("./shellscript-Yzrsuije.js"),[],import.meta.url)},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>et(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28]),import.meta.url)},{id:"smalltalk",name:"Smalltalk",import:()=>et(()=>import("./smalltalk-BERRCDM3.js"),[],import.meta.url)},{id:"solidity",name:"Solidity",import:()=>et(()=>import("./solidity-rGO070M0.js"),[],import.meta.url)},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>et(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3]),import.meta.url)},{id:"sparql",name:"SPARQL",import:()=>et(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85]),import.meta.url)},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>et(()=>import("./splunk-BtCnVYZw.js"),[],import.meta.url)},{id:"sql",name:"SQL",import:()=>et(()=>import("./sql-BLtJtn59.js"),[],import.meta.url)},{id:"ssh-config",name:"SSH Config",import:()=>et(()=>import("./ssh-config-_ykCGR6B.js"),[],import.meta.url)},{id:"stata",name:"Stata",import:()=>et(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16]),import.meta.url)},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>et(()=>import("./stylus-BEDo0Tqx.js"),[],import.meta.url)},{id:"svelte",name:"Svelte",import:()=>et(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12]),import.meta.url)},{id:"swift",name:"Swift",import:()=>et(()=>import("./swift-Dg5xB15N.js"),[],import.meta.url)},{id:"system-verilog",name:"SystemVerilog",import:()=>et(()=>import("./system-verilog-CnnmHF94.js"),[],import.meta.url)},{id:"systemd",name:"Systemd Units",import:()=>et(()=>import("./systemd-4A_iFExJ.js"),[],import.meta.url)},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>et(()=>import("./talonscript-CkByrt1z.js"),[],import.meta.url)},{id:"tasl",name:"Tasl",import:()=>et(()=>import("./tasl-QIJgUcNo.js"),[],import.meta.url)},{id:"tcl",name:"Tcl",import:()=>et(()=>import("./tcl-dwOrl1Do.js"),[],import.meta.url)},{id:"templ",name:"Templ",import:()=>et(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3]),import.meta.url)},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>et(()=>import("./terraform-BETggiCN.js"),[],import.meta.url)},{id:"tex",name:"TeX",import:()=>et(()=>import("./tex-CxkMU7Pf.js"),__vite__mapDeps([64,62]),import.meta.url)},{id:"toml",name:"TOML",import:()=>et(()=>import("./toml-vGWfd6FD.js"),[],import.meta.url)},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>et(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8]),import.meta.url)},{id:"tsv",name:"TSV",import:()=>et(()=>import("./tsv-B_m7g4N7.js"),[],import.meta.url)},{id:"tsx",name:"TSX",import:()=>et(()=>import("./tsx-COt5Ahok.js"),[],import.meta.url)},{id:"turtle",name:"Turtle",import:()=>et(()=>import("./turtle-BsS91CYL.js"),[],import.meta.url)},{id:"twig",name:"Twig",import:()=>et(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38]),import.meta.url)},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:()=>et(()=>import("./typescript-BPQ3VLAy.js"),[],import.meta.url)},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>et(()=>import("./typespec-BGHnOYBU.js"),[],import.meta.url)},{id:"typst",name:"Typst",aliases:["typ"],import:()=>et(()=>import("./typst-DHCkPAjA.js"),[],import.meta.url)},{id:"v",name:"V",import:()=>et(()=>import("./v-BcVCzyr7.js"),[],import.meta.url)},{id:"vala",name:"Vala",import:()=>et(()=>import("./vala-CsfeWuGM.js"),[],import.meta.url)},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>et(()=>import("./vb-D17OF-Vu.js"),[],import.meta.url)},{id:"verilog",name:"Verilog",import:()=>et(()=>import("./verilog-BQ8w6xss.js"),[],import.meta.url)},{id:"vhdl",name:"VHDL",import:()=>et(()=>import("./vhdl-CeAyd5Ju.js"),[],import.meta.url)},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>et(()=>import("./viml-CJc9bBzg.js"),[],import.meta.url)},{id:"vue",name:"Vue",import:()=>et(()=>import("./vue-DnHKYNfI.js"),__vite__mapDeps([92,3,2,11,9,15,1]),import.meta.url)},{id:"vue-html",name:"Vue HTML",import:()=>et(()=>import("./vue-html-CChd_i61.js"),__vite__mapDeps([93,92,3,2,11,9,15,1]),import.meta.url)},{id:"vue-vine",name:"Vue Vine",import:()=>et(()=>import("./vue-vine-8moa0y9V.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1]),import.meta.url)},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>et(()=>import("./vyper-CDx5xZoG.js"),[],import.meta.url)},{id:"wasm",name:"WebAssembly",import:()=>et(()=>import("./wasm-MzD3tlZU.js"),[],import.meta.url)},{id:"wenyan",name:"Wenyan",aliases:["æè¨"],import:()=>et(()=>import("./wenyan-BV7otONQ.js"),[],import.meta.url)},{id:"wgsl",name:"WGSL",import:()=>et(()=>import("./wgsl-Dx-B1_4e.js"),[],import.meta.url)},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>et(()=>import("./wikitext-BhOHFoWU.js"),[],import.meta.url)},{id:"wit",name:"WebAssembly Interface Types",import:()=>et(()=>import("./wit-5i3qLPDT.js"),[],import.meta.url)},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>et(()=>import("./wolfram-lXgVvXCa.js"),[],import.meta.url)},{id:"xml",name:"XML",import:()=>et(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8]),import.meta.url)},{id:"xsl",name:"XSL",import:()=>et(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8]),import.meta.url)},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>et(()=>import("./yaml-Buea-lGh.js"),[],import.meta.url)},{id:"zenscript",name:"ZenScript",import:()=>et(()=>import("./zenscript-DVFEvuxE.js"),[],import.meta.url)},{id:"zig",name:"Zig",import:()=>et(()=>import("./zig-VOosw3JB.js"),[],import.meta.url)}],wq=Object.fromEntries(kS.map(e=>[e.id,e.import])),xq=Object.fromEntries(kS.flatMap(e=>e.aliases?.map(t=>[t,e.import])||[])),Tq={...wq,...xq},vq=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>et(()=>import("./andromeeda-C-Jbm3Hp.js"),[],import.meta.url)},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>et(()=>import("./aurora-x-D-2ljcwZ.js"),[],import.meta.url)},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>et(()=>import("./ayu-dark-Cv9koXgw.js"),[],import.meta.url)},{id:"catppuccin-frappe",displayName:"Catppuccin FrappÃ©",type:"dark",import:()=>et(()=>import("./catppuccin-frappe-DFWUc33u.js"),[],import.meta.url)},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>et(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[],import.meta.url)},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>et(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[],import.meta.url)},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>et(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[],import.meta.url)},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>et(()=>import("./dark-plus-C3mMm8J8.js"),[],import.meta.url)},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>et(()=>import("./dracula-BzJJZx-M.js"),[],import.meta.url)},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>et(()=>import("./dracula-soft-BXkSAIEj.js"),[],import.meta.url)},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>et(()=>import("./everforest-dark-BgDCqdQA.js"),[],import.meta.url)},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>et(()=>import("./everforest-light-C8M2exoo.js"),[],import.meta.url)},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>et(()=>import("./github-dark-DHJKELXO.js"),[],import.meta.url)},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>et(()=>import("./github-dark-default-Cuk6v7N8.js"),[],import.meta.url)},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>et(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[],import.meta.url)},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>et(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[],import.meta.url)},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>et(()=>import("./github-light-DAi9KRSo.js"),[],import.meta.url)},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>et(()=>import("./github-light-default-D7oLnXFd.js"),[],import.meta.url)},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>et(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[],import.meta.url)},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:()=>et(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[],import.meta.url)},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:()=>et(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[],import.meta.url)},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:()=>et(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[],import.meta.url)},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:()=>et(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[],import.meta.url)},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:()=>et(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[],import.meta.url)},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:()=>et(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[],import.meta.url)},{id:"houston",displayName:"Houston",type:"dark",import:()=>et(()=>import("./houston-DnULxvSX.js"),[],import.meta.url)},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>et(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[],import.meta.url)},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>et(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[],import.meta.url)},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>et(()=>import("./kanagawa-wave-DWedfzmr.js"),[],import.meta.url)},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>et(()=>import("./laserwave-DUszq2jm.js"),[],import.meta.url)},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>et(()=>import("./light-plus-B7mTdjB0.js"),[],import.meta.url)},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>et(()=>import("./material-theme-D5KoaKCx.js"),[],import.meta.url)},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>et(()=>import("./material-theme-darker-BfHTSMKl.js"),[],import.meta.url)},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>et(()=>import("./material-theme-lighter-B0m2ddpp.js"),[],import.meta.url)},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>et(()=>import("./material-theme-ocean-CyktbL80.js"),[],import.meta.url)},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>et(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[],import.meta.url)},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>et(()=>import("./min-dark-CafNBF8u.js"),[],import.meta.url)},{id:"min-light",displayName:"Min Light",type:"light",import:()=>et(()=>import("./min-light-CTRr51gU.js"),[],import.meta.url)},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>et(()=>import("./monokai-D4h5O-jR.js"),[],import.meta.url)},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>et(()=>import("./night-owl-C39BiMTA.js"),[],import.meta.url)},{id:"nord",displayName:"Nord",type:"dark",import:()=>et(()=>import("./nord-Ddv68eIx.js"),[],import.meta.url)},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>et(()=>import("./one-dark-pro-DVMEJ2y_.js"),[],import.meta.url)},{id:"one-light",displayName:"One Light",type:"light",import:()=>et(()=>import("./one-light-PoHY5YXO.js"),[],import.meta.url)},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>et(()=>import("./plastic-3e1v2bzS.js"),[],import.meta.url)},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>et(()=>import("./poimandres-CS3Unz2-.js"),[],import.meta.url)},{id:"red",displayName:"Red",type:"dark",import:()=>et(()=>import("./red-bN70gL4F.js"),[],import.meta.url)},{id:"rose-pine",displayName:"RosÃ© Pine",type:"dark",import:()=>et(()=>import("./rose-pine-qdsjHGoJ.js"),[],import.meta.url)},{id:"rose-pine-dawn",displayName:"RosÃ© Pine Dawn",type:"light",import:()=>et(()=>import("./rose-pine-dawn-DHQR4-dF.js"),[],import.meta.url)},{id:"rose-pine-moon",displayName:"RosÃ© Pine Moon",type:"dark",import:()=>et(()=>import("./rose-pine-moon-D4_iv3hh.js"),[],import.meta.url)},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>et(()=>import("./slack-dark-BthQWCQV.js"),[],import.meta.url)},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>et(()=>import("./slack-ochin-DqwNpetd.js"),[],import.meta.url)},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>et(()=>import("./snazzy-light-Bw305WKR.js"),[],import.meta.url)},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>et(()=>import("./solarized-dark-DXbdFlpD.js"),[],import.meta.url)},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>et(()=>import("./solarized-light-L9t79GZl.js"),[],import.meta.url)},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>et(()=>import("./synthwave-84-CbfX1IO0.js"),[],import.meta.url)},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>et(()=>import("./tokyo-night-hegEt444.js"),[],import.meta.url)},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>et(()=>import("./vesper-DU1UobuO.js"),[],import.meta.url)},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>et(()=>import("./vitesse-black-Bkuqu6BP.js"),[],import.meta.url)},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>et(()=>import("./vitesse-dark-D0r3Knsf.js"),[],import.meta.url)},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>et(()=>import("./vitesse-light-CVO1_9PV.js"),[],import.meta.url)}],Aq=Object.fromEntries(vq.map(e=>[e.id,e.import]));class E1 extends Error{constructor(t){super(t),this.name="ShikiError"}}function Cq(){return 2147483648}function kq(){return typeof performance<"u"?performance.now():Date.now()}const Sq=(e,t)=>e+(t-e%t)%t;async function Iq(e){let t,r;const n={};function i(d){r=d,n.HEAPU8=new Uint8Array(d),n.HEAPU32=new Uint32Array(d)}function s(d,p,g){n.HEAPU8.copyWithin(d,p,p+g)}function a(d){try{return t.grow(d-r.byteLength+65535>>>16),i(t.buffer),1}catch{}}function o(d){const p=n.HEAPU8.length;d=d>>>0;const g=Cq();if(d>g)return!1;for(let y=1;y<=4;y*=2){let m=p*(1+.2/y);m=Math.min(m,d+100663296);const b=Math.min(g,Sq(Math.max(d,m),65536));if(a(b))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function u(d,p,g=1024){const y=p+g;let m=p;for(;d[m]&&!(m>=y);)++m;if(m-p>16&&d.buffer&&l)return l.decode(d.subarray(p,m));let b="";for(;p<m;){let _=d[p++];if(!(_&128)){b+=String.fromCharCode(_);continue}const T=d[p++]&63;if((_&224)===192){b+=String.fromCharCode((_&31)<<6|T);continue}const C=d[p++]&63;if((_&240)===224?_=(_&15)<<12|T<<6|C:_=(_&7)<<18|T<<12|C<<6|d[p++]&63,_<65536)b+=String.fromCharCode(_);else{const L=_-65536;b+=String.fromCharCode(55296|L>>10,56320|L&1023)}}return b}function c(d,p){return d?u(n.HEAPU8,d,p):""}const h={emscripten_get_now:kq,emscripten_memcpy_big:s,emscripten_resize_heap:o,fd_write:()=>0};async function f(){const p=await e({env:h,wasi_snapshot_preview1:h});t=p.memory,i(t.buffer),Object.assign(n,p),n.UTF8ToString=c}return await f(),n}var Lq=Object.defineProperty,Rq=(e,t,r)=>t in e?Lq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dr=(e,t,r)=>Rq(e,typeof t!="symbol"?t+"":t,r);let Er=null;function Nq(e){throw new E1(e.UTF8ToString(e.getLastOnigError()))}class df{constructor(t){dr(this,"utf16Length"),dr(this,"utf8Length"),dr(this,"utf16Value"),dr(this,"utf8Value"),dr(this,"utf16OffsetToUtf8"),dr(this,"utf8OffsetToUtf16");const r=t.length,n=df._utf8ByteLength(t),i=n!==r,s=i?new Uint32Array(r+1):null;i&&(s[r]=n);const a=i?new Uint32Array(n+1):null;i&&(a[n]=r);const o=new Uint8Array(n);let l=0;for(let u=0;u<r;u++){const c=t.charCodeAt(u);let h=c,f=!1;if(c>=55296&&c<=56319&&u+1<r){const d=t.charCodeAt(u+1);d>=56320&&d<=57343&&(h=(c-55296<<10)+65536|d-56320,f=!0)}i&&(s[u]=l,f&&(s[u+1]=l),h<=127?a[l+0]=u:h<=2047?(a[l+0]=u,a[l+1]=u):h<=65535?(a[l+0]=u,a[l+1]=u,a[l+2]=u):(a[l+0]=u,a[l+1]=u,a[l+2]=u,a[l+3]=u)),h<=127?o[l++]=h:h<=2047?(o[l++]=192|(h&1984)>>>6,o[l++]=128|(h&63)>>>0):h<=65535?(o[l++]=224|(h&61440)>>>12,o[l++]=128|(h&4032)>>>6,o[l++]=128|(h&63)>>>0):(o[l++]=240|(h&1835008)>>>18,o[l++]=128|(h&258048)>>>12,o[l++]=128|(h&4032)>>>6,o[l++]=128|(h&63)>>>0),f&&u++}this.utf16Length=r,this.utf8Length=n,this.utf16Value=t,this.utf8Value=o,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=a}static _utf8ByteLength(t){let r=0;for(let n=0,i=t.length;n<i;n++){const s=t.charCodeAt(n);let a=s,o=!1;if(s>=55296&&s<=56319&&n+1<i){const l=t.charCodeAt(n+1);l>=56320&&l<=57343&&(a=(s-55296<<10)+65536|l-56320,o=!0)}a<=127?r+=1:a<=2047?r+=2:a<=65535?r+=3:r+=4,o&&n++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const ff=class ui{constructor(t){if(dr(this,"id",++ui.LAST_ID),dr(this,"_onigBinding"),dr(this,"content"),dr(this,"utf16Length"),dr(this,"utf8Length"),dr(this,"utf16OffsetToUtf8"),dr(this,"utf8OffsetToUtf16"),dr(this,"ptr"),!Er)throw new E1("Must invoke loadWasm first.");this._onigBinding=Er,this.content=t;const r=new df(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!ui._sharedPtrInUse?(ui._sharedPtr||(ui._sharedPtr=Er.omalloc(1e4)),ui._sharedPtrInUse=!0,Er.HEAPU8.set(r.utf8Value,ui._sharedPtr),this.ptr=ui._sharedPtr):this.ptr=r.createString(Er)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===ui._sharedPtr?ui._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};dr(ff,"LAST_ID",0);dr(ff,"_sharedPtr",0);dr(ff,"_sharedPtrInUse",!1);let SS=ff;class Oq{constructor(t){if(dr(this,"_onigBinding"),dr(this,"_ptr"),!Er)throw new E1("Must invoke loadWasm first.");const r=[],n=[];for(let o=0,l=t.length;o<l;o++){const u=new df(t[o]);r[o]=u.createString(Er),n[o]=u.utf8Length}const i=Er.omalloc(4*t.length);Er.HEAPU32.set(r,i/4);const s=Er.omalloc(4*t.length);Er.HEAPU32.set(n,s/4);const a=Er.createOnigScanner(i,s,t.length);for(let o=0,l=t.length;o<l;o++)Er.ofree(r[o]);Er.ofree(s),Er.ofree(i),a===0&&Nq(Er),this._onigBinding=Er,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,n){let i=0;if(typeof n=="number"&&(i=n),typeof t=="string"){t=new SS(t);const s=this._findNextMatchSync(t,r,!1,i);return t.dispose(),s}return this._findNextMatchSync(t,r,!1,i)}_findNextMatchSync(t,r,n,i){const s=this._onigBinding,a=s.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),i);if(a===0)return null;const o=s.HEAPU32;let l=a/4;const u=o[l++],c=o[l++],h=[];for(let f=0;f<c;f++){const d=t.convertUtf8OffsetToUtf16(o[l++]),p=t.convertUtf8OffsetToUtf16(o[l++]);h[f]={start:d,end:p,length:p-d}}return{index:u,captureIndices:h}}}function Pq(e){return typeof e.instantiator=="function"}function Dq(e){return typeof e.default=="function"}function Bq(e){return typeof e.data<"u"}function Mq(e){return typeof Response<"u"&&e instanceof Response}function Fq(e){return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&Buffer.isBuffer?.(e)||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}let Nc;function Uq(e){if(Nc)return Nc;async function t(){Er=await Iq(async r=>{let n=e;return n=await n,typeof n=="function"&&(n=await n(r)),typeof n=="function"&&(n=await n(r)),Pq(n)?n=await n.instantiator(r):Dq(n)?n=await n.default(r):(Bq(n)&&(n=n.data),Mq(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await Hq(n)(r):n=await $q(n)(r):Fq(n)?n=await bg(n)(r):n instanceof WebAssembly.Module?n=await bg(n)(r):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await bg(n.default)(r))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return Nc=t(),Nc}function bg(e){return t=>WebAssembly.instantiate(e,t)}function Hq(e){return t=>WebAssembly.instantiateStreaming(e,t)}function $q(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}async function zq(e){return e&&await Uq(e),{createScanner(t){return new Oq(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new SS(t)}}}const jq=Eq({langs:Tq,themes:Aq,engine:()=>zq(et(()=>import("./wasm-CG6Dc4jp.js"),[],import.meta.url))}),Oc=e=>{if(e.length===4){const t=e[1],r=e[2],n=e[3];return e[0]+t+t+r+r+n+n}return e.length===9?e.slice(0,7):e},Wq=({theme:e})=>{let t;const r=new Set,n=new Set;return async({root:i})=>{const s=[];return Ei(i,"code",({lang:a})=>{a&&(r.has(a)||(r.add(a),s.push(a)))}),t||(t=await jq({themes:[e],langs:[]})),await Promise.all(s.map(async a=>{try{await t.loadLanguage(a)}catch(o){n.add(a),ra(String(o))}})),{code:({value:a,lang:o})=>{if(!o||n.has(o))return null;const l=t.codeToTokens(a,{lang:o,theme:e});let{bg:u,fg:c}=l;return c&&(c=Oc(c)),u&&(u=Oc(u)),l.tokens.map(h=>new Tn({shading:{type:"clear",color:"auto",fill:u},children:h.map(({content:f,bgColor:d,color:p,fontStyle:g})=>(p&&(p=Oc(p)),d&&(d=Oc(d)),new au({text:f,color:p??c,shading:d?{type:"clear",color:"auto",fill:d}:void 0,bold:g===2,italics:g===1,underline:g===4?{type:"single",color:c}:void 0,strike:g===8})))}))}}}},Sx=/[#.]/g;function qq(e,t){const r=e||"",n={};let i=0,s,a;for(;i<r.length;){Sx.lastIndex=i;const o=Sx.exec(r),l=r.slice(i,o?o.index:r.length);l&&(s?s==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}function IS(e,t,r){const n=r?Xq(r):void 0;function i(s,a,...o){let l;if(s==null){l={type:"root",children:[]};const u=a;o.unshift(u)}else{l=qq(s,t);const u=l.tagName.toLowerCase(),c=n?n.get(u):void 0;if(l.tagName=c||u,Gq(a))o.unshift(a);else for(const[h,f]of Object.entries(a))Vq(e,l.properties,h,f)}for(const u of o)H0(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function Gq(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Vq(e,t,r,n){const i=f1(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=yx(n):i.commaSeparated?s=bx(n):i.commaOrSpaceSeparated?s=yx(bx(n).join(" ")):s=Ix(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?Yq(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(Ix(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function H0(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)H0(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?H0(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Ix(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||cu(r)===cu(t)))return!0}return r}function Yq(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function Xq(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const Kq=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Zq=IS(uf,"div"),Qq=IS(ju,"g",Kq);function Jq(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=r[a];if(o===void 0){const l=Lx(t,r[a-1]);o=l===-1?t.length+1:l+1,r[a]=o}if(o>s)return{line:a+1,column:s-(a>0?r[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;r.length<s.line;){const o=r[r.length-1],l=Lx(t,o),u=l===-1?t.length+1:l+1;if(o===u)break;r.push(u)}const a=(s.line>1?r[s.line-2]:0)+s.column-1;if(a<r[s.line-1])return a}}}function Lx(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const tG={svg:"http://www.w3.org/2000/svg"},LS={}.hasOwnProperty,eG=Object.prototype;function rG(e,t){const r=t||{};return w1({file:r.file||void 0,location:!1,schema:r.space==="svg"?ju:uf,verbose:r.verbose||!1},e)}function w1(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},dh(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:RS(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=Jq(s),o=a.toPoint(0),l=a.toPoint(s.length);r.position={start:o,end:l}}return r}case"#documentType":{const n=t;return r={type:"doctype"},dh(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},dh(e,n,r),r}default:return r=nG(e,t),r}}function RS(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=w1(e,t[r]);n.push(i)}return n}function nG(e,t){const r=e.schema;e.schema=t.namespaceURI===tG.svg?ju:uf;let n=-1;const i={};for(;++n<t.attrs.length;){const o=t.attrs[n],l=(o.prefix?o.prefix+":":"")+o.name;LS.call(eG,l)||(i[l]=o.value)}const a=(e.schema.space==="svg"?Qq:Zq)(t.tagName,i,RS(e,t.childNodes));if(dh(e,t,a),a.tagName==="template"){const o=t,l=o.sourceCodeLocation,u=l&&l.startTag&&Xa(l.startTag),c=l&&l.endTag&&Xa(l.endTag),h=w1(e,o.content);u&&c&&e.file&&(h.position={start:u.end,end:c.start}),a.content=h}return e.schema=r,a}function dh(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=iG(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function iG(e,t,r){const n=Xa(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(r.attrs)for(a in r.attrs)LS.call(r.attrs,a)&&(s[f1(e.schema,a).property]=Xa(r.attrs[a]));r.startTag;const o=Xa(r.startTag),l=r.endTag?Xa(r.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return n}function Xa(e){const t=Rx({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=Rx({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function Rx(e){return e.line&&e.column?e:void 0}const sG=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),je="ï¿½";var st;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(st||(st={}));const sn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function NS(e){return e>=55296&&e<=57343}function aG(e){return e>=56320&&e<=57343}function oG(e,t){return(e-55296)*1024+9216+t}function OS(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function PS(e){return e>=64976&&e<=65007||sG.has(e)}var kt;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(kt||(kt={}));const lG=65536;class uG{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=lG,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:s}=this,a=i+r,o=s+r;return{code:t,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(aG(r))return this.pos++,this._addGap(),oG(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,st.EOF;return this._err(kt.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,st.EOF;const n=this.html.charCodeAt(r);return n===st.CARRIAGE_RETURN?st.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,st.EOF;let t=this.html.charCodeAt(this.pos);return t===st.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,st.LINE_FEED):t===st.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,NS(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===st.LINE_FEED||t===st.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){OS(t)?this._err(kt.controlCharacterInInputStream):PS(t)&&this._err(kt.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ke;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ke||(ke={}));function DS(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const cG=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(e=>e.charCodeAt(0))),hG=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function dG(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=hG.get(e))!==null&&t!==void 0?t:e}var wr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(wr||(wr={}));const fG=32;var cs;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(cs||(cs={}));function $0(e){return e>=wr.ZERO&&e<=wr.NINE}function pG(e){return e>=wr.UPPER_A&&e<=wr.UPPER_F||e>=wr.LOWER_A&&e<=wr.LOWER_F}function mG(e){return e>=wr.UPPER_A&&e<=wr.UPPER_Z||e>=wr.LOWER_A&&e<=wr.LOWER_Z||$0(e)}function gG(e){return e===wr.EQUALS||mG(e)}var yr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(yr||(yr={}));var Di;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Di||(Di={}));let bG=class{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=yr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Di.Strict}startEntity(t){this.decodeMode=t,this.state=yr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case yr.EntityStart:return t.charCodeAt(r)===wr.NUM?(this.state=yr.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=yr.NamedEntity,this.stateNamedEntity(t,r));case yr.NumericStart:return this.stateNumericStart(t,r);case yr.NumericDecimal:return this.stateNumericDecimal(t,r);case yr.NumericHex:return this.stateNumericHex(t,r);case yr.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|fG)===wr.LOWER_X?(this.state=yr.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=yr.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(r,s),i),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if($0(i)||pG(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if($0(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===wr.SEMI)this.consumed+=1;else if(this.decodeMode===Di.Strict)return 0;return this.emitCodePoint(dG(this.result),this.consumed),this.errors&&(t!==wr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&cs.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=yG(n,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===Di.Attribute&&(s===0||gG(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&cs.VALUE_LENGTH)>>14,s!==0){if(a===wr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Di.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&cs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~cs.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case yr.NamedEntity:return this.result!==0&&(this.decodeMode!==Di.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case yr.NumericDecimal:return this.emitNumericEntity(0,2);case yr.NumericHex:return this.emitNumericEntity(0,3);case yr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case yr.EntityStart:return 0}}};function yG(e,t,r,n){const i=(t&cs.BRANCH_LENGTH)>>7,s=t&cs.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const l=n-s;return l<0||l>=i?-1:e[r+l]-1}let a=r,o=a+i-1;for(;a<=o;){const l=a+o>>>1,u=e[l];if(u<n)a=l+1;else if(u>n)o=l-1;else return e[l+i]}return-1}var Nt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Nt||(Nt={}));var ia;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(ia||(ia={}));var On;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(On||(On={}));var Tt;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Tt||(Tt={}));var k;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(k||(k={}));const _G=new Map([[Tt.A,k.A],[Tt.ADDRESS,k.ADDRESS],[Tt.ANNOTATION_XML,k.ANNOTATION_XML],[Tt.APPLET,k.APPLET],[Tt.AREA,k.AREA],[Tt.ARTICLE,k.ARTICLE],[Tt.ASIDE,k.ASIDE],[Tt.B,k.B],[Tt.BASE,k.BASE],[Tt.BASEFONT,k.BASEFONT],[Tt.BGSOUND,k.BGSOUND],[Tt.BIG,k.BIG],[Tt.BLOCKQUOTE,k.BLOCKQUOTE],[Tt.BODY,k.BODY],[Tt.BR,k.BR],[Tt.BUTTON,k.BUTTON],[Tt.CAPTION,k.CAPTION],[Tt.CENTER,k.CENTER],[Tt.CODE,k.CODE],[Tt.COL,k.COL],[Tt.COLGROUP,k.COLGROUP],[Tt.DD,k.DD],[Tt.DESC,k.DESC],[Tt.DETAILS,k.DETAILS],[Tt.DIALOG,k.DIALOG],[Tt.DIR,k.DIR],[Tt.DIV,k.DIV],[Tt.DL,k.DL],[Tt.DT,k.DT],[Tt.EM,k.EM],[Tt.EMBED,k.EMBED],[Tt.FIELDSET,k.FIELDSET],[Tt.FIGCAPTION,k.FIGCAPTION],[Tt.FIGURE,k.FIGURE],[Tt.FONT,k.FONT],[Tt.FOOTER,k.FOOTER],[Tt.FOREIGN_OBJECT,k.FOREIGN_OBJECT],[Tt.FORM,k.FORM],[Tt.FRAME,k.FRAME],[Tt.FRAMESET,k.FRAMESET],[Tt.H1,k.H1],[Tt.H2,k.H2],[Tt.H3,k.H3],[Tt.H4,k.H4],[Tt.H5,k.H5],[Tt.H6,k.H6],[Tt.HEAD,k.HEAD],[Tt.HEADER,k.HEADER],[Tt.HGROUP,k.HGROUP],[Tt.HR,k.HR],[Tt.HTML,k.HTML],[Tt.I,k.I],[Tt.IMG,k.IMG],[Tt.IMAGE,k.IMAGE],[Tt.INPUT,k.INPUT],[Tt.IFRAME,k.IFRAME],[Tt.KEYGEN,k.KEYGEN],[Tt.LABEL,k.LABEL],[Tt.LI,k.LI],[Tt.LINK,k.LINK],[Tt.LISTING,k.LISTING],[Tt.MAIN,k.MAIN],[Tt.MALIGNMARK,k.MALIGNMARK],[Tt.MARQUEE,k.MARQUEE],[Tt.MATH,k.MATH],[Tt.MENU,k.MENU],[Tt.META,k.META],[Tt.MGLYPH,k.MGLYPH],[Tt.MI,k.MI],[Tt.MO,k.MO],[Tt.MN,k.MN],[Tt.MS,k.MS],[Tt.MTEXT,k.MTEXT],[Tt.NAV,k.NAV],[Tt.NOBR,k.NOBR],[Tt.NOFRAMES,k.NOFRAMES],[Tt.NOEMBED,k.NOEMBED],[Tt.NOSCRIPT,k.NOSCRIPT],[Tt.OBJECT,k.OBJECT],[Tt.OL,k.OL],[Tt.OPTGROUP,k.OPTGROUP],[Tt.OPTION,k.OPTION],[Tt.P,k.P],[Tt.PARAM,k.PARAM],[Tt.PLAINTEXT,k.PLAINTEXT],[Tt.PRE,k.PRE],[Tt.RB,k.RB],[Tt.RP,k.RP],[Tt.RT,k.RT],[Tt.RTC,k.RTC],[Tt.RUBY,k.RUBY],[Tt.S,k.S],[Tt.SCRIPT,k.SCRIPT],[Tt.SEARCH,k.SEARCH],[Tt.SECTION,k.SECTION],[Tt.SELECT,k.SELECT],[Tt.SOURCE,k.SOURCE],[Tt.SMALL,k.SMALL],[Tt.SPAN,k.SPAN],[Tt.STRIKE,k.STRIKE],[Tt.STRONG,k.STRONG],[Tt.STYLE,k.STYLE],[Tt.SUB,k.SUB],[Tt.SUMMARY,k.SUMMARY],[Tt.SUP,k.SUP],[Tt.TABLE,k.TABLE],[Tt.TBODY,k.TBODY],[Tt.TEMPLATE,k.TEMPLATE],[Tt.TEXTAREA,k.TEXTAREA],[Tt.TFOOT,k.TFOOT],[Tt.TD,k.TD],[Tt.TH,k.TH],[Tt.THEAD,k.THEAD],[Tt.TITLE,k.TITLE],[Tt.TR,k.TR],[Tt.TRACK,k.TRACK],[Tt.TT,k.TT],[Tt.U,k.U],[Tt.UL,k.UL],[Tt.SVG,k.SVG],[Tt.VAR,k.VAR],[Tt.WBR,k.WBR],[Tt.XMP,k.XMP]]);function pf(e){var t;return(t=_G.get(e))!==null&&t!==void 0?t:k.UNKNOWN}const Pt=k,EG={[Nt.HTML]:new Set([Pt.ADDRESS,Pt.APPLET,Pt.AREA,Pt.ARTICLE,Pt.ASIDE,Pt.BASE,Pt.BASEFONT,Pt.BGSOUND,Pt.BLOCKQUOTE,Pt.BODY,Pt.BR,Pt.BUTTON,Pt.CAPTION,Pt.CENTER,Pt.COL,Pt.COLGROUP,Pt.DD,Pt.DETAILS,Pt.DIR,Pt.DIV,Pt.DL,Pt.DT,Pt.EMBED,Pt.FIELDSET,Pt.FIGCAPTION,Pt.FIGURE,Pt.FOOTER,Pt.FORM,Pt.FRAME,Pt.FRAMESET,Pt.H1,Pt.H2,Pt.H3,Pt.H4,Pt.H5,Pt.H6,Pt.HEAD,Pt.HEADER,Pt.HGROUP,Pt.HR,Pt.HTML,Pt.IFRAME,Pt.IMG,Pt.INPUT,Pt.LI,Pt.LINK,Pt.LISTING,Pt.MAIN,Pt.MARQUEE,Pt.MENU,Pt.META,Pt.NAV,Pt.NOEMBED,Pt.NOFRAMES,Pt.NOSCRIPT,Pt.OBJECT,Pt.OL,Pt.P,Pt.PARAM,Pt.PLAINTEXT,Pt.PRE,Pt.SCRIPT,Pt.SECTION,Pt.SELECT,Pt.SOURCE,Pt.STYLE,Pt.SUMMARY,Pt.TABLE,Pt.TBODY,Pt.TD,Pt.TEMPLATE,Pt.TEXTAREA,Pt.TFOOT,Pt.TH,Pt.THEAD,Pt.TITLE,Pt.TR,Pt.TRACK,Pt.UL,Pt.WBR,Pt.XMP]),[Nt.MATHML]:new Set([Pt.MI,Pt.MO,Pt.MN,Pt.MS,Pt.MTEXT,Pt.ANNOTATION_XML]),[Nt.SVG]:new Set([Pt.TITLE,Pt.FOREIGN_OBJECT,Pt.DESC]),[Nt.XLINK]:new Set,[Nt.XML]:new Set,[Nt.XMLNS]:new Set},z0=new Set([Pt.H1,Pt.H2,Pt.H3,Pt.H4,Pt.H5,Pt.H6]);Tt.STYLE,Tt.SCRIPT,Tt.XMP,Tt.IFRAME,Tt.NOEMBED,Tt.NOFRAMES,Tt.PLAINTEXT;var ct;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ct||(ct={}));const hn={DATA:ct.DATA,RCDATA:ct.RCDATA,RAWTEXT:ct.RAWTEXT,SCRIPT_DATA:ct.SCRIPT_DATA,PLAINTEXT:ct.PLAINTEXT,CDATA_SECTION:ct.CDATA_SECTION};function wG(e){return e>=st.DIGIT_0&&e<=st.DIGIT_9}function Il(e){return e>=st.LATIN_CAPITAL_A&&e<=st.LATIN_CAPITAL_Z}function xG(e){return e>=st.LATIN_SMALL_A&&e<=st.LATIN_SMALL_Z}function is(e){return xG(e)||Il(e)}function Nx(e){return is(e)||wG(e)}function Pc(e){return e+32}function BS(e){return e===st.SPACE||e===st.LINE_FEED||e===st.TABULATION||e===st.FORM_FEED}function Ox(e){return BS(e)||e===st.SOLIDUS||e===st.GREATER_THAN_SIGN}function TG(e){return e===st.NULL?kt.nullCharacterReference:e>1114111?kt.characterReferenceOutsideUnicodeRange:NS(e)?kt.surrogateCharacterReference:PS(e)?kt.noncharacterCharacterReference:OS(e)||e===st.CARRIAGE_RETURN?kt.controlCharacterReference:null}class vG{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ct.DATA,this.returnState=ct.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new uG(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new bG(cG,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(kt.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(kt.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=TG(n);i&&this._err(i,1)}}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ke.START_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ke.END_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ke.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ke.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(DS(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(kt.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=pf(t.tagName),t.type===ke.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(kt.endTagWithAttributes),t.selfClosing&&this._err(kt.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ke.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ke.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ke.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ke.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=BS(t)?ke.WHITESPACE_CHARACTER:t===st.NULL?ke.NULL_CHARACTER:ke.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ke.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ct.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Di.Attribute:Di.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ct.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ct.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ct.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ct.DATA:{this._stateData(t);break}case ct.RCDATA:{this._stateRcdata(t);break}case ct.RAWTEXT:{this._stateRawtext(t);break}case ct.SCRIPT_DATA:{this._stateScriptData(t);break}case ct.PLAINTEXT:{this._statePlaintext(t);break}case ct.TAG_OPEN:{this._stateTagOpen(t);break}case ct.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ct.TAG_NAME:{this._stateTagName(t);break}case ct.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ct.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ct.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ct.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ct.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ct.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ct.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ct.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ct.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ct.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ct.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ct.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ct.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ct.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ct.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ct.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ct.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ct.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ct.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ct.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ct.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ct.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ct.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ct.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ct.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ct.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ct.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ct.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ct.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ct.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ct.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ct.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ct.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ct.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ct.COMMENT_START:{this._stateCommentStart(t);break}case ct.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ct.COMMENT:{this._stateComment(t);break}case ct.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ct.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ct.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ct.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ct.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ct.COMMENT_END:{this._stateCommentEnd(t);break}case ct.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ct.DOCTYPE:{this._stateDoctype(t);break}case ct.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ct.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ct.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ct.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ct.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ct.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ct.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ct.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ct.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ct.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ct.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ct.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ct.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ct.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ct.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ct.CDATA_SECTION:{this._stateCdataSection(t);break}case ct.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ct.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ct.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ct.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case st.LESS_THAN_SIGN:{this.state=ct.TAG_OPEN;break}case st.AMPERSAND:{this._startCharacterReference();break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this._emitCodePoint(t);break}case st.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case st.AMPERSAND:{this._startCharacterReference();break}case st.LESS_THAN_SIGN:{this.state=ct.RCDATA_LESS_THAN_SIGN;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this._emitChars(je);break}case st.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case st.LESS_THAN_SIGN:{this.state=ct.RAWTEXT_LESS_THAN_SIGN;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this._emitChars(je);break}case st.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case st.LESS_THAN_SIGN:{this.state=ct.SCRIPT_DATA_LESS_THAN_SIGN;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this._emitChars(je);break}case st.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case st.NULL:{this._err(kt.unexpectedNullCharacter),this._emitChars(je);break}case st.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(is(t))this._createStartTagToken(),this.state=ct.TAG_NAME,this._stateTagName(t);else switch(t){case st.EXCLAMATION_MARK:{this.state=ct.MARKUP_DECLARATION_OPEN;break}case st.SOLIDUS:{this.state=ct.END_TAG_OPEN;break}case st.QUESTION_MARK:{this._err(kt.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ct.BOGUS_COMMENT,this._stateBogusComment(t);break}case st.EOF:{this._err(kt.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(kt.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ct.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(is(t))this._createEndTagToken(),this.state=ct.TAG_NAME,this._stateTagName(t);else switch(t){case st.GREATER_THAN_SIGN:{this._err(kt.missingEndTagName),this.state=ct.DATA;break}case st.EOF:{this._err(kt.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(kt.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ct.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:{this.state=ct.BEFORE_ATTRIBUTE_NAME;break}case st.SOLIDUS:{this.state=ct.SELF_CLOSING_START_TAG;break}case st.GREATER_THAN_SIGN:{this.state=ct.DATA,this.emitCurrentTagToken();break}case st.NULL:{this._err(kt.unexpectedNullCharacter),r.tagName+=je;break}case st.EOF:{this._err(kt.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Il(t)?Pc(t):t)}}_stateRcdataLessThanSign(t){t===st.SOLIDUS?this.state=ct.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ct.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){is(t)?(this.state=ct.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ct.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ct.BEFORE_ATTRIBUTE_NAME,!1;case st.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ct.SELF_CLOSING_START_TAG,!1;case st.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ct.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ct.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===st.SOLIDUS?this.state=ct.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ct.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){is(t)?(this.state=ct.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ct.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ct.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case st.SOLIDUS:{this.state=ct.SCRIPT_DATA_END_TAG_OPEN;break}case st.EXCLAMATION_MARK:{this.state=ct.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ct.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){is(t)?(this.state=ct.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ct.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ct.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===st.HYPHEN_MINUS?(this.state=ct.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ct.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===st.HYPHEN_MINUS?(this.state=ct.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ct.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case st.HYPHEN_MINUS:{this.state=ct.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case st.LESS_THAN_SIGN:{this.state=ct.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this._emitChars(je);break}case st.EOF:{this._err(kt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case st.HYPHEN_MINUS:{this.state=ct.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case st.LESS_THAN_SIGN:{this.state=ct.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this.state=ct.SCRIPT_DATA_ESCAPED,this._emitChars(je);break}case st.EOF:{this._err(kt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ct.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case st.HYPHEN_MINUS:{this._emitChars("-");break}case st.LESS_THAN_SIGN:{this.state=ct.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case st.GREATER_THAN_SIGN:{this.state=ct.SCRIPT_DATA,this._emitChars(">");break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this.state=ct.SCRIPT_DATA_ESCAPED,this._emitChars(je);break}case st.EOF:{this._err(kt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ct.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===st.SOLIDUS?this.state=ct.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:is(t)?(this._emitChars("<"),this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ct.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){is(t)?(this.state=ct.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ct.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ct.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(sn.SCRIPT,!1)&&Ox(this.preprocessor.peek(sn.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<sn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ct.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case st.HYPHEN_MINUS:{this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case st.LESS_THAN_SIGN:{this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this._emitChars(je);break}case st.EOF:{this._err(kt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case st.HYPHEN_MINUS:{this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case st.LESS_THAN_SIGN:{this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(je);break}case st.EOF:{this._err(kt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case st.HYPHEN_MINUS:{this._emitChars("-");break}case st.LESS_THAN_SIGN:{this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case st.GREATER_THAN_SIGN:{this.state=ct.SCRIPT_DATA,this._emitChars(">");break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(je);break}case st.EOF:{this._err(kt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===st.SOLIDUS?(this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(sn.SCRIPT,!1)&&Ox(this.preprocessor.peek(sn.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<sn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=ct.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ct.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.SOLIDUS:case st.GREATER_THAN_SIGN:case st.EOF:{this.state=ct.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case st.EQUALS_SIGN:{this._err(kt.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ct.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ct.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:case st.SOLIDUS:case st.GREATER_THAN_SIGN:case st.EOF:{this._leaveAttrName(),this.state=ct.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case st.EQUALS_SIGN:{this._leaveAttrName(),this.state=ct.BEFORE_ATTRIBUTE_VALUE;break}case st.QUOTATION_MARK:case st.APOSTROPHE:case st.LESS_THAN_SIGN:{this._err(kt.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this.currentAttr.name+=je;break}default:this.currentAttr.name+=String.fromCodePoint(Il(t)?Pc(t):t)}}_stateAfterAttributeName(t){switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.SOLIDUS:{this.state=ct.SELF_CLOSING_START_TAG;break}case st.EQUALS_SIGN:{this.state=ct.BEFORE_ATTRIBUTE_VALUE;break}case st.GREATER_THAN_SIGN:{this.state=ct.DATA,this.emitCurrentTagToken();break}case st.EOF:{this._err(kt.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ct.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.QUOTATION_MARK:{this.state=ct.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case st.APOSTROPHE:{this.state=ct.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case st.GREATER_THAN_SIGN:{this._err(kt.missingAttributeValue),this.state=ct.DATA,this.emitCurrentTagToken();break}default:this.state=ct.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case st.QUOTATION_MARK:{this.state=ct.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case st.AMPERSAND:{this._startCharacterReference();break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this.currentAttr.value+=je;break}case st.EOF:{this._err(kt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case st.APOSTROPHE:{this.state=ct.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case st.AMPERSAND:{this._startCharacterReference();break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this.currentAttr.value+=je;break}case st.EOF:{this._err(kt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:{this._leaveAttrValue(),this.state=ct.BEFORE_ATTRIBUTE_NAME;break}case st.AMPERSAND:{this._startCharacterReference();break}case st.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ct.DATA,this.emitCurrentTagToken();break}case st.NULL:{this._err(kt.unexpectedNullCharacter),this.currentAttr.value+=je;break}case st.QUOTATION_MARK:case st.APOSTROPHE:case st.LESS_THAN_SIGN:case st.EQUALS_SIGN:case st.GRAVE_ACCENT:{this._err(kt.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case st.EOF:{this._err(kt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:{this._leaveAttrValue(),this.state=ct.BEFORE_ATTRIBUTE_NAME;break}case st.SOLIDUS:{this._leaveAttrValue(),this.state=ct.SELF_CLOSING_START_TAG;break}case st.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ct.DATA,this.emitCurrentTagToken();break}case st.EOF:{this._err(kt.eofInTag),this._emitEOFToken();break}default:this._err(kt.missingWhitespaceBetweenAttributes),this.state=ct.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case st.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=ct.DATA,this.emitCurrentTagToken();break}case st.EOF:{this._err(kt.eofInTag),this._emitEOFToken();break}default:this._err(kt.unexpectedSolidusInTag),this.state=ct.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case st.GREATER_THAN_SIGN:{this.state=ct.DATA,this.emitCurrentComment(r);break}case st.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case st.NULL:{this._err(kt.unexpectedNullCharacter),r.data+=je;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(sn.DASH_DASH,!0)?(this._createCommentToken(sn.DASH_DASH.length+1),this.state=ct.COMMENT_START):this._consumeSequenceIfMatch(sn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(sn.DOCTYPE.length+1),this.state=ct.DOCTYPE):this._consumeSequenceIfMatch(sn.CDATA_START,!0)?this.inForeignNode?this.state=ct.CDATA_SECTION:(this._err(kt.cdataInHtmlContent),this._createCommentToken(sn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ct.BOGUS_COMMENT):this._ensureHibernation()||(this._err(kt.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ct.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case st.HYPHEN_MINUS:{this.state=ct.COMMENT_START_DASH;break}case st.GREATER_THAN_SIGN:{this._err(kt.abruptClosingOfEmptyComment),this.state=ct.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=ct.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case st.HYPHEN_MINUS:{this.state=ct.COMMENT_END;break}case st.GREATER_THAN_SIGN:{this._err(kt.abruptClosingOfEmptyComment),this.state=ct.DATA,this.emitCurrentComment(r);break}case st.EOF:{this._err(kt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=ct.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case st.HYPHEN_MINUS:{this.state=ct.COMMENT_END_DASH;break}case st.LESS_THAN_SIGN:{r.data+="<",this.state=ct.COMMENT_LESS_THAN_SIGN;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),r.data+=je;break}case st.EOF:{this._err(kt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case st.EXCLAMATION_MARK:{r.data+="!",this.state=ct.COMMENT_LESS_THAN_SIGN_BANG;break}case st.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=ct.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===st.HYPHEN_MINUS?this.state=ct.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ct.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===st.HYPHEN_MINUS?this.state=ct.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ct.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==st.GREATER_THAN_SIGN&&t!==st.EOF&&this._err(kt.nestedComment),this.state=ct.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case st.HYPHEN_MINUS:{this.state=ct.COMMENT_END;break}case st.EOF:{this._err(kt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=ct.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case st.GREATER_THAN_SIGN:{this.state=ct.DATA,this.emitCurrentComment(r);break}case st.EXCLAMATION_MARK:{this.state=ct.COMMENT_END_BANG;break}case st.HYPHEN_MINUS:{r.data+="-";break}case st.EOF:{this._err(kt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=ct.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case st.HYPHEN_MINUS:{r.data+="--!",this.state=ct.COMMENT_END_DASH;break}case st.GREATER_THAN_SIGN:{this._err(kt.incorrectlyClosedComment),this.state=ct.DATA,this.emitCurrentComment(r);break}case st.EOF:{this._err(kt.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=ct.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:{this.state=ct.BEFORE_DOCTYPE_NAME;break}case st.GREATER_THAN_SIGN:{this.state=ct.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case st.EOF:{this._err(kt.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(kt.missingWhitespaceBeforeDoctypeName),this.state=ct.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Il(t))this._createDoctypeToken(String.fromCharCode(Pc(t))),this.state=ct.DOCTYPE_NAME;else switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.NULL:{this._err(kt.unexpectedNullCharacter),this._createDoctypeToken(je),this.state=ct.DOCTYPE_NAME;break}case st.GREATER_THAN_SIGN:{this._err(kt.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ct.DATA;break}case st.EOF:{this._err(kt.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ct.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:{this.state=ct.AFTER_DOCTYPE_NAME;break}case st.GREATER_THAN_SIGN:{this.state=ct.DATA,this.emitCurrentDoctype(r);break}case st.NULL:{this._err(kt.unexpectedNullCharacter),r.name+=je;break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Il(t)?Pc(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.GREATER_THAN_SIGN:{this.state=ct.DATA,this.emitCurrentDoctype(r);break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(sn.PUBLIC,!1)?this.state=ct.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(sn.SYSTEM,!1)?this.state=ct.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(kt.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=ct.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:{this.state=ct.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case st.QUOTATION_MARK:{this._err(kt.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=ct.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case st.APOSTROPHE:{this._err(kt.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=ct.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case st.GREATER_THAN_SIGN:{this._err(kt.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ct.DATA,this.emitCurrentDoctype(r);break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(kt.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ct.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.QUOTATION_MARK:{r.publicId="",this.state=ct.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case st.APOSTROPHE:{r.publicId="",this.state=ct.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case st.GREATER_THAN_SIGN:{this._err(kt.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ct.DATA,this.emitCurrentDoctype(r);break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(kt.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ct.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case st.QUOTATION_MARK:{this.state=ct.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),r.publicId+=je;break}case st.GREATER_THAN_SIGN:{this._err(kt.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ct.DATA;break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case st.APOSTROPHE:{this.state=ct.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),r.publicId+=je;break}case st.GREATER_THAN_SIGN:{this._err(kt.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ct.DATA;break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:{this.state=ct.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case st.GREATER_THAN_SIGN:{this.state=ct.DATA,this.emitCurrentDoctype(r);break}case st.QUOTATION_MARK:{this._err(kt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=ct.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case st.APOSTROPHE:{this._err(kt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=ct.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(kt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ct.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ct.DATA;break}case st.QUOTATION_MARK:{r.systemId="",this.state=ct.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case st.APOSTROPHE:{r.systemId="",this.state=ct.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(kt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ct.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:{this.state=ct.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case st.QUOTATION_MARK:{this._err(kt.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=ct.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case st.APOSTROPHE:{this._err(kt.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=ct.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case st.GREATER_THAN_SIGN:{this._err(kt.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ct.DATA,this.emitCurrentDoctype(r);break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(kt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ct.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.QUOTATION_MARK:{r.systemId="",this.state=ct.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case st.APOSTROPHE:{r.systemId="",this.state=ct.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case st.GREATER_THAN_SIGN:{this._err(kt.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ct.DATA,this.emitCurrentDoctype(r);break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(kt.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ct.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case st.QUOTATION_MARK:{this.state=ct.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),r.systemId+=je;break}case st.GREATER_THAN_SIGN:{this._err(kt.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ct.DATA;break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case st.APOSTROPHE:{this.state=ct.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case st.NULL:{this._err(kt.unexpectedNullCharacter),r.systemId+=je;break}case st.GREATER_THAN_SIGN:{this._err(kt.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ct.DATA;break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case st.SPACE:case st.LINE_FEED:case st.TABULATION:case st.FORM_FEED:break;case st.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ct.DATA;break}case st.EOF:{this._err(kt.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(kt.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ct.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case st.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ct.DATA;break}case st.NULL:{this._err(kt.unexpectedNullCharacter);break}case st.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case st.RIGHT_SQUARE_BRACKET:{this.state=ct.CDATA_SECTION_BRACKET;break}case st.EOF:{this._err(kt.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===st.RIGHT_SQUARE_BRACKET?this.state=ct.CDATA_SECTION_END:(this._emitChars("]"),this.state=ct.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case st.GREATER_THAN_SIGN:{this.state=ct.DATA;break}case st.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ct.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(st.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Nx(this.preprocessor.peek(1))?ct.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Nx(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===st.SEMICOLON&&this._err(kt.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const MS=new Set([k.DD,k.DT,k.LI,k.OPTGROUP,k.OPTION,k.P,k.RB,k.RP,k.RT,k.RTC]),Px=new Set([...MS,k.CAPTION,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]),td=new Set([k.APPLET,k.CAPTION,k.HTML,k.MARQUEE,k.OBJECT,k.TABLE,k.TD,k.TEMPLATE,k.TH]),AG=new Set([...td,k.OL,k.UL]),CG=new Set([...td,k.BUTTON]),Dx=new Set([k.ANNOTATION_XML,k.MI,k.MN,k.MO,k.MS,k.MTEXT]),Bx=new Set([k.DESC,k.FOREIGN_OBJECT,k.TITLE]),kG=new Set([k.TR,k.TEMPLATE,k.HTML]),SG=new Set([k.TBODY,k.TFOOT,k.THEAD,k.TEMPLATE,k.HTML]),IG=new Set([k.TABLE,k.TEMPLATE,k.HTML]),LG=new Set([k.TD,k.TH]);class RG{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=k.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===k.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Nt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==Nt.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(z0,Nt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(LG,Nt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(IG,Nt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(SG,Nt.HTML)}clearBackToTableRowContext(){this.clearBackTo(kG,Nt.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===k.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===k.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case Nt.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case Nt.SVG:{if(Bx.has(i))return!1;break}case Nt.MATHML:{if(Dx.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,td)}hasInListItemScope(t){return this.hasInDynamicScope(t,AG)}hasInButtonScope(t){return this.hasInDynamicScope(t,CG)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Nt.HTML:{if(z0.has(r))return!0;if(td.has(r))return!1;break}case Nt.SVG:{if(Bx.has(r))return!1;break}case Nt.MATHML:{if(Dx.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===Nt.HTML)switch(this.tagIDs[r]){case t:return!0;case k.TABLE:case k.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Nt.HTML)switch(this.tagIDs[t]){case k.TBODY:case k.THEAD:case k.TFOOT:return!0;case k.TABLE:case k.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===Nt.HTML)switch(this.tagIDs[r]){case t:return!0;case k.OPTION:case k.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&MS.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Px.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&Px.has(this.currentTagId);)this.pop()}}const yg=3;var bi;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(bi||(bi={}));const Mx={type:bi.Marker};class NG{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===bi.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===a){const c=this.treeAdapter.getAttrList(u);c.length===i&&n.push({idx:o,attrs:c})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<yg)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<yg)return;const i=new Map(r.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<n.length;a++){const o=n[a];o.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=yg&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(Mx)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:bi.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:bi.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(Mx);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===bi.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===bi.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===bi.Element&&r.element===t)}}const ss={createDocument(){return{nodeName:"#document",mode:On.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const s={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};ss.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(ss.isTextNode(r)){r.value+=t;return}}ss.appendChild(e,ss.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&ss.isTextNode(n)?n.value+=t:ss.insertBefore(e,ss.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},FS="html",OG="about:legacy-compat",PG="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",US=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],DG=[...US,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],BG=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),HS=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],MG=[...HS,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Fx(e,t){return t.some(r=>e.startsWith(r))}function FG(e){return e.name===FS&&e.publicId===null&&(e.systemId===null||e.systemId===OG)}function UG(e){if(e.name!==FS)return On.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===PG)return On.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),BG.has(r))return On.QUIRKS;let n=t===null?DG:US;if(Fx(r,n))return On.QUIRKS;if(n=t===null?HS:MG,Fx(r,n))return On.LIMITED_QUIRKS}return On.NO_QUIRKS}const Ux={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},HG="definitionurl",$G="definitionURL",zG=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),jG=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Nt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Nt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Nt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Nt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Nt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Nt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Nt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Nt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Nt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Nt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Nt.XMLNS}]]),WG=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),qG=new Set([k.B,k.BIG,k.BLOCKQUOTE,k.BODY,k.BR,k.CENTER,k.CODE,k.DD,k.DIV,k.DL,k.DT,k.EM,k.EMBED,k.H1,k.H2,k.H3,k.H4,k.H5,k.H6,k.HEAD,k.HR,k.I,k.IMG,k.LI,k.LISTING,k.MENU,k.META,k.NOBR,k.OL,k.P,k.PRE,k.RUBY,k.S,k.SMALL,k.SPAN,k.STRONG,k.STRIKE,k.SUB,k.SUP,k.TABLE,k.TT,k.U,k.UL,k.VAR]);function GG(e){const t=e.tagID;return t===k.FONT&&e.attrs.some(({name:n})=>n===ia.COLOR||n===ia.SIZE||n===ia.FACE)||qG.has(t)}function $S(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===HG){e.attrs[t].name=$G;break}}function zS(e){for(let t=0;t<e.attrs.length;t++){const r=zG.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function x1(e){for(let t=0;t<e.attrs.length;t++){const r=jG.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function VG(e){const t=WG.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=pf(e.tagName))}function YG(e,t){return t===Nt.MATHML&&(e===k.MI||e===k.MO||e===k.MN||e===k.MS||e===k.MTEXT)}function XG(e,t,r){if(t===Nt.MATHML&&e===k.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===ia.ENCODING){const i=r[n].value.toLowerCase();return i===Ux.TEXT_HTML||i===Ux.APPLICATION_XML}}return t===Nt.SVG&&(e===k.FOREIGN_OBJECT||e===k.DESC||e===k.TITLE)}function KG(e,t,r,n){return(!n||n===Nt.HTML)&&XG(e,t,r)||(!n||n===Nt.MATHML)&&YG(e,t)}const ZG="hidden",QG=8,JG=3;var dt;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(dt||(dt={}));const tV={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},jS=new Set([k.TABLE,k.TBODY,k.TFOOT,k.THEAD,k.TR]),Hx={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ss,onParseError:null};class WS{constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=dt.INITIAL,this.originalInsertionMode=dt.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Hx,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new vG(this.options,this),this.activeFormattingElements=new NG(this.treeAdapter),this.fragmentContextID=n?pf(this.treeAdapter.getTagName(n)):k.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new RG(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...Hx,...r};t??(t=n.treeAdapter.createElement(Tt.TEMPLATE,Nt.HTML,[]));const i=n.treeAdapter.createElement("documentmock",Nt.HTML,[]),s=new this(n,i,t);return s.fragmentContextID===k.TEMPLATE&&s.tmplInsertionModeStack.unshift(dt.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:tV,a={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,r,n){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===Nt.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,Nt.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=dt.TEXT}switchToPlaintextParsing(){this.insertionMode=dt.TEXT,this.originalInsertionMode=dt.IN_BODY,this.tokenizer.state=hn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Tt.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Nt.HTML))switch(this.fragmentContextID){case k.TITLE:case k.TEXTAREA:{this.tokenizer.state=hn.RCDATA;break}case k.STYLE:case k.XMP:case k.IFRAME:case k.NOEMBED:case k.NOFRAMES:case k.NOSCRIPT:{this.tokenizer.state=hn.RAWTEXT;break}case k.SCRIPT:{this.tokenizer.state=hn.SCRIPT_DATA;break}case k.PLAINTEXT:{this.tokenizer.state=hn.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,Nt.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,Nt.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Tt.HTML,Nt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,k.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),s=n?i.lastIndexOf(n):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),s=r.type===ke.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===k.SVG&&this.treeAdapter.getTagName(r)===Tt.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===Nt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===k.MGLYPH||t.tagID===k.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,Nt.HTML)}_processToken(t){switch(t.type){case ke.CHARACTER:{this.onCharacter(t);break}case ke.NULL_CHARACTER:{this.onNullCharacter(t);break}case ke.COMMENT:{this.onComment(t);break}case ke.DOCTYPE:{this.onDoctype(t);break}case ke.START_TAG:{this._processStartTag(t);break}case ke.END_TAG:{this.onEndTag(t);break}case ke.EOF:{this.onEof(t);break}case ke.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return KG(t,i,s,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===bi.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=dt.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(k.P),this.openElements.popUntilTagNamePopped(k.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case k.TR:{this.insertionMode=dt.IN_ROW;return}case k.TBODY:case k.THEAD:case k.TFOOT:{this.insertionMode=dt.IN_TABLE_BODY;return}case k.CAPTION:{this.insertionMode=dt.IN_CAPTION;return}case k.COLGROUP:{this.insertionMode=dt.IN_COLUMN_GROUP;return}case k.TABLE:{this.insertionMode=dt.IN_TABLE;return}case k.BODY:{this.insertionMode=dt.IN_BODY;return}case k.FRAMESET:{this.insertionMode=dt.IN_FRAMESET;return}case k.SELECT:{this._resetInsertionModeForSelect(t);return}case k.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case k.HTML:{this.insertionMode=this.headElement?dt.AFTER_HEAD:dt.BEFORE_HEAD;return}case k.TD:case k.TH:{if(t>0){this.insertionMode=dt.IN_CELL;return}break}case k.HEAD:{if(t>0){this.insertionMode=dt.IN_HEAD;return}break}}this.insertionMode=dt.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===k.TEMPLATE)break;if(n===k.TABLE){this.insertionMode=dt.IN_SELECT_IN_TABLE;return}}this.insertionMode=dt.IN_SELECT}_isElementCausesFosterParenting(t){return jS.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case k.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===Nt.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case k.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return EG[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){LY(this,t);return}switch(this.insertionMode){case dt.INITIAL:{nl(this,t);break}case dt.BEFORE_HTML:{Vl(this,t);break}case dt.BEFORE_HEAD:{Yl(this,t);break}case dt.IN_HEAD:{Xl(this,t);break}case dt.IN_HEAD_NO_SCRIPT:{Kl(this,t);break}case dt.AFTER_HEAD:{Zl(this,t);break}case dt.IN_BODY:case dt.IN_CAPTION:case dt.IN_CELL:case dt.IN_TEMPLATE:{GS(this,t);break}case dt.TEXT:case dt.IN_SELECT:case dt.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case dt.IN_TABLE:case dt.IN_TABLE_BODY:case dt.IN_ROW:{_g(this,t);break}case dt.IN_TABLE_TEXT:{QS(this,t);break}case dt.IN_COLUMN_GROUP:{ed(this,t);break}case dt.AFTER_BODY:{rd(this,t);break}case dt.AFTER_AFTER_BODY:{fh(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){IY(this,t);return}switch(this.insertionMode){case dt.INITIAL:{nl(this,t);break}case dt.BEFORE_HTML:{Vl(this,t);break}case dt.BEFORE_HEAD:{Yl(this,t);break}case dt.IN_HEAD:{Xl(this,t);break}case dt.IN_HEAD_NO_SCRIPT:{Kl(this,t);break}case dt.AFTER_HEAD:{Zl(this,t);break}case dt.TEXT:{this._insertCharacters(t);break}case dt.IN_TABLE:case dt.IN_TABLE_BODY:case dt.IN_ROW:{_g(this,t);break}case dt.IN_COLUMN_GROUP:{ed(this,t);break}case dt.AFTER_BODY:{rd(this,t);break}case dt.AFTER_AFTER_BODY:{fh(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){j0(this,t);return}switch(this.insertionMode){case dt.INITIAL:case dt.BEFORE_HTML:case dt.BEFORE_HEAD:case dt.IN_HEAD:case dt.IN_HEAD_NO_SCRIPT:case dt.AFTER_HEAD:case dt.IN_BODY:case dt.IN_TABLE:case dt.IN_CAPTION:case dt.IN_COLUMN_GROUP:case dt.IN_TABLE_BODY:case dt.IN_ROW:case dt.IN_CELL:case dt.IN_SELECT:case dt.IN_SELECT_IN_TABLE:case dt.IN_TEMPLATE:case dt.IN_FRAMESET:case dt.AFTER_FRAMESET:{j0(this,t);break}case dt.IN_TABLE_TEXT:{il(this,t);break}case dt.AFTER_BODY:{oV(this,t);break}case dt.AFTER_AFTER_BODY:case dt.AFTER_AFTER_FRAMESET:{lV(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case dt.INITIAL:{uV(this,t);break}case dt.BEFORE_HEAD:case dt.IN_HEAD:case dt.IN_HEAD_NO_SCRIPT:case dt.AFTER_HEAD:{this._err(t,kt.misplacedDoctype);break}case dt.IN_TABLE_TEXT:{il(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,kt.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?RY(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case dt.INITIAL:{nl(this,t);break}case dt.BEFORE_HTML:{cV(this,t);break}case dt.BEFORE_HEAD:{dV(this,t);break}case dt.IN_HEAD:{Qn(this,t);break}case dt.IN_HEAD_NO_SCRIPT:{mV(this,t);break}case dt.AFTER_HEAD:{bV(this,t);break}case dt.IN_BODY:{$r(this,t);break}case dt.IN_TABLE:{xo(this,t);break}case dt.IN_TABLE_TEXT:{il(this,t);break}case dt.IN_CAPTION:{fY(this,t);break}case dt.IN_COLUMN_GROUP:{A1(this,t);break}case dt.IN_TABLE_BODY:{bf(this,t);break}case dt.IN_ROW:{yf(this,t);break}case dt.IN_CELL:{gY(this,t);break}case dt.IN_SELECT:{eI(this,t);break}case dt.IN_SELECT_IN_TABLE:{yY(this,t);break}case dt.IN_TEMPLATE:{EY(this,t);break}case dt.AFTER_BODY:{xY(this,t);break}case dt.IN_FRAMESET:{TY(this,t);break}case dt.AFTER_FRAMESET:{AY(this,t);break}case dt.AFTER_AFTER_BODY:{kY(this,t);break}case dt.AFTER_AFTER_FRAMESET:{SY(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?NY(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case dt.INITIAL:{nl(this,t);break}case dt.BEFORE_HTML:{hV(this,t);break}case dt.BEFORE_HEAD:{fV(this,t);break}case dt.IN_HEAD:{pV(this,t);break}case dt.IN_HEAD_NO_SCRIPT:{gV(this,t);break}case dt.AFTER_HEAD:{yV(this,t);break}case dt.IN_BODY:{gf(this,t);break}case dt.TEXT:{nY(this,t);break}case dt.IN_TABLE:{du(this,t);break}case dt.IN_TABLE_TEXT:{il(this,t);break}case dt.IN_CAPTION:{pY(this,t);break}case dt.IN_COLUMN_GROUP:{mY(this,t);break}case dt.IN_TABLE_BODY:{W0(this,t);break}case dt.IN_ROW:{tI(this,t);break}case dt.IN_CELL:{bY(this,t);break}case dt.IN_SELECT:{rI(this,t);break}case dt.IN_SELECT_IN_TABLE:{_Y(this,t);break}case dt.IN_TEMPLATE:{wY(this,t);break}case dt.AFTER_BODY:{iI(this,t);break}case dt.IN_FRAMESET:{vY(this,t);break}case dt.AFTER_FRAMESET:{CY(this,t);break}case dt.AFTER_AFTER_BODY:{fh(this,t);break}}}onEof(t){switch(this.insertionMode){case dt.INITIAL:{nl(this,t);break}case dt.BEFORE_HTML:{Vl(this,t);break}case dt.BEFORE_HEAD:{Yl(this,t);break}case dt.IN_HEAD:{Xl(this,t);break}case dt.IN_HEAD_NO_SCRIPT:{Kl(this,t);break}case dt.AFTER_HEAD:{Zl(this,t);break}case dt.IN_BODY:case dt.IN_TABLE:case dt.IN_CAPTION:case dt.IN_COLUMN_GROUP:case dt.IN_TABLE_BODY:case dt.IN_ROW:case dt.IN_CELL:case dt.IN_SELECT:case dt.IN_SELECT_IN_TABLE:{KS(this,t);break}case dt.TEXT:{iY(this,t);break}case dt.IN_TABLE_TEXT:{il(this,t);break}case dt.IN_TEMPLATE:{nI(this,t);break}case dt.AFTER_BODY:case dt.IN_FRAMESET:case dt.AFTER_FRAMESET:case dt.AFTER_AFTER_BODY:case dt.AFTER_AFTER_FRAMESET:{v1(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===st.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case dt.IN_HEAD:case dt.IN_HEAD_NO_SCRIPT:case dt.AFTER_HEAD:case dt.TEXT:case dt.IN_COLUMN_GROUP:case dt.IN_SELECT:case dt.IN_SELECT_IN_TABLE:case dt.IN_FRAMESET:case dt.AFTER_FRAMESET:{this._insertCharacters(t);break}case dt.IN_BODY:case dt.IN_CAPTION:case dt.IN_CELL:case dt.IN_TEMPLATE:case dt.AFTER_BODY:case dt.AFTER_AFTER_BODY:case dt.AFTER_AFTER_FRAMESET:{qS(this,t);break}case dt.IN_TABLE:case dt.IN_TABLE_BODY:case dt.IN_ROW:{_g(this,t);break}case dt.IN_TABLE_TEXT:{ZS(this,t);break}}}}function eV(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):XS(e,t),r}function rV(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function nV(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==r;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),l=o&&s>=JG;!o||l?(l&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=iV(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(a,n),n=a)}return n}function iV(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function sV(e,t,r){const n=e.treeAdapter.getTagName(t),i=pf(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);i===k.TEMPLATE&&s===Nt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function aV(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,s=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,i.tagID)}function T1(e,t){for(let r=0;r<QG;r++){const n=eV(e,t);if(!n)break;const i=rV(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const s=nV(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),a&&sV(e,a,s),aV(e,i,n)}}function j0(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function oV(e,t){e._appendCommentNode(t,e.openElements.items[0])}function lV(e,t){e._appendCommentNode(t,e.document)}function v1(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function uV(e,t){e._setDocumentType(t);const r=t.forceQuirks?On.QUIRKS:UG(t);FG(t)||e._err(t,kt.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=dt.BEFORE_HTML}function nl(e,t){e._err(t,kt.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,On.QUIRKS),e.insertionMode=dt.BEFORE_HTML,e._processToken(t)}function cV(e,t){t.tagID===k.HTML?(e._insertElement(t,Nt.HTML),e.insertionMode=dt.BEFORE_HEAD):Vl(e,t)}function hV(e,t){const r=t.tagID;(r===k.HTML||r===k.HEAD||r===k.BODY||r===k.BR)&&Vl(e,t)}function Vl(e,t){e._insertFakeRootElement(),e.insertionMode=dt.BEFORE_HEAD,e._processToken(t)}function dV(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.HEAD:{e._insertElement(t,Nt.HTML),e.headElement=e.openElements.current,e.insertionMode=dt.IN_HEAD;break}default:Yl(e,t)}}function fV(e,t){const r=t.tagID;r===k.HEAD||r===k.BODY||r===k.HTML||r===k.BR?Yl(e,t):e._err(t,kt.endTagWithoutMatchingOpenElement)}function Yl(e,t){e._insertFakeElement(Tt.HEAD,k.HEAD),e.headElement=e.openElements.current,e.insertionMode=dt.IN_HEAD,e._processToken(t)}function Qn(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:{e._appendElement(t,Nt.HTML),t.ackSelfClosing=!0;break}case k.TITLE:{e._switchToTextParsing(t,hn.RCDATA);break}case k.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,hn.RAWTEXT):(e._insertElement(t,Nt.HTML),e.insertionMode=dt.IN_HEAD_NO_SCRIPT);break}case k.NOFRAMES:case k.STYLE:{e._switchToTextParsing(t,hn.RAWTEXT);break}case k.SCRIPT:{e._switchToTextParsing(t,hn.SCRIPT_DATA);break}case k.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=dt.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(dt.IN_TEMPLATE);break}case k.HEAD:{e._err(t,kt.misplacedStartTagForHeadElement);break}default:Xl(e,t)}}function pV(e,t){switch(t.tagID){case k.HEAD:{e.openElements.pop(),e.insertionMode=dt.AFTER_HEAD;break}case k.BODY:case k.BR:case k.HTML:{Xl(e,t);break}case k.TEMPLATE:{Ta(e,t);break}default:e._err(t,kt.endTagWithoutMatchingOpenElement)}}function Ta(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==k.TEMPLATE&&e._err(t,kt.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,kt.endTagWithoutMatchingOpenElement)}function Xl(e,t){e.openElements.pop(),e.insertionMode=dt.AFTER_HEAD,e._processToken(t)}function mV(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.BASEFONT:case k.BGSOUND:case k.HEAD:case k.LINK:case k.META:case k.NOFRAMES:case k.STYLE:{Qn(e,t);break}case k.NOSCRIPT:{e._err(t,kt.nestedNoscriptInHead);break}default:Kl(e,t)}}function gV(e,t){switch(t.tagID){case k.NOSCRIPT:{e.openElements.pop(),e.insertionMode=dt.IN_HEAD;break}case k.BR:{Kl(e,t);break}default:e._err(t,kt.endTagWithoutMatchingOpenElement)}}function Kl(e,t){const r=t.type===ke.EOF?kt.openElementsLeftAfterEof:kt.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=dt.IN_HEAD,e._processToken(t)}function bV(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.BODY:{e._insertElement(t,Nt.HTML),e.framesetOk=!1,e.insertionMode=dt.IN_BODY;break}case k.FRAMESET:{e._insertElement(t,Nt.HTML),e.insertionMode=dt.IN_FRAMESET;break}case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:{e._err(t,kt.abandonedHeadElementChild),e.openElements.push(e.headElement,k.HEAD),Qn(e,t),e.openElements.remove(e.headElement);break}case k.HEAD:{e._err(t,kt.misplacedStartTagForHeadElement);break}default:Zl(e,t)}}function yV(e,t){switch(t.tagID){case k.BODY:case k.HTML:case k.BR:{Zl(e,t);break}case k.TEMPLATE:{Ta(e,t);break}default:e._err(t,kt.endTagWithoutMatchingOpenElement)}}function Zl(e,t){e._insertFakeElement(Tt.BODY,k.BODY),e.insertionMode=dt.IN_BODY,mf(e,t)}function mf(e,t){switch(t.type){case ke.CHARACTER:{GS(e,t);break}case ke.WHITESPACE_CHARACTER:{qS(e,t);break}case ke.COMMENT:{j0(e,t);break}case ke.START_TAG:{$r(e,t);break}case ke.END_TAG:{gf(e,t);break}case ke.EOF:{KS(e,t);break}}}function qS(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function GS(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function _V(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function EV(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function wV(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Nt.HTML),e.insertionMode=dt.IN_FRAMESET)}function xV(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Nt.HTML)}function TV(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&z0.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Nt.HTML)}function vV(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Nt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function AV(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Nt.HTML),r||(e.formElement=e.openElements.current))}function CV(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===k.LI&&i===k.LI||(r===k.DD||r===k.DT)&&(i===k.DD||i===k.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==k.ADDRESS&&i!==k.DIV&&i!==k.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Nt.HTML)}function kV(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Nt.HTML),e.tokenizer.state=hn.PLAINTEXT}function SV(e,t){e.openElements.hasInScope(k.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Nt.HTML),e.framesetOk=!1}function IV(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(Tt.A);r&&(T1(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,Nt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function LV(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Nt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function RV(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(k.NOBR)&&(T1(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Nt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function NV(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Nt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function OV(e,t){e.treeAdapter.getDocumentMode(e.document)!==On.QUIRKS&&e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,Nt.HTML),e.framesetOk=!1,e.insertionMode=dt.IN_TABLE}function VS(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Nt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function YS(e){const t=DS(e,ia.TYPE);return t!=null&&t.toLowerCase()===ZG}function PV(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Nt.HTML),YS(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function DV(e,t){e._appendElement(t,Nt.HTML),t.ackSelfClosing=!0}function BV(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._appendElement(t,Nt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function MV(e,t){t.tagName=Tt.IMG,t.tagID=k.IMG,VS(e,t)}function FV(e,t){e._insertElement(t,Nt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=hn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=dt.TEXT}function UV(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,hn.RAWTEXT)}function HV(e,t){e.framesetOk=!1,e._switchToTextParsing(t,hn.RAWTEXT)}function $x(e,t){e._switchToTextParsing(t,hn.RAWTEXT)}function $V(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Nt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===dt.IN_TABLE||e.insertionMode===dt.IN_CAPTION||e.insertionMode===dt.IN_TABLE_BODY||e.insertionMode===dt.IN_ROW||e.insertionMode===dt.IN_CELL?dt.IN_SELECT_IN_TABLE:dt.IN_SELECT}function zV(e,t){e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Nt.HTML)}function jV(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Nt.HTML)}function WV(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(k.RTC),e._insertElement(t,Nt.HTML)}function qV(e,t){e._reconstructActiveFormattingElements(),$S(t),x1(t),t.selfClosing?e._appendElement(t,Nt.MATHML):e._insertElement(t,Nt.MATHML),t.ackSelfClosing=!0}function GV(e,t){e._reconstructActiveFormattingElements(),zS(t),x1(t),t.selfClosing?e._appendElement(t,Nt.SVG):e._insertElement(t,Nt.SVG),t.ackSelfClosing=!0}function zx(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Nt.HTML)}function $r(e,t){switch(t.tagID){case k.I:case k.S:case k.B:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.SMALL:case k.STRIKE:case k.STRONG:{LV(e,t);break}case k.A:{IV(e,t);break}case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:{TV(e,t);break}case k.P:case k.DL:case k.OL:case k.UL:case k.DIV:case k.DIR:case k.NAV:case k.MAIN:case k.MENU:case k.ASIDE:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.DETAILS:case k.ADDRESS:case k.ARTICLE:case k.SEARCH:case k.SECTION:case k.SUMMARY:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:{xV(e,t);break}case k.LI:case k.DD:case k.DT:{CV(e,t);break}case k.BR:case k.IMG:case k.WBR:case k.AREA:case k.EMBED:case k.KEYGEN:{VS(e,t);break}case k.HR:{BV(e,t);break}case k.RB:case k.RTC:{jV(e,t);break}case k.RT:case k.RP:{WV(e,t);break}case k.PRE:case k.LISTING:{vV(e,t);break}case k.XMP:{UV(e,t);break}case k.SVG:{GV(e,t);break}case k.HTML:{_V(e,t);break}case k.BASE:case k.LINK:case k.META:case k.STYLE:case k.TITLE:case k.SCRIPT:case k.BGSOUND:case k.BASEFONT:case k.TEMPLATE:{Qn(e,t);break}case k.BODY:{EV(e,t);break}case k.FORM:{AV(e,t);break}case k.NOBR:{RV(e,t);break}case k.MATH:{qV(e,t);break}case k.TABLE:{OV(e,t);break}case k.INPUT:{PV(e,t);break}case k.PARAM:case k.TRACK:case k.SOURCE:{DV(e,t);break}case k.IMAGE:{MV(e,t);break}case k.BUTTON:{SV(e,t);break}case k.APPLET:case k.OBJECT:case k.MARQUEE:{NV(e,t);break}case k.IFRAME:{HV(e,t);break}case k.SELECT:{$V(e,t);break}case k.OPTION:case k.OPTGROUP:{zV(e,t);break}case k.NOEMBED:case k.NOFRAMES:{$x(e,t);break}case k.FRAMESET:{wV(e,t);break}case k.TEXTAREA:{FV(e,t);break}case k.NOSCRIPT:{e.options.scriptingEnabled?$x(e,t):zx(e,t);break}case k.PLAINTEXT:{kV(e,t);break}case k.COL:case k.TH:case k.TD:case k.TR:case k.HEAD:case k.FRAME:case k.TBODY:case k.TFOOT:case k.THEAD:case k.CAPTION:case k.COLGROUP:break;default:zx(e,t)}}function VV(e,t){if(e.openElements.hasInScope(k.BODY)&&(e.insertionMode=dt.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function YV(e,t){e.openElements.hasInScope(k.BODY)&&(e.insertionMode=dt.AFTER_BODY,iI(e,t))}function XV(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function KV(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(k.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(k.FORM):r&&e.openElements.remove(r))}function ZV(e){e.openElements.hasInButtonScope(k.P)||e._insertFakeElement(Tt.P,k.P),e._closePElement()}function QV(e){e.openElements.hasInListItemScope(k.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(k.LI),e.openElements.popUntilTagNamePopped(k.LI))}function JV(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function tY(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function eY(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function rY(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Tt.BR,k.BR),e.openElements.pop(),e.framesetOk=!1}function XS(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(n===a&&(n!==k.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function gf(e,t){switch(t.tagID){case k.A:case k.B:case k.I:case k.S:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.NOBR:case k.SMALL:case k.STRIKE:case k.STRONG:{T1(e,t);break}case k.P:{ZV(e);break}case k.DL:case k.UL:case k.OL:case k.DIR:case k.DIV:case k.NAV:case k.PRE:case k.MAIN:case k.MENU:case k.ASIDE:case k.BUTTON:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.ADDRESS:case k.ARTICLE:case k.DETAILS:case k.SEARCH:case k.SECTION:case k.SUMMARY:case k.LISTING:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:{XV(e,t);break}case k.LI:{QV(e);break}case k.DD:case k.DT:{JV(e,t);break}case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:{tY(e);break}case k.BR:{rY(e);break}case k.BODY:{VV(e,t);break}case k.HTML:{YV(e,t);break}case k.FORM:{KV(e);break}case k.APPLET:case k.OBJECT:case k.MARQUEE:{eY(e,t);break}case k.TEMPLATE:{Ta(e,t);break}default:XS(e,t)}}function KS(e,t){e.tmplInsertionModeStack.length>0?nI(e,t):v1(e,t)}function nY(e,t){var r;t.tagID===k.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function iY(e,t){e._err(t,kt.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function _g(e,t){if(e.openElements.currentTagId!==void 0&&jS.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=dt.IN_TABLE_TEXT,t.type){case ke.CHARACTER:{QS(e,t);break}case ke.WHITESPACE_CHARACTER:{ZS(e,t);break}}else qu(e,t)}function sY(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Nt.HTML),e.insertionMode=dt.IN_CAPTION}function aY(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Nt.HTML),e.insertionMode=dt.IN_COLUMN_GROUP}function oY(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Tt.COLGROUP,k.COLGROUP),e.insertionMode=dt.IN_COLUMN_GROUP,A1(e,t)}function lY(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Nt.HTML),e.insertionMode=dt.IN_TABLE_BODY}function uY(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Tt.TBODY,k.TBODY),e.insertionMode=dt.IN_TABLE_BODY,bf(e,t)}function cY(e,t){e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function hY(e,t){YS(t)?e._appendElement(t,Nt.HTML):qu(e,t),t.ackSelfClosing=!0}function dY(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Nt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function xo(e,t){switch(t.tagID){case k.TD:case k.TH:case k.TR:{uY(e,t);break}case k.STYLE:case k.SCRIPT:case k.TEMPLATE:{Qn(e,t);break}case k.COL:{oY(e,t);break}case k.FORM:{dY(e,t);break}case k.TABLE:{cY(e,t);break}case k.TBODY:case k.TFOOT:case k.THEAD:{lY(e,t);break}case k.INPUT:{hY(e,t);break}case k.CAPTION:{sY(e,t);break}case k.COLGROUP:{aY(e,t);break}default:qu(e,t)}}function du(e,t){switch(t.tagID){case k.TABLE:{e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode());break}case k.TEMPLATE:{Ta(e,t);break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:qu(e,t)}}function qu(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,mf(e,t),e.fosterParentingEnabled=r}function ZS(e,t){e.pendingCharacterTokens.push(t)}function QS(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function il(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)qu(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const JS=new Set([k.CAPTION,k.COL,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]);function fY(e,t){const r=t.tagID;JS.has(r)?e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=dt.IN_TABLE,xo(e,t)):$r(e,t)}function pY(e,t){const r=t.tagID;switch(r){case k.CAPTION:case k.TABLE:{e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=dt.IN_TABLE,r===k.TABLE&&du(e,t));break}case k.BODY:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:gf(e,t)}}function A1(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.COL:{e._appendElement(t,Nt.HTML),t.ackSelfClosing=!0;break}case k.TEMPLATE:{Qn(e,t);break}default:ed(e,t)}}function mY(e,t){switch(t.tagID){case k.COLGROUP:{e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=dt.IN_TABLE);break}case k.TEMPLATE:{Ta(e,t);break}case k.COL:break;default:ed(e,t)}}function ed(e,t){e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=dt.IN_TABLE,e._processToken(t))}function bf(e,t){switch(t.tagID){case k.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Nt.HTML),e.insertionMode=dt.IN_ROW;break}case k.TH:case k.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Tt.TR,k.TR),e.insertionMode=dt.IN_ROW,yf(e,t);break}case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=dt.IN_TABLE,xo(e,t));break}default:xo(e,t)}}function W0(e,t){const r=t.tagID;switch(t.tagID){case k.TBODY:case k.TFOOT:case k.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=dt.IN_TABLE);break}case k.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=dt.IN_TABLE,du(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:case k.TR:break;default:du(e,t)}}function yf(e,t){switch(t.tagID){case k.TH:case k.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Nt.HTML),e.insertionMode=dt.IN_CELL,e.activeFormattingElements.insertMarker();break}case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=dt.IN_TABLE_BODY,bf(e,t));break}default:xo(e,t)}}function tI(e,t){switch(t.tagID){case k.TR:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=dt.IN_TABLE_BODY);break}case k.TABLE:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=dt.IN_TABLE_BODY,W0(e,t));break}case k.TBODY:case k.TFOOT:case k.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(k.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=dt.IN_TABLE_BODY,W0(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:break;default:du(e,t)}}function gY(e,t){const r=t.tagID;JS.has(r)?(e.openElements.hasInTableScope(k.TD)||e.openElements.hasInTableScope(k.TH))&&(e._closeTableCell(),yf(e,t)):$r(e,t)}function bY(e,t){const r=t.tagID;switch(r){case k.TD:case k.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=dt.IN_ROW);break}case k.TABLE:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),tI(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:break;default:gf(e,t)}}function eI(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.OPTION:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._insertElement(t,Nt.HTML);break}case k.OPTGROUP:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Nt.HTML);break}case k.HR:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Nt.HTML),t.ackSelfClosing=!0;break}case k.INPUT:case k.KEYGEN:case k.TEXTAREA:case k.SELECT:{e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),t.tagID!==k.SELECT&&e._processStartTag(t));break}case k.SCRIPT:case k.TEMPLATE:{Qn(e,t);break}}}function rI(e,t){switch(t.tagID){case k.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===k.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===k.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop();break}case k.OPTION:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop();break}case k.SELECT:{e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode());break}case k.TEMPLATE:{Ta(e,t);break}}}function yY(e,t){const r=t.tagID;r===k.CAPTION||r===k.TABLE||r===k.TBODY||r===k.TFOOT||r===k.THEAD||r===k.TR||r===k.TD||r===k.TH?(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e._processStartTag(t)):eI(e,t)}function _Y(e,t){const r=t.tagID;r===k.CAPTION||r===k.TABLE||r===k.TBODY||r===k.TFOOT||r===k.THEAD||r===k.TR||r===k.TD||r===k.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e.onEndTag(t)):rI(e,t)}function EY(e,t){switch(t.tagID){case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:{Qn(e,t);break}case k.CAPTION:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:{e.tmplInsertionModeStack[0]=dt.IN_TABLE,e.insertionMode=dt.IN_TABLE,xo(e,t);break}case k.COL:{e.tmplInsertionModeStack[0]=dt.IN_COLUMN_GROUP,e.insertionMode=dt.IN_COLUMN_GROUP,A1(e,t);break}case k.TR:{e.tmplInsertionModeStack[0]=dt.IN_TABLE_BODY,e.insertionMode=dt.IN_TABLE_BODY,bf(e,t);break}case k.TD:case k.TH:{e.tmplInsertionModeStack[0]=dt.IN_ROW,e.insertionMode=dt.IN_ROW,yf(e,t);break}default:e.tmplInsertionModeStack[0]=dt.IN_BODY,e.insertionMode=dt.IN_BODY,$r(e,t)}}function wY(e,t){t.tagID===k.TEMPLATE&&Ta(e,t)}function nI(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):v1(e,t)}function xY(e,t){t.tagID===k.HTML?$r(e,t):rd(e,t)}function iI(e,t){var r;if(t.tagID===k.HTML){if(e.fragmentContext||(e.insertionMode=dt.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===k.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else rd(e,t)}function rd(e,t){e.insertionMode=dt.IN_BODY,mf(e,t)}function TY(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.FRAMESET:{e._insertElement(t,Nt.HTML);break}case k.FRAME:{e._appendElement(t,Nt.HTML),t.ackSelfClosing=!0;break}case k.NOFRAMES:{Qn(e,t);break}}}function vY(e,t){t.tagID===k.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==k.FRAMESET&&(e.insertionMode=dt.AFTER_FRAMESET))}function AY(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.NOFRAMES:{Qn(e,t);break}}}function CY(e,t){t.tagID===k.HTML&&(e.insertionMode=dt.AFTER_AFTER_FRAMESET)}function kY(e,t){t.tagID===k.HTML?$r(e,t):fh(e,t)}function fh(e,t){e.insertionMode=dt.IN_BODY,mf(e,t)}function SY(e,t){switch(t.tagID){case k.HTML:{$r(e,t);break}case k.NOFRAMES:{Qn(e,t);break}}}function IY(e,t){t.chars=je,e._insertCharacters(t)}function LY(e,t){e._insertCharacters(t),e.framesetOk=!1}function sI(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Nt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function RY(e,t){if(GG(t))sI(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===Nt.MATHML?$S(t):n===Nt.SVG&&(VG(t),zS(t)),x1(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function NY(e,t){if(t.tagID===k.P||t.tagID===k.BR){sI(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===Nt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}Tt.AREA,Tt.BASE,Tt.BASEFONT,Tt.BGSOUND,Tt.BR,Tt.COL,Tt.EMBED,Tt.FRAME,Tt.HR,Tt.IMG,Tt.INPUT,Tt.KEYGEN,Tt.LINK,Tt.META,Tt.PARAM,Tt.SOURCE,Tt.TRACK,Tt.WBR;function OY(e,t){return WS.parse(e,t)}function PY(e,t,r){typeof e=="string"&&(r=t,t=e,e=null);const n=WS.getFragmentParser(e,r);return n.tokenizer.write(t,!0),n.getFragment()}const DY={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},BY="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",MY=/-[a-z]/g,FY=/%c(?:([-+])(\d+))?/g,UY=/%x/g,HY={2:!0,1:!1,0:null},$Y={};function zY(e,t){const r=t||$Y,n=r.onerror,i=e instanceof m0?e:new m0(e),s=r.fragment?PY:OY,a=String(i),o=s(a,{sourceCodeLocationInfo:!0,onParseError:r.onerror?l:null,scriptingEnabled:!1});return rG(o,{file:i,space:r.space,verbose:r.verbose});function l(u){const c=u.code,h=jY(c),f=r[h],d=f??!0,p=typeof d=="number"?d:d?1:0;if(p){const y=DY[h],m=new tn(g(y.reason),{place:{start:{line:u.startLine,column:u.startCol,offset:u.startOffset},end:{line:u.endLine,column:u.endCol,offset:u.endOffset}},ruleId:c,source:"hast-util-from-html"});i.path&&(m.file=i.path,m.name=i.path+":"+m.name),m.fatal=HY[p],m.note=g(y.description),m.url=y.url===!1?void 0:BY+c,n(m)}function g(y){return y.replace(FY,m).replace(UY,b);function m(_,T,C){const L=(C?Number.parseInt(C,10):0)*(T==="-"?-1:1),N=a.charAt(u.startOffset+L);return qY(N)}function b(){return GY(a.charCodeAt(u.startOffset))}}}}function jY(e){return e.replace(MY,WY)}function WY(e){return e.charAt(1).toUpperCase()}function qY(e){return e==="`"?"` ` `":e}function GY(e){return"0x"+e.toString(16).toUpperCase()}const aI=-1,_f=0,Ql=1,nd=2,C1=3,k1=4,S1=5,I1=6,oI=7,lI=8,jx=typeof self=="object"?self:globalThis,VY=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case _f:case aI:return r(a,i);case Ql:{const o=r([],i);for(const l of a)o.push(n(l));return o}case nd:{const o=r({},i);for(const[l,u]of a)o[n(l)]=n(u);return o}case C1:return r(new Date(a),i);case k1:{const{source:o,flags:l}=a;return r(new RegExp(o,l),i)}case S1:{const o=r(new Map,i);for(const[l,u]of a)o.set(n(l),n(u));return o}case I1:{const o=r(new Set,i);for(const l of a)o.add(n(l));return o}case oI:{const{name:o,message:l}=a;return r(new jx[o](l),i)}case lI:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new jx[s](a),i)};return n},Wx=e=>VY(new Map,e)(0),Da="",{toString:YY}={},{keys:XY}=Object,sl=e=>{const t=typeof e;if(t!=="object"||!e)return[_f,t];const r=YY.call(e).slice(8,-1);switch(r){case"Array":return[Ql,Da];case"Object":return[nd,Da];case"Date":return[C1,Da];case"RegExp":return[k1,Da];case"Map":return[S1,Da];case"Set":return[I1,Da];case"DataView":return[Ql,r]}return r.includes("Array")?[Ql,r]:r.includes("Error")?[oI,r]:[nd,r]},Dc=([e,t])=>e===_f&&(t==="function"||t==="symbol"),KY=(e,t,r,n)=>{const i=(a,o)=>{const l=n.push(a)-1;return r.set(o,l),l},s=a=>{if(r.has(a))return r.get(a);let[o,l]=sl(a);switch(o){case _f:{let c=a;switch(l){case"bigint":o=lI,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([aI],a)}return i([o,c],a)}case Ql:{if(l){let f=a;return l==="DataView"?f=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(a)),i([l,[...f]],a)}const c=[],h=i([o,c],a);for(const f of a)c.push(s(f));return h}case nd:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const c=[],h=i([o,c],a);for(const f of XY(a))(e||!Dc(sl(a[f])))&&c.push([s(f),s(a[f])]);return h}case C1:return i([o,a.toISOString()],a);case k1:{const{source:c,flags:h}=a;return i([o,{source:c,flags:h}],a)}case S1:{const c=[],h=i([o,c],a);for(const[f,d]of a)(e||!(Dc(sl(f))||Dc(sl(d))))&&c.push([s(f),s(d)]);return h}case I1:{const c=[],h=i([o,c],a);for(const f of a)(e||!Dc(sl(f)))&&c.push(s(f));return h}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},qx=(e,{json:t,lossy:r}={})=>{const n=[];return KY(!(t||r),!!t,new Map,n)(e),n},uI=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Wx(qx(e,t)):structuredClone(e):(e,t)=>Wx(qx(e,t)),L1=function(e,t,r,n,i){const s=Jn(t);return cI(e)?s.call(i,e,r,n):!1},Jn=function(e){if(e==null)return JY;if(typeof e=="string")return QY(e);if(typeof e=="object")return ZY(e);if(typeof e=="function")return R1(e);throw new Error("Expected function, string, or array as `test`")};function ZY(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Jn(e[r]);return R1(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function QY(e){return R1(t);function t(r){return r.tagName===e}}function R1(e){return t;function t(r,n,i){return!!(cI(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function JY(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function cI(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const hI=Jn(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),tX=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],eX=["button","input","select","textarea"],rX=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],nX={},N1=Mo(["comment","doctype"]);function iX(e,t){dI(e,{collapse:hX((t||nX).newlines?uX:cX),whitespace:"normal"})}function dI(e,t){if("children"in e){const r={...t};return(e.type==="root"||mI(e))&&(r.before=!0,r.after=!0),r.whitespace=dX(e,t),aX(e,r)}if(e.type==="text"){if(t.whitespace==="normal")return sX(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:N1(e),stripAtStart:!1,remove:!1}}function sX(e,t){const r=t.collapse(e.value),n={ignore:!1,stripAtStart:!1,remove:!1};let i=0,s=r.length;return t.before&&Gx(r.charAt(0))&&i++,i!==s&&Gx(r.charAt(s-1))&&(t.after?s--:n.stripAtStart=!0),i===s?n.remove=!0:e.value=r.slice(i,s),n}function aX(e,t){let r=t.before;const n=t.after,i=e.children;let s=i.length,a=-1;for(;++a<s;){const o=dI(i[a],{...t,after:fI(i,a,n),before:r});o.remove?(i.splice(a,1),a--,s--):o.ignore||(r=o.stripAtStart),pI(i[a])&&(r=!1)}return{ignore:!1,stripAtStart:!!(r||n),remove:!1}}function fI(e,t,r){for(;++t<e.length;){const n=e[t];let i=oX(n);if(i===void 0&&"children"in n&&!lX(n)&&(i=fI(n.children,-1)),typeof i=="boolean")return i}return r}function oX(e){if(e.type==="element"){if(pI(e))return!1;if(mI(e))return!0}else if(e.type==="text"){if(!Wu(e))return!1}else if(!N1(e))return!1}function pI(e){return hI(e)||L1(e,eX)}function mI(e){return L1(e,tX)}function lX(e){return!!(e.type==="element"&&e.properties.hidden)||N1(e)||L1(e,rX)}function Gx(e){return e===" "||e===`
`}function uX(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function cX(){return" "}function hX(e){return t;function t(r){return String(r).replace(/[\t\n\v\f\r ]+/g,e)}}function dX(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function fX(e){return function(t){iX(t,e)}}const pX=gI("end"),mX=gI("start");function gI(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function gX(e){const t=mX(e),r=pX(e);if(t&&r)return{start:t,end:r}}function bX(e,t){const r=t.properties||{},n=e.all(t),i={type:"link",url:e.resolve(String(r.href||"")||null),title:r.title?String(r.title):null,children:n};return e.patch(t,i),i}function yX(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||void 0,e.baseFound=!0)}function _X(e,t){const r={type:"blockquote",children:e.toFlow(e.all(t))};return e.patch(t,r),r}function EX(e,t){const r={type:"break"};return e.patch(t,r),r}const Vx=function(e,t,r){const n=Mo(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]},Yx=/\n/g,Xx=/[\t ]+/g,q0=Jn("br"),Kx=Jn(kX),wX=Jn("p"),Zx=Jn("tr"),xX=Jn(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",CX,SX]),bI=Jn(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Gu(e,t){const r={},n="children"in e?e.children:[],i=bI(e),s=EI(e,{whitespace:r.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(..._I(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)a.push(...yI(n[o],e,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<n.length-1?q0(n[o+1]):i}));const l=[];let u;for(o=-1;++o<a.length;){const c=a[o];typeof c=="number"?u!==void 0&&c>u&&(u=c):c&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(c))}return l.join("")}function yI(e,t,r){return e.type==="element"?TX(e,t,r):e.type==="text"?r.whitespace==="normal"?_I(e,r):vX(e):[]}function TX(e,t,r){const n=EI(e,r),i=e.children||[];let s=-1,a=[];if(xX(e))return a;let o,l;for(q0(e)||Zx(e)&&Vx(t,e,Zx)?l=`
`:wX(e)?(o=2,l=2):bI(e)&&(o=1,l=1);++s<i.length;)a=a.concat(yI(i[s],e,{whitespace:n,breakBefore:s?void 0:o,breakAfter:s<i.length-1?q0(i[s+1]):l}));return Kx(e)&&Vx(t,e,Kx)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function _I(e,t){const r=String(e.value),n=[],i=[];let s=0;for(;s<=r.length;){Yx.lastIndex=s;const l=Yx.exec(r),u=l&&"index"in l?l.index:r.length;n.push(AX(r.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,u===r.length?t.breakAfter:!0)),s=u+1}let a=-1,o;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(i.push(n[a]),o=void 0):n[a]?(typeof o=="number"&&i.push(o),i.push(n[a]),o=0):(a===0||a===n.length-1)&&i.push(0);return i}function vX(e){return[String(e.value)]}function AX(e,t,r){const n=[];let i=0,s;for(;i<e.length;){Xx.lastIndex=i;const a=Xx.exec(e);s=a?a.index:e.length,!i&&!s&&a&&!t&&n.push(""),i!==s&&n.push(e.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}function EI(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function CX(e){return!!(e.properties||{}).hidden}function kX(e){return e.tagName==="td"||e.tagName==="th"}function SX(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function IX(e){const t=String(e);let r=t.length;for(;r>0;){const n=t.codePointAt(r-1);if(n!==void 0&&(n===10||n===13))r--;else break}return t.slice(0,r)}const Eg="language-";function Bc(e,t){const r=t.children;let n=-1,i,s;if(t.tagName==="pre")for(;++n<r.length;){const o=r[n];if(o.type==="element"&&o.tagName==="code"&&o.properties&&o.properties.className&&Array.isArray(o.properties.className)){i=o.properties.className;break}}if(i){for(n=-1;++n<i.length;)if(String(i[n]).slice(0,Eg.length)===Eg){s=String(i[n]).slice(Eg.length);break}}const a={type:"code",lang:s||null,meta:null,value:IX(Gu(t))};return e.patch(t,a),a}function LX(e,t){const r={type:"html",value:"<!--"+t.value+"-->"};return e.patch(t,r),r}function wg(e,t){const n={type:"delete",children:e.all(t)};return e.patch(t,n),n}function O1(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function RX(e,t){const r=[],n=[];let i=-1;for(;++i<t.children.length;){const o=t.children[i];o.type==="element"&&o.tagName==="div"?r.push(...o.children):r.push(o)}let s={definitions:[],titles:[]};for(i=-1;++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="dt"){const l=r[i-1];l&&l.type==="element"&&l.tagName==="dd"&&(n.push(s),s={definitions:[],titles:[]}),s.titles.push(o)}else s.definitions.push(o)}n.push(s),i=-1;const a=[];for(;++i<n.length;){const o=[...Qx(e,n[i].titles),...Qx(e,n[i].definitions)];o.length>0&&a.push({type:"listItem",spread:o.length>1,checked:null,children:o})}if(a.length>0){const o={type:"list",ordered:!1,start:null,spread:O1(a),children:a};return e.patch(t,o),o}}function Qx(e,t){const r=e.all({type:"root",children:t}),n=e.toSpecificContent(r,NX);return n.length===0?[]:n.length===1?n[0].children:[{type:"list",ordered:!1,start:null,spread:O1(n),children:n}]}function NX(){return{type:"listItem",spread:!1,checked:null,children:[]}}function Mc(e,t){const n={type:"emphasis",children:e.all(t)};return e.patch(t,n),n}function P1(e){let t=0,r=e.length;for(;t<r&&e[t].type==="break";)t++;for(;r>t&&e[r-1].type==="break";)r--;return t===0&&r===e.length?e:e.slice(t,r)}function Ba(e,t){const r=Number(t.tagName.charAt(1))||1,n=P1(e.all(t)),i={type:"heading",depth:r,children:n};return e.patch(t,i),i}function OX(e,t){const r={type:"thematicBreak"};return e.patch(t,r),r}function PX(e,t){const r=t.properties||{},n=String(r.src||""),i=String(r.title||"");if(n&&i){const s={type:"link",title:null,url:e.resolve(n),children:[{type:"text",value:i}]};return e.patch(t,s),s}}function Jx(e,t){const r=t.properties||{},n={type:"image",url:e.resolve(String(r.src||"")||null),title:r.title?String(r.title):null,alt:r.alt?String(r.alt):""};return e.patch(t,n),n}function al(e,t){const r={type:"inlineCode",value:Gu(t)};return e.patch(t,r),r}function wI(e,t){const r=[],n=[],i=t||e.properties||{},s=xI(e),a=Math.min(Number.parseInt(String(i.size),10),0)||(i.multiple?4:1);let o=-1;for(;++o<s.length;){const c=s[o];c&&c.properties&&c.properties.selected&&r.push(c)}const l=r.length>0?r:s,u=Math.min(l.length,a);for(o=-1;++o<u;){const c=l[o],h=c.properties||{},f=Gu(c),d=f||String(h.label||""),p=String(h.value||"")||f;n.push([p,d===p?void 0:d])}return n}function xI(e){const t=[];let r=-1;for(;++r<e.children.length;){const n=e.children[r];"children"in n&&Array.isArray(n.children)&&t.push(...xI(n)),n.type==="element"&&n.tagName==="option"&&(!n.properties||!n.properties.disabled)&&t.push(n)}return t}const DX="[x]",BX="[ ]";function MX(e,t){const r=t.properties||{},n=String(r.value||r.placeholder||"");if(r.disabled||r.type==="hidden"||r.type==="file")return;if(r.type==="checkbox"||r.type==="radio"){const l={type:"text",value:r.checked?e.options.checked||DX:e.options.unchecked||BX};return e.patch(t,l),l}if(r.type==="image"){const l=r.alt||n;if(l){const u={type:"image",url:e.resolve(String(r.src||"")||null),title:String(r.title||"")||null,alt:String(l)};return e.patch(t,u),u}return}let i=[];if(n)i=[[n,void 0]];else if(r.type!=="button"&&r.type!=="file"&&r.type!=="password"&&r.type!=="reset"&&r.type!=="submit"&&r.list){const l=String(r.list),u=e.elementById.get(l);u&&u.tagName==="datalist"&&(i=wI(u,r))}if(i.length===0)return;if(r.type==="password"&&(i[0]=["â¢".repeat(i[0][0].length),void 0]),r.type==="email"||r.type==="url"){const l=[];let u=-1;for(;++u<i.length;){const c=e.resolve(i[u][0]),h={type:"link",title:null,url:r.type==="email"?"mailto:"+c:c,children:[{type:"text",value:i[u][1]||c}]};l.push(h),u!==i.length-1&&l.push({type:"text",value:", "})}return l}const s=[];let a=-1;for(;++a<i.length;)s.push(i[a][1]?i[a][1]+" ("+i[a][0]+")":i[a][0]);const o={type:"text",value:s.join(", ")};return e.patch(t,o),o}const FX={}.hasOwnProperty;function UX(e,t){const r=e.type==="element"&&FX.call(e.properties,t)&&e.properties[t];return r!=null&&r!==!1}const HX=new Set(["pingback","prefetch","stylesheet"]);function $X(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let r=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++r<t.length;)if(!HX.has(String(t[r])))return!1;return!0}const zX=Jn(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),jX=Jn("meta");function TI(e){return!!(e.type==="text"||zX(e)||hI(e)||$X(e)||jX(e)&&UX(e,"itemProp"))}function xg(e,t){const{rest:r,checkbox:n}=AI(t),i=n?!!n.properties.checked:null,s=vI(r),a=e.toFlow(e.all(r)),o={type:"listItem",spread:s,checked:i,children:a};return e.patch(t,o),o}function vI(e){let t=-1,r=!1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"){if(TI(n))continue;if(n.tagName==="p"||r||vI(n))return!0;r=!0}}return!1}function AI(e){const t=e.children[0];if(t&&t.type==="element"&&t.tagName==="input"&&t.properties&&(t.properties.type==="checkbox"||t.properties.type==="radio")){const r={...e,children:e.children.slice(1)};return{checkbox:t,rest:r}}if(t&&t.type==="element"&&t.tagName==="p"){const{checkbox:r,rest:n}=AI(t);if(r){const i={...e,children:[n,...e.children.slice(1)]};return{checkbox:r,rest:i}}}return{checkbox:void 0,rest:e}}function Tg(e,t){const r=t.tagName==="ol",n=e.toSpecificContent(e.all(t),WX);let i=null;r&&(i=t.properties&&t.properties.start?Number.parseInt(String(t.properties.start),10):1);const s={type:"list",ordered:r,start:i,spread:O1(n),children:n};return e.patch(t,s),s}function WX(){return{type:"listItem",spread:!1,checked:null,children:[]}}function Ef(e){let t=-1;for(;++t<e.length;){const r=e[t];if(!SI(r)||"children"in r&&Ef(r.children))return!0}return!1}function CI(e){return kI(e,t,function(r){return r});function t(r){return r.every(function(n){return n.type==="text"?Wu(n.value):!1})?[]:[{type:"paragraph",children:P1(r)}]}}function qX(e){return kI(e.children,t,r);function t(n){const i=vg(e);return i.children=n,[i]}function r(n){if("children"in n&&"children"in e){const i=vg(e),s=vg(n);return i.children=n.children,s.children.push(i),s}return{...n}}}function kI(e,t,r){const n=GX(e),i=[];let s=[],a=-1;for(;++a<n.length;){const o=n[a];SI(o)?s.push(o):(s.length>0&&(i.push(...t(s)),s=[]),i.push(r(o)))}return s.length>0&&(i.push(...t(s)),s=[]),i}function GX(e){const t=[];let r=-1;for(;++r<e.length;){const n=e[r];(n.type==="delete"||n.type==="link")&&Ef(n.children)?t.push(...qX(n)):t.push(n)}return t}function SI(e){const t=e.data&&e.data.hName;return t?TI({type:"element",tagName:t,properties:{},children:[]}):_C(e)}function vg(e){return uI({...e,children:[]})}function tT(e,t){const r=t.properties||{},n=t.tagName==="video"?String(r.poster||""):"";let i=String(r.src||""),s=-1,a=!1,o=e.all(t);if(Ei({type:"root",children:o},function(h){if(h.type==="link")return a=!0,Mh}),a||Ef(o))return o;for(;!i&&++s<t.children.length;){const h=t.children[s];h.type==="element"&&h.tagName==="source"&&h.properties&&(i=String(h.properties.src||""))}if(n){const h={type:"image",title:null,url:e.resolve(n),alt:Kd(o)};e.patch(t,h),o=[h]}const u=o,c={type:"link",title:r.title?String(r.title):null,url:e.resolve(i),children:u};return e.patch(t,c),c}function eT(e,t){const r=P1(e.all(t));if(r.length>0){const n={type:"paragraph",children:r};return e.patch(t,n),n}}const VX=['"'];function YX(e,t){const r=e.options.quotes||VX;e.qNesting++;const n=e.all(t);e.qNesting--;const i=r[e.qNesting%r.length],s=n[0],a=n[n.length-1],o=i.charAt(0),l=i.length>1?i.charAt(1):i;return s&&s.type==="text"?s.value=o+s.value:n.unshift({type:"text",value:o}),a&&a.type==="text"?a.value+=l:n.push({type:"text",value:l}),n}function XX(e,t){let r=e.all(t);(e.options.document||Ef(r))&&(r=CI(r));const n={type:"root",children:r};return e.patch(t,n),n}function KX(e,t){const r=wI(t);let n=-1;const i=[];for(;++n<r.length;){const s=r[n];i.push(s[1]?s[1]+" ("+s[0]+")":s[0])}if(i.length>0){const s={type:"text",value:i.join(", ")};return e.patch(t,s),s}}function rT(e,t){const n={type:"strong",children:e.all(t)};return e.patch(t,n),n}function nT(e,t){const n={type:"tableCell",children:e.all(t)};if(e.patch(t,n),t.properties){const i=t.properties.rowSpan,s=t.properties.colSpan;if(i||s){const a=n.data||(n.data={});i&&(a.hastUtilToMdastTemporaryRowSpan=i),s&&(a.hastUtilToMdastTemporaryColSpan=s)}}return n}function ZX(e,t){const n={type:"tableRow",children:e.toSpecificContent(e.all(t),QX)};return e.patch(t,n),n}function QX(){return{type:"tableCell",children:[]}}function JX(e,t){if(e.inTable){const u={type:"text",value:Gu(t)};return e.patch(t,u),u}e.inTable=!0;const{align:r,headless:n}=tK(t),i=e.toSpecificContent(e.all(t),iT);n&&i.unshift(iT());let s=-1;for(;++s<i.length;){const u=i[s],c=e.toSpecificContent(u.children,eK);u.children=c}let a=1;for(s=-1;++s<i.length;){const u=i[s].children;let c=-1;for(;++c<u.length;){const h=u[c];if(h.data){const f=h.data,d=Number.parseInt(String(f.hastUtilToMdastTemporaryColSpan),10)||1,p=Number.parseInt(String(f.hastUtilToMdastTemporaryRowSpan),10)||1;if(d>1||p>1){let g=s-1;for(;++g<s+p;){let y=c-1;for(;++y<c+d&&i[g];){const m=[];(g!==s||y!==c)&&m.push({type:"tableCell",children:[]}),i[g].children.splice(y,0,...m)}}}"hastUtilToMdastTemporaryColSpan"in h.data&&delete h.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in h.data&&delete h.data.hastUtilToMdastTemporaryRowSpan,Object.keys(h.data).length===0&&delete h.data}}u.length>a&&(a=u.length)}for(s=-1;++s<i.length;){const u=i[s].children;let c=u.length-1;for(;++c<a;)u.push({type:"tableCell",children:[]})}let o=r.length-1;for(;++o<a;)r.push(null);e.inTable=!1;const l={type:"table",align:r,children:i};return e.patch(t,l),l}function tK(e){const t={align:[null],headless:!0};let r=0,n=0;return Ei(e,function(i){if(i.type==="element"){if(i.tagName==="table"&&e!==i)return nC;if((i.tagName==="th"||i.tagName==="td")&&i.properties){if(!t.align[n]){const s=String(i.properties.align||"")||null;(s==="center"||s==="left"||s==="right"||s===null)&&(t.align[n]=s)}t.headless&&r<2&&i.tagName==="th"&&(t.headless=!1),n++}else i.tagName==="thead"?t.headless=!1:i.tagName==="tr"&&(r++,n=0)}}),t}function eK(){return{type:"tableCell",children:[]}}function iT(){return{type:"tableRow",children:[]}}function rK(e,t){const r={type:"text",value:t.value};return e.patch(t,r),r}function nK(e,t){const r={type:"text",value:Gu(t)};return e.patch(t,r),r}function iK(e,t){const r={type:"text",value:"â"};return e.patch(t,r),r}const sK={comment:LX,doctype:be,root:XX,text:rK},aK={applet:be,area:be,basefont:be,bgsound:be,caption:be,col:be,colgroup:be,command:be,content:be,datalist:be,dialog:be,element:be,embed:be,frame:be,frameset:be,isindex:be,keygen:be,link:be,math:be,menu:be,menuitem:be,meta:be,nextid:be,noembed:be,noframes:be,optgroup:be,option:be,param:be,script:be,shadow:be,source:be,spacer:be,style:be,svg:be,template:be,title:be,track:be,abbr:me,acronym:me,bdi:me,bdo:me,big:me,blink:me,button:me,canvas:me,cite:me,data:me,details:me,dfn:me,font:me,ins:me,label:me,map:me,marquee:me,meter:me,nobr:me,noscript:me,object:me,output:me,progress:me,rb:me,rbc:me,rp:me,rt:me,rtc:me,ruby:me,slot:me,small:me,span:me,sup:me,sub:me,tbody:me,tfoot:me,thead:me,time:me,address:nr,article:nr,aside:nr,body:nr,center:nr,div:nr,fieldset:nr,figcaption:nr,figure:nr,form:nr,footer:nr,header:nr,hgroup:nr,html:nr,legend:nr,main:nr,multicol:nr,nav:nr,picture:nr,section:nr,a:bX,audio:tT,b:rT,base:yX,blockquote:_X,br:EX,code:al,dir:Tg,dl:RX,dt:xg,dd:xg,del:wg,em:Mc,h1:Ba,h2:Ba,h3:Ba,h4:Ba,h5:Ba,h6:Ba,hr:OX,i:Mc,iframe:PX,img:Jx,image:Jx,input:MX,kbd:al,li:xg,listing:Bc,mark:Mc,ol:Tg,p:eT,plaintext:Bc,pre:Bc,q:YX,s:wg,samp:al,select:KX,strike:wg,strong:rT,summary:eT,table:JX,td:nT,textarea:nK,th:nT,tr:ZX,tt:al,u:Mc,ul:Tg,var:al,video:tT,wbr:iK,xmp:Bc};function me(e,t){return e.all(t)}function nr(e,t){return e.toFlow(e.all(t))}function be(){}const sT={}.hasOwnProperty;function oK(e){return{all:lK,baseFound:!1,elementById:new Map,frozenBaseUrl:void 0,handlers:{...aK,...e.handlers},inTable:!1,nodeHandlers:{...sK,...e.nodeHandlers},one:uK,options:e,patch:cK,qNesting:0,resolve:hK,toFlow:dK,toSpecificContent:fK}}function lK(e){const t=e.children||[],r=[];let n=-1;for(;++n<t.length;){const i=t[n],s=this.one(i,e);Array.isArray(s)?r.push(...s):s&&r.push(s)}return r}function uK(e,t){if(e.type==="element"){if(e.properties&&e.properties.dataMdast==="ignore")return;if(sT.call(this.handlers,e.tagName))return this.handlers[e.tagName](this,e,t)||void 0}else if(sT.call(this.nodeHandlers,e.type))return this.nodeHandlers[e.type](this,e,t)||void 0;if("value"in e&&typeof e.value=="string"){const r={type:"text",value:e.value};return this.patch(e,r),r}if("children"in e)return this.all(e)}function cK(e,t){e.position&&(t.position=gX(e))}function hK(e){const t=this.frozenBaseUrl;return e==null?"":t?String(new URL(e,t)):e}function dK(e){return CI(e)}function fK(e,t){const r=t(),n=[];let i=[],s=-1;for(;++s<e.length;){const o=e[s];if(a(o))i.length>0&&(o.children.unshift(...i),i=[]),n.push(o);else{const l=o;i.push(l)}}if(i.length>0){let o=n[n.length-1];o||(o=t(),n.push(o)),o.children.push(...i),i=[]}return n;function a(o){return o.type===r.type}}const pK={};function mK(e,t){const r=uI(e),n=t||pK,i=fX({newlines:n.newlines===!0}),s=oK(n);let a;i(r),Ei(r,function(l){if(l&&l.type==="element"&&l.properties){const u=String(l.properties.id||"")||void 0;u&&!s.elementById.has(u)&&s.elementById.set(u,l)}});const o=s.one(r,void 0);return o?Array.isArray(o)?a={type:"root",children:o}:a=o:a={type:"root",children:[]},Ei(a,function(l,u,c){if(l.type==="text"&&u!==void 0&&c){const h=c.children[u-1];if(h&&h.type===l.type)return h.value+=l.value,c.children.splice(u,1),h.position&&l.position&&(h.position.end=l.position.end),u-1;if(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),c&&(c.type==="heading"||c.type==="paragraph"||c.type==="root")&&(u||(l.value=l.value.replace(/^[\t ]+/,"")),u===c.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),!l.value)return c.children.splice(u,1),u}}),a}const gK=()=>async()=>({html:({value:e},t)=>{const r=zY(e,{fragment:!0}),n=mK(r,{nodeHandlers:{comment:()=>{}}});return t.render(n.children)}}),bK=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(e=>e.charCodeAt(0)));var Ag;const yK=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),_K=(Ag=String.fromCodePoint)!==null&&Ag!==void 0?Ag:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function EK(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=yK.get(e))!==null&&t!==void 0?t:e}var xr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(xr||(xr={}));const wK=32;var hs;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(hs||(hs={}));function G0(e){return e>=xr.ZERO&&e<=xr.NINE}function xK(e){return e>=xr.UPPER_A&&e<=xr.UPPER_F||e>=xr.LOWER_A&&e<=xr.LOWER_F}function TK(e){return e>=xr.UPPER_A&&e<=xr.UPPER_Z||e>=xr.LOWER_A&&e<=xr.LOWER_Z||G0(e)}function vK(e){return e===xr.EQUALS||TK(e)}var _r;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(_r||(_r={}));var us;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(us||(us={}));class AK{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=_r.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=us.Strict}startEntity(t){this.decodeMode=t,this.state=_r.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case _r.EntityStart:return t.charCodeAt(r)===xr.NUM?(this.state=_r.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=_r.NamedEntity,this.stateNamedEntity(t,r));case _r.NumericStart:return this.stateNumericStart(t,r);case _r.NumericDecimal:return this.stateNumericDecimal(t,r);case _r.NumericHex:return this.stateNumericHex(t,r);case _r.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|wK)===xr.LOWER_X?(this.state=_r.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=_r.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(r,s),i),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(G0(i)||xK(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(G0(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===xr.SEMI)this.consumed+=1;else if(this.decodeMode===us.Strict)return 0;return this.emitCodePoint(EK(this.result),this.consumed),this.errors&&(t!==xr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&hs.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=kK(n,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===us.Attribute&&(s===0||vK(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&hs.VALUE_LENGTH)>>14,s!==0){if(a===xr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==us.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&hs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~hs.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case _r.NamedEntity:return this.result!==0&&(this.decodeMode!==us.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _r.NumericDecimal:return this.emitNumericEntity(0,2);case _r.NumericHex:return this.emitNumericEntity(0,3);case _r.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _r.EntityStart:return 0}}}function CK(e){let t="";const r=new AK(e,n=>t+=_K(n));return function(i,s){let a=0,o=0;for(;(o=i.indexOf("&",o))>=0;){t+=i.slice(a,o),r.startEntity(s);const u=r.write(i,o+1);if(u<0){a=o+r.end();break}a=o+u,o=u===0?a+1:a}const l=t+i.slice(a);return t="",l}}function kK(e,t,r,n){const i=(t&hs.BRANCH_LENGTH)>>7,s=t&hs.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const l=n-s;return l<0||l>=i?-1:e[r+l]-1}let a=r,o=a+i-1;for(;a<=o;){const l=a+o>>>1,u=e[l];if(u<n)a=l+1;else if(u>n)o=l-1;else return e[l+i]}return-1}const SK=CK(bK);function aT(e){return SK(e,us.Strict)}const IK=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function oT(e){const t={type:"tag",name:"",voidElement:!1,attribs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],e.charAt(e.length-2)==="/"&&(t.voidElement=!0),t.name.startsWith("!--"))){const s=e.indexOf("-->");return{type:"comment",comment:s!==-1?e.slice(4,s):""}}const n=new RegExp(IK);let i=null;for(;i=n.exec(e),i!==null;)if(i[0].trim())if(i[1]){const s=i[1].trim();let a=[s,""];s.indexOf("=")>-1&&(a=s.split("=")),t.attribs[a[0]]=a[1],n.lastIndex--}else i[2]&&(t.attribs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}const LK=/<[a-zA-Z0-9\-!/](?:"[^"]*"|'[^']*'|[^'">])*>/g,RK=/^\s*$/,lT=["mtext","mi","mn","mo","ms"];function NK(e,t={}){const r=[],n=[];let i,s=-1;return e.replace(LK,(a,o)=>{const l=a.charAt(1)!=="/",u=a.startsWith("<!--"),c=o+a.length,h=e.charAt(c);let f;if(u){const d=oT(a);return s<0?(r.push(d),r):(f=n[s],f.children.push(d),r)}if(l){if(s++,i=oT(a),i.type==="tag"&&t.components?.[i.name]&&(i.type="component"),lT.includes(i.name)&&!i.voidElement&&h&&h!=="<"){const d=e.slice(c,e.indexOf("<",c)).trim();i.children.push({type:"text",data:t.disableDecode?d:aT(d)})}s===0&&r.push(i),f=n[s-1],f&&f.children.push(i),n[s]=i}if((!l||i.voidElement)&&(s>-1&&(i.voidElement||i.name===a.slice(2,-1))&&(s--,i=s===-1?r:n[s]),s>-1&&lT.includes[n[s].name]&&h!=="<"&&h)){f=n[s].children;const d=e.indexOf("<",c);let p=e.slice(c,d===-1?void 0:d);RK.test(p)&&(p=" "),(d>-1&&s+f.length>=0||p!==" ")&&f.push({type:"text",data:t.disableDecode?p:aT(p)})}}),r}function OK(e){const t=[];for(const r in e)t.push(`${r}="${e[r]}"`);return t.length?` ${t.join(" ")}`:""}function II(e,t){switch(t.type){case"text":return e+t.data;case"tag":{const r=t.voidElement||!t.children.length&&t.attribs["xml:space"]!=="preserve";return e+=`<${t.name}${t.attribs?OK(t.attribs):""}${r?"/>":">"}`,r?e:`${e+t.children.reduce(II,"")}</${t.name}>`}case"comment":return e+=`<!--${t.comment}-->`,e}}function PK(e){return e.reduce((t,r)=>t+II("",r),"")}function DK(e,t,r,n,i){return t.name="m:oMath",t.attribs={"xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},t.type="tag",t.children=[],t}function BK(e,t,r,n,i){return t}function MK(e,t,r,n,i){const s=e.attribs?.notation?.split(" ")[0]||"longdiv",a={type:"tag",name:"m:e",attribs:{},children:[]};if(s==="longdiv")t.children.push({type:"tag",name:"m:rad",attribs:{},children:[{type:"tag",name:"m:radPr",attribs:{},children:[{type:"tag",name:"m:degHide",attribs:{"m:val":"on"},children:[]}]},{type:"tag",name:"m:deg",attribs:{},children:[]},a]});else{const o={t:{type:"tag",name:"m:hideTop",attribs:{"m:val":"on"},children:[]},b:{type:"tag",name:"m:hideBot",attribs:{"m:val":"on"},children:[]},l:{type:"tag",name:"m:hideLeft",attribs:{"m:val":"on"},children:[]},r:{type:"tag",name:"m:hideRight",attribs:{"m:val":"on"},children:[]}},l={type:"tag",name:"m:borderBoxPr",attribs:{},children:[]},u={type:"tag",name:"m:borderBox",attribs:{},children:[]};switch(s){case"actuarial":case"radical":case"box":u.children=[a];break;case"left":case"roundedbox":l.children=[o.t,o.b,o.r],u.children=[l,a];break;case"right":case"circle":l.children=[o.t,o.b,o.l],u.children=[l,a];break;case"top":l.children=[o.b,o.l,o.r],u.children=[l,a];break;case"bottom":l.children=[o.t,o.l,o.r],u.children=[l,a];break;case"updiagonalstrike":l.children=[o.t,o.b,o.l,o.r,{type:"tag",name:"m:strikeBLTR",attribs:{"m:val":"on"},children:[]}],u.children=[l,a];break;case"downdiagonalstrike":l.children=[o.t,o.b,o.l,o.r,{type:"tag",name:"m:strikeTLBR",attribs:{"m:val":"on"},children:[]}],u.children=[l,a];break;case"verticalstrike":l.children=[o.t,o.b,o.l,o.r,{type:"tag",name:"m:strikeV",attribs:{"m:val":"on"},children:[]}],u.children=[l,a];break;case"horizontalstrike":l.children=[o.t,o.b,o.l,o.r,{type:"tag",name:"m:strikeH",attribs:{"m:val":"on"},children:[]}],u.children=[l,a];break;default:l.children=[o.t,o.b,o.l,o.r],u.children=[l,a];break}t.children.push(u)}return a}function FK(e,t,r,n,i){if(e.children.length!==2)return t;const s=e.children[0],a=e.children[1],o={name:"m:num",type:"tag",attribs:{},children:[]},l={name:"m:den",type:"tag",attribs:{},children:[]};i=[...i],i.unshift(e),Ue(s,o,!1,!1,i),Ue(a,l,!1,!1,i);const u=e.attribs?.linethickness==="0"?"noBar":"bar";t.children.push({type:"tag",name:"m:f",attribs:{},children:[{type:"tag",name:"m:fPr",attribs:{},children:[{type:"tag",name:"m:type",attribs:{"m:val":u},children:[]}]},o,l]})}function UK(e,t,r,n,i){e.attribs?.alt&&t.children.push({type:"text",data:e.attribs.alt})}function HK(e,t,r,n,i){if(e.children.length===0)return;const s=e.children[0],a=[],o=[],l=[],u=[],c=e.children.slice(1);let h=!1;c.forEach((p,g)=>{p.name==="mprescripts"?h=!0:p.name!=="none"&&(g%2?h?l.push(p):o.push(p):h?u.push(p):a.push(p))}),i=[...i],i.unshift(e);const f={children:[]};Ue(s,f,!1,!1,i);let d=f.children[0];if(a.length||o.length){const p={name:"m:sub",type:"tag",attribs:{},children:[]};a.forEach(m=>Ue(m,p,!1,!1,i));const g={name:"m:sup",type:"tag",attribs:{},children:[]};o.forEach(m=>Ue(m,g,!1,!1,i));const y={type:"tag",attribs:{},children:[{type:"tag",name:"m:e",attribs:{},children:[d]}]};a.length&&o.length?(y.name="m:sSubSup",y.children.push(p),y.children.push(g)):a.length?(y.name="m:sSub",y.children.push(p)):(y.name="m:sSup",y.children.push(g)),d=y}if(l.length||u.length){const p={name:"m:sub",type:"tag",attribs:{},children:[]};l.forEach(m=>Ue(m,p,!1,!1,i));const g={name:"m:sup",type:"tag",attribs:{},children:[]};u.forEach(m=>Ue(m,g,!1,!1,i)),d={name:"m:sPre",type:"tag",attribs:{},children:[{name:"m:e",type:"tag",attribs:{},children:[d]},p,g]}}t.children.push(d)}function $K(e,t,r,n,i){if(r.isNary){const s=t.children[t.children.length-1];return s.children[s.children.length-1]}return t}function zK(e,t,r,n,i){t.children.push({name:"m:r",type:"tag",attribs:{},children:[{name:"m:t",type:"tag",attribs:{"xml:space":"preserve"},children:[{type:"text",data:" "}]}]})}function jK(e,t,r,n,i){const s={name:"m:e",type:"tag",attribs:{},children:[]};return t.children.push({name:"m:rad",type:"tag",attribs:{},children:[{name:"m:radPr",type:"tag",attribs:{},children:[{name:"m:degHide",type:"tag",attribs:{"m:val":"on"},children:[]}]},{name:"m:deg",type:"tag",attribs:{},children:[]},s]}),s}function WK(e,t,r,n,i){return t}function Vu(e,t=!0){let r="";if(e.type==="text"){let n=e.data.replace(/[\u2062]|[\u200B]/g,"");t&&(n=n.trim()),r+=n}else e.children&&e.children.forEach(n=>{r+=Vu(n,t)});return r}const qK=/^[\u220f-\u2211]|[\u2229-\u2233]|[\u22c0-\u22c3]$/,GK=/^\u220f|\u2211|[\u2229-\u222b]|\u222e|\u222f|\u2232|\u2233|[\u22c0-\u22c3]$/;function Yu(e){const t=Vu(e);return qK.test(t)?t:!1}function Xu(e,t,r,n=!1,i=!1){const s=t.attribs?.stretchy,a=s==="true"?"1":s==="false"?"0":GK.test(e)?"1":"0";return{type:"tag",name:"m:nary",attribs:{},children:[{type:"tag",name:"m:naryPr",attribs:{},children:[{type:"tag",name:"m:chr",attribs:{"m:val":e},children:[]},{type:"tag",name:"m:limLoc",attribs:{"m:val":r},children:[]},{type:"tag",name:"m:grow",attribs:{"m:val":a},children:[]},{type:"tag",name:"m:subHide",attribs:{"m:val":n?"on":"off"},children:[]},{type:"tag",name:"m:supHide",attribs:{"m:val":i?"on":"off"},children:[]}]}]}}function VK(e,t){const r=t.find(n=>n.attribs?.scriptlevel)?.attribs?.scriptlevel;["0","1","2"].includes(r)&&e.children.unshift({type:"tag",name:"m:argPr",attribs:{},children:[{type:"tag",name:"m:scrLvl",attribs:{"m:val":r},children:[]}]})}function YK(e,t,r,n,i){if(e.children.length!==2)return t;i=[...i],i.unshift(e);const s=e.children[0],a=e.children[1];let o;const l=Yu(s);if(l&&e.attribs?.accent?.toLowerCase()!=="true"&&e.attribs?.accentunder?.toLowerCase()!=="true")o=Xu(l,e,"subSup",!1,!0),e.isNary=!0;else{const c={name:"m:e",type:"tag",attribs:{},children:[]};Ue(s,c,!1,!1,i),o={type:"tag",name:"m:sSub",attribs:{},children:[{type:"tag",name:"m:sSubPr",attribs:{},children:[{type:"tag",name:"m:ctrlPr",attribs:{},children:[]}]},c]}}const u={name:"m:sub",type:"tag",attribs:{},children:[]};Ue(a,u,!1,!1,i),o.children.push(u),e.isNary&&(o.children.push({type:"tag",name:"m:sup",attribs:{},children:[]}),o.children.push({type:"tag",name:"m:e",attribs:{},children:[]})),t.children.push(o)}function XK(e,t,r,n,i){if(e.children.length!==3)return t;i=[...i],i.unshift(e);const s=e.children[0],a=e.children[1],o=e.children[2];let l;const u=Yu(s);if(u&&e.attribs?.accent?.toLowerCase()!=="true"&&e.attribs?.accentunder?.toLowerCase()!=="true")l=Xu(u,e,"subSup"),e.isNary=!0;else{const f={name:"m:e",type:"tag",attribs:{},children:[]};Ue(s,f,!1,!1,i),l={type:"tag",name:"m:sSubSup",attribs:{},children:[{type:"tag",name:"m:sSubSupPr",attribs:{},children:[{type:"tag",name:"m:ctrlPr",attribs:{},children:[]}]},f]}}const c={name:"m:sub",type:"tag",attribs:{},children:[]},h={name:"m:sup",type:"tag",attribs:{},children:[]};Ue(a,c,!1,!1,i),Ue(o,h,!1,!1,i),l.children.push(c),l.children.push(h),e.isNary&&l.children.push({type:"tag",name:"m:e",attribs:{},children:[]}),t.children.push(l)}function KK(e,t,r,n,i){if(e.children.length!==2)return t;i=[...i],i.unshift(e);const s=e.children[0],a=e.children[1];let o;const l=Yu(s);if(l&&e.attribs?.accent?.toLowerCase()!=="true"&&e.attribs?.accentunder?.toLowerCase()!=="true")o=Xu(l,e,"subSup",!0),e.isNary=!0,o.children.push({type:"tag",name:"m:sub"});else{const c={name:"m:e",type:"tag",attribs:{},children:[]};Ue(s,c,!1,!1,i),o={type:"tag",name:"m:sSup",attribs:{},children:[{type:"tag",name:"m:sSupPr",attribs:{},children:[{type:"tag",name:"m:ctrlPr",attribs:{},children:[]}]},c]}}const u={name:"m:sup",type:"tag",attribs:{},children:[]};Ue(a,u,!1,!1,i),o.children.push(u),e.isNary&&o.children.push({type:"tag",name:"m:e",attribs:{},children:[]}),t.children.push(o)}function ZK(e,t,r,n,i){const s=Math.max(...e.children.map(o=>o.children.length)),a={name:"m:m",type:"tag",attribs:{},children:[{name:"m:mPr",type:"tag",attribs:{},children:[{name:"m:baseJc",type:"tag",attribs:{"m:val":"center"},children:[]},{name:"m:plcHide",type:"tag",attribs:{"m:val":"on"},children:[]},{name:"m:mcs",type:"tag",attribs:{},children:[{name:"m:mc",type:"tag",attribs:{},children:[{name:"m:mcPr",type:"tag",attribs:{},children:[{name:"m:count",type:"tag",attribs:{"m:val":s.toString()},children:[]},{name:"m:mcJc",type:"tag",attribs:{"m:val":"center"},children:[]}]}]}]}]}]};return t.children.push(a),a}function QK(e,t,r,n,i){const s={name:"m:e",type:"tag",attribs:{},children:[]};return t.children.push(s),s}function JK(e,t,r,n,i){const s={name:"m:mr",type:"tag",attribs:{},children:[]};return t.children.push(s),s}function tZ(e,t,r,n,i){if(e.children.length!==3)return t;i=[...i],i.unshift(e);const s=e.children[0],a=e.children[1],o=e.children[2],l=Yu(s);if(l&&e.attributes?.accent?.toLowerCase()!=="true"&&e.attributes?.accentunder?.toLowerCase()!=="true"){const f=Xu(l,e,"undOvr");e.isNary=!0;const d={name:"m:sub",type:"tag",attribs:{},children:[]},p={name:"m:sup",type:"tag",attribs:{},children:[]};Ue(a,d,!1,!1,i),Ue(o,p,!1,!1,i),f.children.push(d),f.children.push(p),f.children.push({type:"tag",name:"m:e",attribs:{},children:[]}),t.children.push(f);return}const u={name:"m:e",type:"tag",attribs:{},children:[]};Ue(s,u,!1,!1,i);const c={name:"m:lim",type:"tag",attribs:{},children:[]},h={name:"m:lim",type:"tag",attribs:{},children:[]};Ue(a,c,!1,!1,i),Ue(o,h,!1,!1,i),t.children.push({type:"tag",name:"m:limUpp",attribs:{},children:[{type:"tag",name:"m:e",attribs:{},children:[{type:"tag",name:"m:limLow",attribs:{},children:[u,c]}]},h]})}function eZ(e,t,r={}){const n=e.attribs||{},i=n.mathcolor||t.find(h=>h.name==="mstyle"&&h.attribs&&h.attribs.color)?.attribs.color||"",s=n.mathsize||t.find(h=>h.name==="mstyle"&&h.attribs&&h.attribs.mathsize)?.attribs.mathsize||"",a=n.scriptlevel||t.find(h=>h.name==="mstyle"&&h.attribs&&h.attribs.scriptlevel)?.attribs.scriptlevel||"",o=n.mathbackground||t.find(h=>h.name==="mstyle"&&h.attribs&&h.attribs.mathbackground)?.attribs.mathbackground||"";let l=n.mathvariant||t.find(h=>h.name==="mstyle"&&h.attribs&&h.attribs.mathvariant)?.attribs.mathvariant||"";l==="b-i"&&(l="bold-italic");const u=n.fontweight||t.find(h=>h.name==="mstyle"&&h.attribs&&h.attribs.fontweight)?.attribs.fontweight||"";u==="bold"&&!["bold","bold-italic"].includes(l)?l.includes("italic")?l="bold-italic":l="bold":u==="normal"&&["bold","bold-italic"].includes(l)&&(l.includes("italic")?l="italic":l="");const c=n.fontstyle||t.find(h=>h.name==="mstyle"&&h.attribs&&h.attribs.fontstyle)?.attribs.fontstyle||"";if(c==="italic"&&!["italic","bold-italic"].includes(l)?l.includes("bold")?l="bold-italic":l="italic":c==="normal"&&["italic","bold-italic"].includes(l)&&(l.includes("bold")?l="bold":l=""),!n.mathvariant){const h=Vu(e);r.variant===""&&(e.name==="mi"&&h.length>1||e.name==="mn"&&!/^\d+\.\d+$/.test(h))?l="":["mi","mn","mo"].includes(e.name)&&["italic","bold-italic"].includes(r.variant)&&(u==="bold"?l="bold-italic":l="italic")}return{color:i,variant:l,size:s,scriptlevel:a,background:o,fontstyle:c}}const rZ={bold:"b",italic:"i","bold-italic":"bi"};function Ku(e,t,r,n,i,s){if(r.isNary){const h=t.children[t.children.length-1];t=h.children[h.children.length-1]}const a=e.children?.find(h=>h.name==="mglyph"),o=eZ(e,i,r?.style);e.style=o,e.hasMglyphChild=a;const l=Object.keys(o).every(h=>{const f=r?.style;return f&&o[h]===f[h]})&&r?.hasMglyphChild===a,u=s===r?.name||["mi","mn","mo"].includes(s)&&["mi","mn","mo"].includes(r?.name);let c;if(u&&l&&!a){const h=t.children[t.children.length-1];c=h.children[h.children.length-1]}else{const h={name:"m:r",type:"tag",attribs:{},children:[]};if(o.variant){const f={name:"w:rPr",type:"tag",attribs:{},children:[]};o.variant.includes("bold")&&f.children.push({name:"w:b",type:"tag",attribs:{},children:[]}),o.variant.includes("italic")&&f.children.push({name:"w:i",type:"tag",attribs:{},children:[]}),h.children.push(f);const d={name:"m:rPr",type:"tag",attribs:{},children:[{name:"m:nor",type:"tag",attribs:{},children:[]}]};o.variant!=="italic"&&d.children.push({name:"m:sty",type:"tag",attribs:{"m:val":rZ[o.variant]},children:[]}),h.children.push(d)}else a||s==="mtext"?h.children.push({name:"m:rPr",type:"tag",attribs:{},children:[{name:"m:nor",type:"tag",attribs:{},children:[]}]}):(o.fontstyle==="normal"||s==="ms"&&o.fontstyle==="")&&h.children.push({name:"m:rPr",type:"tag",attribs:{},children:[{name:"m:sty",type:"tag",attribs:{"m:val":"p"},children:[]}]});c={name:"m:t",type:"tag",attribs:{"xml:space":"preserve"},children:[]},h.children.push(c),t.children.push(h)}return c}function nZ(e,t,r,n,i){return Ku(e,t,r,n,i,"mtext")}function iZ(e,t,r,n,i){return Ku(e,t,r,n,i,"mi")}function sZ(e,t,r,n,i){return Ku(e,t,r,n,i,"mn")}function aZ(e,t,r,n,i){return Ku(e,t,r,n,i,"mo")}function oZ(e,t,r,n,i){return Ku(e,t,r,n,i,"ms")}const lZ={"â":"â","âµ":"â","â":"â","â¶":"â","Â´":"Ì","Ë":"Ì","Ë":"Ì","Ë":"Ì","Â¸":"Ì","^":"Ì","Â¨":"Ì","Ë":"Ì","`":"Ì","-":"Ì","Â¯":"Ì","â":"Ì",".":"Ì","~":"Ì","Ë":"Ì"};function LI(e,t,r,n,i,s){if(e.children.length!==2)return t;i=[...i],i.unshift(e);const a=e.children[0],o=e.children[1],l=Yu(a);if(l&&e.attribs?.accent?.toLowerCase()!=="true"&&e.attribs?.accentunder?.toLowerCase()!=="true"){const f=Xu(l,e,"undOvr",s==="over",s==="under");e.isNary=!0;const d={name:"m:sub",type:"tag",attribs:{},children:[]},p={name:"m:sup",type:"tag",attribs:{},children:[]};Ue(o,s==="under"?d:p,!1,!1,i),f.children.push(d),f.children.push(p),f.children.push({type:"tag",name:"m:e",attribs:{},children:[]}),t.children.push(f);return}const u=Vu(o),c={name:"m:e",type:"tag",attribs:{},children:[]};if(Ue(a,c,!1,!1,i),s==="under"&&o.name==="mo"&&["Ì²","_"].includes(u)||s==="over"&&o.name==="mo"&&["Ì","Â¯"].includes(u)){t.children.push({type:"tag",name:"m:bar",attribs:{},children:[{type:"tag",name:"m:barPr",attribs:{},children:[{type:"tag",name:"m:pos",attribs:{"m:val":s==="under"?"bot":"top"},children:[]}]},{type:"tag",name:"m:e",attribs:{},children:[{type:"tag",name:s==="under"?"m:sSub":"m:sSup",attribs:{},children:[{type:"tag",name:s==="under"?"m:sSubPr":"m:sSupPr",attribs:{},children:[{type:"tag",name:"m:ctrlPr",attribs:{},children:[]}]},c,{type:"tag",name:"m:sub",attribs:{},children:[]}]}]}]});return}if(s==="under"&&e.attribs?.accentunder?.toLowerCase()==="true"&&o.name==="mo"&&u.length<2||s==="over"&&e.attribs?.accent?.toLowerCase()==="true"&&o.name==="mo"&&u.length<2){t.children.push({type:"tag",name:"m:acc",attribs:{},children:[{type:"tag",name:"m:accPr",attribs:{},children:[{type:"tag",name:"m:chr",attribs:{"m:val":lZ[u]||u},children:[]}]},c]});return}if(e.attribs?.accent?.toLowerCase()!=="true"&&e.attribs?.accentunder?.toLowerCase()!=="true"&&o.name==="mo"&&a.name==="mrow"&&u.length===1){t.children.push({type:"tag",name:"m:groupChr",attribs:{},children:[{type:"tag",name:"m:groupChrPr",attribs:{},children:[{type:"tag",name:"m:chr",attribs:{"m:val":u,"m:pos":s==="under"?"bot":"top"},children:[]}]},c]});return}const h={name:"m:lim",type:"tag",attribs:{},children:[]};Ue(o,h,!1,!1,i),t.children.push({type:"tag",name:s==="under"?"m:limLow":"m:limUpp",attribs:{},children:[c,h]})}function uZ(e,t,r,n,i){return LI(e,t,r,n,i,"under")}function cZ(e,t,r,n,i){return LI(e,t,r,n,i,"over")}function hZ(e,t,r,n,i){if(e.children.length!==2)return t;i=[...i],i.unshift(e);const s=e.children[0],a=e.children[1],o={type:"tag",name:"m:e",attribs:{},children:[]};Ue(s,o,!1,!1,i);const l={type:"tag",name:"m:deg",attribs:{},children:[]};Ue(a,l,!1,!1,i);const u=Vu(a);t.children.push({type:"tag",name:"m:rad",attribs:{},children:[{type:"tag",name:"m:radPr",attribs:{},children:[{type:"tag",name:"m:degHide",attribs:{"m:val":u.length?"off":"on"},children:[]}]},l,o]})}function dZ(e,t,r,n,i){let s=e.data.replace(/[\u2062]|[\u200B]/g,"");if(i.find(a=>["mi","mn","mo"].includes(a.name)))s=s.replace(/\s/g,"");else{const a=i.find(o=>o.name==="ms");a&&(s=(a.attribs?.lquote||'"')+s+(a.attribs?.rquote||'"'))}return s.length&&(t.children.length&&t.children[t.children.length-1].type==="text"?t.children[t.children.length-1].data+=s:t.children.push({type:"text",data:s})),t}var uT=Object.freeze({__proto__:null,math:DK,menclose:MK,mfrac:FK,mglyph:UK,mi:iZ,mmultiscripts:HK,mn:sZ,mo:aZ,mover:cZ,mroot:hZ,mrow:$K,ms:oZ,mspace:zK,msqrt:jK,mstyle:WK,msub:YK,msubsup:XK,msup:KK,mtable:ZK,mtd:QK,mtext:nZ,mtr:JK,munder:uZ,munderover:tZ,semantics:BK,text:dZ});function Ue(e,t,r=!1,n=!1,i=[]){!r&&["m:deg","m:den","m:e","m:fName","m:lim","m:num","m:sub","m:sup"].includes(t.name)&&VK(t,i);let s;const a=e.name||e.type;if(uT[a]?s=uT[a](e,t,r,n,i):(a&&a!=="root"&&console.warn(`Type not supported: ${a}`),s=t),!!s&&e.children?.length){i=[...i],i.unshift(e);for(let o=0;o<e.children.length;o++)Ue(e.children[o],s,e.children[o-1],e.children[o+1],i)}}class fZ{constructor(t,r={}){this.inString=t,this.inXML=NK(t,r),this.outXML=!1,this.outString=!1}run(){const t={};Ue({children:this.inXML,type:"root"},t),this.outXML=t}getResult(){return this.outString=PK([this.outXML]),this.outString}}const pZ=(e,t)=>{const r=new fZ(e,t);return r.run(),r.getResult()},RI=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",mZ=RI+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",gZ="["+RI+"]["+mZ+"]*",bZ=new RegExp("^"+gZ+"$");function NI(e,t){const r=[];let n=t.exec(e);for(;n;){const i=[];i.startIndex=t.lastIndex-n[0].length;const s=n.length;for(let a=0;a<s;a++)i.push(n[a]);r.push(i),n=t.exec(e)}return r}const wf=function(e){const t=bZ.exec(e);return!(t===null||typeof t>"u")};function yZ(e){return typeof e<"u"}const _Z={allowBooleanAttributes:!1,unpairedTags:[]};function EZ(e,t){t=Object.assign({},_Z,t);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=hT(e,s),s.err)return s}else if(e[s]==="<"){let a=s;if(s++,e[s]==="!"){s=dT(e,s);continue}else{let o=!1;e[s]==="/"&&(o=!0,s++);let l="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)l+=e[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!SZ(l)){let h;return l.trim().length===0?h="Invalid space after '<'.":h="Tag '"+l+"' is an invalid name.",Ke("InvalidTag",h,qr(e,s))}const u=TZ(e,s);if(u===!1)return Ke("InvalidAttr","Attributes for '"+l+"' have open quote.",qr(e,s));let c=u.value;if(s=u.index,c[c.length-1]==="/"){const h=s-c.length;c=c.substring(0,c.length-1);const f=fT(c,t);if(f===!0)n=!0;else return Ke(f.err.code,f.err.msg,qr(e,h+f.err.line))}else if(o)if(u.tagClosed){if(c.trim().length>0)return Ke("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",qr(e,a));if(r.length===0)return Ke("InvalidTag","Closing tag '"+l+"' has not been opened.",qr(e,a));{const h=r.pop();if(l!==h.tagName){let f=qr(e,h.tagStartPos);return Ke("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+l+"'.",qr(e,a))}r.length==0&&(i=!0)}}else return Ke("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",qr(e,s));else{const h=fT(c,t);if(h!==!0)return Ke(h.err.code,h.err.msg,qr(e,s-c.length+h.err.line));if(i===!0)return Ke("InvalidXml","Multiple possible root nodes found.",qr(e,s));t.unpairedTags.indexOf(l)!==-1||r.push({tagName:l,tagStartPos:a}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=dT(e,s);continue}else if(e[s+1]==="?"){if(s=hT(e,++s),s.err)return s}else break;else if(e[s]==="&"){const h=CZ(e,s);if(h==-1)return Ke("InvalidChar","char '&' is not expected.",qr(e,s));s=h}else if(i===!0&&!cT(e[s]))return Ke("InvalidXml","Extra text at the end",qr(e,s));e[s]==="<"&&s--}}else{if(cT(e[s]))continue;return Ke("InvalidChar","char '"+e[s]+"' is not expected.",qr(e,s))}if(n){if(r.length==1)return Ke("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",qr(e,r[0].tagStartPos));if(r.length>0)return Ke("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ke("InvalidXml","Start tag expected.",1);return!0}function cT(e){return e===" "||e==="	"||e===`
`||e==="\r"}function hT(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return Ke("InvalidXml","XML declaration allowed only at the start of the document.",qr(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function dT(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const wZ='"',xZ="'";function TZ(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===wZ||e[t]===xZ)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const vZ=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function fT(e,t){const r=NI(e,vZ),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Ke("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",ol(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return Ke("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",ol(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return Ke("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",ol(r[i]));const s=r[i][2];if(!kZ(s))return Ke("InvalidAttr","Attribute '"+s+"' is an invalid name.",ol(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return Ke("InvalidAttr","Attribute '"+s+"' is repeated.",ol(r[i]))}return!0}function AZ(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function CZ(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,AZ(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Ke(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function kZ(e){return wf(e)}function SZ(e){return wf(e)}function qr(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ol(e){return e.startIndex+e[1].length}const IZ={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},LZ=function(e){return Object.assign({},IZ,e)};let id;typeof Symbol!="function"?id="@@xmlMetadata":id=Symbol("XML Node Metadata");class Ws{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][id]={startIndex:r})}static getMetaDataSymbol(){return id}}class RZ{constructor(t){this.suppressValidationErr=!t}readDocType(t,r){const n={};if(t[r+3]==="O"&&t[r+4]==="C"&&t[r+5]==="T"&&t[r+6]==="Y"&&t[r+7]==="P"&&t[r+8]==="E"){r=r+9;let i=1,s=!1,a=!1,o="";for(;r<t.length;r++)if(t[r]==="<"&&!a){if(s&&Ms(t,"!ENTITY",r)){r+=7;let l,u;[l,u,r]=this.readEntityExp(t,r+1,this.suppressValidationErr),u.indexOf("&")===-1&&(n[l]={regx:RegExp(`&${l};`,"g"),val:u})}else if(s&&Ms(t,"!ELEMENT",r)){r+=8;const{index:l}=this.readElementExp(t,r+1);r=l}else if(s&&Ms(t,"!ATTLIST",r))r+=8;else if(s&&Ms(t,"!NOTATION",r)){r+=9;const{index:l}=this.readNotationExp(t,r+1,this.suppressValidationErr);r=l}else if(Ms(t,"!--",r))a=!0;else throw new Error("Invalid DOCTYPE");i++,o=""}else if(t[r]===">"){if(a?t[r-1]==="-"&&t[r-2]==="-"&&(a=!1,i--):i--,i===0)break}else t[r]==="["?s=!0:o+=t[r];if(i!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:r}}readEntityExp(t,r){r=an(t,r);let n="";for(;r<t.length&&!/\s/.test(t[r])&&t[r]!=='"'&&t[r]!=="'";)n+=t[r],r++;if(ll(n),r=an(t,r),!this.suppressValidationErr){if(t.substring(r,r+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[r]==="%")throw new Error("Parameter entities are not supported")}let i="";return[r,i]=this.readIdentifierVal(t,r,"entity"),r--,[n,i,r]}readNotationExp(t,r){r=an(t,r);let n="";for(;r<t.length&&!/\s/.test(t[r]);)n+=t[r],r++;!this.suppressValidationErr&&ll(n),r=an(t,r);const i=t.substring(r,r+6).toUpperCase();if(!this.suppressValidationErr&&i!=="SYSTEM"&&i!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${i}"`);r+=i.length,r=an(t,r);let s=null,a=null;if(i==="PUBLIC")[r,s]=this.readIdentifierVal(t,r,"publicIdentifier"),r=an(t,r),(t[r]==='"'||t[r]==="'")&&([r,a]=this.readIdentifierVal(t,r,"systemIdentifier"));else if(i==="SYSTEM"&&([r,a]=this.readIdentifierVal(t,r,"systemIdentifier"),!this.suppressValidationErr&&!a))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:n,publicIdentifier:s,systemIdentifier:a,index:--r}}readIdentifierVal(t,r,n){let i="";const s=t[r];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(r++;r<t.length&&t[r]!==s;)i+=t[r],r++;if(t[r]!==s)throw new Error(`Unterminated ${n} value`);return r++,[r,i]}readElementExp(t,r){r=an(t,r);let n="";for(;r<t.length&&!/\s/.test(t[r]);)n+=t[r],r++;if(!this.suppressValidationErr&&!wf(n))throw new Error(`Invalid element name: "${n}"`);r=an(t,r);let i="";if(t[r]==="E"&&Ms(t,"MPTY",r))r+=4;else if(t[r]==="A"&&Ms(t,"NY",r))r+=2;else if(t[r]==="("){for(r++;r<t.length&&t[r]!==")";)i+=t[r],r++;if(t[r]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${t[r]}"`);return{elementName:n,contentModel:i.trim(),index:r}}readAttlistExp(t,r){r=an(t,r);let n="";for(;r<t.length&&!/\s/.test(t[r]);)n+=t[r],r++;ll(n),r=an(t,r);let i="";for(;r<t.length&&!/\s/.test(t[r]);)i+=t[r],r++;if(!ll(i))throw new Error(`Invalid attribute name: "${i}"`);r=an(t,r);let s="";if(t.substring(r,r+8).toUpperCase()==="NOTATION"){if(s="NOTATION",r+=8,r=an(t,r),t[r]!=="(")throw new Error(`Expected '(', found "${t[r]}"`);r++;let o=[];for(;r<t.length&&t[r]!==")";){let l="";for(;r<t.length&&t[r]!=="|"&&t[r]!==")";)l+=t[r],r++;if(l=l.trim(),!ll(l))throw new Error(`Invalid notation name: "${l}"`);o.push(l),t[r]==="|"&&(r++,r=an(t,r))}if(t[r]!==")")throw new Error("Unterminated list of notations");r++,s+=" ("+o.join("|")+")"}else{for(;r<t.length&&!/\s/.test(t[r]);)s+=t[r],r++;const o=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!o.includes(s.toUpperCase()))throw new Error(`Invalid attribute type: "${s}"`)}r=an(t,r);let a="";return t.substring(r,r+8).toUpperCase()==="#REQUIRED"?(a="#REQUIRED",r+=8):t.substring(r,r+7).toUpperCase()==="#IMPLIED"?(a="#IMPLIED",r+=7):[r,a]=this.readIdentifierVal(t,r,"ATTLIST"),{elementName:n,attributeName:i,attributeType:s,defaultValue:a,index:r}}}const an=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t};function Ms(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function ll(e){if(wf(e))return e;throw new Error(`Invalid entity name ${e}`)}const NZ=/^[-+]?0x[a-fA-F0-9]+$/,OZ=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,PZ={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function DZ(e,t={}){if(t=Object.assign({},PZ,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&NZ.test(r))return UZ(r,16);if(r.search(/.+[eE].+/)!==-1)return MZ(e,r,t);{const n=OZ.exec(r);if(n){const i=n[1]||"",s=n[2];let a=FZ(n[3]);const o=i?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!o))return e;{const l=Number(r),u=String(l);if(l===0)return l;if(u.search(/[eE]/)!==-1)return t.eNotation?l:e;if(r.indexOf(".")!==-1)return u==="0"||u===a||u===`${i}${a}`?l:e;let c=s?a:r;return s?c===u||i+c===u?l:e:c===u||c===i+u?l:e}}else return e}}const BZ=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function MZ(e,t,r){if(!r.eNotation)return e;const n=t.match(BZ);if(n){let i=n[1]||"";const s=n[3].indexOf("e")===-1?"E":"e",a=n[2],o=i?e[a.length+1]===s:e[a.length]===s;return a.length>1&&o?e:a.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!o?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function FZ(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function UZ(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function HZ(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}class $Z{constructor(t){if(this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"Â¢"},pound:{regex:/&(pound|#163);/g,val:"Â£"},yen:{regex:/&(yen|#165);/g,val:"Â¥"},euro:{regex:/&(euro|#8364);/g,val:"â¬"},copyright:{regex:/&(copy|#169);/g,val:"Â©"},reg:{regex:/&(reg|#174);/g,val:"Â®"},inr:{regex:/&(inr|#8377);/g,val:"â¹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=zZ,this.parseXml=VZ,this.parseTextData=jZ,this.resolveNameSpace=WZ,this.buildAttributesMap=GZ,this.isItStopNode=ZZ,this.replaceEntitiesValue=XZ,this.readStopNodeData=JZ,this.saveTextToParentTag=KZ,this.addChild=YZ,this.ignoreAttributesFn=HZ(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let r=0;r<this.options.stopNodes.length;r++){const n=this.options.stopNodes[r];typeof n=="string"&&(n.startsWith("*.")?this.stopNodesWildcard.add(n.substring(2)):this.stopNodesExact.add(n))}}}}function zZ(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function jZ(e,t,r,n,i,s,a){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));const o=this.options.tagValueProcessor(t,e,r,i,s);return o==null?e:typeof o!=typeof e||o!==e?o:this.options.trimValues?Y0(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Y0(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function WZ(e){if(this.options.removeNSPrefix){const t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}const qZ=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function GZ(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const n=NI(e,qZ),i=n.length,s={};for(let a=0;a<i;a++){const o=this.resolveNameSpace(n[a][1]);if(this.ignoreAttributesFn(o,t))continue;let l=n[a][4],u=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const c=this.options.attributeValueProcessor(o,l,t);c==null?s[u]=l:typeof c!=typeof l||c!==l?s[u]=c:s[u]=Y0(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const a={};return a[this.options.attributesGroupName]=s,a}return s}}const VZ=function(e){e=e.replace(/\r\n?/g,`
`);const t=new Ws("!xml");let r=t,n="",i="";const s=new RZ(this.options.processEntities);for(let a=0;a<e.length;a++)if(e[a]==="<")if(e[a+1]==="/"){const l=Ys(e,">",a,"Closing Tag is not closed.");let u=e.substring(a+2,l).trim();if(this.options.removeNSPrefix){const f=u.indexOf(":");f!==-1&&(u=u.substr(f+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,i));const c=i.substring(i.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let h=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(h=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):h=i.lastIndexOf("."),i=i.substring(0,h),r=this.tagsNodeStack.pop(),n="",a=l}else if(e[a+1]==="?"){let l=V0(e,a,!1,"?>");if(!l)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&l.tagName==="?xml"||this.options.ignorePiTags)){const u=new Ws(l.tagName);u.add(this.options.textNodeName,""),l.tagName!==l.tagExp&&l.attrExpPresent&&(u[":@"]=this.buildAttributesMap(l.tagExp,i,l.tagName)),this.addChild(r,u,i,a)}a=l.closeIndex+1}else if(e.substr(a+1,3)==="!--"){const l=Ys(e,"-->",a+4,"Comment is not closed.");if(this.options.commentPropName){const u=e.substring(a+4,l-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}a=l}else if(e.substr(a+1,2)==="!D"){const l=s.readDocType(e,a);this.docTypeEntities=l.entities,a=l.i}else if(e.substr(a+1,2)==="!["){const l=Ys(e,"]]>",a,"CDATA is not closed.")-2,u=e.substring(a+9,l);n=this.saveTextToParentTag(n,r,i);let c=this.parseTextData(u,r.tagname,i,!0,!1,!0,!0);c==null&&(c=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]):r.add(this.options.textNodeName,c),a=l+2}else{let l=V0(e,a,this.options.removeNSPrefix),u=l.tagName;const c=l.rawTagName;let h=l.tagExp,f=l.attrExpPresent,d=l.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const p=r;p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),u!==t.tagname&&(i+=i?"."+u:u);const g=a;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,i,u)){let y="";if(h.length>0&&h.lastIndexOf("/")===h.length-1)u[u.length-1]==="/"?(u=u.substr(0,u.length-1),i=i.substr(0,i.length-1),h=u):h=h.substr(0,h.length-1),a=l.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)a=l.closeIndex;else{const b=this.readStopNodeData(e,c,d+1);if(!b)throw new Error(`Unexpected end of ${c}`);a=b.i,y=b.tagContent}const m=new Ws(u);u!==h&&f&&(m[":@"]=this.buildAttributesMap(h,i,u)),y&&(y=this.parseTextData(y,u,i,!0,f,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),m.add(this.options.textNodeName,y),this.addChild(r,m,i,g)}else{if(h.length>0&&h.lastIndexOf("/")===h.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),i=i.substr(0,i.length-1),h=u):h=h.substr(0,h.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const y=new Ws(u);u!==h&&f&&(y[":@"]=this.buildAttributesMap(h,i,u)),this.addChild(r,y,i,g),i=i.substr(0,i.lastIndexOf("."))}else{const y=new Ws(u);this.tagsNodeStack.push(r),u!==h&&f&&(y[":@"]=this.buildAttributesMap(h,i,u)),this.addChild(r,y,i,g),r=y}n="",a=d}}else n+=e[a];return t.child};function YZ(e,t,r,n){this.options.captureMetaData||(n=void 0);const i=this.options.updateTag(t.tagname,r,t[":@"]);i===!1||(typeof i=="string"&&(t.tagname=i),e.addChild(t,n))}const XZ=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function KZ(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function ZZ(e,t,r,n){return!!(t&&t.has(n)||e&&e.has(r))}function QZ(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let a=e[s];if(n)a===n&&(n="");else if(a==='"'||a==="'")n=a;else if(a===r[0])if(r[1]){if(e[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else a==="	"&&(a=" ");i+=a}}function Ys(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}function V0(e,t,r,n=">"){const i=QZ(e,t+1,n);if(!i)return;let s=i.data;const a=i.index,o=s.search(/\s/);let l=s,u=!0;o!==-1&&(l=s.substring(0,o),s=s.substring(o+1).trimStart());const c=l;if(r){const h=l.indexOf(":");h!==-1&&(l=l.substr(h+1),u=l!==i.data.substr(h+1))}return{tagName:l,tagExp:s,closeIndex:a,attrExpPresent:u,rawTagName:c}}function JZ(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){const s=Ys(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,i===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=Ys(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Ys(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Ys(e,"]]>",r,"StopNode is not closed.")-2;else{const s=V0(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function Y0(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:DZ(e,r)}else return yZ(e)?e:""}const Cg=Ws.getMetaDataSymbol();function tQ(e,t){return OI(e,t)}function OI(e,t,r){let n;const i={};for(let s=0;s<e.length;s++){const a=e[s],o=eQ(a);let l="";if(r===void 0?l=o:l=r+"."+o,o===t.textNodeName)n===void 0?n=a[o]:n+=""+a[o];else{if(o===void 0)continue;if(a[o]){let u=OI(a[o],t,l);const c=nQ(u,t);a[Cg]!==void 0&&(u[Cg]=a[Cg]),a[":@"]?rQ(u,a[":@"],l,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),i[o]!==void 0&&i.hasOwnProperty(o)?(Array.isArray(i[o])||(i[o]=[i[o]]),i[o].push(u)):t.isArray(o,l,c)?i[o]=[u]:i[o]=u}}}return typeof n=="string"?n.length>0&&(i[t.textNodeName]=n):n!==void 0&&(i[t.textNodeName]=n),i}function eQ(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function rQ(e,t,r,n){if(t){const i=Object.keys(t),s=i.length;for(let a=0;a<s;a++){const o=i[a];n.isArray(o,r+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function nQ(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}class iQ{constructor(t){this.externalEntities={},this.options=LZ(t)}parse(t,r){if(typeof t!="string"&&t.toString)t=t.toString();else if(typeof t!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=EZ(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new $Z(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(t);return this.options.preserveOrder||i===void 0?i:tQ(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return Ws.getMetaDataSymbol()}}const ks="4.0.0";class Kn{constructor(){this.items=[],this.items=[]}[Symbol.iterator](){let t=0;const r=this.items;return{next(){return{value:r[t++],done:t>r.length}}}}add(t,r=Kn.DEFAULTPRIORITY){let n=this.items.length;do n--;while(n>=0&&r<this.items[n].priority);return this.items.splice(n+1,0,{item:t,priority:r}),t}remove(t){let r=this.items.length;do r--;while(r>=0&&this.items[r].item!==t);return r>=0&&this.items.splice(r,1),this}}Kn.DEFAULTPRIORITY=5;class sQ extends Kn{register(t){return this.add(t,t.priority)}unregister(t){this.remove(t)}handlesDocument(t){for(const r of this){const n=r.item;if(n.handlesDocument(t))return n}throw new Error("Can't find handler for document")}document(t,r=null){return this.handlesDocument(t).create(t,r)}}function ph(e){return new Promise(function t(r,n){const i=s=>{var a;s.retry instanceof Promise?s.retry.then(()=>t(r,n)).catch(o=>n(o)):!((a=s.restart)===null||a===void 0)&&a.isCallback?MathJax.Callback.After(()=>t(r,n),s.restart):n(s)};try{const s=e();s instanceof Promise?s.then(a=>r(a)).catch(a=>i(a)):r(s)}catch(s){i(s)}})}function D1(e){const t=new Error("MathJax retry -- an asynchronous action is required; try using one of the promise-based functions and await its resolution.");throw t.retry=e,t}const kg=typeof window<"u",Ui={window:kg?window:null,document:kg?window.document:null,os:(()=>{if(kg&&window.navigator){const e=window.navigator.appVersion,t=[["Win","Windows"],["Mac","MacOS"],["X11","Unix"],["Linux","Unix"]];for(const[r,n]of t)if(e.includes(r))return n;if(window.navigator.userAgent.includes("Android"))return"Unix"}return"unknown"})()},B1={version:ks,context:Ui,handlers:new sQ,document:function(e,t){return B1.handlers.document(e,t)},handleRetriesFor:ph,retryAfter:D1,asyncLoad:null,asyncIsSynchronous:!1},aQ={}.constructor;function X0(e){return typeof e=="object"&&e!==null&&(e.constructor===aQ||e.constructor===xf)}const ul="[+]",cl="[-]",oQ={invalidOption:"warn",optionError:(e,t)=>{console.warn("MathJax: "+e)}};class xf{}function Tf(e){return Object.assign(Object.create(xf.prototype),e)}function Sg(e){return Array.isArray(e)?e:[e]}function K0(e){return e?Object.keys(e).concat(Object.getOwnPropertySymbols(e)):[]}function PI(e){const t={};for(const r of K0(e)){const n=Object.getOwnPropertyDescriptor(e,r),i=n.value;Array.isArray(i)?n.value=fu([],i,!1):X0(i)&&(n.value=PI(i)),n.enumerable&&(t[r]=n)}return Object.defineProperties(e.constructor===xf?Tf({}):{},t)}function fu(e,t,r=!0){for(let n of K0(t)){if(r&&e[n]===void 0&&e.constructor!==xf){typeof n=="symbol"&&(n=n.toString()),oQ.optionError(`Invalid option "${n}" (no default value).`,n);continue}const i=t[n];let s=e[n];if(X0(i)&&s!==null&&(typeof s=="object"||typeof s=="function")){const a=K0(i);Array.isArray(s)&&(a.length===1&&(a[0]===ul||a[0]===cl)&&Array.isArray(i[a[0]])||a.length===2&&a.sort().join(",")===ul+","+cl&&Array.isArray(i[ul])&&Array.isArray(i[cl]))?(i[cl]&&(s=e[n]=s.filter(o=>i[cl].indexOf(o)<0)),i[ul]&&(e[n]=[...s,...i[ul]])):fu(s,i,r)}else Array.isArray(i)?(e[n]=[],fu(e[n],i,!1)):X0(i)?e[n]=PI(i):e[n]=i}return e}function Zn(e,...t){return t.forEach(r=>fu(e,r,!1)),e}function Bn(e,...t){return t.forEach(r=>fu(e,r,!0)),e}function DI(e,...t){const r=[];for(const n of t){const i={},s={};for(const a of Object.keys(e||{}))(n[a]===void 0?s:i)[a]=e[a];r.push(i),e=s}return r.unshift(e),r}function pu(e,t,r=null){return Object.hasOwn(t,e)?t[e]:r}class bs extends Kn{constructor(t=null){super(),t&&this.addList(t)}addList(t){for(const r of t)Array.isArray(r)?this.add(r[0],r[1]):this.add(r)}execute(...t){for(const r of this)if(r.item(...t)===!1)return!1;return!0}asyncExecute(...t){let r=-1;const n=this.items;return new Promise((i,s)=>{(function a(){for(;++r<n.length;){const o=n[r].item(...t);if(o instanceof Promise){o.then(a).catch(l=>s(l));return}if(o===!1){i(!1);return}}i(!0)})()})}}class Zu{constructor(t={}){this.adaptor=null,this.mmlFactory=null;const r=this.constructor;this.options=Bn(Zn({},r.OPTIONS),t),this.preFilters=new bs(this.options.preFilters),this.postFilters=new bs(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(t){this.adaptor=t}setMmlFactory(t){this.mmlFactory=t}initialize(){}reset(...t){}get processStrings(){return!0}findMath(t,r){return[]}executeFilters(t,r,n,i){const s={math:r,document:n,data:i};return t.execute(s),s.data}}Zu.NAME="generic";Zu.OPTIONS={preFilters:[],postFilters:[]};class BI{constructor(t){const r=this.constructor;this.options=Bn(Zn({},r.OPTIONS),t)}}BI.OPTIONS={};function lQ(e,t){return e.length!==t.length?t.length-e.length:e===t?0:e<t?-1:1}function Ig(e){return e.replace(/([\^$(){}.+*?\-|[\]:\\])/g,"\\$1")}function uQ(e){return Array.from(e).map(t=>t.codePointAt(0))}function cQ(e){return String.fromCodePoint(...e)}function Z0(e){return e.trim().split(/\s+/)}function hQ(e){return e.replace(/\\U(?:([0-9A-Fa-f]{4})|\{\s*([0-9A-Fa-f]{1,6})\s*\})|\\./g,(t,r,n)=>t==="\\\\"?"\\":String.fromCodePoint(parseInt(r||n,16)))}function dQ(e){return`&#x${e.codePointAt(0).toString(16).toUpperCase()};`}function Lg(e,t,r,n,i,s,a=null){return{open:e,math:t,close:r,n,start:{n:i},end:{n:s},display:a}}class MI{get isEscaped(){return this.display===null}constructor(t,r,n=!0,i={i:0,n:0,delim:""},s={i:0,n:0,delim:""}){this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=fe.UNPROCESSED,this.math=t,this.inputJax=r,this.display=n,this.start=i,this.end=s,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}render(t){t.renderActions.renderMath(this,t)}rerender(t,r=fe.RERENDER){this.state()>=r&&this.state(r-1),t.renderActions.renderMath(this,t,r)}convert(t,r=fe.LAST){t.renderActions.renderConvert(this,t,r)}compile(t){this.state()<fe.COMPILED&&(this.root=this.inputJax.compile(this,t),this.state(fe.COMPILED))}typeset(t){this.state()<fe.TYPESET&&(this.typesetRoot=t.outputJax[this.isEscaped?"escaped":"typeset"](this,t),this.state(fe.TYPESET))}updateDocument(t){}removeFromDocument(t=!1){this.clear()}setMetrics(t,r,n,i){this.metrics={em:t,ex:r,containerWidth:n,scale:i}}state(t=null,r=!1){return t!=null&&(t<fe.INSERTED&&this._state>=fe.INSERTED&&this.removeFromDocument(r),t<fe.TYPESET&&this._state>=fe.TYPESET&&(this.outputData={}),t<fe.COMPILED&&this._state>=fe.COMPILED&&(this.inputData={}),this._state=t),this._state}reset(t=!1){this.state(fe.UNPROCESSED,t)}clear(){}}const fe={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4};function fQ(e,t){if(e in fe)throw Error("State "+e+" already exists");fe[e]=t}class Q0 extends BI{constructor(t){super(t),this.getPatterns()}getPatterns(){const t=this.options,r=[],n=[],i=[];this.end={},this.env=this.sub=0;let s=1;t.inlineMath.forEach(a=>this.addPattern(r,a,!1)),t.displayMath.forEach(a=>this.addPattern(r,a,!0)),r.length&&n.push(r.sort(lQ).join("|")),t.processEnvironments&&(n.push("\\\\begin\\s*\\{([^}]*)\\}"),this.env=s,s++),t.processEscapes&&i.push("\\\\([\\\\$])"),t.processRefs&&i.push("(\\\\(?:eq)?ref\\s*\\{[^}]*\\})"),i.length&&(n.push("("+i.join("|")+")"),this.sub=s),this.start=new RegExp(n.join("|"),"g"),this.hasPatterns=n.length>0}addPattern(t,r,n){const[i,s]=r;t.push(Ig(i)),this.end[i]=[s,n,this.endPattern(s)]}endPattern(t,r){return new RegExp((r||Ig(t))+"|\\\\(?:[a-zA-Z]|.)|[{}]","g")}findEnd(t,r,n,i){const[s,a,o]=i,l=o.lastIndex=n.index+n[0].length;let u,c=0;for(;u=o.exec(t);){if((u[1]||u[0])===s&&c===0)return Lg(n[0],t.substring(l,u.index),u[0],r,n.index,u.index+u[0].length,a);u[0]==="{"?c++:u[0]==="}"&&c&&c--}return null}findMathInString(t,r,n){let i,s;for(this.start.lastIndex=0;i=this.start.exec(n);){if(i[this.env]!==void 0&&this.env){const a="\\\\end\\s*(\\{"+Ig(i[this.env])+"\\})";s=this.findEnd(n,r,i,["{"+i[this.env]+"}",!0,this.endPattern(null,a)]),s&&(s.math=s.open+s.math+s.close,s.open=s.close="")}else if(i[this.sub]!==void 0&&this.sub){const a=i[this.sub],o=i.index+i[this.sub].length;a.length===2?s=Lg("\\",a.substring(1),"",r,i.index,o):s=Lg("",a,"",r,i.index,o,!1)}else s=this.findEnd(n,r,i,this.end[i[0]]);s&&(t.push(s),this.start.lastIndex=s.end.n)}}findMath(t){const r=[];if(this.hasPatterns)for(let n=0,i=t.length;n<i;n++)this.findMathInString(r,n,t[n]);return r}}Q0.OPTIONS={inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,processRefs:!0};const Tr="_inherit_";class pQ{constructor(t,r){this.global=r,this.defaults=Object.create(r),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,t)}set(t,r){this.attributes[t]=r}setList(t){Object.assign(this.attributes,t)}unset(t){delete this.attributes[t]}get(t){let r=this.attributes[t];return r===Tr&&(r=this.global[t]),r}getExplicit(t){return this.hasExplicit(t)?this.attributes[t]:void 0}hasExplicit(t){return Object.hasOwn(this.attributes,t)}hasOneOf(t){for(const r of t)if(this.hasExplicit(r))return!0;return!1}getList(...t){const r={};for(const n of t)r[n]=this.get(n);return r}setInherited(t,r){this.inherited[t]=r}getInherited(t){return this.inherited[t]}getDefault(t){return this.defaults[t]}isSet(t){return Object.hasOwn(this.attributes,t)||Object.hasOwn(this.inherited,t)}hasDefault(t){return t in this.defaults}getExplicitNames(){return Object.keys(this.attributes)}getInheritedNames(){return Object.keys(this.inherited)}getDefaultNames(){return Object.keys(this.defaults)}getGlobalNames(){return Object.keys(this.global)}getAllAttributes(){return this.attributes}getAllInherited(){return this.inherited}getAllDefaults(){return this.defaults}getAllGlobals(){return this.global}}class FI{constructor(t,r={},n=[]){this.factory=t,this.parent=null,this.properties={},this.childNodes=[];for(const i of Object.keys(r))this.setProperty(i,r[i]);n.length&&this.setChildren(n)}get kind(){return"unknown"}setProperty(t,r){this.properties[t]=r}getProperty(t){return this.properties[t]}getPropertyNames(){return Object.keys(this.properties)}getAllProperties(){return this.properties}removeProperty(...t){for(const r of t)delete this.properties[r]}isKind(t){return this.factory.nodeIsKind(this,t)}setChildren(t){this.childNodes=[];for(const r of t)this.appendChild(r)}appendChild(t){return this.childNodes.push(t),t.parent=this,t}replaceChild(t,r){const n=this.childIndex(r);return n!==null&&(this.childNodes[n]=t,t.parent=this,r.parent===this&&(r.parent=null)),t}removeChild(t){const r=this.childIndex(t);return r!==null&&(this.childNodes.splice(r,1),t.parent=null),t}childIndex(t){const r=this.childNodes.indexOf(t);return r===-1?null:r}copy(){const t=this.factory.create(this.kind);t.properties=Object.assign({},this.properties);for(const r of this.childNodes||[])r&&t.appendChild(r.copy());return t}findNodes(t){const r=[];return this.walkTree(n=>{n.isKind(t)&&r.push(n)}),r}walkTree(t,r){t(this,r);for(const n of this.childNodes)n&&n.walkTree(t,r);return r}toString(){return this.kind+"("+this.childNodes.join(",")+")"}}class mQ extends FI{setChildren(t){}appendChild(t){return t}replaceChild(t,r){return r}childIndex(t){return null}walkTree(t,r){return t(this,r),r}toString(){return this.kind}}const mt={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,NONE:-1},gQ=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER"],bQ=["","thinmathspace","mediummathspace","thickmathspace"],yQ=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]],_Q=new Set(["normal","bold","italic","bold-italic","double-struck","fraktur","bold-fraktur","script","bold-script","sans-serif","bold-sans-serif","sans-serif-italic","sans-serif-bold-italic","monospace","inital","tailed","looped","stretched"]),EQ=["indentalign","indentalignfirst","indentshift","indentshiftfirst"];class ae extends FI{constructor(t,r={},n=[]){super(t),this.prevClass=null,this.prevLevel=null,this.texclass=null,this.arity<0&&(this.childNodes=[t.create("inferredMrow")],this.childNodes[0].parent=this),this.setChildren(n),this.attributes=new pQ(t.getNodeClass(this.kind).defaults,t.getNodeClass("math").defaults),this.attributes.setList(r)}copy(t=!1){const r=this.factory.create(this.kind);if(r.properties=Object.assign({},this.properties),this.attributes){const n=this.attributes.getAllAttributes();for(const i of Object.keys(n))(i!=="id"||t)&&r.attributes.set(i,n[i])}if(this.childNodes&&this.childNodes.length){let n=this.childNodes;n.length===1&&n[0].isInferred&&(n=n[0].childNodes);for(const i of n)i?r.appendChild(i.copy()):r.childNodes.push(null)}return r}get texClass(){return this.texclass}set texClass(t){this.texclass=t}get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return"data-align"}get arity(){return 1/0}get isInferred(){return!1}get Parent(){let t=this.parent;for(;t&&t.notParent;)t=t.Parent;return t}get notParent(){return!1}setChildren(t){return this.arity<0?this.childNodes[0].setChildren(t):super.setChildren(t)}appendChild(t){if(this.arity<0)return this.childNodes[0].appendChild(t),t;if(t.isInferred){if(this.arity===1/0)return t.childNodes.forEach(n=>super.appendChild(n)),t;const r=t;t=this.factory.create("mrow"),t.setChildren(r.childNodes),t.attributes=r.attributes;for(const n of r.getPropertyNames())t.setProperty(n,r.getProperty(n))}return super.appendChild(t)}replaceChild(t,r){return this.arity<0?(this.childNodes[0].replaceChild(t,r),t):super.replaceChild(t,r)}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){let t=null,r=this.parent;for(;r&&r.notParent;)t=r,r=r.parent;if(t=t||this,r){let n=0;for(const i of r.childNodes){if(i===t)return n;n++}}return null}setTeXclass(t){return this.getPrevClass(t),this.texClass!=null?this:t}updateTeXclass(t){t&&(this.prevClass=t.prevClass,this.prevLevel=t.prevLevel,t.prevClass=t.prevLevel=null,this.texClass=t.texClass)}getPrevClass(t){t&&(this.prevClass=t.texClass,this.prevLevel=t.attributes.get("scriptlevel"))}texSpacing(){const t=this.prevClass!=null?this.prevClass:mt.NONE,r=this.texClass||mt.ORD;if(t===mt.NONE||r===mt.NONE)return"";const n=yQ[t][r];return(this.prevLevel>0||this.attributes.get("scriptlevel")>0)&&n>=0?"":bQ[Math.abs(n)]}hasSpacingAttributes(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()}setInheritedAttributes(t={},r=!1,n=0,i=!1){var s,a,o;const l=this.attributes.getAllDefaults();for(const f of Object.keys(t)){if(Object.hasOwn(l,f)||Object.hasOwn(ae.alwaysInherit,f)){const[d,p]=t[f];!((a=(s=ae.noInherit[d])===null||s===void 0?void 0:s[this.kind])===null||a===void 0)&&a[f]||this.attributes.setInherited(f,p)}!((o=ae.stopInherit[this.kind])===null||o===void 0)&&o[f]&&(t=Object.assign({},t),delete t[f])}this.attributes.getExplicit("displaystyle")===void 0&&this.attributes.setInherited("displaystyle",r),this.attributes.getExplicit("scriptlevel")===void 0&&this.attributes.setInherited("scriptlevel",n),i&&this.setProperty("texprimestyle",i);const h=this.arity;if(h>=0&&h!==1/0&&(h===1&&this.childNodes.length===0||h!==1&&this.childNodes.length!==h))if(h<this.childNodes.length)this.childNodes=this.childNodes.slice(0,h);else for(;this.childNodes.length<h;)this.appendChild(this.factory.create("mrow"));if(this.linebreakContainer&&!this.isEmbellished){const f=this.linebreakAlign;if(f){const d=this.attributes.get(f)||"left";t=this.addInheritedAttributes(t,{indentalign:d,indentshift:"0",indentalignfirst:d,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"})}}this.setChildInheritedAttributes(t,r,n,i)}setChildInheritedAttributes(t,r,n,i){for(const s of this.childNodes)s.setInheritedAttributes(t,r,n,i)}addInheritedAttributes(t,r){const n=Object.assign({},t);for(const i of Object.keys(r))i!=="displaystyle"&&i!=="scriptlevel"&&i!=="style"&&(n[i]=[this.kind,r[i]]);return n}inheritAttributesFrom(t){const r=t.attributes,n=r.get("displaystyle"),i=r.get("scriptlevel"),s=r.isSet("mathsize")?{mathsize:["math",r.get("mathsize")]}:{},a=t.getProperty("texprimestyle")||!1;this.setInheritedAttributes(s,n,i,a)}verifyTree(t=null){if(t===null)return;this.verifyAttributes(t);const r=this.arity;t.checkArity&&r>=0&&r!==1/0&&(r===1&&this.childNodes.length===0||r!==1&&this.childNodes.length!==r)&&this.mError('Wrong number of children for "'+this.kind+'" node',t,!0),this.verifyChildren(t)}verifyAttributes(t){if(t.checkAttributes){const r=this.attributes,n=[];for(const i of r.getExplicitNames())i.substring(0,5)!=="data-"&&r.getDefault(i)===void 0&&!i.match(/^(?:class|style|id|(?:xlink:)?href)$/)&&n.push(i);n.length&&this.mError("Unknown attributes for "+this.kind+" node: "+n.join(", "),t)}if(t.checkMathvariants){const r=this.attributes.getExplicit("mathvariant");r&&!_Q.has(r)&&!this.getProperty("ignore-variant")&&this.mError(`Invalid mathvariant: ${r}`,t,!0)}}verifyChildren(t){for(const r of this.childNodes)r.verifyTree(t)}mError(t,r,n=!1){if(this.parent&&this.parent.isKind("merror"))return null;const i=this.factory.create("merror");if(i.attributes.set("data-mjx-message",t),r.fullErrors||n){const s=this.factory.create("mtext"),a=this.factory.create("text");a.setText(r.fullErrors?t:this.kind),s.appendChild(a),i.appendChild(s),this.parent.replaceChild(i,this),r.fullErrors||i.attributes.set("title",t)}else this.parent.replaceChild(i,this),i.appendChild(this);return i}}ae.defaults={mathbackground:Tr,mathcolor:Tr,mathsize:Tr,dir:Tr};ae.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}},mtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}},mlabeledtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}}};ae.stopInherit={mtd:{columnalign:!0,rowalign:!0,groupalign:!0}};ae.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0,infixlinebreakstyle:!0};ae.verifyDefaults={checkArity:!0,checkAttributes:!1,checkMathvariants:!0,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0};class en extends ae{get isToken(){return!0}getText(){let t="";for(const r of this.childNodes)r instanceof J0?t+=r.getText():"textContent"in r&&(t+=r.textContent());return t}setChildInheritedAttributes(t,r,n,i){for(const s of this.childNodes)s instanceof ae&&s.setInheritedAttributes(t,r,n,i)}walkTree(t,r){t(this,r);for(const n of this.childNodes)n instanceof ae&&n.walkTree(t,r);return r}}en.defaults=Object.assign(Object.assign({},ae.defaults),{mathvariant:"normal",mathsize:Tr});class ti extends ae{get isSpacelike(){return this.childNodes[0].isSpacelike}get isEmbellished(){return this.childNodes[0].isEmbellished}get arity(){return-1}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}ti.defaults=ae.defaults;class rn extends ae{get isEmbellished(){return this.childNodes[0].isEmbellished}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){this.getPrevClass(t),this.texClass=mt.ORD;const r=this.childNodes[0];let n=null;r&&(this.isEmbellished||r.isKind("mi")?(n=r.setTeXclass(t),this.updateTeXclass(this.core())):r.setTeXclass(null));for(const i of this.childNodes.slice(1))i&&i.setTeXclass(null);return n||this}}rn.defaults=ae.defaults;class M1 extends mQ{get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return""}get arity(){return 0}get isInferred(){return!1}get notParent(){return!1}get Parent(){return this.parent}get texClass(){return mt.NONE}get prevClass(){return mt.NONE}get prevLevel(){return 0}hasSpacingAttributes(){return!1}get attributes(){return null}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){return 0}setTeXclass(t){return t}texSpacing(){return""}setInheritedAttributes(t,r,n,i){}inheritAttributesFrom(t){}verifyTree(t){}mError(t,r,n=!1){return null}}class J0 extends M1{constructor(){super(...arguments),this.text=""}get kind(){return"text"}getText(){return this.text}setText(t){return this.text=t,this}copy(){return this.factory.create(this.kind).setText(this.getText())}toString(){return this.text}}class tb extends M1{constructor(){super(...arguments),this.xml=null,this.adaptor=null}get kind(){return"XML"}getXML(){return this.xml}setXML(t,r=null){return this.xml=t,this.adaptor=r,this}getSerializedXML(){return this.adaptor.serializeXML(this.xml)}copy(){return this.factory.create(this.kind).setXML(this.adaptor.clone(this.xml))}toString(){return"XML data"}}function ve(e,t,r=mt.BIN,n=null){return[e,t,r,n]}const E={ORD:ve(0,0,mt.ORD),ORD11:ve(1,1,mt.ORD),ORD21:ve(2,1,mt.ORD),ORD02:ve(0,2,mt.ORD),ORD55:ve(5,5,mt.ORD),NONE:ve(0,0,mt.NONE),OP:ve(1,2,mt.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),INTEGRAL:ve(0,1,mt.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:ve(1,2,mt.OP,{largeop:!0,symmetric:!0}),BIN3:ve(3,3,mt.BIN),BIN4:ve(4,4,mt.BIN),BIN01:ve(0,1,mt.BIN),BIN5:ve(5,5,mt.BIN),TALLBIN:ve(4,4,mt.BIN,{stretchy:!0}),REL:ve(5,5,mt.REL),REL4:ve(4,4,mt.REL),RELSTRETCH:ve(5,5,mt.REL,{stretchy:!0}),RELACCENT:ve(5,5,mt.REL,{accent:!0}),WIDEREL:ve(5,5,mt.REL,{accent:!0,stretchy:!0}),OPEN:ve(0,0,mt.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:ve(0,0,mt.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:ve(0,0,mt.INNER),ACCENT:ve(0,0,mt.ORD,{accent:!0}),WIDEACCENT:ve(0,0,mt.ORD,{accent:!0,stretchy:!0})},wQ=[[32,127,mt.REL,"mo"],[160,191,mt.ORD,"mo"],[192,591,mt.ORD,"mi"],[688,879,mt.ORD,"mo"],[880,6688,mt.ORD,"mi"],[6832,6911,mt.ORD,"mo"],[6912,7615,mt.ORD,"mi"],[7616,7679,mt.ORD,"mo"],[7680,8191,mt.ORD,"mi"],[8192,8303,mt.ORD,"mo"],[8304,8351,mt.ORD,"mo"],[8448,8527,mt.ORD,"mi"],[8528,8591,mt.ORD,"mn"],[8592,8703,mt.REL,"mo"],[8704,8959,mt.BIN,"mo"],[8960,9215,mt.ORD,"mo"],[9312,9471,mt.ORD,"mn"],[9472,10223,mt.ORD,"mo"],[10224,10239,mt.REL,"mo"],[10240,10495,mt.ORD,"mtext"],[10496,10623,mt.REL,"mo"],[10624,10751,mt.ORD,"mo"],[10752,11007,mt.BIN,"mo"],[11008,11055,mt.ORD,"mo"],[11056,11087,mt.REL,"mo"],[11088,11263,mt.ORD,"mo"],[11264,11744,mt.ORD,"mi"],[11776,11903,mt.ORD,"mo"],[11904,12255,mt.ORD,"mi","normal"],[12272,12351,mt.ORD,"mo"],[12352,42143,mt.ORD,"mi","normal"],[42192,43055,mt.ORD,"mi"],[43056,43071,mt.ORD,"mn"],[43072,55295,mt.ORD,"mi"],[63744,64255,mt.ORD,"mi","normal"],[64256,65023,mt.ORD,"mi"],[65024,65135,mt.ORD,"mo"],[65136,65791,mt.ORD,"mi"],[65792,65935,mt.ORD,"mn"],[65936,74751,mt.ORD,"mi","normal"],[74752,74879,mt.ORD,"mn"],[74880,113823,mt.ORD,"mi","normal"],[113824,119391,mt.ORD,"mo"],[119648,119679,mt.ORD,"mn"],[119808,120781,mt.ORD,"mi"],[120782,120831,mt.ORD,"mn"],[122624,129023,mt.ORD,"mo"],[129024,129279,mt.REL,"mo"],[129280,129535,mt.ORD,"mo"],[131072,195103,mt.ORD,"mi","normal"]];function UI(e){const t=sa.infix[e]||sa.prefix[e]||sa.postfix[e];if(t)return[0,0,t[2],"mo"];const r=e.codePointAt(0);for(const n of wQ)if(r<=n[1]){if(r>=n[0])return n;break}return[0,0,mt.REL,"mo"]}const xQ=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],sa={prefix:{"(":E.OPEN,"+":E.BIN01,"-":E.BIN01,"[":E.OPEN,"{":E.OPEN,"|":E.OPEN,"||":[0,0,mt.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,mt.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"Â¬":E.ORD21,"Â±":E.BIN01,"â":[0,0,mt.ORD,{fence:!0,stretchy:!0}],"â":[0,0,mt.OPEN,{fence:!0}],"â":[0,0,mt.OPEN,{fence:!0}],"â":E.ORD21,"â":ve(2,0,mt.ORD),"â":E.ORD21,"â":E.ORD21,"â":E.ORD21,"â":E.ORD21,"â":E.ORD21,"â":E.OP,"â":E.OP,"â":E.OP,"â":E.BIN01,"â":E.BIN01,"â":[1,1,mt.ORD,{stretchy:!0}],"â":E.ORD11,"â":E.ORD11,"â ":E.ORD,"â¡":E.ORD,"â¢":E.ORD,"â«":E.INTEGRAL,"â¬":E.INTEGRAL,"â­":E.INTEGRAL,"â®":E.INTEGRAL,"â¯":E.INTEGRAL,"â°":E.INTEGRAL,"â±":E.INTEGRAL,"â²":E.INTEGRAL,"â³":E.INTEGRAL,"â":E.OP,"â":E.OP,"â":E.OP,"â":E.OP,"â":E.OPEN,"â":E.OPEN,"â©":E.OPEN,"â²":E.OPEN,"â¦":E.OPEN,"â¨":E.OPEN,"âª":E.OPEN,"â¬":E.OPEN,"â®":E.OPEN,"â¦":[0,0,mt.ORD,{fence:!0,stretchy:!0}],"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â¦":E.OPEN,"â§¼":E.OPEN,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.OP,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â¨":E.INTEGRAL2,"â«¼":E.OP,"â«¿":E.OP},postfix:{"!!":ve(1,0),"!":[1,0,mt.CLOSE,null],'"':E.ACCENT,"&":E.ORD,")":E.CLOSE,"++":ve(0,0),"--":ve(0,0),"..":ve(0,0),"...":E.ORD,"'":E.ACCENT,"]":E.CLOSE,"^":E.WIDEACCENT,_:E.WIDEACCENT,"`":E.ACCENT,"|":E.CLOSE,"}":E.CLOSE,"~":E.WIDEACCENT,"||":[0,0,mt.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,mt.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"Â¨":E.ACCENT,Âª:E.ACCENT,"Â¯":E.WIDEACCENT,"Â°":E.ORD,"Â²":E.ACCENT,"Â³":E.ACCENT,"Â´":E.ACCENT,"Â¸":E.ACCENT,"Â¹":E.ACCENT,Âº:E.ACCENT,"Ë":E.WIDEACCENT,"Ë":E.WIDEACCENT,"Ë":E.WIDEACCENT,"Ë":E.ACCENT,"Ë":E.ACCENT,"Ë":E.WIDEACCENT,"Ë":E.ACCENT,"Ë":E.ACCENT,"Ë":E.ACCENT,"Ë":E.WIDEACCENT,"Ë":E.ACCENT,"Ë·":E.WIDEACCENT,"Ì":E.WIDEACCENT,"Ì":E.ACCENT,"Ï¶":E.REL,"â":[0,0,mt.ORD,{fence:!0,stretchy:!0}],"â":[0,0,mt.CLOSE,{fence:!0}],"â":E.ACCENT,"â":E.ACCENT,"â":[0,0,mt.CLOSE,{fence:!0}],"â":E.ACCENT,"â":E.ACCENT,"â²":E.ORD,"â³":E.ORD,"â´":E.ORD,"âµ":E.ORD,"â¶":E.ORD,"â·":E.ORD,"â¾":E.WIDEACCENT,"â":E.ORD,"â":E.ACCENT,"â":E.ACCENT,"â":E.CLOSE,"â":E.CLOSE,"âª":E.CLOSE,"â´":E.WIDEACCENT,"âµ":E.WIDEACCENT,"â":E.WIDEACCENT,"â":E.WIDEACCENT,"â":E.WIDEACCENT,"â":E.WIDEACCENT,"â ":E.WIDEACCENT,"â¡":E.WIDEACCENT,"â ":E.BIN3,"â¡":E.BIN3,"âª":E.BIN3,"â«":E.BIN3,"â­":E.BIN3,"â®":E.BIN3,"â¯":E.BIN3,"â°":E.BIN3,"â±":E.BIN3,"â²":E.BIN4,"â´":E.BIN4,"â¶":E.BIN4,"â·":E.BIN4,"â¸":E.BIN4,"â¼":E.BIN4,"â¾":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â¦":E.BIN4,"â­":E.ORD02,"â®":E.ORD02,"â¯":E.ORD02,"â³":E.CLOSE,"â§":E.CLOSE,"â©":E.CLOSE,"â«":E.CLOSE,"â­":E.CLOSE,"â¯":E.CLOSE,"â¦":[0,0,mt.ORD,{fence:!0,stretchy:!0}],"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â¦":E.CLOSE,"â§½":E.CLOSE},infix:{"!=":E.BIN4,"#":E.ORD,$:E.ORD,"%":[3,3,mt.ORD,null],"&&":E.BIN4,"":E.ORD,"*":E.BIN3,"**":ve(1,1),"*=":E.BIN4,"+":E.BIN4,"+=":E.BIN4,",":[0,3,mt.PUNCT,{linebreakstyle:"after",separator:!0}],"-":E.BIN4,"-=":E.BIN4,"->":E.BIN5,".":[0,3,mt.PUNCT,{linebreakstyle:"after",separator:!0}],"/":E.ORD11,"//":ve(1,1),"/=":E.BIN4,":":[1,2,mt.REL,null],":=":E.BIN4,";":[0,3,mt.PUNCT,{linebreakstyle:"after",separator:!0}],"<":E.REL,"<=":E.BIN5,"<>":ve(1,1),"=":E.REL,"==":E.BIN4,">":E.REL,">=":E.BIN5,"?":[1,1,mt.CLOSE,null],"@":E.ORD11,"\\":E.ORD,"^":E.ORD11,_:E.ORD11,"|":[2,2,mt.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,mt.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,mt.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"Â±":E.BIN4,"Â·":E.BIN4,"Ã":E.BIN4,"Ã·":E.BIN4,"Ê¹":E.ORD,"Ì":E.ACCENT,"Ì":E.ACCENT,"Ì":E.WIDEACCENT,"Ì":E.ACCENT,"Ì":E.ACCENT,"Ì":E.ACCENT,"Ì":E.ACCENT,"Ì":E.ACCENT,"Ì²":E.WIDEACCENT,"Ì¸":E.REL4,"â":[0,0,mt.ORD,{stretchy:!0}],"â":[0,0,mt.ORD,{stretchy:!0}],"â ":E.BIN3,"â¡":E.BIN3,"â¢":E.BIN4,"â¦":E.INNER,"â":E.BIN4,"â":E.TALLBIN,"â¡":E.NONE,"â¢":E.NONE,"â£":[0,0,mt.NONE,{linebreakstyle:"after",separator:!0}],"â¤":E.NONE,"â":E.ACCENT,â:E.ORD,â:E.ORD,"â":E.ORD,â:E.ORD,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.RELACCENT,"â":E.RELACCENT,"â":E.WIDEREL,"â":E.WIDEREL,"â":E.WIDEREL,"â":E.WIDEREL,"â ":E.WIDEREL,"â¡":E.RELSTRETCH,"â¢":E.WIDEREL,"â£":E.WIDEREL,"â¤":E.WIDEREL,"â¥":E.RELSTRETCH,"â¦":E.WIDEREL,"â§":E.RELSTRETCH,"â¨":E.RELSTRETCH,"â©":E.WIDEREL,"âª":E.WIDEREL,"â«":E.WIDEREL,"â¬":E.WIDEREL,"â­":E.WIDEREL,"â®":E.RELACCENT,"â¯":E.RELSTRETCH,"â°":E.RELSTRETCH,"â±":E.RELSTRETCH,"â²":E.RELSTRETCH,"â³":E.RELSTRETCH,"â´":E.RELSTRETCH,"âµ":E.RELSTRETCH,"â¶":E.RELACCENT,"â·":E.RELACCENT,"â¸":E.REL,"â¹":E.WIDEREL,"âº":E.REL,"â»":E.REL,"â¼":E.WIDEREL,"â½":E.WIDEREL,"â¾":E.RELSTRETCH,"â¿":E.RELSTRETCH,"â":E.WIDEREL,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.WIDEREL,"â":E.RELACCENT,"â":E.RELACCENT,"â":E.RELACCENT,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.RELSTRETCH,"â":E.WIDEREL,"â":E.WIDEREL,"â":E.WIDEREL,"â":E.WIDEREL,"â":E.REL,"â":E.REL,"â ":E.WIDEREL,"â¡":E.RELSTRETCH,"â¢":E.WIDEREL,"â£":E.RELSTRETCH,"â¤":E.WIDEREL,"â¥":E.WIDEREL,"â¦":E.WIDEREL,"â§":E.RELSTRETCH,"â¨":E.WIDEREL,"â©":E.RELSTRETCH,"âª":E.RELSTRETCH,"â«":E.RELSTRETCH,"â¬":E.RELSTRETCH,"â­":E.RELSTRETCH,"â®":E.RELSTRETCH,"â¯":E.RELSTRETCH,"â°":E.WIDEREL,"â±":E.REL,"â²":E.REL,"â³":E.RELSTRETCH,"â´":E.RELACCENT,"âµ":E.RELSTRETCH,"â¶":E.WIDEREL,"â·":E.RELACCENT,"â¸":E.RELACCENT,"â¹":E.RELACCENT,"âº":E.RELACCENT,"â»":E.RELACCENT,"â¼":E.RELACCENT,"â½":E.WIDEREL,"â¾":E.WIDEREL,"â¿":E.WIDEREL,"â":ve(1,2,mt.ORD),"â":E.ORD,"â":E.BIN3,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.BIN3,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.TALLBIN,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.REL,"â":E.ORD,"â":E.REL,"â£":E.REL,"â¤":E.REL,"â¥":E.REL,"â¦":E.REL,"â§":E.BIN4,"â¨":E.BIN4,"â©":E.BIN4,"âª":E.BIN4,"â´":E.REL,"âµ":E.REL,"â¶":E.REL,"â·":E.REL,"â¸":E.BIN4,"â¹":E.REL,"âº":E.BIN4,"â»":E.REL,"â¼":E.REL,"â½":E.REL,"â½Ì±":E.BIN3,"â¾":E.REL,"â¿":E.BIN3,"â":E.BIN4,"â":E.REL,"â":E.REL,"âÌ¸":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"âÌ¸":E.REL,"â":E.REL,"âÌ¸":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â ":E.REL,"â¡":E.REL,"â¢":E.REL,"â£":E.REL,"â¤":E.REL,"â¥":E.REL,"â¦":E.REL,"â¦Ì¸":E.REL,"â§":E.REL,"â¨":E.REL,"â©":E.REL,"âª":E.REL,"âªÌ¸":E.REL,"â«":E.REL,"â«Ì¸":E.REL,"â¬":E.REL,"â­":E.REL,"â®":E.REL,"â¯":E.REL,"â°":E.REL,"â±":E.REL,"â²":E.REL,"â³":E.REL,"â´":E.REL,"âµ":E.REL,"â¶":E.REL,"â·":E.REL,"â¸":E.REL,"â¹":E.REL,"âº":E.REL,"â»":E.REL,"â¼":E.REL,"â½":E.REL,"â¾":E.REL,"â¿":E.REL,"â¿Ì¸":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"ââ":E.REL,"â":E.REL,"ââ":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.REL,"âÌ¸":E.REL,"â":E.REL,"âÌ¸":E.REL,"â":E.REL,"â":E.REL,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â ":E.BIN4,"â¡":E.BIN4,"â¢":E.REL,"â£":E.REL,"â¤":E.ORD55,"â¥":E.REL,"â¦":E.REL,"â§":E.REL,"â¨":E.REL,"â©":E.REL,"âª":E.REL,"â«":E.REL,"â¬":E.REL,"â­":E.REL,"â®":E.REL,"â¯":E.REL,"â°":E.REL,"â±":E.REL,"â²":E.REL,"â³":E.REL,"â´":E.REL,"âµ":E.REL,"â¶":E.REL,"â·":E.REL,"â¸":E.REL,"â¹":E.REL,"âº":E.BIN4,"â»":E.BIN4,"â¼":E.BIN4,"â½":E.BIN4,"â¾":E.BIN3,"â¿":E.BIN3,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.REL,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.BIN4,"â":E.REL,"â":E.BIN4,"â":E.BIN4,"â":E.REL,"â":E.REL,"â":E.BIN4,"â":E.BIN4,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â":E.REL,"â ":E.REL,"â¡":E.REL,"â¢":E.REL,"â£":E.REL,"â¤":E.REL,"â¥":E.REL,"â¦":E.REL,"â§":E.REL,"â¨":E.REL,"â©":E.REL,"âª":E.REL,"â«":E.REL,"â¬":E.REL,"â­":E.REL,"â®":E.ORD55,"â¯":E.INNER,"â°":E.REL,"â±":[5,5,mt.INNER,null],"â²":E.REL,"â³":E.REL,"â´":E.REL,"âµ":E.REL,"â¶":E.REL,"â·":E.REL,"â¸":E.REL,"â¹":E.REL,"âº":E.REL,"â»":E.REL,"â¼":E.REL,"â½":E.REL,"â¾":E.REL,"â¿":E.REL,"â":E.BIN3,"â":E.BIN3,"â¢":E.REL4,"â£":E.REL4,"â©":E.OPEN,"âª":E.CLOSE,"âª":E.ORD,"â¯":[0,0,mt.ORD,{stretchy:!0}],"â°":E.OPEN,"â±":E.CLOSE,"â":E.ORD,"â³":E.BIN4,"âµ":E.BIN4,"â¹":E.BIN4,"â½":E.BIN4,"â¿":E.BIN4,"â":E.BIN4,"â¯":E.BIN3,"â ":E.ORD,"â¡":E.ORD,"â¢":E.ORD,"â£":E.ORD,"â":E.REL,"â°":E.RELSTRETCH,"â±":E.RELSTRETCH,"âµ":E.WIDEREL,"â¶":E.WIDEREL,"â·":E.WIDEREL,"â¸":E.WIDEREL,"â¹":E.WIDEREL,"âº":E.WIDEREL,"â»":E.WIDEREL,"â¼":E.WIDEREL,"â½":E.WIDEREL,"â¾":E.WIDEREL,"â¿":E.WIDEREL,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.REL,"â¤":E.REL,"â¤":E.RELSTRETCH,"â¤":E.RELSTRETCH,"â¤":E.WIDEREL,"â¤":E.WIDEREL,"â¤":E.WIDEREL,"â¤":E.WIDEREL,"â¤":E.WIDEREL,"â¤":E.RELACCENT,"â¤":E.RELSTRETCH,"â¤":E.RELSTRETCH,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤":E.RELACCENT,"â¤ ":E.RELACCENT,"â¤¡":E.RELSTRETCH,"â¤¢":E.RELSTRETCH,"â¤£":E.REL,"â¤¤":E.REL,"â¤¥":E.REL,"â¤¦":E.REL,"â¤§":E.REL,"â¤¨":E.REL,"â¤©":E.REL,"â¤ª":E.REL,"â¤«":E.REL,"â¤¬":E.REL,"â¤­":E.REL,"â¤®":E.REL,"â¤¯":E.REL,"â¤°":E.REL,"â¤±":E.REL,"â¤²":E.REL,"â¤³":E.RELACCENT,"â¤´":E.REL,"â¤µ":E.REL,"â¤¶":E.REL,"â¤·":E.REL,"â¤¸":E.REL,"â¤¹":E.REL,"â¤º":E.RELACCENT,"â¤»":E.RELACCENT,"â¤¼":E.RELACCENT,"â¤½":E.RELACCENT,"â¤¾":E.REL,"â¤¿":E.REL,"â¥":E.REL,"â¥":E.REL,"â¥":E.RELACCENT,"â¥":E.RELACCENT,"â¥":E.RELACCENT,"â¥":E.RELACCENT,"â¥":E.RELACCENT,"â¥":E.RELACCENT,"â¥":E.RELACCENT,"â¥":E.REL,"â¥":E.RELACCENT,"â¥":E.RELACCENT,"â¥":E.REL,"â¥":E.REL,"â¥":E.WIDEREL,"â¥":E.RELSTRETCH,"â¥":E.WIDEREL,"â¥":E.RELSTRETCH,"â¥":E.WIDEREL,"â¥":E.WIDEREL,"â¥":E.RELSTRETCH,"â¥":E.RELSTRETCH,"â¥":E.RELSTRETCH,"â¥":E.RELSTRETCH,"â¥":E.RELSTRETCH,"â¥":E.RELSTRETCH,"â¥":E.WIDEREL,"â¥":E.WIDEREL,"â¥":E.RELSTRETCH,"â¥":E.RELSTRETCH,"â¥":E.WIDEREL,"â¥":E.WIDEREL,"â¥ ":E.RELSTRETCH,"â¥¡":E.RELSTRETCH,"â¥¢":E.RELACCENT,"â¥£":E.REL,"â¥¤":E.RELACCENT,"â¥¥":E.REL,"â¥¦":E.RELACCENT,"â¥§":E.RELACCENT,"â¥¨":E.RELACCENT,"â¥©":E.RELACCENT,"â¥ª":E.RELACCENT,"â¥«":E.RELACCENT,"â¥¬":E.RELACCENT,"â¥­":E.RELACCENT,"â¥®":E.RELSTRETCH,"â¥¯":E.RELSTRETCH,"â¥°":E.RELACCENT,"â¥±":E.RELACCENT,"â¥²":E.RELACCENT,"â¥³":E.RELACCENT,"â¥´":E.RELACCENT,"â¥µ":E.RELACCENT,"â¥¶":E.RELACCENT,"â¥·":E.RELACCENT,"â¥¸":E.RELACCENT,"â¥¹":E.RELACCENT,"â¥º":E.RELACCENT,"â¥»":E.RELACCENT,"â¥¼":E.RELACCENT,"â¥½":E.RELACCENT,"â¥¾":E.REL,"â¥¿":E.REL,"â¦":E.BIN3,"â¦":E.BIN3,"â¦":E.BIN3,"â¦":E.BIN3,"â¦":E.BIN3,"â¦":E.BIN3,"â¦":E.BIN3,"â¦":E.BIN3,"â¦":E.BIN3,"â¦ ":E.BIN3,"â¦¡":E.BIN3,"â¦¢":E.BIN3,"â¦£":E.BIN3,"â¦¤":E.BIN3,"â¦¥":E.BIN3,"â¦¦":E.BIN3,"â¦§":E.BIN3,"â¦¨":E.BIN3,"â¦©":E.BIN3,"â¦ª":E.BIN3,"â¦«":E.BIN3,"â¦¬":E.BIN3,"â¦­":E.BIN3,"â¦®":E.BIN3,"â¦¯":E.BIN3,"â¦°":E.BIN3,"â¦±":E.BIN3,"â¦²":E.BIN3,"â¦³":E.BIN3,"â¦´":E.BIN3,"â¦µ":E.BIN3,"â¦¶":E.BIN4,"â¦·":E.BIN4,"â¦¸":E.BIN4,"â¦¹":E.BIN4,"â¦º":E.BIN4,"â¦»":E.BIN4,"â¦¼":E.BIN4,"â¦½":E.BIN4,"â¦¾":E.BIN4,"â¦¿":E.BIN4,"â§":E.REL,"â§":E.REL,"â§":E.BIN3,"â§":E.BIN3,"â§":E.BIN4,"â§":E.BIN4,"â§":E.BIN4,"â§":E.BIN4,"â§":E.BIN4,"â§":E.BIN3,"â§":E.BIN3,"â§":E.BIN3,"â§":E.BIN3,"â§":E.BIN3,"â§":E.REL,"â§":E.REL,"â§Ì¸":E.REL,"â§":E.REL,"â§Ì¸":E.REL,"â§":E.REL,"â§":E.REL,"â§":E.REL,"â§":E.REL,"â§":E.REL,"â§":E.BIN4,"â§":E.BIN4,"â§":E.BIN3,"â§":E.BIN3,"â§":E.BIN3,"â§":E.BIN3,"â§":E.BIN3,"â§":E.REL,"â§":E.BIN3,"â§ ":E.BIN3,"â§¡":E.REL,"â§¢":E.BIN4,"â§£":E.REL,"â§¤":E.REL,"â§¥":E.REL,"â§¦":E.REL,"â§§":E.BIN3,"â§¨":E.BIN3,"â§©":E.BIN3,"â§ª":E.BIN3,"â§«":E.BIN3,"â§¬":E.BIN3,"â§­":E.BIN3,"â§®":E.BIN3,"â§¯":E.BIN3,"â§°":E.BIN3,"â§±":E.BIN3,"â§²":E.BIN3,"â§³":E.BIN3,"â§´":E.REL,"â§µ":E.BIN4,"â§¶":E.BIN4,"â§·":E.BIN4,"â§¸":E.BIN3,"â§¹":E.BIN3,"â§º":E.BIN3,"â§»":E.BIN3,"â§¾":E.BIN4,"â§¿":E.BIN4,"â¨":E.BIN3,"â¨":E.BIN3,"â¨":E.BIN3,"â¨ ":E.BIN3,"â¨¡":E.BIN3,"â¨¢":E.BIN4,"â¨£":E.BIN4,"â¨¤":E.BIN4,"â¨¥":E.BIN4,"â¨¦":E.BIN4,"â¨§":E.BIN4,"â¨¨":E.BIN4,"â¨©":E.BIN4,"â¨ª":E.BIN4,"â¨«":E.BIN4,"â¨¬":E.BIN4,"â¨­":E.BIN4,"â¨®":E.BIN4,"â¨¯":E.BIN4,"â¨°":E.BIN4,"â¨±":E.BIN4,"â¨²":E.BIN4,"â¨³":E.BIN4,"â¨´":E.BIN4,"â¨µ":E.BIN4,"â¨¶":E.BIN4,"â¨·":E.BIN4,"â¨¸":E.BIN4,"â¨¹":E.BIN4,"â¨º":E.BIN4,"â¨»":E.BIN4,"â¨¼":E.BIN4,"â¨½":E.BIN4,"â¨¾":E.BIN4,"â¨¿":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.REL,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â©":E.BIN4,"â© ":E.BIN4,"â©¡":E.BIN4,"â©¢":E.BIN4,"â©£":E.BIN4,"â©¤":E.BIN4,"â©¥":E.BIN4,"â©¦":E.REL,"â©§":E.REL,"â©¨":E.REL,"â©©":E.REL,"â©ª":E.REL,"â©«":E.REL,"â©¬":E.REL,"â©­":E.REL,"â©®":E.REL,"â©¯":E.REL,"â©°":E.REL,"â©±":E.BIN4,"â©²":E.BIN4,"â©³":E.REL,"â©´":E.REL,"â©µ":E.REL,"â©¶":E.REL,"â©·":E.REL,"â©¸":E.REL,"â©¹":E.REL,"â©º":E.REL,"â©»":E.REL,"â©¼":E.REL,"â©½":E.REL,"â©½Ì¸":E.REL,"â©¾":E.REL,"â©¾Ì¸":E.REL,"â©¿":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª":E.REL,"âª ":E.REL,"âª¡":E.REL,"âª¡Ì¸":E.REL,"âª¢":E.REL,"âª¢Ì¸":E.REL,"âª£":E.REL,"âª¤":E.REL,"âª¥":E.REL,"âª¦":E.REL,"âª§":E.REL,"âª¨":E.REL,"âª©":E.REL,"âªª":E.REL,"âª«":E.REL,"âª¬":E.REL,"âª­":E.REL,"âª®":E.REL,"âª¯":E.REL,"âª¯Ì¸":E.REL,"âª°":E.REL,"âª°Ì¸":E.REL,"âª±":E.REL,"âª²":E.REL,"âª³":E.REL,"âª´":E.REL,"âªµ":E.REL,"âª¶":E.REL,"âª·":E.REL,"âª¸":E.REL,"âª¹":E.REL,"âªº":E.REL,"âª»":E.REL,"âª¼":E.REL,"âª½":E.REL,"âª¾":E.REL,"âª¿":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«":E.REL,"â«Ì¸":E.REL,"â«":E.REL,"â«":E.REL,"â« ":E.REL,"â«¡":E.REL,"â«¢":E.REL,"â«£":E.REL,"â«¤":E.REL,"â«¥":E.REL,"â«¦":E.REL,"â«§":E.REL,"â«¨":E.REL,"â«©":E.REL,"â«ª":E.REL,"â««":E.REL,"â«¬":E.REL,"â«­":E.REL,"â«®":E.REL,"â«¯":E.REL,"â«°":E.REL,"â«±":E.REL,"â«²":E.REL,"â«³":E.REL,"â«´":E.BIN4,"â«µ":E.BIN4,"â«¶":E.BIN4,"â«·":E.REL,"â«¸":E.REL,"â«¹":E.REL,"â«º":E.REL,"â«»":E.BIN4,"â«½":E.BIN4,"â«¾":E.BIN3,"â­":E.RELSTRETCH,"â­":E.RELSTRETCH,"ã":E.OPEN,"ã":E.CLOSE,"ï¸·":E.WIDEACCENT,"ï¸¸":E.WIDEACCENT}};sa.infix["^"]=E.WIDEREL;sa.infix._=E.WIDEREL;sa.infix["â«"]=E.REL;class bn extends en{constructor(){super(...arguments),this._texClass=null,this.lspace=5/18,this.rspace=5/18}get texClass(){return this._texClass===null?this.getOperatorDef(this.getText())[2]:this._texClass}set texClass(t){this._texClass=t}get kind(){return"mo"}get isEmbellished(){return!0}coreParent(){let t=null,r=this;const n=this.factory.getNodeClass("math");for(;r&&r.isEmbellished&&r.coreMO()===this&&!(r instanceof n);)t=r,r=r.parent;return t||this}coreText(t){if(!t)return"";if(t.isEmbellished)return t.coreMO().getText();for(;((t.isKind("mrow")||t.isKind("TeXAtom")||t.isKind("mstyle")||t.isKind("mphantom"))&&t.childNodes.length===1||t.isKind("munderover"))&&t.childNodes[0];)t=t.childNodes[0];return t.isToken?t.getText():""}hasSpacingAttributes(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")}get isAccent(){let t=!1;const r=this.coreParent().parent;if(r){const n=r.isKind("mover")?r.childNodes[r.over].coreMO()?"accent":"":r.isKind("munder")?r.childNodes[r.under].coreMO()?"accentunder":"":r.isKind("munderover")?this===r.childNodes[r.over].coreMO()?"accent":this===r.childNodes[r.under].coreMO()?"accentunder":"":"";n&&(t=r.attributes.getExplicit(n)!==void 0?t:this.attributes.get("accent"))}return t}setTeXclass(t){const{form:r,fence:n}=this.attributes.getList("form","fence");return this.getProperty("texClass")===void 0&&this.hasSpacingAttributes()?null:(n&&this.texClass===mt.REL&&(r==="prefix"&&(this.texClass=mt.OPEN),r==="postfix"&&(this.texClass=mt.CLOSE)),this.adjustTeXclass(t))}adjustTeXclass(t){const r=this.texClass;let n=this.prevClass;if(r===mt.NONE)return t;if(t?(t.getProperty("autoOP")&&(r===mt.BIN||r===mt.REL)&&(n=t.texClass=mt.ORD),n=this.prevClass=t.texClass||mt.ORD,this.prevLevel=this.attributes.getInherited("scriptlevel")):n=this.prevClass=mt.NONE,r===mt.BIN&&(n===mt.NONE||n===mt.BIN||n===mt.OP||n===mt.REL||n===mt.OPEN||n===mt.PUNCT))this.texClass=mt.ORD;else if(n===mt.BIN&&(r===mt.REL||r===mt.CLOSE||r===mt.PUNCT))t.texClass=this.prevClass=mt.ORD;else if(r===mt.BIN){let i=null,s=this.parent;for(;s&&s.parent&&s.isEmbellished&&(s.childNodes.length===1||!s.isKind("mrow")&&s.core()===i);)i=s,s=s.parent;i=i||this,s.childNodes[s.childNodes.length-1]===i&&(this.texClass=mt.ORD)}return this}setInheritedAttributes(t={},r=!1,n=0,i=!1){super.setInheritedAttributes(t,r,n,i);const s=this.getText();this.checkOperatorTable(s),this.checkPseudoScripts(s),this.checkPrimes(s),this.checkMathAccent(s)}getOperatorDef(t){const[r,n,i]=this.handleExplicitForm(this.getForms());this.attributes.setInherited("form",r);const s=this.constructor,a=s.OPTABLE,o=a[r][t]||a[n][t]||a[i][t];if(o)return o;this.setProperty("noDictDef",!0);const l=this.attributes.get("movablelimits");if((!!t.match(s.opPattern)||l)&&this.getProperty("texClass")===void 0)return ve(1,2,mt.OP);const c=UI(t),[h,f]=s.MMLSPACING[c[2]];return ve(h,f,c[2])}checkOperatorTable(t){const r=this.getOperatorDef(t);this.getProperty("texClass")===void 0&&(this.texClass=r[2]);for(const n of Object.keys(r[3]||{}))this.attributes.setInherited(n,r[3][n]);this.lspace=((r[0]||-1)+1)/18,this.rspace=((r[1]||-1)+1)/18}getForms(){let t=null,r=this.parent,n=this.Parent;for(;n&&n.isEmbellished;)t=r,r=n.parent,n=n.Parent;if(t=t||this,r&&r.isKind("mrow")&&r.nonSpaceLength()!==1){if(r.firstNonSpace()===t)return["prefix","infix","postfix"];if(r.lastNonSpace()===t)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]}handleExplicitForm(t){if(this.attributes.isSet("form")){const r=this.attributes.get("form");t=[r].concat(t.filter(n=>n!==r))}return t}checkPseudoScripts(t){const r=this.constructor.pseudoScripts;if(!t.match(r))return;const n=this.coreParent().Parent,i=!n||!(n.isKind("msubsup")&&!n.isKind("msub"));this.setProperty("pseudoscript",i),i&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}checkPrimes(t){const r=this.constructor.primes;if(!t.match(r))return;const n=this.constructor.remapPrimes,i=cQ(uQ(t).map(s=>n[s]));this.setProperty("primes",i)}checkMathAccent(t){const r=this.Parent;if(this.getProperty("mathaccent")!==void 0||!r||!r.isKind("munderover"))return;const[n,i,s]=r.childNodes;if(n.isEmbellished&&n.coreMO()===this)return;const a=!!(i&&i.isEmbellished&&i.coreMO()===this),o=!!(s&&s.isEmbellished&&i.coreMO()===this);!a&&!o||(this.isMathAccent(t)?this.setProperty("mathaccent",!0):this.isMathAccentWithWidth(t)&&this.setProperty("mathaccent",!1))}isMathAccent(t=this.getText()){const r=this.constructor.mathaccents;return!!t.match(r)}isMathAccentWithWidth(t=this.getText()){const r=this.constructor.mathaccentsWithWidth;return!!t.match(r)}}bn.defaults=Object.assign(Object.assign({},en.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"100%",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});bn.MMLSPACING=xQ;bn.OPTABLE=sa;bn.pseudoScripts=new RegExp(["^[\"'*`","Âª","Â°","Â²-Â´","Â¹","Âº","â-â","â²-â·â","â°â±","â´-â¿","â-â","]+$"].join(""));bn.primes=new RegExp([`^["'`,"â-â","]+$"].join(""));bn.opPattern=/^[a-zA-Z]{2,}$/;bn.remapPrimes={34:8243,39:8242,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246};bn.mathaccents=new RegExp(["^[","Â´ÌË","`ÌË","Â¨Ì","~ÌË","Â¯ÌË","ËÌ","ËÌ","^ÌË","ââ","âââ¡","ËÌ","ËÌ","â","â","]$"].join(""));bn.mathaccentsWithWidth=new RegExp(["^[","âââ","ââ","ââ","]$"].join(""));const ft={attrs:new Set(["autoOP","fnOP","movesupsub","subsupOK","texprimestyle","useHeight","variantForm","withDelims","mathaccent","open","close"]),createEntity(e){return String.fromCodePoint(parseInt(e,16))},getChildren(e){return e.childNodes},getText(e){return e.getText()},appendChildren(e,t){for(const r of t)e.appendChild(r)},setAttribute(e,t,r){e.attributes.set(t,r)},setProperty(e,t,r){e.setProperty(t,r)},setProperties(e,t){for(const r of Object.keys(t)){const n=t[r];r==="texClass"?(e.texClass=n,e.setProperty(r,n)):r==="movablelimits"?(e.setProperty("movablelimits",n),(e.isKind("mo")||e.isKind("mstyle"))&&e.attributes.set("movablelimits",n)):r==="inferred"||(ft.attrs.has(r)?e.setProperty(r,n):e.attributes.set(r,n))}},getProperty(e,t){return e.getProperty(t)},getAttribute(e,t){return e.attributes.get(t)},removeAttribute(e,t){e.attributes.unset(t)},removeProperties(e,...t){e.removeProperty(...t)},getChildAt(e,t){return e.childNodes[t]},setChild(e,t,r){const n=e.childNodes;n[t]=r,r&&(r.parent=e)},copyChildren(e,t){const r=e.childNodes;for(let n=0;n<r.length;n++)this.setChild(t,n,r[n])},copyAttributes(e,t){t.attributes=e.attributes,this.setProperties(t,e.getAllProperties())},isType(e,t){return e.isKind(t)},isEmbellished(e){return e.isEmbellished},getTexClass(e){return e.texClass},getCoreMO(e){return e.coreMO()},isNode(e){return e instanceof ae||e instanceof M1},isInferred(e){return e.isInferred},getForm(e){if(!e.isKind("mo"))return null;const t=e,r=t.getForms();for(const n of r){const i=this.getOp(t,n);if(i)return i}return null},getOp(e,t="infix"){return bn.OPTABLE[t][e.getText()]||null},getMoAttribute(e,t){var r,n;if(!e.attributes.isSet(t))for(const i of["infix","postfix","prefix"]){const s=(n=(r=this.getOp(e,i))===null||r===void 0?void 0:r[3])===null||n===void 0?void 0:n[t];if(s!==void 0)return s}return e.attributes.get(t)}};function TQ(e,t,r){const n=t.attributes,i=r.attributes;e.forEach(s=>{const a=i.getExplicit(s);a!=null&&n.set(s,a)})}function vQ(e,t){const r=(o,l)=>o.getExplicitNames().filter(c=>c!==l&&(c!=="stretchy"||o.getExplicit("stretchy"))&&c!=="data-latex"&&c!=="data-latex-item"),n=e.attributes,i=t.attributes,s=r(n,"lspace"),a=r(i,"rspace");if(s.length!==a.length)return!1;for(const o of s)if(n.getExplicit(o)!==i.getExplicit(o))return!1;return!0}function pT(e,t,r){const n=[];for(const i of e.getList("m"+t+r)){const s=i.childNodes;if(s[i[t]]&&s[i[r]])continue;const a=i.parent,o=s[i[t]]?e.nodeFactory.create("node","m"+t,[s[i.base],s[i[t]]]):e.nodeFactory.create("node","m"+r,[s[i.base],s[i[r]]]);ft.copyAttributes(i,o),a.replaceChild(o,i),n.push(i)}e.removeFromList("m"+t+r,n)}function Rg(e,t,r){const n=[];for(const i of e.getList(t)){if(i.attributes.get("displaystyle"))continue;const s=i.childNodes[i.base],a=s.coreMO();if(s.getProperty("movablelimits")&&!a.attributes.hasExplicit("movablelimits")){const o=e.nodeFactory.create("node",r,i.childNodes);ft.copyAttributes(i,o),i.parent.replaceChild(o,i),n.push(i)}}e.removeFromList(t,n)}const Fs={cleanStretchy(e){const t=e.data;for(const r of t.getList("fixStretchy"))if(ft.getProperty(r,"fixStretchy")){const n=ft.getForm(r);n&&n[3]&&n[3].stretchy&&ft.setAttribute(r,"stretchy",!1);const i=r.parent;if(!ft.getTexClass(r)&&(!n||!n[2])){const s=t.nodeFactory.create("node","TeXAtom",[r]);i.replaceChild(s,r),s.inheritAttributesFrom(r)}ft.removeProperties(r,"fixStretchy")}},cleanAttributes(e){e.data.root.walkTree((r,n)=>{const i=r.attributes,s=new Set((i.get("mjx-keep-attrs")||"").split(/ /));i.unset("mjx-keep-attrs");for(const a of i.getExplicitNames())!s.has(a)&&i.get(a)===r.attributes.getInherited(a)&&i.unset(a)},{})},combineRelations(e){const t=[];for(const r of e.data.getList("mo")){if(r.getProperty("relationsCombined")||!r.parent||r.parent&&!ft.isType(r.parent,"mrow")||ft.getTexClass(r)!==mt.REL)continue;const n=r.parent;let i;const s=n.childNodes,a=s.indexOf(r)+1,o=ft.getProperty(r,"variantForm");for(;a<s.length&&(i=s[a])&&ft.isType(i,"mo")&&ft.getTexClass(i)===mt.REL;)if(o===ft.getProperty(i,"variantForm")&&vQ(r,i)){ft.appendChildren(r,ft.getChildren(i)),TQ(["stretchy","rspace"],r,i);for(const l of i.getPropertyNames())r.setProperty(l,i.getProperty(l));i.attributes.get("data-latex")&&r.attributes.set("data-latex",r.attributes.get("data-latex")+i.attributes.get("data-latex")),s.splice(a,1),t.push(i),i.parent=null,i.setProperty("relationsCombined",!0),r.setProperty("texClass",mt.REL)}else{r.attributes.hasExplicit("rspace")||ft.setAttribute(r,"rspace","0pt"),i.attributes.hasExplicit("lspace")||ft.setAttribute(i,"lspace","0pt");break}r.attributes.setInherited("form",r.getForms()[0])}e.data.removeFromList("mo",t)},cleanSubSup(e){const t=e.data;t.error||(pT(t,"sub","sup"),pT(t,"under","over"))},moveLimits(e){const t=e.data;Rg(t,"munderover","msubsup"),Rg(t,"munder","msub"),Rg(t,"mover","msup")},setInherited(e){e.data.root.setInheritedAttributes({},e.math.display,0,!1)},checkScriptlevel(e){const t=e.data,r=[];for(const n of t.getList("mstyle")){if(n.childNodes[0].childNodes.length!==1)continue;const i=n.attributes;for(const a of["displaystyle","scriptlevel"])i.getExplicit(a)===i.getInherited(a)&&i.unset(a);const s=i.getExplicitNames();if(s.filter(a=>a.substring(0,10)!=="data-latex").length===0){const a=n.childNodes[0].childNodes[0];s.forEach(o=>a.attributes.set(o,i.get(o))),n.parent.replaceChild(a,n),r.push(n)}}t.removeFromList("mstyle",r)}};var ye;(function(e){e.HANDLER="handler",e.FALLBACK="fallback",e.ITEMS="items",e.TAGS="tags",e.OPTIONS="options",e.NODES="nodes",e.PREPROCESSORS="preprocessors",e.POSTPROCESSORS="postprocessors",e.INIT="init",e.CONFIG="config",e.PRIORITY="priority",e.PARSER="parser"})(ye||(ye={}));var le;(function(e){e.DELIMITER="delimiter",e.MACRO="macro",e.CHARACTER="character",e.ENVIRONMENT="environment"})(le||(le={}));class AQ{constructor(t){this.num="([-+]?([.,]\\d+|\\d+([.,]\\d*)?))",this.unit="",this.dimenEnd=/./,this.dimenRest=/./,this.map=new Map(t),this.updateDimen()}updateDimen(){this.unit=`(${Array.from(this.map.keys()).join("|")})`,this.dimenEnd=RegExp("^\\s*"+this.num+"\\s*"+this.unit+"\\s*$"),this.dimenRest=RegExp("^\\s*"+this.num+"\\s*"+this.unit+" ?")}set(t,r){return this.map.set(t,r),this.updateDimen(),this}get(t){return this.map.get(t)||this.map.get("pt")}delete(t){return this.map.delete(t)?(this.updateDimen(),!0):!1}}const Fc=7.2,CQ=72;function kQ([e,t,r]){return t!=="mu"?[e,t,r]:[Ce.em(Ce.UNIT_CASES.get(t)*parseFloat(e)).slice(0,-2),"em",r]}const Ce={UNIT_CASES:new AQ([["em",1],["ex",.43],["pt",1/10],["pc",1.2],["px",Fc/CQ],["in",Fc],["cm",Fc/2.54],["mm",Fc/25.4],["mu",1/18]]),matchDimen(e,t=!1){const r=e.match(t?Ce.UNIT_CASES.dimenRest:Ce.UNIT_CASES.dimenEnd);return r?kQ([r[1].replace(/,/,"."),r[4],r[0].length]):[null,null,0]},dimen2em(e){const[t,r]=Ce.matchDimen(e),n=parseFloat(t||"1");return Ce.UNIT_CASES.get(r)*n},em(e){return Math.abs(e)<6e-4?"0em":e.toFixed(3).replace(/\.?0+$/,"")+"em"},trimSpaces(e){if(typeof e!="string")return e;let t=e.trim();return t.match(/\\$/)&&e.match(/ $/)&&(t+=" "),t}};let SQ=class{constructor(t,r,n){this._factory=t,this._env=r,this.global={},this.stack=[],this.global={isInner:n},this.stack=[this._factory.create("start",this.global)],r&&(this.stack[0].env=r),this.env=this.stack[0].env}set env(t){this._env=t}get env(){return this._env}Push(...t){for(const r of t){if(!r)continue;const n=ft.isNode(r)?this._factory.create("mml",r):r;n.global=this.global;const[i,s]=this.stack.length?this.Top().checkItem(n):[null,!0];if(s){if(i){this.Pop(),this.Push(...i);continue}n.isKind("null")||this.stack.push(n),n.env?(n.copyEnv&&Object.assign(n.env,this.env),this.env=n.env):n.env=this.env}}}Pop(){const t=this.stack.pop();return t.isOpen||delete t.env,this.env=this.stack.length?this.Top().env:{},t}Top(t=1){return this.stack.length<t?null:this.stack[this.stack.length-t]}Prev(t){const r=this.Top();return t?r.First:r.Pop()}get height(){return this.stack.length}toString(){return`stack[
  `+this.stack.join(`
  `)+`
]`}};class Ot{static processString(t,r){const n=t.split(Ot.pattern);for(let i=1,s=n.length;i<s;i+=2){let a=n[i].charAt(0);a>="0"&&a<="9"?(n[i]=r[parseInt(n[i],10)-1],typeof n[i]=="number"&&(n[i]=n[i].toString())):a==="{"&&(a=n[i].substring(1),a>="0"&&a<="9"?(n[i]=r[parseInt(n[i].substring(1,n[i].length-1),10)-1],typeof n[i]=="number"&&(n[i]=n[i].toString())):n[i].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/)&&(n[i]="%"+n[i]))}return n.join("")}constructor(t,r,...n){this.id=t,this.message=Ot.processString(r,n)}}Ot.pattern=/%(\d+|\{\d+\}|\{[a-z]+:%\d+(?:\|(?:%\{\d+\}|%.|[^}])*)+\}|.)/g;class IQ{constructor(t){this._nodes=t,this.startStr="",this.startI=0,this.stopI=0}get nodes(){return this._nodes}Push(...t){this._nodes.push(...t)}Pop(){return this._nodes.pop()}get First(){return this._nodes[this.Size()-1]}set First(t){this._nodes[this.Size()-1]=t}get Last(){return this._nodes[0]}set Last(t){this._nodes[0]=t}Peek(t){return t==null&&(t=1),this._nodes.slice(this.Size()-t)}Size(){return this._nodes.length}Clear(){this._nodes=[]}toMml(t=!0,r){return this._nodes.length===1&&!r?this.First:this.create("node",t?"inferredMrow":"mrow",this._nodes,{})}create(t,...r){return this.factory.configuration.nodeFactory.create(t,...r)}}class ue extends IQ{constructor(t,...r){super(r),this.factory=t,this.global={},this._properties={},this.isOpen&&(this._env={})}get kind(){return"base"}get env(){return this._env}set env(t){this._env=t}get copyEnv(){return!0}getProperty(t){return this._properties[t]}setProperty(t,r){return this._properties[t]=r,this}get isOpen(){return!1}get isClose(){return!1}get isFinal(){return!1}isKind(t){return t===this.kind}checkItem(t){if(t.isKind("over")&&this.isOpen&&(t.setProperty("num",this.toMml(!1)),this.Clear()),t.isKind("cell")&&this.isOpen){if(t.getProperty("linebreak"))return ue.fail;throw new Ot("Misplaced","Misplaced %1",t.getName())}if(t.isClose&&this.getErrors(t.kind)){const[r,n]=this.getErrors(t.kind);throw new Ot(r,n,t.getName())}return t.isFinal?(this.Push(t.First),ue.fail):ue.success}clearEnv(){for(const t of Object.keys(this.env))delete this.env[t]}setProperties(t){return Object.assign(this._properties,t),this}getName(){return this.getProperty("name")}toString(){return this.kind+"["+this.nodes.join("; ")+"]"}getErrors(t){return this.constructor.errors[t]||ue.errors[t]}}ue.fail=[null,!1];ue.success=[null,!0];ue.errors={end:["MissingBeginExtraEnd","Missing \\begin{%1} or extra \\end{%1}"],close:["ExtraCloseMissingOpen","Extra close brace or missing open brace"],right:["MissingLeftExtraRight","Missing \\left or extra \\right"],middle:["ExtraMiddle","Extra \\middle"]};const Wt={Variant:{NORMAL:"normal",BOLD:"bold",ITALIC:"italic",BOLDITALIC:"bold-italic",DOUBLESTRUCK:"double-struck",FRAKTUR:"fraktur",BOLDFRAKTUR:"bold-fraktur",SCRIPT:"script",BOLDSCRIPT:"bold-script",SANSSERIF:"sans-serif",BOLDSANSSERIF:"bold-sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",MONOSPACE:"monospace",CALLIGRAPHIC:"-tex-calligraphic",BOLDCALLIGRAPHIC:"-tex-bold-calligraphic",OLDSTYLE:"-tex-oldstyle",MATHITALIC:"-tex-mathit"},Form:{PREFIX:"prefix"},LineBreak:{NEWLINE:"newline",NOBREAK:"nobreak",GOODBREAK:"goodbreak",BADBREAK:"badbreak"},LineBreakStyle:{BEFORE:"before"},Align:{LEFT:"left",RIGHT:"right"},Attr:{LATEX:"data-latex",LATEXITEM:"data-latex-item"}};class Xe{constructor(t,r,n){this._string=t,this.configuration=n,this.macroCount=0,this.i=0,this.currentCS="",this.saveI=0;const i=Object.hasOwn(r,"isInner"),s=r.isInner;delete r.isInner;let a;if(r){a={};for(const o of Object.keys(r))a[o]=r[o]}this.configuration.pushParser(this),this.stack=new SQ(this.itemFactory,a,i?s:!0),this.Parse(),this.Push(this.itemFactory.create("stop")),this.updateResult(this.string,this.i),this.stack.env=a}get options(){return this.configuration.options}get itemFactory(){return this.configuration.itemFactory}get tags(){return this.configuration.tags}set string(t){this._string=t}get string(){return this._string}parse(t,r){const n=this.saveI;this.saveI=this.i;const i=this.configuration.handlers.get(t).parse(r);return this.updateResult(r[1],n),this.saveI=n,i}lookup(t,r){return this.configuration.handlers.get(t).lookup(r)}contains(t,r){return this.configuration.handlers.get(t).contains(r)}toString(){let t="";for(const r of Array.from(this.configuration.handlers.keys()))t+=r+": "+this.configuration.handlers.get(r)+`
`;return t}Parse(){let t;for(;this.i<this.string.length;)t=this.getCodePoint(),this.i+=t.length,this.parse(le.CHARACTER,[this,t])}Push(t){t instanceof ue&&(t.startI=this.saveI,t.stopI=this.i,t.startStr=this.string),t instanceof ae&&t.isInferred?this.PushAll(t.childNodes):this.stack.Push(t)}PushAll(t){for(const r of t)this.stack.Push(r)}mml(){if(!this.stack.Top().isKind("mml"))return null;const t=this.stack.Top().First;return this.configuration.popParser(),t.attributes.set(Wt.Attr.LATEX,this.string),t}convertDelimiter(t){var r;const n=this.lookup(le.DELIMITER,t);return(r=n?.char)!==null&&r!==void 0?r:null}getCodePoint(){const t=this.string.codePointAt(this.i);return t===void 0?"":String.fromCodePoint(t)}nextIsSpace(){return!!this.string.charAt(this.i).match(/\s/)}GetNext(){for(;this.nextIsSpace();)this.i++;return this.getCodePoint()}GetCS(){const t=this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);return t?(this.i+=t[0].length,t[2]||t[1]):(this.i++," ")}GetArgument(t,r=!1){switch(this.GetNext()){case"":if(!r)throw new Ot("MissingArgFor","Missing argument for %1",this.currentCS);return null;case"}":if(!r)throw new Ot("ExtraCloseMissingOpen","Extra close brace or missing open brace");return null;case"\\":return this.i++,"\\"+this.GetCS();case"{":{const i=++this.i;let s=1;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"\\":this.i++;break;case"{":s++;break;case"}":if(--s===0)return this.string.slice(i,this.i-1);break}throw new Ot("MissingCloseBrace","Missing close brace")}}const n=this.getCodePoint();return this.i+=n.length,n}GetBrackets(t,r,n=!1){if(this.GetNext()!=="[")return r;const i=++this.i;let s=0,a=0;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"{":s++;break;case"\\":this.i++;break;case"}":if(s--<=0)throw new Ot("ExtraCloseLooking","Extra close brace while looking for %1","']'");break;case"[":s===0&&a++;break;case"]":if(s===0){if(!n||a===0)return this.string.slice(i,this.i-1);a--}break}throw new Ot("MissingCloseBracket","Could not find closing ']' for argument to %1",this.currentCS)}GetDelimiter(t,r=!1){let n=this.GetNext();if(this.i+=n.length,this.i<=this.string.length&&(n==="\\"?n+=this.GetCS():n==="{"&&r&&(this.i--,n=this.GetArgument(t).trim()),this.contains(le.DELIMITER,n)))return this.convertDelimiter(n);throw new Ot("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)}GetDimen(t){if(this.GetNext()==="{"){const r=this.GetArgument(t),[n,i]=Ce.matchDimen(r);if(n)return n+i}else{const r=this.string.slice(this.i),[n,i,s]=Ce.matchDimen(r,!0);if(n)return this.i+=s,n+i}throw new Ot("MissingDimOrUnits","Missing dimension or its units for %1",this.currentCS)}GetUpTo(t,r){for(;this.nextIsSpace();)this.i++;const n=this.i;let i=0;for(;this.i<this.string.length;){const s=this.i;let a=this.GetNext();switch(this.i+=a.length,a){case"\\":a+=this.GetCS();break;case"{":i++;break;case"}":if(i===0)throw new Ot("ExtraCloseLooking","Extra close brace while looking for %1",r);i--;break}if(i===0&&a===r)return this.string.slice(n,s)}throw new Ot("TokenNotFoundForCommand","Could not find %1 for %2",r,this.currentCS)}ParseArg(t){return new Xe(this.GetArgument(t),this.stack.env,this.configuration).mml()}ParseUpTo(t,r){return new Xe(this.GetUpTo(t,r),this.stack.env,this.configuration).mml()}GetDelimiterArg(t){const r=Ce.trimSpaces(this.GetArgument(t));if(r==="")return null;if(this.contains(le.DELIMITER,r))return r;throw new Ot("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)}GetStar(){const t=this.GetNext()==="*";return t&&this.i++,t}create(t,...r){const n=this.configuration.nodeFactory.create(t,...r);return n.isToken&&n.attributes.hasExplicit("mathvariant")&&n.attributes.get("mathvariant").charAt(0)==="-"&&n.setProperty("ignore-variant",!0),n}updateResult(t,r){const n=this.stack.Prev(!0);if(!n)return;const i=n.attributes.get(Wt.Attr.LATEXITEM);if(i!==void 0){n.attributes.set(Wt.Attr.LATEX,i);return}r=r<this.saveI?this.saveI:r;let s=r!==this.i?this.string.slice(r,this.i):t;if(s=s.trim(),!!s){if(t==="\\"&&(s="\\"+s),n.attributes.get(Wt.Attr.LATEX)==="^"&&s!=="^"&&s!=="\\^"){if(n.childNodes[2]&&(s==="}"?this.composeBraces(n.childNodes[2]):n.childNodes[2].attributes.set(Wt.Attr.LATEX,s)),n.childNodes[1]){const a=n.childNodes[1].attributes.get(Wt.Attr.LATEX);this.composeLatex(n,`_${a}^`,0,2)}else this.composeLatex(n,"^",0,2);return}if(n.attributes.get(Wt.Attr.LATEX)==="_"&&s!=="_"&&s!=="\\_"){if(n.childNodes[1]&&(s==="}"?this.composeBraces(n.childNodes[1]):n.childNodes[1].attributes.set(Wt.Attr.LATEX,s)),n.childNodes[2]){const a=n.childNodes[2].attributes.get(Wt.Attr.LATEX);this.composeLatex(n,`^${a}_`,0,1)}else this.composeLatex(n,"_",0,1);return}if(s==="}"){this.composeBraces(n);return}n.attributes.set(Wt.Attr.LATEX,s)}}composeLatex(t,r,n,i){if(!t.childNodes[n]||!t.childNodes[i])return;const s=(t.childNodes[n].attributes.get(Wt.Attr.LATEX)||"")+r+t.childNodes[i].attributes.get(Wt.Attr.LATEX);t.attributes.set(Wt.Attr.LATEX,s)}composeBraces(t){const r=this.composeBracedContent(t);t.attributes.set(Wt.Attr.LATEX,`{${r}}`)}composeBracedContent(t){var r,n;const i=((r=t.childNodes[0])===null||r===void 0?void 0:r.childNodes)||[];let s="";for(const a of i){const o=((n=a?.attributes)===null||n===void 0?void 0:n.get(Wt.Attr.LATEX))||"";o&&(s+=s&&s.match(/[a-zA-Z]$/)&&o.match(/^[a-zA-Z]/)?" "+o:o)}return s}}class F1{constructor(t=null){this.defaultKind="unknown",this.nodeMap=new Map,this.node={},t===null&&(t=this.constructor.defaultNodes);for(const r of Object.keys(t))this.setNodeClass(r,t[r])}create(t,...r){return(this.node[t]||this.node[this.defaultKind])(...r)}setNodeClass(t,r){this.nodeMap.set(t,r);const n=this.nodeMap.get(t);this.node[t]=(...i)=>new n(this,...i)}getNodeClass(t){return this.nodeMap.get(t)}deleteNodeClass(t){this.nodeMap.delete(t),delete this.node[t]}nodeIsKind(t,r){return t instanceof this.getNodeClass(r)}getKinds(){return Array.from(this.nodeMap.keys())}}F1.defaultNodes={};class mT extends ue{}class HI extends F1{constructor(){super(...arguments),this.defaultKind="dummy",this.configuration=null}}HI.DefaultStackItems={[mT.prototype.kind]:mT};class Xs{constructor(){this.mmlFactory=null,this.factory={node:Xs.createNode,token:Xs.createToken,text:Xs.createText,error:Xs.createError}}static createNode(t,r,n=[],i={},s){const a=t.mmlFactory.create(r);return a.setChildren(n),s&&a.appendChild(s),ft.setProperties(a,i),a}static createToken(t,r,n={},i=""){const s=t.create("text",i);return t.create("node",r,[],n,s)}static createText(t,r){return r==null?null:t.mmlFactory.create("text").setText(r)}static createError(t,r){const n=t.create("text",r),i=t.create("node","mtext",[],{},n);return t.create("node","merror",[i],{"data-mjx-error":r})}setMmlFactory(t){this.mmlFactory=t}set(t,r){this.factory[t]=r}setCreators(t){for(const r in t)this.set(r,t[r])}create(t,...r){const i=(this.factory[t]||this.factory.node)(this,r[0],...r.slice(1));return t==="node"&&this.configuration.addNode(r[0],i),i}get(t){return this.factory[t]}}function $I(e){return Promise.reject(`Can't load '${e}': No mathjax.asyncLoad method specified`)}const ms={ApplyFunction:"â¡",Backslash:"â",Because:"âµ",Breve:"Ë",Cap:"â",CenterDot:"Â·",CircleDot:"â",CircleMinus:"â",CirclePlus:"â",CircleTimes:"â",Congruent:"â¡",ContourIntegral:"â®",Coproduct:"â",Cross:"â¨¯",Cup:"â",CupCap:"â",Dagger:"â¡",Del:"â",Delta:"Î",Diamond:"â",DifferentialD:"â",DotEqual:"â",DoubleDot:"Â¨",DoubleRightTee:"â¨",DoubleVerticalBar:"â¥",DownArrow:"â",DownLeftVector:"â½",DownRightVector:"â",DownTee:"â¤",Downarrow:"â",Element:"â",EqualTilde:"â",Equilibrium:"â",Exists:"â",ExponentialE:"â",FilledVerySmallSquare:"âª",ForAll:"â",Gamma:"Î",Gg:"â",GreaterEqual:"â¥",GreaterEqualLess:"â",GreaterFullEqual:"â§",GreaterLess:"â·",GreaterSlantEqual:"â©¾",GreaterTilde:"â³",Hacek:"Ë",Hat:"^",HumpDownHump:"â",HumpEqual:"â",Im:"â",ImaginaryI:"â",Integral:"â«",Intersection:"â",InvisibleComma:"â£",InvisibleTimes:"â¢",Lambda:"Î",Larr:"â",LeftAngleBracket:"â¨",LeftArrow:"â",LeftArrowRightArrow:"â",LeftCeiling:"â",LeftDownVector:"â",LeftFloor:"â",LeftRightArrow:"â",LeftTee:"â£",LeftTriangle:"â²",LeftTriangleEqual:"â´",LeftUpVector:"â¿",LeftVector:"â¼",Leftarrow:"â",Leftrightarrow:"â",LessEqualGreater:"â",LessFullEqual:"â¦",LessGreater:"â¶",LessSlantEqual:"â©½",LessTilde:"â²",Ll:"â",Lleftarrow:"â",LongLeftArrow:"âµ",LongLeftRightArrow:"â·",LongRightArrow:"â¶",Longleftarrow:"â¸",Longleftrightarrow:"âº",Longrightarrow:"â¹",Lsh:"â°",MinusPlus:"â",NestedGreaterGreater:"â«",NestedLessLess:"âª",NotDoubleVerticalBar:"â¦",NotElement:"â",NotEqual:"â ",NotExists:"â",NotGreater:"â¯",NotGreaterEqual:"â±",NotLeftTriangle:"âª",NotLeftTriangleEqual:"â¬",NotLess:"â®",NotLessEqual:"â°",NotPrecedes:"â",NotPrecedesSlantEqual:"â ",NotRightTriangle:"â«",NotRightTriangleEqual:"â­",NotSubsetEqual:"â",NotSucceeds:"â",NotSucceedsSlantEqual:"â¡",NotSupersetEqual:"â",NotTilde:"â",NotVerticalBar:"â¤",Omega:"Î©",OverBar:"â¾",OverBrace:"â",PartialD:"â",Phi:"Î¦",Pi:"Î ",PlusMinus:"Â±",Precedes:"âº",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â¼",PrecedesTilde:"â¾",Product:"â",Proportional:"â",Psi:"Î¨",Rarr:"â ",Re:"â",ReverseEquilibrium:"â",RightAngleBracket:"â©",RightArrow:"â",RightArrowLeftArrow:"â",RightCeiling:"â",RightDownVector:"â",RightFloor:"â",RightTee:"â¢",RightTeeArrow:"â¦",RightTriangle:"â³",RightTriangleEqual:"âµ",RightUpVector:"â¾",RightVector:"â",Rightarrow:"â",Rrightarrow:"â",Rsh:"â±",Sigma:"Î£",SmallCircle:"â",Sqrt:"â",Square:"â¡",SquareIntersection:"â",SquareSubset:"â",SquareSubsetEqual:"â",SquareSuperset:"â",SquareSupersetEqual:"â",SquareUnion:"â",Star:"â",Subset:"â",SubsetEqual:"â",Succeeds:"â»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â½",SucceedsTilde:"â¿",SuchThat:"â",Sum:"â",Superset:"â",SupersetEqual:"â",Supset:"â",Therefore:"â´",Theta:"Î",Tilde:"â¼",TildeEqual:"â",TildeFullEqual:"â",TildeTilde:"â",UnderBar:"_",UnderBrace:"â",Union:"â",UnionPlus:"â",UpArrow:"â",UpDownArrow:"â",UpTee:"â¥",Uparrow:"â",Updownarrow:"â",Upsilon:"Î¥",Vdash:"â©",Vee:"â",VerticalBar:"â£",VerticalTilde:"â",Vvdash:"âª",Wedge:"â",Xi:"Î",amp:"&",acute:"Â´",aleph:"âµ",alpha:"Î±",amalg:"â¨¿",and:"â§",ang:"â ",angmsd:"â¡",angsph:"â¢",ape:"â",backprime:"âµ",backsim:"â½",backsimeq:"â",beta:"Î²",beth:"â¶",between:"â¬",bigcirc:"â¯",bigodot:"â¨",bigoplus:"â¨",bigotimes:"â¨",bigsqcup:"â¨",bigstar:"â",bigtriangledown:"â½",bigtriangleup:"â³",biguplus:"â¨",blacklozenge:"â§«",blacktriangle:"â´",blacktriangledown:"â¾",blacktriangleleft:"â",bowtie:"â",boxdl:"â",boxdr:"â",boxminus:"â",boxplus:"â",boxtimes:"â ",boxul:"â",boxur:"â",bsol:"\\",bull:"â¢",cap:"â©",check:"â",chi:"Ï",circ:"Ë",circeq:"â",circlearrowleft:"âº",circlearrowright:"â»",circledR:"Â®",circledS:"â",circledast:"â",circledcirc:"â",circleddash:"â",clubs:"â£",colon:":",comp:"â",ctdot:"â¯",cuepr:"â",cuesc:"â",cularr:"â¶",cup:"âª",curarr:"â·",curlyvee:"â",curlywedge:"â",dagger:"â ",daleth:"â¸",ddarr:"â",deg:"Â°",delta:"Î´",digamma:"Ï",div:"Ã·",divideontimes:"â",dot:"Ë",doteqdot:"â",dotplus:"â",dotsquare:"â¡",dtdot:"â±",ecir:"â",efDot:"â",egs:"âª",ell:"â",els:"âª",empty:"â",epsi:"Îµ",epsiv:"Ïµ",erDot:"â",eta:"Î·",eth:"Ã°",flat:"â­",fork:"â",frown:"â¢",gEl:"âª",gamma:"Î³",gap:"âª",gimel:"â·",gnE:"â©",gnap:"âª",gne:"âª",gnsim:"â§",gt:">",gtdot:"â",harrw:"â­",hbar:"â",hellip:"â¦",hookleftarrow:"â©",hookrightarrow:"âª",imath:"Ä±",infin:"â",intcal:"âº",iota:"Î¹",jmath:"È·",kappa:"Îº",kappav:"Ï°",lEg:"âª",lambda:"Î»",lap:"âª",larrlp:"â«",larrtl:"â¢",lbrace:"{",lbrack:"[",le:"â¤",leftleftarrows:"â",leftthreetimes:"â",lessdot:"â",lmoust:"â°",lnE:"â¨",lnap:"âª",lne:"âª",lnsim:"â¦",longmapsto:"â¼",looparrowright:"â¬",lowast:"â",loz:"â",lt:"<",ltimes:"â",ltri:"â",macr:"Â¯",malt:"â ",mho:"â§",mu:"Î¼",multimap:"â¸",nLeftarrow:"â",nLeftrightarrow:"â",nRightarrow:"â",nVDash:"â¯",nVdash:"â®",natur:"â®",nearr:"â",nharr:"â®",nlarr:"â",not:"Â¬",nrarr:"â",nu:"Î½",nvDash:"â­",nvdash:"â¬",nwarr:"â",omega:"Ï",omicron:"Î¿",or:"â¨",osol:"â",period:".",phi:"Ï",phiv:"Ï",pi:"Ï",piv:"Ï",prap:"âª·",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â¨",prime:"â²",psi:"Ï",quot:'"',rarrtl:"â£",rbrace:"}",rbrack:"]",rho:"Ï",rhov:"Ï±",rightrightarrows:"â",rightthreetimes:"â",ring:"Ë",rmoust:"â±",rtimes:"â",rtri:"â¹",scap:"âª¸",scnE:"âª¶",scnap:"âªº",scnsim:"â©",sdot:"â",searr:"â",sect:"Â§",sharp:"â¯",sigma:"Ï",sigmav:"Ï",simne:"â",smile:"â£",spades:"â ",sub:"â",subE:"â«",subnE:"â«",subne:"â",supE:"â«",supnE:"â«",supne:"â",swarr:"â",tau:"Ï",theta:"Î¸",thetav:"Ï",tilde:"Ë",times:"Ã",triangle:"âµ",triangleq:"â",upsi:"Ï",upuparrows:"â",veebar:"â»",vellip:"â®",weierp:"â",xi:"Î¾",yen:"Â¥",zeta:"Î¶",zigrarr:"â",nbsp:"Â ",rsquo:"â",lsquo:"â"},gT={};function bT(e){return e.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,LQ)}function LQ(e,t){if(t.charAt(0)==="#")return zI(t.slice(1));if(ms[t])return ms[t];{const r=t.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:t.charAt(0).toLowerCase();gT[r]||(gT[r]=!0,D1($I("./util/entities/"+r+".js")))}return e}function zI(e){const t=e.charAt(0)==="x"?parseInt(e.slice(1),16):parseInt(e);return String.fromCodePoint(t)}class RQ{static oneof(...t){return new this("string",r=>t.includes(r),r=>r)}constructor(t,r,n){this.name=t,this.verify=r,this.convert=n}}function NQ(e,t=!1){const r={};let n=e,i,s,a,o=!0;for(;n;)[s,i,n]=yT(n,["=",","],t,o),o=!1,i==="="?([a,i,n]=yT(n,[","],t),a=a==="false"||a==="true"?JSON.parse(a):a,r[s]=a):s&&(r[s]=!0);return r}function Ng(e,t){if(t===0)return e.replace(/^\s+/,"").replace(/([^\\\s]|^)((?:\\\\)*(?:\\\s)?)?\s+$/,"$1$2");for(;t>0;)e=e.trim().slice(1,-1),t--;return e}function yT(e,t,r=!1,n=!1){const i=e.length;let s=0,a="",o=0,l=0,u=!0;for(;o<i;){const c=e[o++];switch(c){case"\\":a+=c+(e[o++]||""),u=!1;continue;case" ":break;case"{":u&&l++,s++;break;case"}":if(!s)throw new Ot("ExtraCloseMissingOpen","Extra close brace or missing open brace");s--,u=!1;break;default:if(!s&&t.includes(c))return[Ng(a,r?Math.min(1,l):l),c,e.slice(o)];l>s&&(l=s),u=!1}a+=c}if(s)throw new Ot("ExtraOpenMissingClose","Extra open brace or missing close brace");return n&&l?["","",Ng(a,1)]:[Ng(a,r?Math.min(1,l):l),"",e.slice(o)]}const jt={cols(...e){return e.map(t=>Ce.em(t)).join(" ")},fenced(e,t,r,n,i="",s=""){const a=e.nodeFactory,o=a.create("node","mrow",[],{open:t,close:n,texClass:mt.INNER});let l;if(i)l=new Xe("\\"+i+"l"+t,e.parser.stack.env,e).mml();else{const u=a.create("text",t);l=a.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:mt.OPEN},u)}if(ft.appendChildren(o,[l,r]),i)l=new Xe("\\"+i+"r"+n,e.parser.stack.env,e).mml();else{const u=a.create("text",n);l=a.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:mt.CLOSE},u)}return s&&l.attributes.set("mathcolor",s),ft.appendChildren(o,[l]),o},fixedFence(e,t,r,n){const i=e.nodeFactory.create("node","mrow",[],{open:t,close:n,texClass:mt.ORD});return t&&ft.appendChildren(i,[jt.mathPalette(e,t,"l")]),ft.isType(r,"mrow")?ft.appendChildren(i,ft.getChildren(r)):ft.appendChildren(i,[r]),n&&ft.appendChildren(i,[jt.mathPalette(e,n,"r")]),i},mathPalette(e,t,r){(t==="{"||t==="}")&&(t="\\"+t);const n="{\\bigg"+r+" "+t+"}",i="{\\big"+r+" "+t+"}";return new Xe("\\mathchoice"+n+i+i+i,{},e).mml()},fixInitialMO(e,t){for(let r=0,n=t.length;r<n;r++){const i=t[r];if(i&&!ft.isType(i,"mspace")&&(!ft.isType(i,"TeXAtom")||ft.getChildren(i)[0]&&ft.getChildren(ft.getChildren(i)[0]).length)){if(ft.isEmbellished(i)||ft.isType(i,"TeXAtom")&&ft.getTexClass(i)===mt.REL){const s=e.nodeFactory.create("node","mi");t.unshift(s)}break}}},internalMath(e,t,r,n){if(t=t.replace(/ +/g," "),e.configuration.options.internalMath)return e.configuration.options.internalMath(e,t,r,n);const i=n||e.stack.env.font,s=i?{mathvariant:i}:{};let a=[],o=0,l=0,u,c,h="",f=0;if(t.match(/\\?[${}\\]|\\\(|\\(?:eq)?ref\s*\{|\\U/)){for(;o<t.length;)if(u=t.charAt(o++),u==="$")h==="$"&&f===0?(c=e.create("node","TeXAtom",[new Xe(t.slice(l,o-1),{},e.configuration).mml()]),a.push(c),h="",l=o):h===""&&(l<o-1&&a.push(jt.internalText(e,t.slice(l,o-1),s)),h="$",l=o);else if(u==="{"&&h!=="")f++;else if(u==="}")if(h==="}"&&f===0){const d=new Xe(t.slice(l,o),{},e.configuration).mml();c=e.create("node","TeXAtom",[d],s),a.push(c),h="",l=o}else h!==""&&f&&f--;else if(u==="\\"){if(h===""&&t.substring(o).match(/^(eq)?ref\s*\{/)){const d=RegExp["$&"].length;l<o-1&&a.push(jt.internalText(e,t.slice(l,o-1),s)),h="}",l=o-1,o+=d}else if(u=t.charAt(o++),u==="("&&h==="")l<o-2&&a.push(jt.internalText(e,t.slice(l,o-2),s)),h=")",l=o;else if(u===")"&&h===")"&&f===0)c=e.create("node","TeXAtom",[new Xe(t.slice(l,o-2),{},e.configuration).mml()]),a.push(c),h="",l=o;else if(u.match(/[${}\\]/)&&h==="")o--,t=t.substring(0,o-1)+t.substring(o);else if(u==="U"){const d=t.substring(o).match(/^\s*(?:([0-9A-F])|\{\s*([0-9A-F]+)\s*\})/);if(!d)throw new Ot("BadRawUnicode","Argument to %1 must a hexadecimal number with 1 to 6 digits","\\U");const p=String.fromCodePoint(parseInt(d[1]||d[2],16));t=t.substring(0,o-2)+p+t.substring(o+d[0].length),o=o-2+p.length}}if(h!=="")throw new Ot("MathNotTerminated","Math mode is not properly terminated")}return l<t.length&&a.push(jt.internalText(e,t.slice(l),s)),r!=null?a=[e.create("node","mstyle",a,{displaystyle:!1,scriptlevel:r})]:a.length>1&&(a=[e.create("node","mrow",a)]),a},internalText(e,t,r){t=t.replace(/\n+/g," ").replace(/^ +/,ms.nbsp).replace(/ +$/,ms.nbsp);const n=e.create("text",t);return e.create("node","mtext",[],r,n)},underOver(e,t,r,n,i){if(jt.checkMovableLimits(t),ft.isType(t,"munderover")&&ft.isEmbellished(t)){ft.setProperties(ft.getCoreMO(t),{lspace:0,rspace:0});const o=e.create("node","mo",[],{rspace:0});t=e.create("node","mrow",[o,t])}const s=e.create("node","munderover",[t]);ft.setChild(s,n==="over"?s.over:s.under,r);let a=s;return i&&(a=e.create("node","TeXAtom",[e.create("node","mstyle",[s],{displaystyle:!0,scriptlevel:0})],{texClass:mt.OP,movesupsub:!0})),ft.setProperty(a,"subsupOK",!0),a},checkMovableLimits(e){const t=ft.isType(e,"mo")?ft.getForm(e):null;(ft.getProperty(e,"movablelimits")||t&&t[3]&&t[3].movablelimits)&&ft.setProperties(e,{movablelimits:!1})},setArrayAlign(e,t,r){return r||(t=Ce.trimSpaces(t||"")),t==="t"?e.arraydef.align="baseline 1":t==="b"?e.arraydef.align="baseline -1":t==="c"?e.arraydef.align="axis":t&&(r?(r.string=`[${t}]`+r.string.slice(r.i),r.i=0):e.arraydef.align=t),e},substituteArgs(e,t,r){let n="",i="",s=0;for(;s<r.length;){let a=r.charAt(s++);if(a==="\\")n+=a+r.charAt(s++);else if(a==="#")if(a=r.charAt(s++),a==="#")n+=a;else{if(!a.match(/[1-9]/)||parseInt(a,10)>t.length)throw new Ot("IllegalMacroParam","Illegal macro parameter reference");i=jt.addArgs(e,jt.addArgs(e,i,n),t[parseInt(a,10)-1]),n=""}else n+=a}return jt.addArgs(e,i,n)},addArgs(e,t,r){if(r.match(/^[a-z]/i)&&t.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)&&(t+=" "),t.length+r.length>e.configuration.options.maxBuffer)throw new Ot("MaxBufferSize","MathJax internal buffer size exceeded; is there a recursive macro call?");return t+r},checkMaxMacros(e,t=!0){if(!(++e.macroCount<=e.configuration.options.maxMacros))throw t?new Ot("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is here a recursive macro call?"):new Ot("MaxMacroSub2","MathJax maximum substitution count exceeded; is there a recursive latex environment?")},checkEqnEnv(e,t=!0){const r=e.stack.Top(),n=r.First;if(!(r.getProperty("nestable")&&t&&!n||r.getProperty("nestStart"))&&(!r.isKind("start")||n))throw new Ot("ErroneousNestingEq","Erroneous nesting of equation structures")},copyNode(e,t){const r=e.copy(),n=t.configuration;return r.walkTree(i=>{n.addNode(i.kind,i);const s=(i.getProperty("in-lists")||"").split(/,/);for(const a of s)a&&n.addNode(a,i)}),r},mmlFilterAttribute(e,t,r){return r},getFontDef(e){const t=e.stack.env.font;return t?{mathvariant:t}:{}},keyvalOptions(e,t=null,r=!1,n=!1){const i=NQ(e,n);if(t)for(const s of Object.keys(i))if(Object.hasOwn(t,s)){if(t[s]instanceof RQ){const a=t[s],o=String(i[s]);if(!a.verify(o))throw new Ot("InvalidValue","Value for key '%1' is not of the expected type",s);i[s]=a.convert(o)}}else{if(r)throw new Ot("InvalidOption","Invalid option: %1",s);delete i[s]}return i},isLatinOrGreekChar(e){return!!e.normalize("NFD").match(/[a-zA-Z\u0370-\u03F0]/)}};class OQ{constructor(){this.columnHandler={l:t=>t.calign[t.j++]="left",c:t=>t.calign[t.j++]="center",r:t=>t.calign[t.j++]="right",p:t=>this.getColumn(t,"top"),m:t=>this.getColumn(t,"middle"),b:t=>this.getColumn(t,"bottom"),w:t=>this.getColumn(t,"top",""),W:t=>this.getColumn(t,"top",""),"|":t=>this.addRule(t,"solid"),":":t=>this.addRule(t,"dashed"),">":t=>t.cstart[t.j]=(t.cstart[t.j]||"")+this.getBraces(t),"<":t=>t.cend[t.j-1]=(t.cend[t.j-1]||"")+this.getBraces(t),"@":t=>this.addAt(t,this.getBraces(t)),"!":t=>this.addBang(t,this.getBraces(t)),"*":t=>this.repeat(t),P:t=>this.macroColumn(t,">{$}p{#1}<{$}",1),M:t=>this.macroColumn(t,">{$}m{#1}<{$}",1),B:t=>this.macroColumn(t,">{$}b{#1}<{$}",1)," ":t=>{}},this.MAXCOLUMNS=1e4}process(t,r,n){const i={parser:t,template:r,i:0,j:0,c:"",cwidth:[],calign:[],cspace:[],clines:[],cstart:n.cstart,cend:n.cend,ralign:n.ralign,cextra:n.cextra};let s=0;for(;i.i<i.template.length;){if(s++>this.MAXCOLUMNS)throw new Ot("MaxColumns","Too many column specifiers (perhaps looping column definitions?)");const a=i.template.codePointAt(i.i),o=i.c=String.fromCodePoint(a);if(i.i+=o.length,!Object.hasOwn(this.columnHandler,o))throw new Ot("BadPreamToken","Illegal pream-token (%1)",o);this.columnHandler[o](i)}this.setColumnAlign(i,n),this.setColumnWidths(i,n),this.setColumnSpacing(i,n),this.setColumnLines(i,n),this.setPadding(i,n)}setColumnAlign(t,r){r.arraydef.columnalign=t.calign.join(" ")}setColumnWidths(t,r){if(!t.cwidth.length)return;const n=[...t.cwidth];n.length<t.calign.length&&n.push("auto"),r.arraydef.columnwidth=n.map(i=>i||"auto").join(" ")}setColumnSpacing(t,r){if(!t.cspace.length)return;const n=[...t.cspace];n.length<t.calign.length&&n.push("1em"),r.arraydef.columnspacing=n.slice(1).map(i=>i||"1em").join(" ")}setColumnLines(t,r){if(!t.clines.length)return;const n=[...t.clines];n[0]&&r.frame.push(["left",n[0]]),n.length>t.calign.length?r.frame.push(["right",n.pop()]):n.length<t.calign.length&&n.push("none"),n.length>1&&(r.arraydef.columnlines=n.slice(1).map(i=>i||"none").join(" "))}setPadding(t,r){if(!t.cextra[0]&&!t.cextra[t.calign.length-1])return;const n=t.calign.length-1,i=t.cspace,s=t.cextra[n]?i[n]:null;r.arraydef["data-array-padding"]=`${i[0]||".5em"} ${s||".5em"}`}getColumn(t,r,n="left"){t.calign[t.j]=n||this.getAlign(t),t.cwidth[t.j]=this.getDimen(t),t.ralign[t.j]=[r,t.cwidth[t.j],t.calign[t.j]],t.j++}getDimen(t){const r=this.getBraces(t);if(!Ce.matchDimen(r)[0])throw new Ot("MissingColumnDimOrUnits","Missing dimension or its units for %1 column declaration",t.c);return r}getAlign(t){const r=this.getBraces(t);return pu(r.toLowerCase(),{l:"left",c:"center",r:"right"},"")}getBraces(t){for(;t.template[t.i]===" ";)t.i++;if(t.i>=t.template.length)throw new Ot("MissingArgForColumn","Missing argument for %1 column declaration",t.c);if(t.template[t.i]!=="{")return t.template[t.i++];const r=++t.i;let n=1;for(;t.i<t.template.length;)switch(t.template.charAt(t.i++)){case"\\":t.i++;break;case"{":n++;break;case"}":if(--n===0)return t.template.slice(r,t.i-1);break}throw new Ot("MissingCloseBrace","Missing close brace")}macroColumn(t,r,n){const i=[];for(;n>0&&n--;)i.push(this.getBraces(t));t.template=jt.substituteArgs(t.parser,i,r)+t.template.slice(t.i),t.i=0}addRule(t,r){t.clines[t.j]&&this.addAt(t,"\\,"),t.clines[t.j]=r,t.cspace[t.j]==="0"&&(t.cstart[t.j]="\\hspace{.5em}")}addAt(t,r){const{cstart:n,cspace:i,j:s}=t;t.cextra[s]=!0,t.calign[s]="center",t.clines[s]&&(i[s]===".5em"?n[s-1]+="\\hspace{.25em}":i[s]||(t.cend[s-1]=(t.cend[s-1]||"")+"\\hspace{.5em}")),n[s]=r,i[s]="0",i[++t.j]="0"}addBang(t,r){const{cstart:n,cspace:i,j:s}=t;t.cextra[s]=!0,t.calign[s]="center",n[s]=(i[s]==="0"&&t.clines[s]?"\\hspace{.25em}":"")+r,i[s]||(i[s]=".5em"),i[++t.j]=".5em"}repeat(t){const r=this.getBraces(t),n=this.getBraces(t),i=parseInt(r);if(String(i)!==r)throw new Ot("ColArgNotNum","First argument to %1 column specifier must be a number","*");t.template=new Array(i).fill(n).join("")+t.template.substring(t.i),t.i=0}}const hl=Wt.Variant;class To{constructor(t,r=[]){this.options={},this.columnParser=new OQ,this.packageData=new Map,this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.handlers=t.handlers,this.nodeFactory=new Xs,this.nodeFactory.configuration=this,this.nodeFactory.setCreators(t.nodes),this.itemFactory=new HI(t.items),this.itemFactory.configuration=this,Zn(this.options,...r),Zn(this.options,t.options),this.mathStyle=To.getVariant.get(this.options.mathStyle)||To.getVariant.get("TeX")}pushParser(t){this.parsers.unshift(t)}popParser(){this.parsers.shift()}get parser(){return this.parsers[0]}clear(){this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.tags.resetTag()}addNode(t,r){let n=this.nodeLists[t];if(n||(n=this.nodeLists[t]=[]),n.push(r),r.kind!==t){const i=ft.getProperty(r,"in-lists")||"",s=(i?i.split(/,/):[]).concat(t).join(",");ft.setProperty(r,"in-lists",s)}}getList(t){const r=this.nodeLists[t]||[],n=[];for(const i of r)this.inTree(i)&&n.push(i);return this.nodeLists[t]=n,n}removeFromList(t,r){const n=this.nodeLists[t]||[];for(const i of r){const s=n.indexOf(i);s>=0&&n.splice(s,1)}}inTree(t){for(;t&&t!==this.root;)t=t.parent;return!!t}}To.getVariant=new Map([["TeX",(e,t)=>t&&e.match(/^[\u0391-\u03A9\u03F4]/)?hl.NORMAL:""],["ISO",e=>hl.ITALIC],["French",e=>e.normalize("NFD").match(/^[a-z]/)?hl.ITALIC:hl.NORMAL],["upright",e=>hl.NORMAL]]);class eb{constructor(t="???",r=""){this.tag=t,this.id=r}}class Og{constructor(t="",r=!1,n=!1,i=null,s="",a="",o=!1,l=""){this.env=t,this.taggable=r,this.defaultTags=n,this.tag=i,this.tagId=s,this.tagFormat=a,this.noTag=o,this.labelId=l}}class vf{constructor(){this.counter=0,this.allCounter=0,this.configuration=null,this.ids={},this.allIds={},this.labels={},this.allLabels={},this.redo=!1,this.refUpdate=!1,this.currentTag=new Og,this.history=[],this.stack=[],this.enTag=function(t,r){const n=this.configuration.nodeFactory,i=n.create("node","mtd",[t]),s=n.create("node","mlabeledtr",[r,i]);return n.create("node","mtable",[s],{side:this.configuration.options.tagSide,minlabelspacing:this.configuration.options.tagIndent,displaystyle:!0})}}start(t,r,n){this.currentTag&&this.stack.push(this.currentTag);const i=this.label;this.currentTag=new Og(t,r,n),this.label=i}get env(){return this.currentTag.env}end(){this.history.push(this.currentTag);const t=this.label;this.currentTag=this.stack.pop(),t&&!this.label&&(this.label=t)}tag(t,r){this.currentTag.tag=t,this.currentTag.tagFormat=r?t:this.formatTag(t),this.currentTag.noTag=!1}notag(){this.tag("",!0),this.currentTag.noTag=!0}get noTag(){return this.currentTag.noTag}set label(t){this.currentTag.labelId=t}get label(){return this.currentTag.labelId}formatUrl(t,r){return r+"#"+encodeURIComponent(t)}formatTag(t){return"("+t+")"}formatRef(t){return this.formatTag(t)}formatId(t){return"mjx-eqn:"+t.replace(/\s/g,"_")}formatNumber(t){return t.toString()}autoTag(){this.currentTag.tag==null&&(this.counter++,this.tag(this.formatNumber(this.counter),!1))}clearTag(){this.tag(null,!0),this.currentTag.tagId=""}getTag(t=!1){if(t)return this.autoTag(),this.makeTag();const r=this.currentTag;return r.taggable&&!r.noTag&&(r.defaultTags&&this.autoTag(),r.tag)?this.makeTag():null}resetTag(){this.history=[],this.redo=!1,this.refUpdate=!1,this.clearTag()}reset(t=0){this.resetTag(),this.counter=this.allCounter=t,this.allLabels={},this.allIds={},this.label=""}startEquation(t){this.history=[],this.stack=[],this.clearTag(),this.currentTag=new Og("",void 0,void 0),this.labels={},this.ids={},this.counter=this.allCounter,this.redo=!1;const r=t.inputData.recompile;r&&(this.refUpdate=!0,this.counter=r.counter)}finishEquation(t){this.redo&&(t.inputData.recompile={state:t.state(),counter:this.allCounter}),this.refUpdate||(this.allCounter=this.counter),Object.assign(this.allIds,this.ids),Object.assign(this.allLabels,this.labels)}finalize(t,r){if(!r.display||this.currentTag.env||this.currentTag.tag==null)return t;const n=this.makeTag();return this.enTag(t,n)}makeId(){this.currentTag.tagId=this.formatId(this.configuration.options.useLabelIds?this.label||this.currentTag.tag:this.currentTag.tag)}makeTag(){this.makeId(),this.label&&(this.labels[this.label]=new eb(this.currentTag.tag,this.currentTag.tagId),this.label="");const t=new Xe("\\text{"+this.currentTag.tagFormat+"}",{},this.configuration).mml();return this.configuration.nodeFactory.create("node","mtd",[t],{id:this.currentTag.tagId,rowalign:this.configuration.options.tagAlign})}}class PQ extends vf{autoTag(){}getTag(){return this.currentTag.tag?super.getTag():null}}class DQ extends vf{finalize(t,r){if(!r.display||this.history.find(function(i){return i.taggable}))return t;const n=this.getTag(!0);return this.enTag(t,n)}}const Pg=new Map([["none",PQ],["all",DQ]]);let Uc="none";const Fi={OPTIONS:{tags:Uc,tagSide:"right",tagIndent:"0.8em",useLabelIds:!0,ignoreDuplicateLabels:!1,tagAlign:"baseline"},add(e,t){Pg.set(e,t)},addTags(e){for(const t of Object.keys(e))Fi.add(t,e[t])},create(e){const t=Pg.get(e)||Pg.get(Uc);if(!t)throw Error("Unknown tags class");return new t},setDefault(e){Uc=e},getDefault(){return Fi.create(Uc)}};class rb{constructor(t,r,n){this._token=t,this._char=r,this._attributes=n}get token(){return this._token}get char(){return this._char}get attributes(){return this._attributes}}class mh{constructor(t,r,n=[]){this._token=t,this._func=r,this._args=n}get token(){return this._token}get func(){return this._func}get args(){return this._args}}function Af(e){return e===void 0?!0:e}class jI{constructor(t,r){this._name=t,this._parser=r,Cf.register(this)}get name(){return this._name}parserFor(t){return this.contains(t)?this.parser:null}parse([t,r]){const n=this.parserFor(r),i=this.lookup(r);return n&&i?Af(n(t,i)):null}set parser(t){this._parser=t}get parser(){return this._parser}}class vo extends jI{constructor(t,r,n){super(t,r),this._regExp=n}contains(t){return this._regExp.test(t)}lookup(t){return this.contains(t)?t:null}}class WI extends jI{constructor(){super(...arguments),this.map=new Map}lookup(t){return this.map.get(t)}contains(t){return this.map.has(t)}add(t,r){this.map.set(t,r)}remove(t){this.map.delete(t)}}class An extends WI{constructor(t,r,n){super(t,r);for(const i of Object.keys(n)){const s=n[i],[a,o]=typeof s=="string"?[s,null]:s,l=new rb(i,a,o);this.add(i,l)}}}class Qu extends An{parse([t,r]){return super.parse([t,"\\"+r])}}class Ju extends WI{constructor(t,r,n={}){super(t,null);const i=s=>typeof s=="string"?n[s]:s;for(const[s,a]of Object.entries(r)){let o,l;Array.isArray(a)?(o=i(a[0]),l=a.slice(1)):(o=i(a),l=[]);const u=new mh(s,o,l);this.add(s,u)}}parserFor(t){const r=this.lookup(t);return r?r.func:null}parse([t,r]){const n=this.lookup(r),i=this.parserFor(r);return!n||!i?null:Af(i(t,n.token,...n.args))}}class Ss extends Ju{parse([t,r]){const n=this.lookup(r),i=this.parserFor(r);if(!n||!i)return null;const s=t.currentCS;t.currentCS="\\"+r;const a=i(t,"\\"+n.token,...n.args);return t.currentCS=s,Af(a)}}class U1 extends Ju{constructor(t,r,n,i={}){super(t,n,i),this.parser=r}parse([t,r]){const n=this.lookup(r),i=this.parserFor(r);return!n||!i?null:Af(this.parser(t,n.token,i,n.args))}}const _T=new Map,Cf={register(e){_T.set(e.name,e)},getMap(e){return _T.get(e)}};class tc{constructor(){this._configuration=new Kn,this._fallback=new bs}add(t,r,n=Kn.DEFAULTPRIORITY){for(const i of t.slice().reverse()){const s=Cf.getMap(i);if(!s){this.warn(`Configuration '${i}' not found! Omitted.`);return}this._configuration.add(s,n)}r&&this._fallback.add(r,n)}remove(t,r=null){for(const n of t){const i=this.retrieve(n);i&&this._configuration.remove(i)}r&&this._fallback.remove(r)}parse(t){for(const{item:i}of this._configuration){const s=i.parse(t);if(s===tc.FALLBACK)break;if(s)return s}const[r,n]=t;Array.from(this._fallback)[0].item(r,n)}lookup(t){const r=this.applicable(t);return r?r.lookup(t):null}contains(t){const r=this.applicable(t);return!!r&&!(r instanceof An&&r.lookup(t).char===null)}toString(){const t=[];for(const{item:r}of this._configuration)t.push(r.name);return t.join(", ")}applicable(t){for(const{item:r}of this._configuration)if(r.contains(t))return r;return null}retrieve(t){for(const{item:r}of this._configuration)if(r.name===t)return r;return null}warn(t){console.log("TexParser Warning: "+t)}}tc.FALLBACK=Symbol("fallback");class BQ{constructor(){this.map=new Map}add(t,r,n=Kn.DEFAULTPRIORITY){for(const i of Object.keys(t)){const s=i;let a=this.get(s);a||(a=new tc,this.set(s,a)),a.add(t[s],r[s],n)}}remove(t,r){for(const n of Object.keys(t)){const i=this.get(n);i&&i.remove(t[n],r[n])}}set(t,r){this.map.set(t,r)}get(t){return this.map.get(t)}retrieve(t){for(const r of this.map.values()){const n=r.retrieve(t);if(n)return n}return null}keys(){return this.map.keys()}}class Mn{static makeProcessor(t,r){return Array.isArray(t)?t:[t,r]}static _create(t,r={}){var n;const i=(n=r.priority)!==null&&n!==void 0?n:Kn.DEFAULTPRIORITY,s=r.init?this.makeProcessor(r.init,i):null,a=r.config?this.makeProcessor(r.config,i):null,o=(r.preprocessors||[]).map(c=>this.makeProcessor(c,i)),l=(r.postprocessors||[]).map(c=>this.makeProcessor(c,i)),u=r.parser||"tex";return new Mn(t,r[ye.HANDLER]||{},r[ye.FALLBACK]||{},r[ye.ITEMS]||{},r[ye.TAGS]||{},r[ye.OPTIONS]||{},r[ye.NODES]||{},o,l,s,a,i,u)}static create(t,r={}){const n=Mn._create(t,r);return qI.set(t,n),n}static local(t={}){return Mn._create("",t)}constructor(t,r={},n={},i={},s={},a={},o={},l=[],u=[],c=null,h=null,f,d){this.name=t,this.handler=r,this.fallback=n,this.items=i,this.tags=s,this.options=a,this.nodes=o,this.preprocessors=l,this.postprocessors=u,this.initMethod=c,this.configMethod=h,this.priority=f,this.parser=d,this.handler=Object.assign({[le.CHARACTER]:[],[le.DELIMITER]:[],[le.MACRO]:[],[le.ENVIRONMENT]:[]},r)}get init(){return this.initMethod?this.initMethod[0]:null}get config(){return this.configMethod?this.configMethod[0]:null}}const Dg=new Map,qI={set(e,t){Dg.set(e,t)},get(e){return Dg.get(e)},keys(){return Dg.keys()}};class GI{constructor(t,r=["tex"]){this.initMethod=new bs,this.configMethod=new bs,this.configurations=new Kn,this.parsers=[],this.handlers=new BQ,this.items={},this.tags={},this.options={},this.nodes={},this.parsers=r;for(const n of t.slice().reverse())this.addPackage(n);for(const{item:n,priority:i}of this.configurations)this.append(n,i)}init(){this.initMethod.execute(this)}config(t){this.configMethod.execute(this,t);for(const r of this.configurations)this.addFilters(t,r.item)}addPackage(t){const r=typeof t=="string"?t:t[0],n=this.getPackage(r);n&&this.configurations.add(n,typeof t=="string"?n.priority:t[1])}add(t,r,n={}){const i=this.getPackage(t);this.append(i),this.configurations.add(i,i.priority),this.init();const s=r.parseOptions;s.nodeFactory.setCreators(i.nodes);for(const a of Object.keys(i.items))s.itemFactory.setNodeClass(a,i.items[a]);Fi.addTags(i.tags),Zn(s.options,i.options),Bn(s.options,n),this.addFilters(r,i),i.config&&i.config(this,r)}getPackage(t){const r=qI.get(t);if(r&&!this.parsers.includes(r.parser))throw Error(`Package '${t}' doesn't target the proper parser`);return r||this.warn(`Package '${t}' not found.  Omitted.`),r}append(t,r){r=r||t.priority,t.initMethod&&this.initMethod.add(t.initMethod[0],t.initMethod[1]),t.configMethod&&this.configMethod.add(t.configMethod[0],t.configMethod[1]),this.handlers.add(t.handler,t.fallback,r),Object.assign(this.items,t.items),Object.assign(this.tags,t.tags),Zn(this.options,t.options),Object.assign(this.nodes,t.nodes)}addFilters(t,r){for(const[n,i]of r.preprocessors)t.preFilters.add(n,i);for(const[n,i]of r.postprocessors)t.postFilters.add(n,i)}warn(t){console.warn("MathJax Warning: "+t)}}const za=["top","right","bottom","left"],Hc=["width","style","color"];function H1(e){const t=e.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),r=[];for(;t.length>1;)t.shift(),r.push(t.shift());return r}function $c(e){const t=H1(this.styles[e]);t.length===0&&t.push(""),t.length===1&&t.push(t[0]),t.length===2&&t.push(t[0]),t.length===3&&t.push(t[1]);for(const r of $e.connect[e].children)this.setStyle(this.childName(e,r),t.shift())}function MQ(e){const t=$e.connect[e].children,r=[];for(const n of t){const i=this.styles[e+"-"+n];if(!i){delete this.styles[e];return}r.push(i)}r[3]===r[1]&&(r.pop(),r[2]===r[0]&&(r.pop(),r[1]===r[0]&&r.pop())),this.styles[e]=r.join(" ")}function FQ(e){for(const t of $e.connect[e].children)this.setStyle(this.childName(e,t),this.styles[e])}function UQ(e){const t=[...$e.connect[e].children],r=this.styles[this.childName(e,t.shift())];for(const n of t)if(this.styles[this.childName(e,n)]!==r){delete this.styles[e];return}this.styles[e]=r}const ET={width:/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,style:/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/};function zc(e){const t={width:"",style:"",color:""};for(const r of H1(this.styles[e]))r.match(ET.width)&&t.width===""?t.width=r:r.match(ET.style)&&t.style===""?t.style=r:t.color=r;for(const r of $e.connect[e].children)this.setStyle(this.childName(e,r),t[r])}function jc(e){const t=[];for(const r of $e.connect[e].children){const n=this.styles[this.childName(e,r)];n&&t.push(n)}t.length?this.styles[e]=t.join(" "):delete this.styles[e]}const wT={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?(?:condensed|expanded)","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[\\d.]+%|[\\d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[\\d.]+(?:%|[a-z]+)?))?$")};function HQ(e){const t=H1(this.styles[e]),r={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};for(const n of t){r.family||(r.family=n);for(const i of Object.keys(wT))if((Array.isArray(r[i])||r[i]==="")&&n.match(wT[i]))if(r.family===n&&(r.family=""),i==="size"){const[s,a]=n.split(/\//);r[i]=s,a&&(r["line-height"]=a)}else r.size===""&&(Array.isArray(r[i])?r[i].push(n):r[i]===""&&(r[i]=n))}$Q.call(this,e,r),delete this.styles[e]}function $Q(e,t){for(const r of $e.connect[e].children){const n=this.childName(e,r);if(Array.isArray(t[r])){const i=t[r];i.length&&(this.styles[n]=i.join(" "))}else t[r]!==""&&(this.styles[n]=t[r])}}function zQ(e){}class $e{constructor(t=""){this.parse(t)}sanitizeValue(t){const r=this.constructor.pattern;if(!t.match(r.sanitize))return t;t=t.replace(r.value,"$1");const n=t.replace(/\\./g,"").replace(/(['"]).*?\1/g,"").replace(/[^'"]/g,"");return n.length&&(t+=n.charAt(0)),t}get cssText(){var t,r;const n=[];for(const i of Object.keys(this.styles)){const s=this.parentName(i),a=i.replace(/.*-/,"");(!this.styles[s]||!(!((r=(t=$e.connect[s])===null||t===void 0?void 0:t.children)===null||r===void 0)&&r.includes(a)))&&n.push(`${i}: ${this.styles[i]};`)}return n.join(" ")}get styleList(){return Object.assign({},this.styles)}set(t,r){var n,i;for(t=this.normalizeName(t),this.setStyle(t,String(r)),$e.connect[t]&&!$e.connect[t].combine&&(this.combineChildren(t),delete this.styles[t]);t.match(/-/);){const s=t;if(t=this.parentName(t),!$e.connect[s]&&!(!((i=(n=$e.connect[t])===null||n===void 0?void 0:n.children)===null||i===void 0)&&i.includes(s.substring(t.length+1))))break;$e.connect[t].combine.call(this,t)}}get(t){return t=this.normalizeName(t),Object.hasOwn(this.styles,t)?this.styles[t]:""}setStyle(t,r){this.styles[t]=this.sanitizeValue(r),$e.connect[t]&&$e.connect[t].children&&$e.connect[t].split.call(this,t),r===""&&delete this.styles[t]}combineChildren(t){const r=this.parentName(t);for(const n of $e.connect[t].children){const i=this.childName(r,n);$e.connect[i].combine.call(this,i)}}parentName(t){const r=t.replace(/-[^-]*$/,"");return t===r?"":r}childName(t,r){return r.match(/-/)?r:($e.connect[t]&&!$e.connect[t].combine&&(r+=t.replace(/.*-/,"-"),t=this.parentName(t)),t+"-"+r)}normalizeName(t){return t.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())}parse(t=""){const r=this.constructor.pattern;this.styles={};const n=t.replace(/\n/g," ").replace(r.comment,"").split(r.style);for(;n.length>1;){const[i,s,a]=n.splice(0,3);if(i.match(/[^\s\n;]/))return;this.set(s,a)}}}$e.pattern={sanitize:/['";]/,value:/^((:?'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$).*/,style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g};$e.connect={padding:{children:za,split:$c,combine:MQ},border:{children:za,split:FQ,combine:UQ},"border-top":{children:Hc,split:zc,combine:jc},"border-right":{children:Hc,split:zc,combine:jc},"border-bottom":{children:Hc,split:zc,combine:jc},"border-left":{children:Hc,split:zc,combine:jc},"border-width":{children:za,split:$c,combine:null},"border-style":{children:za,split:$c,combine:null},"border-color":{children:za,split:$c,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:HQ,combine:zQ}};class sd extends ue{constructor(t,r){super(t),this.global=r}get kind(){return"start"}get isOpen(){return!0}checkItem(t){if(t.isKind("stop")){let r=this.toMml();return this.global.isInner||(r=this.factory.configuration.tags.finalize(r,this.env)),[[this.factory.create("mml",r)],!0]}return super.checkItem(t)}}class mu extends ue{get kind(){return"stop"}get isClose(){return!0}}class nb extends ue{get kind(){return"open"}get isOpen(){return!0}checkItem(t){if(t.isKind("close")){const r=this.toMml(),n=this.create("node","TeXAtom",[r]);return eo(n,t),[[this.factory.create("mml",n)],!0]}return super.checkItem(t)}}nb.errors=Object.assign(Object.create(ue.errors),{stop:["ExtraOpenMissingClose","Extra open brace or missing close brace"]});class xT extends ue{get kind(){return"close"}get isClose(){return!0}}class TT extends ue{get kind(){return"null"}}class vT extends ue{get kind(){return"prime"}checkItem(t){const[r,n]=this.Peek(2),i=(ft.isType(r,"msubsup")||ft.isType(r,"msup"))&&!ft.getChildAt(r,r.sup),s=(ft.isType(r,"munderover")||ft.isType(r,"mover"))&&!ft.getChildAt(r,r.over)&&!ft.getProperty(r,"subsupOK");if(!i&&!s)return[[this.create("node",r.getProperty("movesupsub")?"mover":"msup",[r,n]),t],!0];const a=i?r.sup:r.over;return ft.setChild(r,a,n),[[r,t],!0]}}class ib extends ue{get kind(){return"subsup"}checkItem(t){if(t.isKind("open")||t.isKind("left"))return ue.success;const r=this.First,n=this.getProperty("position");if(t.isKind("mml")){if(this.getProperty("primes"))if(n!==2)ft.setChild(r,2,this.getProperty("primes"));else{ft.setProperty(this.getProperty("primes"),"variantForm",!0);const a=this.create("node","mrow",[this.getProperty("primes"),t.First]);t.First=a}return ft.setChild(r,n,t.First),this.getProperty("movesupsub")!=null&&ft.setProperty(r,"movesupsub",this.getProperty("movesupsub")),[[this.factory.create("mml",r)],!0]}super.checkItem(t);const i=this.getErrors(["","sub","sup"][n]);throw new Ot(i[0],i[1],...i.splice(2))}}ib.errors=Object.assign(Object.create(ue.errors),{stop:["MissingScript","Missing superscript or subscript argument"],sup:["MissingOpenForSup","Missing open brace for superscript"],sub:["MissingOpenForSub","Missing open brace for subscript"]});class AT extends ue{constructor(t){super(t),this.setProperty("name","\\over")}get kind(){return"over"}get isClose(){return!0}checkItem(t){if(t.isKind("over"))throw new Ot("AmbiguousUseOf","Ambiguous use of %1",t.getName());if(t.isClose){let r=this.create("node","mfrac",[this.getProperty("num"),this.toMml(!1)]);return this.getProperty("thickness")!=null&&ft.setAttribute(r,"linethickness",this.getProperty("thickness")),(this.getProperty("ldelim")||this.getProperty("rdelim"))&&(ft.setProperty(r,"withDelims",!0),r=jt.fixedFence(this.factory.configuration,this.getProperty("ldelim"),r,this.getProperty("rdelim"))),r.attributes.set(Wt.Attr.LATEXITEM,this.getProperty("name")),[[this.factory.create("mml",r),t],!0]}return super.checkItem(t)}toString(){return"over["+this.getProperty("num")+" / "+this.nodes.join("; ")+"]"}}class sb extends ue{constructor(t,r){super(t),this.setProperty("delim",r)}get kind(){return"left"}get isOpen(){return!0}checkItem(t){if(t.isKind("right")){const r=jt.fenced(this.factory.configuration,this.getProperty("delim"),this.toMml(),t.getProperty("delim"),"",t.getProperty("color")),n=r.childNodes[0],i=r.childNodes[r.childNodes.length-1],s=this.factory.create("mml",r);return eo(n,this,"\\left"),eo(i,t,"\\right"),s.Peek()[0].attributes.set(Wt.Attr.LATEXITEM,"\\left"+t.startStr.slice(this.startI,t.stopI)),[[s],!0]}if(t.isKind("middle")){const r={stretchy:!0};t.getProperty("color")&&(r.mathcolor=t.getProperty("color"));const n=this.create("token","mo",r,t.getProperty("delim"));return eo(n,t,"\\middle"),this.Push(this.create("node","TeXAtom",[],{texClass:mt.CLOSE}),n,this.create("node","TeXAtom",[],{texClass:mt.OPEN})),this.env={},[[this],!0]}return super.checkItem(t)}}sb.errors=Object.assign(Object.create(ue.errors),{stop:["ExtraLeftMissingRight","Extra \\left or missing \\right"]});class CT extends ue{constructor(t,r,n){super(t),this.setProperty("delim",r),n&&this.setProperty("color",n)}get kind(){return"middle"}get isClose(){return!0}}class kT extends ue{constructor(t,r,n){super(t),this.setProperty("delim",r),n&&this.setProperty("color",n)}get kind(){return"right"}get isClose(){return!0}}class ST extends ue{get kind(){return"break"}constructor(t,r,n){super(t),this.setProperty("linebreak",r),this.setProperty("insert",n)}checkItem(t){var r,n;const i=this.getProperty("linebreak");if(t.isKind("mml")){const a=t.First;if(a.isKind("mo")){if((((n=(r=ft.getOp(a))===null||r===void 0?void 0:r[3])===null||n===void 0?void 0:n.linebreakstyle)||ft.getAttribute(a,"linebreakstyle"))!=="after")return ft.setAttribute(a,"linebreak",i),[[t],!0];if(!this.getProperty("insert"))return[[t],!0]}}const s=this.create("token","mspace",{linebreak:i});return[[this.factory.create("mml",s),t],!0]}}class ab extends ue{get kind(){return"begin"}get isOpen(){return!0}checkItem(t){if(t.isKind("end")){if(t.getName()!==this.getName())throw new Ot("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),t.getName());const r=this.toMml();return eo(r,t),[[this.factory.create("mml",r)],!0]}if(t.isKind("stop"))throw new Ot("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(t)}}class IT extends ue{get kind(){return"end"}get isClose(){return!0}}class gu extends ue{get kind(){return"style"}checkItem(t){if(!t.isClose)return super.checkItem(t);const r=this.create("node","mstyle",this.nodes,this.getProperty("styles"));return[[this.factory.create("mml",r),t],!0]}}class LT extends ue{get kind(){return"position"}checkItem(t){if(t.isClose)throw new Ot("MissingBoxFor","Missing box for %1",this.getName());if(t.isFinal){let r=t.toMml();switch(this.getProperty("move")){case"vertical":return r=this.create("node","mpadded",[r],{height:this.getProperty("dh"),depth:this.getProperty("dd"),voffset:this.getProperty("dh")}),[[this.factory.create("mml",r)],!0];case"horizontal":return[[this.factory.create("mml",this.getProperty("left")),t,this.factory.create("mml",this.getProperty("right"))],!0]}}return super.checkItem(t)}}class RT extends ue{get kind(){return"cell"}get isClose(){return!0}}class ad extends ue{get isFinal(){return!0}get kind(){return"mml"}}class NT extends ue{get kind(){return"fn"}checkItem(t){const r=this.First;if(r){if(t.isOpen)return ue.success;if(!t.isKind("fn")){let i=t.First;if(!t.isKind("mml")||!i)return[[r,t],!0];if(ft.isType(i,"mstyle")&&i.childNodes.length&&ft.isType(i.childNodes[0].childNodes[0],"mspace")||ft.isType(i,"mspace"))return[[r,t],!0];ft.isEmbellished(i)&&(i=ft.getCoreMO(i));const s=ft.getForm(i);if(s!=null&&[0,0,1,1,0,1,1,0,0,0][s[2]])return[[r,t],!0]}const n=this.create("token","mo",{texClass:mt.NONE},ms.ApplyFunction);return[[r,n,t],!0]}return super.checkItem(t)}}class OT extends ue{constructor(){super(...arguments),this.remap=Cf.getMap("not_remap")}get kind(){return"not"}checkItem(t){let r,n,i;if(t.isKind("open")||t.isKind("left"))return ue.success;if(t.isKind("mml")&&(ft.isType(t.First,"mo")||ft.isType(t.First,"mi")||ft.isType(t.First,"mtext"))&&(r=t.First,n=ft.getText(r),n.length===1&&!ft.getProperty(r,"movesupsub")&&ft.getChildren(r).length===1))return this.remap.contains(n)?(i=this.create("text",this.remap.lookup(n).char),ft.setChild(r,0,i)):(i=this.create("text","Ì¸"),ft.appendChildren(r,[i])),[[t],!0];i=this.create("text","â§¸");const s=this.create("node","mtext",[],{},i),a=this.create("node","mpadded",[s],{width:0});return r=this.create("node","TeXAtom",[a],{texClass:mt.REL}),[[r,t],!0]}}class PT extends ue{get kind(){return"nonscript"}checkItem(t){if(t.isKind("mml")&&t.Size()===1){let r=t.First;if(r.isKind("mstyle")&&r.notParent&&(r=ft.getChildren(ft.getChildren(r)[0])[0]),r.isKind("mspace")){if(r!==t.First){const n=this.create("node","mrow",[t.Pop()]);t.Push(n)}this.factory.configuration.addNode("nonscript",t.First)}}return[[t],!0]}}class DT extends ue{get kind(){return"dots"}checkItem(t){if(t.isKind("open")||t.isKind("left"))return ue.success;let r=this.getProperty("ldots");const n=t.First;if(t.isKind("mml")&&ft.isEmbellished(n)){const i=ft.getTexClass(ft.getCoreMO(n));(i===mt.BIN||i===mt.REL)&&(r=this.getProperty("cdots"))}return[[r,t],!0]}}class ds extends ue{constructor(){super(...arguments),this.table=[],this.row=[],this.frame=[],this.hfill=[],this.arraydef={},this.cstart=[],this.cend=[],this.cextra=[],this.atEnd=!1,this.ralign=[],this.breakAlign={cell:"",row:"",table:""},this.templateSubs=0}get kind(){return"array"}get isOpen(){return!0}get copyEnv(){return!1}checkItem(t){if(t.isClose&&!t.isKind("over")){if(t.getProperty("isEntry"))return this.EndEntry(),this.clearEnv(),this.StartEntry(),ue.fail;if(t.getProperty("isCR"))return this.EndEntry(),this.EndRow(),this.clearEnv(),this.StartEntry(),ue.fail;this.EndTable(),this.clearEnv();const r=this.factory.create("mml",this.createMml());if(this.getProperty("requireClose")){if(t.isKind("close"))return[[r],!0];throw new Ot("MissingCloseBrace","Missing close brace")}return[[r,t],!0]}return super.checkItem(t)}createMml(){const t=this.arraydef.scriptlevel;delete this.arraydef.scriptlevel;let r=this.create("node","mtable",this.table,this.arraydef);return t&&r.setProperty("smallmatrix",!0),this.breakAlign.table&&ft.setAttribute(r,"data-break-align",this.breakAlign.table),this.getProperty("arrayPadding")&&(ft.setAttribute(r,"data-frame-styles",""),ft.setAttribute(r,"framespacing",this.getProperty("arrayPadding"))),r=this.handleFrame(r),t!==void 0&&(r=this.create("node","mstyle",[r],{scriptlevel:t})),(this.getProperty("open")||this.getProperty("close"))&&(r=jt.fenced(this.factory.configuration,this.getProperty("open"),r,this.getProperty("close"))),r}handleFrame(t){if(!this.frame.length)return t;const r=new Map(this.frame),n=this.frame.reduce((s,[,a])=>a===s?a:"",this.frame[0][1]);if(n){if(this.frame.length===4)return ft.setAttribute(t,"frame",n),ft.removeAttribute(t,"data-frame-styles"),t;if(n==="solid")return ft.setAttribute(t,"data-frame-styles",""),t=this.create("node","menclose",[t],{notation:Array.from(r.keys()).join(" "),"data-padding":0}),t}const i=za.map(s=>r.get(s)||"none").join(" ");return ft.setAttribute(t,"data-frame-styles",i),t}StartEntry(){const t=this.row.length;let r=this.cstart[t],n=this.cend[t];const i=this.ralign[t],s=this.cextra;if(!r&&!n&&!i&&!s[t]&&!s[t+1])return;let[a,o,l,u]=this.getEntry();if(s[t]&&(!this.atEnd||s[t+1])&&(r+="&"),l!=="&"&&(u=!!o.trim()||!!(t||l&&l.substring(0,4)!=="\\end"),s[t+1]&&!s[t]&&(n=(n||"")+"&",this.atEnd=!0)),!u&&!a)return;const c=this.parser;if(u&&(r&&(o=jt.addArgs(c,r,o)),n&&(o=jt.addArgs(c,o,n)),i&&(o="\\text{"+o.trim()+"}"),(r||n||i)&&++this.templateSubs>c.configuration.options.maxTemplateSubtitutions))throw new Ot("MaxTemplateSubs","Maximum template substitutions exceeded; is there an invalid use of \\\\ in the template?");a&&(o=jt.addArgs(c,a,o)),c.string=jt.addArgs(c,o,c.string),c.i=0}getEntry(){const t=this.parser,r=/^([^]*?)([&{}]|\\\\|\\(?:begin|end)\s*\{array\}|\\cr|\\)/;let n=0,i=0,s=t.i,a;const o=["","","",!1];for(;(a=t.string.slice(s).match(r))!==null;)switch(s+=a[0].length,a[2]){case"\\":s++;break;case"{":n++;break;case"}":if(!n)return o;n--;break;case"\\begin{array}":n||i++;break;case"\\end{array}":if(!n&&i){i--;break}default:{if(n||i)continue;s-=a[2].length;let l=t.string.slice(t.i,s).trim();const u=l.match(/^(?:\s*\\(?:h(?:dash)?line|hfil{1,3}|rowcolor\s*\{.*?\}))+/);return u&&(l=l.slice(u[0].length)),t.string=t.string.slice(s),t.i=0,[u?.[0]||"",l,a[2],!0]}}return o}EndEntry(){const t=this.create("node","mtd",this.nodes);this.hfill.length&&(this.hfill[0]===0&&ft.setAttribute(t,"columnalign","right"),this.hfill[this.hfill.length-1]===this.Size()&&ft.setAttribute(t,"columnalign",ft.getAttribute(t,"columnalign")?"center":"left"));const r=this.ralign[this.row.length];if(r){const[n,i,s]=r,a=this.create("node","mpadded",t.childNodes[0].childNodes,{width:i,"data-overflow":"auto","data-align":s,"data-vertical-align":n});a.setProperty("vbox",n),t.childNodes[0].childNodes=[],t.appendChild(a)}else this.breakAlign.cell&&ft.setAttribute(t,"data-vertical-align",this.breakAlign.cell);this.breakAlign.cell="",this.row.push(t),this.Clear(),this.hfill=[]}EndRow(){let t="mtr";this.getProperty("isNumbered")&&this.row.length===3?(this.row.unshift(this.row.pop()),t="mlabeledtr"):this.getProperty("isLabeled")&&(t="mlabeledtr",this.setProperty("isLabeled",!1));const r=this.create("node",t,this.row);this.breakAlign.row&&(ft.setAttribute(r,"data-break-align",this.breakAlign.row),this.breakAlign.row=""),eo(r,this),this.table.push(r),this.row=[],this.atEnd=!1}EndTable(){(this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.checkLines()}checkLines(){if(this.arraydef.rowlines){const t=this.arraydef.rowlines.split(/ /);t.length===this.table.length?(this.frame.push(["bottom",t.pop()]),t.length?this.arraydef.rowlines=t.join(" "):delete this.arraydef.rowlines):t.length<this.table.length-1&&(this.arraydef.rowlines+=" none")}if(this.getProperty("rowspacing")){const t=this.arraydef.rowspacing.split(/ /);for(;t.length<this.table.length;)t.push(this.getProperty("rowspacing")+"em");this.arraydef.rowspacing=t.join(" ")}}addRowSpacing(t){if(this.arraydef.rowspacing){const r=this.arraydef.rowspacing.split(/ /);if(!this.getProperty("rowspacing")){const i=Ce.dimen2em(r[0]);this.setProperty("rowspacing",i)}const n=this.getProperty("rowspacing");for(;r.length<this.table.length;)r.push(Ce.em(n));r[this.table.length-1]=Ce.em(Math.max(0,n+Ce.dimen2em(t))),this.arraydef.rowspacing=r.join(" ")}}}class ob extends ds{constructor(t,...r){super(t),this.maxrow=0,this.factory.configuration.tags.start(r[0],r[2],r[1])}get kind(){return"eqnarray"}EndEntry(){const t=this.arraydef.columnalign.split(/ /);(this.row.length&&t.length?t[this.row.length%t.length]:"right")!=="right"&&jt.fixInitialMO(this.factory.configuration,this.nodes),super.EndEntry()}EndRow(){this.row.length>this.maxrow&&(this.maxrow=this.row.length);const t=this.factory.configuration.tags.getTag();t&&(this.row=[t].concat(this.row),this.setProperty("isLabeled",!0)),this.factory.configuration.tags.clearTag(),super.EndRow()}EndTable(){super.EndTable(),this.factory.configuration.tags.end(),this.extendArray("columnalign",this.maxrow),this.extendArray("columnwidth",this.maxrow),this.extendArray("columnspacing",this.maxrow-1),this.extendArray("data-break-align",this.maxrow),this.addIndentshift()}extendArray(t,r){if(!this.arraydef[t])return;const n=this.arraydef[t].split(/ /),i=[...n];if(i.length>1){for(;i.length<r;)i.push(...n);this.arraydef[t]=i.slice(0,r).join(" ")}}addIndentshift(){const t=this.arraydef.columnalign.split(/ /);let r="";for(const n of t.keys()){if(t[n]==="left"&&n>0){const i=r==="center"?".7em":"2em";for(const s of this.table){const a=s.childNodes[s.isKind("mlabeledtr")?n+1:n];if(a){const o=this.create("node","mstyle",a.childNodes[0].childNodes,{indentshift:i});a.childNodes[0].childNodes=[],a.appendChild(o)}}}r=t[n]}}}class BT extends ab{get kind(){return"mstyle"}constructor(t,r,n){super(t),this.attrList=r,this.setProperty("name",n)}checkItem(t){return t.isKind("end")&&t.getName()===this.getName()?[[this.create("node","mstyle",[this.toMml()],this.attrList)],!0]:super.checkItem(t)}}class MT extends ue{constructor(t,...r){super(t),this.factory.configuration.tags.start("equation",!0,r[0])}get kind(){return"equation"}get isOpen(){return!0}checkItem(t){if(t.isKind("end")){const r=this.toMml(),n=this.factory.configuration.tags.getTag();return this.factory.configuration.tags.end(),[[n?this.factory.configuration.tags.enTag(r,n):r,t],!0]}if(t.isKind("stop"))throw new Ot("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(t)}}function eo(e,t,r=""){const n=t.startStr.slice(t.startI,t.stopI);n&&(e.attributes.set(Wt.Attr.LATEXITEM,r?r+n:n),e.attributes.set(Wt.Attr.LATEX,r?r+n:n))}const fr={thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18};function lb(e){return Math.abs(e)<.001?"0":e.toFixed(3).replace(/\.?0+$/,"")+"em"}const jQ=1.2/.85,WQ={fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,class:1,href:1,style:1};function ja(e,t=1/0){const r=e.replace(/\s+/g,"").split("").map(n=>{const i={t:"top",b:"bottom",m:"middle",c:"center"}[n];if(!i)throw new Ot("BadBreakAlign","Invalid alignment character: %1",n);return i});if(r.length>t)throw new Ot("TooManyAligns","Too many alignment characters: %1",e);return t===1?r[0]:r.join(" ")}function FT(e,t){const r=e.stack.env,n=r.inRoot;r.inRoot=!0;const i=new Xe(t,r,e.configuration);let s=i.mml();const a=i.stack.global;if(a.leftRoot||a.upRoot){const o={};a.leftRoot&&(o.width=a.leftRoot),a.upRoot&&(o.voffset=a.upRoot,o.height=a.upRoot),s=e.create("node","mpadded",[s],o)}return r.inRoot=n,s}const rt={Open(e,t){e.Push(e.itemFactory.create("open"))},Close(e,t){e.Push(e.itemFactory.create("close"))},Bar(e,t){e.Push(e.create("token","mo",{stretchy:!1,texClass:mt.ORD},t))},Tilde(e,t){e.Push(e.create("token","mtext",{},ms.nbsp))},Space(e,t){},Superscript(e,t){e.GetNext().match(/\d/)&&(e.string=e.string.substring(0,e.i+1)+" "+e.string.substring(e.i+1));let r,n;const i=e.stack.Top();i.isKind("prime")?([n,r]=i.Peek(2),e.stack.Pop()):(n=e.stack.Prev(),n||(n=e.create("token","mi",{},"")));const s=ft.getProperty(n,"movesupsub");let a=ft.isType(n,"msubsup")?n.sup:n.over;if(ft.isType(n,"msubsup")&&!ft.isType(n,"msup")&&ft.getChildAt(n,n.sup)||ft.isType(n,"munderover")&&!ft.isType(n,"mover")&&ft.getChildAt(n,n.over)&&!ft.getProperty(n,"subsupOK"))throw new Ot("DoubleExponent","Double exponent: use braces to clarify");(!ft.isType(n,"msubsup")||ft.isType(n,"msup"))&&(s?((!ft.isType(n,"munderover")||ft.isType(n,"mover")||ft.getChildAt(n,n.over))&&(n=e.create("node","munderover",[n],{movesupsub:!0})),a=n.over):(n=e.create("node","msubsup",[n]),a=n.sup)),e.Push(e.itemFactory.create("subsup",n).setProperties({position:a,primes:r,movesupsub:s}))},Subscript(e,t){e.GetNext().match(/\d/)&&(e.string=e.string.substring(0,e.i+1)+" "+e.string.substring(e.i+1));let r,n;const i=e.stack.Top();i.isKind("prime")?([n,r]=i.Peek(2),e.stack.Pop()):(n=e.stack.Prev(),n||(n=e.create("token","mi",{},"")));const s=ft.getProperty(n,"movesupsub");let a=ft.isType(n,"msubsup")?n.sub:n.under;if(ft.isType(n,"msubsup")&&!ft.isType(n,"msup")&&ft.getChildAt(n,n.sub)||ft.isType(n,"munderover")&&!ft.isType(n,"mover")&&ft.getChildAt(n,n.under)&&!ft.getProperty(n,"subsupOK"))throw new Ot("DoubleSubscripts","Double subscripts: use braces to clarify");(!ft.isType(n,"msubsup")||ft.isType(n,"msup"))&&(s?((!ft.isType(n,"munderover")||ft.isType(n,"mover")||ft.getChildAt(n,n.under))&&(n=e.create("node","munderover",[n],{movesupsub:!0})),a=n.under):(n=e.create("node","msubsup",[n]),a=n.sub)),e.Push(e.itemFactory.create("subsup",n).setProperties({position:a,primes:r,movesupsub:s}))},Prime(e,t){let r=e.stack.Prev();if(r||(r=e.create("token","mi")),ft.isType(r,"msubsup")&&!ft.isType(r,"msup")&&ft.getChildAt(r,r.sup)||ft.isType(r,"munderover")&&!ft.isType(r,"mover")&&ft.getChildAt(r,r.over)&&!ft.getProperty(r,"subsupOK"))throw new Ot("DoubleExponentPrime","Prime causes double exponent: use braces to clarify");let n="";e.i--;do n+=ms.prime,e.i++,t=e.GetNext();while(t==="'"||t===ms.rsquo);n=["","â²","â³","â´","â"][n.length]||n;const i=e.create("token","mo",{variantForm:!0},n);e.Push(e.itemFactory.create("prime",r,i))},Comment(e,t){for(;e.i<e.string.length&&e.string.charAt(e.i)!==`
`;)e.i++},Hash(e,t){throw new Ot("CantUseHash1","You can't use 'macro parameter character #' in math mode")},MathFont(e,t,r,n=""){const i=e.GetArgument(t),s=new Xe(i,Object.assign(Object.assign({multiLetterIdentifiers:e.options.identifierPattern},e.stack.env),{font:r,italicFont:n,noAutoOP:!0}),e.configuration).mml();e.Push(e.create("node","TeXAtom",[s]))},SetFont(e,t,r){e.stack.env.font=r,e.Push(e.itemFactory.create("null"))},SetStyle(e,t,r,n,i){e.stack.env.style=r,e.stack.env.level=i,e.Push(e.itemFactory.create("style").setProperty("styles",{displaystyle:n,scriptlevel:i}))},SetSize(e,t,r){e.stack.env.size=r,e.Push(e.itemFactory.create("style").setProperty("styles",{mathsize:lb(r)}))},Spacer(e,t,r){const n=e.create("node","mspace",[],{width:lb(r)}),i=e.create("node","mstyle",[n],{scriptlevel:0});e.Push(i)},DiscretionaryTimes(e,t){e.Push(e.create("token","mo",{linebreakmultchar:"Ã"},"â¢"))},AllowBreak(e,t){e.Push(e.create("token","mspace"))},Break(e,t){e.Push(e.create("token","mspace",{linebreak:Wt.LineBreak.NEWLINE}))},Linebreak(e,t,r){let n=!0;const i=e.stack.Prev(!0);i&&i.isKind("mo")&&ft.getMoAttribute(i,"linebreakstyle")!==Wt.LineBreakStyle.BEFORE&&(i.attributes.set("linebreak",r),n=!1),e.Push(e.itemFactory.create("break",r,n))},LeftRight(e,t){const r=t.substring(1);e.Push(e.itemFactory.create(r,e.GetDelimiter(t),e.stack.env.color))},NamedFn(e,t,r){r||(r=t.substring(1));const n=e.create("token","mi",{texClass:mt.OP},r);e.Push(e.itemFactory.create("fn",n))},NamedOp(e,t,r){r||(r=t.substring(1)),r=r.replace(/&thinsp;/,"â");const n=e.create("token","mo",{movablelimits:!0,movesupsub:!0,form:Wt.Form.PREFIX,texClass:mt.OP},r);e.Push(n)},Limits(e,t,r){let n=e.stack.Prev(!0);if(!n||ft.getTexClass(ft.getCoreMO(n))!==mt.OP&&ft.getProperty(n,"movesupsub")==null)throw new Ot("MisplacedLimits","%1 is allowed only on operators",e.currentCS);const i=e.stack.Top();let s;ft.isType(n,"munderover")&&!r?(s=e.create("node","msubsup"),ft.copyChildren(n,s),n=i.Last=s):ft.isType(n,"msubsup")&&r&&(s=e.create("node","munderover"),ft.copyChildren(n,s),n=i.Last=s),ft.setProperty(n,"movesupsub",!!r),ft.setProperties(ft.getCoreMO(n),{movablelimits:!1}),((ft.isType(n,"mo")?ft.getMoAttribute(n,"movableLimits"):ft.getAttribute(n,"movablelimits"))||ft.getProperty(n,"movablelimits"))&&ft.setProperties(n,{movablelimits:!1})},Over(e,t,r,n){const i=e.itemFactory.create("over").setProperty("name",e.currentCS);r||n?(i.setProperty("ldelim",r),i.setProperty("rdelim",n)):t.match(/withdelims$/)&&(i.setProperty("ldelim",e.GetDelimiter(t)),i.setProperty("rdelim",e.GetDelimiter(t))),t.match(/^\\above/)?i.setProperty("thickness",e.GetDimen(t)):(t.match(/^\\atop/)||r||n)&&i.setProperty("thickness",0),e.Push(i)},Frac(e,t){const r=e.ParseArg(t),n=e.ParseArg(t),i=e.create("node","mfrac",[r,n]);e.Push(i)},Sqrt(e,t){const r=e.GetBrackets(t);let n=e.GetArgument(t);n==="\\frac"&&(n+="{"+e.GetArgument(n)+"}{"+e.GetArgument(n)+"}");let i=new Xe(n,e.stack.env,e.configuration).mml();r?i=e.create("node","mroot",[i,FT(e,r)]):i=e.create("node","msqrt",[i]),e.Push(i)},Root(e,t){const r=e.GetUpTo(t,"\\of"),n=e.ParseArg(t),i=e.create("node","mroot",[n,FT(e,r)]);e.Push(i)},MoveRoot(e,t,r){if(!e.stack.env.inRoot)throw new Ot("MisplacedMoveRoot","%1 can appear only within a root",e.currentCS);if(e.stack.global[r])throw new Ot("MultipleMoveRoot","Multiple use of %1",e.currentCS);let n=e.GetArgument(t);if(!n.match(/-?[0-9]+/))throw new Ot("IntegerArg","The argument to %1 must be an integer",e.currentCS);n=parseInt(n,10)/15+"em",n.substring(0,1)!=="-"&&(n="+"+n),e.stack.global[r]=n},Accent(e,t,r,n){const i=e.ParseArg(t),s=Object.assign(Object.assign({},jt.getFontDef(e)),{accent:!0,mathaccent:n===void 0?!0:n}),a=ft.createEntity(r),o=e.create("token","mo",s,a);ft.setAttribute(o,"stretchy",!!n);const l=ft.isEmbellished(i)?ft.getCoreMO(i):i;(ft.isType(l,"mo")||ft.getProperty(l,"movablelimits"))&&ft.setProperties(l,{movablelimits:!1});const u=e.create("node","munderover");ft.setChild(u,0,i),ft.setChild(u,1,null),ft.setChild(u,2,o);const c=e.create("node","TeXAtom",[u]);e.Push(c)},UnderOver(e,t,r,n){const i=ft.createEntity(r),s=e.create("token","mo",{stretchy:!0,accent:!0},i);i.match(bn.mathaccentsWithWidth)&&s.setProperty("mathaccent",!1);const a=t.charAt(1)==="o"?"over":"under",o=e.ParseArg(t);e.Push(jt.underOver(e,o,s,a,n))},Overset(e,t){const r=e.ParseArg(t),n=e.ParseArg(t),i=r.coreMO(),s=i.isKind("mo")&&ft.getMoAttribute(i,"accent")===!0;jt.checkMovableLimits(n);const a=e.create("node","mover",[n,r],{accent:s});e.Push(a)},Underset(e,t){const r=e.ParseArg(t),n=e.ParseArg(t),i=r.coreMO(),s=i.isKind("mo")&&ft.getMoAttribute(i,"accent")===!0;jt.checkMovableLimits(n);const a=e.create("node","munder",[n,r],{accentunder:s});e.Push(a)},Overunderset(e,t){const r=e.ParseArg(t),n=e.ParseArg(t),i=e.ParseArg(t),s=r.coreMO(),a=n.coreMO(),o=s.isKind("mo")&&ft.getMoAttribute(s,"accent")===!0,l=a.isKind("mo")&&ft.getMoAttribute(a,"accent")===!0;jt.checkMovableLimits(i);const u=e.create("node","munderover",[i,n,r],{accent:o,accentunder:l});e.Push(u)},TeXAtom(e,t,r){const n={texClass:r};let i,s;if(r===mt.OP){n.movesupsub=n.movablelimits=!0;const a=e.GetArgument(t),o=a.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);if(o)n.mathvariant=Wt.Variant.NORMAL,s=e.create("token","mi",n,o[1]);else{const l=new Xe(a,e.stack.env,e.configuration).mml();s=e.create("node","TeXAtom",[l],n)}i=e.itemFactory.create("fn",s)}else i=e.create("node","TeXAtom",[e.ParseArg(t)],n);e.Push(i)},VBox(e,t,r){const n=new Xe(e.GetArgument(t),e.stack.env,e.configuration),i={"data-vertical-align":r,texClass:mt.ORD};n.stack.env.hsize&&(i.width=n.stack.env.hsize,i["data-overflow"]="linebreak");const s=e.create("node","mpadded",[n.mml()],i);s.setProperty("vbox",r),e.Push(s)},Hsize(e,t){e.GetNext()==="="&&e.i++,e.stack.env.hsize=e.GetDimen(t),e.Push(e.itemFactory.create("null"))},ParBox(e,t){const r=e.GetBrackets(t,"c"),n=e.GetDimen(t),i=jt.internalMath(e,e.GetArgument(t)),s=ja(r,1),a=e.create("node","mpadded",i,{width:n,"data-overflow":"linebreak","data-vertical-align":s});a.setProperty("vbox",s),e.Push(a)},BreakAlign(e,t){const r=e.stack.Top();if(!(r instanceof ds))throw new Ot("BreakNotInArray","%1 must be used in an alignment environment",e.currentCS);switch(e.GetArgument(t).trim()){case"c":if(r.First)throw new Ot("BreakFirstInEntry","%1 must be at the beginning of an alignment entry",e.currentCS+"{c}");r.breakAlign.cell=ja(e.GetArgument(t),1);break;case"r":if(r.row.length||r.First)throw new Ot("BreakFirstInRow","%1 must be at the beginning of an alignment row",e.currentCS+"{r}");r.breakAlign.row=ja(e.GetArgument(t));break;case"t":if(r.table.length||r.row.length||r.First)throw new Ot("BreakFirstInTable","%1 must be at the beginning of an alignment",e.currentCS+"{t}");r.breakAlign.table=ja(e.GetArgument(t));break;default:throw new Ot("BreakType","First argument to %1 must be one of c, r, or t",e.currentCS)}},MmlToken(e,t){const r=e.GetArgument(t);let n=e.GetBrackets(t,"").replace(/^\s+/,"");const i=e.GetArgument(t),s={},a=[];let o;try{o=e.create("node",r)}catch{o=null}if(!o||!o.isToken)throw new Ot("NotMathMLToken","%1 is not a token element",r);for(;n!=="";){const u=n.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);if(!u)throw new Ot("InvalidMathMLAttr","Invalid MathML attribute: %1",n);if(!o.attributes.hasDefault(u[1])&&!WQ[u[1]])throw new Ot("UnknownAttrForElement","%1 is not a recognized attribute for %2",u[1],r);let c=jt.mmlFilterAttribute(e,u[1],u[2].replace(/^(['"])(.*)\1$/,"$2"));c&&(c.toLowerCase()==="true"?c=!0:c.toLowerCase()==="false"&&(c=!1),s[u[1]]=c,a.push(u[1])),n=n.substring(u[0].length)}a.length&&(s["mjx-keep-attrs"]=a.join(" "));const l=e.create("text",hQ(i));o.appendChild(l),ft.setProperties(o,s),e.Push(o)},Strut(e,t){const r=e.create("node","mrow"),n=e.create("node","mpadded",[r],{height:"8.6pt",depth:"3pt",width:0});e.Push(n)},Phantom(e,t,r,n){let i=e.create("node","mphantom",[e.ParseArg(t)]);(r||n)&&(i=e.create("node","mpadded",[i]),n&&(ft.setAttribute(i,"height",0),ft.setAttribute(i,"depth",0)),r&&ft.setAttribute(i,"width",0));const s=e.create("node","TeXAtom",[i]);e.Push(s)},Smash(e,t){const r=Ce.trimSpaces(e.GetBrackets(t,"")),n=e.create("node","mpadded",[e.ParseArg(t)]);switch(r){case"b":ft.setAttribute(n,"depth",0);break;case"t":ft.setAttribute(n,"height",0);break;default:ft.setAttribute(n,"height",0),ft.setAttribute(n,"depth",0)}const i=e.create("node","TeXAtom",[n]);e.Push(i)},Lap(e,t){const r=e.create("node","mpadded",[e.ParseArg(t)],{width:0});t==="\\llap"&&ft.setAttribute(r,"lspace","-1width");const n=e.create("node","TeXAtom",[r]);e.Push(n)},RaiseLower(e,t){let r=e.GetDimen(t);const n=e.itemFactory.create("position").setProperties({name:e.currentCS,move:"vertical"});r.charAt(0)==="-"&&(r=r.slice(1),t=t.substring(1)==="raise"?"\\lower":"\\raise"),t==="\\lower"?(n.setProperty("dh","-"+r),n.setProperty("dd","+"+r)):(n.setProperty("dh","+"+r),n.setProperty("dd","-"+r)),e.Push(n)},MoveLeftRight(e,t){let r=e.GetDimen(t),n=r.charAt(0)==="-"?r.slice(1):"-"+r;if(t==="\\moveleft"){const i=r;r=n,n=i}e.Push(e.itemFactory.create("position").setProperties({name:e.currentCS,move:"horizontal",left:e.create("node","mspace",[],{width:r}),right:e.create("node","mspace",[],{width:n})}))},Hskip(e,t,r=!1){const n=e.create("node","mspace",[],{width:e.GetDimen(t)});r&&ft.setAttribute(n,"linebreak","nobreak"),e.Push(n)},Nonscript(e,t){e.Push(e.itemFactory.create("nonscript"))},Rule(e,t,r){const n=e.GetDimen(t),i=e.GetDimen(t),s=e.GetDimen(t),a={width:n,height:i,depth:s};r!=="blank"&&(a.mathbackground=e.stack.env.color||"black");const o=e.create("node","mspace",[],a);e.Push(o)},rule(e,t){const r=e.GetBrackets(t),n=e.GetDimen(t),i=e.GetDimen(t);let s=e.create("node","mspace",[],{width:n,height:i,mathbackground:e.stack.env.color||"black"});r&&(s=e.create("node","mpadded",[s],{voffset:r}),r.match(/^-/)?(ft.setAttribute(s,"height",r),ft.setAttribute(s,"depth","+"+r.substring(1))):ft.setAttribute(s,"height","+"+r)),e.Push(s)},MakeBig(e,t,r,n){n*=jQ;const i=String(n).replace(/(\.\d\d\d).+/,"$1")+"em",s=e.GetDelimiter(t,!0),a=e.create("token","mo",{minsize:i,maxsize:i,fence:!0,stretchy:!0,symmetric:!0},s),o=e.create("node","TeXAtom",[a],{texClass:r});e.Push(o)},BuildRel(e,t){const r=e.ParseUpTo(t,"\\over"),n=e.ParseArg(t),i=e.create("node","munderover");ft.setChild(i,0,n),ft.setChild(i,1,null),ft.setChild(i,2,r);const s=e.create("node","TeXAtom",[i],{texClass:mt.REL});e.Push(s)},HBox(e,t,r,n){e.PushAll(jt.internalMath(e,e.GetArgument(t),r,n))},FBox(e,t){const r=jt.internalMath(e,e.GetArgument(t)),n=e.create("node","menclose",r,{notation:"box"});e.Push(n)},FrameBox(e,t){const r=e.GetBrackets(t),n=e.GetBrackets(t)||"c";let i=jt.internalMath(e,e.GetArgument(t));r&&(i=[e.create("node","mpadded",i,{width:r,"data-align":pu(n,{l:"left",r:"right"},"center")})]);const s=e.create("node","TeXAtom",[e.create("node","menclose",i,{notation:"box"})],{texClass:mt.ORD});e.Push(s)},MakeBox(e,t){const r=e.GetBrackets(t),n=e.GetBrackets(t,"c"),i=e.create("node","mpadded",jt.internalMath(e,e.GetArgument(t)));r&&ft.setAttribute(i,"width",r);const s=pu(n.toLowerCase(),{c:"center",r:"right"},"");s&&ft.setAttribute(i,"data-align",s),n.toLowerCase()!==n&&ft.setAttribute(i,"data-overflow","linebreak"),e.Push(i)},Not(e,t){e.Push(e.itemFactory.create("not"))},Dots(e,t){const r=ft.createEntity("2026"),n=ft.createEntity("22EF"),i=e.create("token","mo",{stretchy:!1},r),s=e.create("token","mo",{stretchy:!1},n);e.Push(e.itemFactory.create("dots").setProperties({ldots:i,cdots:s}))},Matrix(e,t,r,n,i,s,a,o,l,u){const c=e.GetNext();if(c==="")throw new Ot("MissingArgFor","Missing argument for %1",e.currentCS);c==="{"?e.i++:(e.string=c+"}"+e.string.slice(e.i+1),e.i=0);const h=e.itemFactory.create("array").setProperty("requireClose",!0);(r||!i)&&h.setProperty("arrayPadding",".2em .125em"),h.arraydef={rowspacing:a||"4pt",columnspacing:s||"1em"},l&&h.setProperty("isCases",!0),u&&(h.setProperty("isNumbered",!0),h.arraydef.side=u),(r||n)&&(h.setProperty("open",r),h.setProperty("close",n)),o==="D"&&(h.arraydef.displaystyle=!0),i!=null&&(h.arraydef.columnalign=i),e.Push(h)},Entry(e,t){e.Push(e.itemFactory.create("cell").setProperties({isEntry:!0,name:t}));const r=e.stack.Top(),n=r.getProperty("casesEnv");if(!r.getProperty("isCases")&&!n)return;const s=e.string;let a=0,o=-1,l=e.i,u=s.length;const c=n?new RegExp(`^\\\\end\\s*\\{${n.replace(/\*/,"\\*")}\\}`):null;for(;l<u;){const f=s.charAt(l);if(f==="{")a++,l++;else if(f==="}")a===0?u=0:(a--,a===0&&o<0&&(o=l-e.i),l++);else{if(f==="&"&&a===0)throw new Ot("ExtraAlignTab","Extra alignment tab in \\cases text");if(f==="\\"){const d=s.substring(l);d.match(/^((\\cr)[^a-zA-Z]|\\\\)/)||c&&d.match(c)?u=0:l+=2}else l++}}const h=s.substring(e.i,l);if(!h.match(/^\s*\\text[^a-zA-Z]/)||o!==h.replace(/\s+$/,"").length-1){const f=jt.internalMath(e,Ce.trimSpaces(h),0);e.PushAll(f),e.i=l}},Cr(e,t){e.Push(e.itemFactory.create("cell").setProperties({isCR:!0,name:t}))},CrLaTeX(e,t,r=!1){let n;if(!r&&(e.string.charAt(e.i)==="*"&&e.i++,e.string.charAt(e.i)==="[")){const a=e.GetBrackets(t,""),[o,l]=Ce.matchDimen(a);if(a&&!o)throw new Ot("BracketMustBeDimension","Bracket argument to %1 must be a dimension",e.currentCS);n=o+l}e.Push(e.itemFactory.create("cell").setProperties({isCR:!0,name:t,linebreak:!0}));const i=e.stack.Top();let s;i instanceof ds?n&&i.addRowSpacing(n):(s=e.create("node","mspace",[],{linebreak:Wt.LineBreak.NEWLINE}),n&&ft.setAttribute(s,"data-lineleading",n),e.Push(s))},HLine(e,t,r){r==null&&(r="solid");const n=e.stack.Top();if(!(n instanceof ds)||n.Size())throw new Ot("Misplaced","Misplaced %1",e.currentCS);if(!n.table.length)n.frame.push(["top",r]);else{const i=n.arraydef.rowlines?n.arraydef.rowlines.split(/ /):[];for(;i.length<n.table.length;)i.push("none");i[n.table.length-1]=r,n.arraydef.rowlines=i.join(" ")}},HFill(e,t){const r=e.stack.Top();if(r instanceof ds)r.hfill.push(r.Size());else throw new Ot("UnsupportedHFill","Unsupported use of %1",e.currentCS)},NewColumnType(e,t){const r=e.GetArgument(t),n=e.GetBrackets(t,"0"),i=e.GetArgument(t);if(r.length!==1)throw new Ot("BadColumnName","Column specifier must be exactly one character: %1",r);if(!n.match(/^\d+$/))throw new Ot("PositiveIntegerArg","Argument to %1 must be a positive integer",n);const s=e.configuration.columnParser;s.columnHandler[r]=a=>s.macroColumn(a,i,parseInt(n)),e.Push(e.itemFactory.create("null"))},BeginEnd(e,t){const r=e.GetArgument(t);if(r.match(/\\/))throw new Ot("InvalidEnv","Invalid environment name '%1'",r);const n=e.configuration.handlers.get(le.ENVIRONMENT).lookup(r);if(n&&t==="\\end"){if(!n.args[0]){const i=e.itemFactory.create("end").setProperty("name",r);e.Push(i);return}e.stack.env.closing=r}jt.checkMaxMacros(e,!1),e.parse(le.ENVIRONMENT,[e,r])},Array(e,t,r,n,i,s,a,o,l){i||(i=e.GetArgument("\\begin{"+t.getName()+"}"));const u=e.itemFactory.create("array");return t.getName()==="array"&&u.setProperty("arrayPadding",".5em .125em"),u.parser=e,u.arraydef={columnspacing:s||"1em",rowspacing:a||"4pt"},e.configuration.columnParser.process(e,i,u),r&&u.setProperty("open",e.convertDelimiter(r)),n&&u.setProperty("close",e.convertDelimiter(n)),(o||"").charAt(1)==="'"&&(u.arraydef["data-cramped"]=!0,o=o.charAt(0)),o==="D"?u.arraydef.displaystyle=!0:o&&(u.arraydef.displaystyle=!1),u.arraydef.scriptlevel=o==="S"?1:0,l&&(u.arraydef.useHeight=!1),e.Push(t),u.StartEntry(),u},AlignedArray(e,t,r=""){const n=e.GetBrackets("\\begin{"+t.getName()+"}"),i=rt.Array(e,t,null,null,null,null,null,r);return jt.setArrayAlign(i,n)},IndentAlign(e,t){const r=`\\begin{${t.getName()}}`,n=e.GetBrackets(r,""),i=e.GetBrackets(r,""),s=e.GetBrackets(r,"");if(n&&!Ce.matchDimen(n)[0]||i&&!Ce.matchDimen(i)[0]||s&&!Ce.matchDimen(s)[0])throw new Ot("BracketMustBeDimension","Bracket argument to %1 must be a dimension",r);const a=e.GetArgument(r);if(a&&!a.match(/^([lcr]{1,3})?$/))throw new Ot("BadAlignment","Alignment must be one to three copies of l, c, or r");const o=[...a].map(u=>({l:"left",c:"center",r:"right"})[u]);o.length===1&&o.push(o[0]);const l={};for(const[u,c]of[["indentshiftfirst",n],["indentshift",i||n],["indentshiftlast",s],["indentalignfirst",o[0]],["indentalign",o[1]],["indentalignlast",o[2]]])c&&(l[u]=c);e.Push(e.itemFactory.create("mstyle",l,t.getName()))},Equation(e,t,r,n=!0){return e.configuration.mathItem.display=n,e.stack.env.display=n,jt.checkEqnEnv(e),e.Push(t),e.itemFactory.create("equation",r).setProperty("name",t.getName())},EqnArray(e,t,r,n,i,s,a){const o=t.getName(),l=o==="gather"||o==="gather*";n&&jt.checkEqnEnv(e,!l),e.Push(t),i=i.replace(/[^clr]/g,"").split("").join(" "),i=i.replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center"),s=ja(s);const u=e.itemFactory.create("eqnarray",o,r,n,e.stack.global);return u.arraydef={displaystyle:!0,columnalign:i,columnspacing:a||"1em",rowspacing:"3pt","data-break-align":s,side:e.options.tagSide,minlabelspacing:e.options.tagIndent},l&&u.setProperty("nestable",!0),u},HandleNoTag(e,t){e.tags.notag()},HandleLabel(e,t){const r=e.GetArgument(t);if(r!==""&&!e.tags.refUpdate){if(e.tags.label)throw new Ot("MultipleCommand","Multiple %1",e.currentCS);if(e.tags.label=r,(e.tags.allLabels[r]||e.tags.labels[r])&&!e.options.ignoreDuplicateLabels)throw new Ot("MultipleLabel","Label '%1' multiply defined",r);e.tags.labels[r]=new eb}},HandleRef(e,t,r){const n=e.GetArgument(t);let i=e.tags.allLabels[n]||e.tags.labels[n];i||(e.tags.refUpdate||(e.tags.redo=!0),i=new eb);let s=i.tag;r&&(s=e.tags.formatRef(s));const a=e.create("node","mrow",jt.internalMath(e,s),{href:e.tags.formatUrl(i.id,e.options.baseURL),class:"MathJax_ref"});e.Push(a)},Macro(e,t,r,n,i){if(n){const s=[];if(i!=null){const a=e.GetBrackets(t);s.push(a??i)}for(let a=s.length;a<n;a++)s.push(e.GetArgument(t));r=jt.substituteArgs(e,s,r)}e.string=jt.addArgs(e,r,e.string.slice(e.i)),e.i=0,jt.checkMaxMacros(e)},MathChoice(e,t){const r=e.ParseArg(t),n=e.ParseArg(t),i=e.ParseArg(t),s=e.ParseArg(t);e.Push(e.create("node","MathChoice",[r,n,i,s]))}},dl=Wt.Variant,Je={variable(e,t){var r;const n=jt.getFontDef(e),i=e.stack.env;if(i.multiLetterIdentifiers&&i.font!==""&&(t=((r=e.string.substring(e.i-1).match(i.multiLetterIdentifiers))===null||r===void 0?void 0:r[0])||t,e.i+=t.length-1,n.mathvariant===dl.NORMAL&&i.noAutoOP&&t.length>1&&(n.autoOP=!1)),!n.mathvariant&&jt.isLatinOrGreekChar(t)){const a=e.configuration.mathStyle(t);a&&(n.mathvariant=a)}const s=e.create("token","mi",n,t);e.Push(s)},digit(e,t){const r=e.configuration.options.numberPattern,n=e.string.slice(e.i-1).match(r),i=jt.getFontDef(e);if(!n)return!1;const s=e.create("token","mn",i,n[0].replace(/[{}]/g,""));return e.i+=n[0].length-1,e.Push(s),!0},controlSequence(e,t){const r=e.GetCS();e.parse(le.MACRO,[e,r])},lcGreek(e,t){const r={mathvariant:e.configuration.mathStyle(t.char)||dl.ITALIC},n=e.create("token","mi",r,t.char);e.Push(n)},ucGreek(e,t){const r={mathvariant:e.stack.env.font||e.configuration.mathStyle(t.char,!0)||dl.NORMAL},n=e.create("token","mi",r,t.char);e.Push(n)},mathchar0mi(e,t){const r=t.attributes||{mathvariant:dl.ITALIC},n=e.create("token","mi",r,t.char);e.Push(n)},mathchar0mo(e,t){const r=t.attributes||{};r.stretchy=!1;const n=e.create("token","mo",r,t.char);ft.setProperty(n,"fixStretchy",!0),e.configuration.addNode("fixStretchy",n),e.Push(n)},mathchar7(e,t){const r=t.attributes||{mathvariant:dl.NORMAL};e.stack.env.font&&(r.mathvariant=e.stack.env.font);const n=e.create("token","mi",r,t.char);e.Push(n)},delimiter(e,t){let r=t.attributes||{};r=Object.assign({fence:!1,stretchy:!1},r);const n=e.create("token","mo",r,t.char);e.Push(n)},environment(e,t,r,n){const i=e.itemFactory.create("begin").setProperty("name",t);e.Push(r(e,i,...n.slice(1)))}},fl=lb(fr.thickmathspace),Mt=Wt.Variant;new vo("letter",Je.variable,/[a-z]/i);new vo("digit",Je.digit,/[0-9.,]/);new vo("command",Je.controlSequence,/^\\/);new Ju("special",{"{":rt.Open,"}":rt.Close,"~":rt.Tilde,"^":rt.Superscript,_:rt.Subscript,"|":rt.Bar," ":rt.Space,"	":rt.Space,"\r":rt.Space,"\n":rt.Space,"'":rt.Prime,"%":rt.Comment,"&":rt.Entry,"#":rt.Hash,"Â ":rt.Space,"â":rt.Prime});new An("lcGreek",Je.lcGreek,{alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",epsilon:"Ïµ",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",lambda:"Î»",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",pi:"Ï",rho:"Ï",sigma:"Ï",tau:"Ï",upsilon:"Ï",phi:"Ï",chi:"Ï",psi:"Ï",omega:"Ï",varepsilon:"Îµ",vartheta:"Ï",varpi:"Ï",varrho:"Ï±",varsigma:"Ï",varphi:"Ï"});new An("ucGreek",Je.ucGreek,{Gamma:"Î",Delta:"Î",Theta:"Î",Lambda:"Î",Xi:"Î",Pi:"Î ",Sigma:"Î£",Upsilon:"Î¥",Phi:"Î¦",Psi:"Î¨",Omega:"Î©"});new An("mathchar0mi",Je.mathchar0mi,{AA:"â«",S:["Â§",{mathvariant:Mt.NORMAL}],aleph:["âµ",{mathvariant:Mt.NORMAL}],hbar:["â",{variantForm:!0}],imath:"Ä±",jmath:"È·",ell:"â",wp:["â",{mathvariant:Mt.NORMAL}],Re:["â",{mathvariant:Mt.NORMAL}],Im:["â",{mathvariant:Mt.NORMAL}],partial:["â",{mathvariant:Mt.ITALIC}],infty:["â",{mathvariant:Mt.NORMAL}],prime:["â²",{variantForm:!0}],emptyset:["â",{mathvariant:Mt.NORMAL}],nabla:["â",{mathvariant:Mt.NORMAL}],top:["â¤",{mathvariant:Mt.NORMAL}],bot:["â¥",{mathvariant:Mt.NORMAL}],angle:["â ",{mathvariant:Mt.NORMAL}],triangle:["â³",{mathvariant:Mt.NORMAL}],backslash:["\\",{mathvariant:Mt.NORMAL}],forall:["â",{mathvariant:Mt.NORMAL}],exists:["â",{mathvariant:Mt.NORMAL}],neg:["Â¬",{mathvariant:Mt.NORMAL}],lnot:["Â¬",{mathvariant:Mt.NORMAL}],flat:["â­",{mathvariant:Mt.NORMAL}],natural:["â®",{mathvariant:Mt.NORMAL}],sharp:["â¯",{mathvariant:Mt.NORMAL}],clubsuit:["â£",{mathvariant:Mt.NORMAL}],diamondsuit:["â¢",{mathvariant:Mt.NORMAL}],heartsuit:["â¡",{mathvariant:Mt.NORMAL}],spadesuit:["â ",{mathvariant:Mt.NORMAL}]});new An("mathchar0mo",Je.mathchar0mo,{surd:"â",coprod:["â",{movesupsub:!0}],bigvee:["â",{movesupsub:!0}],bigwedge:["â",{movesupsub:!0}],biguplus:["â¨",{movesupsub:!0}],bigcap:["â",{movesupsub:!0}],bigcup:["â",{movesupsub:!0}],int:"â«",intop:["â«",{movesupsub:!0,movablelimits:!0}],iint:"â¬",iiint:"â­",prod:["â",{movesupsub:!0}],sum:["â",{movesupsub:!0}],bigotimes:["â¨",{movesupsub:!0}],bigoplus:["â¨",{movesupsub:!0}],bigodot:["â¨",{movesupsub:!0}],oint:"â®",ointop:["â®",{movesupsub:!0,movablelimits:!0}],oiint:"â¯",oiiint:"â°",bigsqcup:["â¨",{movesupsub:!0}],smallint:["â«",{largeop:!1}],triangleleft:"â",triangleright:"â¹",bigtriangleup:"â³",bigtriangledown:"â½",wedge:"â§",land:"â§",vee:"â¨",lor:"â¨",cap:"â©",cup:"âª",ddagger:"â¡",dagger:"â ",sqcap:"â",sqcup:"â",uplus:"â",amalg:"â¨¿",diamond:"â",bullet:"â",wr:"â",div:"Ã·",odot:["â",{largeop:!1}],oslash:["â",{largeop:!1}],otimes:["â",{largeop:!1}],ominus:["â",{largeop:!1}],oplus:["â",{largeop:!1}],mp:"â",pm:"Â±",circ:"â",bigcirc:"â¯",setminus:"â",cdot:"â",ast:"â",times:"Ã",star:"â",propto:"â",sqsubseteq:"â",sqsupseteq:"â",parallel:"â¥",mid:"â£",dashv:"â£",vdash:"â¢",leq:"â¤",le:"â¤",geq:"â¥",ge:"â¥",lt:"<",gt:">",succ:"â»",prec:"âº",approx:"â",succeq:"âª°",preceq:"âª¯",supset:"â",subset:"â",supseteq:"â",subseteq:"â",in:"â",ni:"â",notin:"â",owns:"â",gg:"â«",ll:"âª",sim:"â¼",simeq:"â",perp:"â",equiv:"â¡",asymp:"â",smile:"â£",frown:"â¢",ne:"â ",neq:"â ",cong:"â",doteq:"â",bowtie:"â",models:"â§",notChar:"â§¸",Leftrightarrow:"â",Leftarrow:"â",Rightarrow:"â",leftrightarrow:"â",leftarrow:"â",gets:"â",rightarrow:"â",to:["â",{accent:!1}],mapsto:"â¦",leftharpoonup:"â¼",leftharpoondown:"â½",rightharpoonup:"â",rightharpoondown:"â",nearrow:"â",searrow:"â",nwarrow:"â",swarrow:"â",rightleftharpoons:"â",hookrightarrow:"âª",hookleftarrow:"â©",longleftarrow:"âµ",Longleftarrow:"â¸",longrightarrow:"â¶",Longrightarrow:"â¹",Longleftrightarrow:"âº",longleftrightarrow:"â·",longmapsto:"â¼",ldots:"â¦",cdots:"â¯",vdots:"â®",ddots:"â±",iddots:"â°",dotsc:"â¦",dotsb:"â¯",dotsm:"â¯",dotsi:"â¯",dotso:"â¦",ldotp:[".",{texClass:mt.PUNCT}],cdotp:["â",{texClass:mt.PUNCT}],colon:[":",{texClass:mt.PUNCT}]});new An("mathchar7",Je.mathchar7,{_:"_","#":"#",$:"$","%":"%","&":"&",And:"&"});new Qu("delimiter",Je.delimiter,{"(":"(",")":")","[":"[","]":"]","<":"â¨",">":"â©","\\lt":"â¨","\\gt":"â©","/":"/","|":["|",{texClass:mt.ORD}],".":"","\\lmoustache":"â°","\\rmoustache":"â±","\\lgroup":"â®","\\rgroup":"â¯","\\arrowvert":"â","\\Arrowvert":"â","\\bracevert":"âª","\\Vert":["â",{texClass:mt.ORD}],"\\|":["â",{texClass:mt.ORD}],"\\vert":["|",{texClass:mt.ORD}],"\\uparrow":"â","\\downarrow":"â","\\updownarrow":"â","\\Uparrow":"â","\\Downarrow":"â","\\Updownarrow":"â","\\backslash":"\\","\\rangle":"â©","\\langle":"â¨","\\rbrace":"}","\\lbrace":"{","\\}":"}","\\{":"{","\\rceil":"â","\\lceil":"â","\\rfloor":"â","\\lfloor":"â","\\lbrack":"[","\\rbrack":"]"});new Ss("macros",{displaystyle:[rt.SetStyle,"D",!0,0],textstyle:[rt.SetStyle,"T",!1,0],scriptstyle:[rt.SetStyle,"S",!1,1],scriptscriptstyle:[rt.SetStyle,"SS",!1,2],rm:[rt.SetFont,Mt.NORMAL],mit:[rt.SetFont,Mt.ITALIC],oldstyle:[rt.SetFont,Mt.OLDSTYLE],cal:[rt.SetFont,Mt.CALLIGRAPHIC],it:[rt.SetFont,Mt.MATHITALIC],bf:[rt.SetFont,Mt.BOLD],sf:[rt.SetFont,Mt.SANSSERIF],tt:[rt.SetFont,Mt.MONOSPACE],frak:[rt.MathFont,Mt.FRAKTUR],Bbb:[rt.MathFont,Mt.DOUBLESTRUCK],mathrm:[rt.MathFont,Mt.NORMAL],mathup:[rt.MathFont,Mt.NORMAL],mathnormal:[rt.MathFont,""],mathbf:[rt.MathFont,Mt.BOLD],mathbfup:[rt.MathFont,Mt.BOLD],mathit:[rt.MathFont,Mt.MATHITALIC],mathbfit:[rt.MathFont,Mt.BOLDITALIC],mathbb:[rt.MathFont,Mt.DOUBLESTRUCK],mathfrak:[rt.MathFont,Mt.FRAKTUR],mathbffrak:[rt.MathFont,Mt.BOLDFRAKTUR],mathscr:[rt.MathFont,Mt.SCRIPT],mathbfscr:[rt.MathFont,Mt.BOLDSCRIPT],mathsf:[rt.MathFont,Mt.SANSSERIF],mathsfup:[rt.MathFont,Mt.SANSSERIF],mathbfsf:[rt.MathFont,Mt.BOLDSANSSERIF],mathbfsfup:[rt.MathFont,Mt.BOLDSANSSERIF],mathsfit:[rt.MathFont,Mt.SANSSERIFITALIC],mathbfsfit:[rt.MathFont,Mt.SANSSERIFBOLDITALIC],mathtt:[rt.MathFont,Mt.MONOSPACE],mathcal:[rt.MathFont,Mt.CALLIGRAPHIC],mathbfcal:[rt.MathFont,Mt.BOLDCALLIGRAPHIC],symrm:[rt.MathFont,Mt.NORMAL],symup:[rt.MathFont,Mt.NORMAL],symnormal:[rt.MathFont,""],symbf:[rt.MathFont,Mt.BOLD,Mt.BOLDITALIC],symbfup:[rt.MathFont,Mt.BOLD],symit:[rt.MathFont,Mt.ITALIC],symbfit:[rt.MathFont,Mt.BOLDITALIC],symbb:[rt.MathFont,Mt.DOUBLESTRUCK],symfrak:[rt.MathFont,Mt.FRAKTUR],symbffrak:[rt.MathFont,Mt.BOLDFRAKTUR],symscr:[rt.MathFont,Mt.SCRIPT],symbfscr:[rt.MathFont,Mt.BOLDSCRIPT],symsf:[rt.MathFont,Mt.SANSSERIF,Mt.SANSSERIFITALIC],symsfup:[rt.MathFont,Mt.SANSSERIF],symbfsf:[rt.MathFont,Mt.BOLDSANSSERIF],symbfsfup:[rt.MathFont,Mt.BOLDSANSSERIF],symsfit:[rt.MathFont,Mt.SANSSERIFITALIC],symbfsfit:[rt.MathFont,Mt.SANSSERIFBOLDITALIC],symtt:[rt.MathFont,Mt.MONOSPACE],symcal:[rt.MathFont,Mt.CALLIGRAPHIC],symbfcal:[rt.MathFont,Mt.BOLDCALLIGRAPHIC],textrm:[rt.HBox,null,Mt.NORMAL],textup:[rt.HBox,null,Mt.NORMAL],textnormal:[rt.HBox],textit:[rt.HBox,null,Mt.ITALIC],textbf:[rt.HBox,null,Mt.BOLD],textsf:[rt.HBox,null,Mt.SANSSERIF],texttt:[rt.HBox,null,Mt.MONOSPACE],tiny:[rt.SetSize,.5],Tiny:[rt.SetSize,.6],scriptsize:[rt.SetSize,.7],small:[rt.SetSize,.85],normalsize:[rt.SetSize,1],large:[rt.SetSize,1.2],Large:[rt.SetSize,1.44],LARGE:[rt.SetSize,1.73],huge:[rt.SetSize,2.07],Huge:[rt.SetSize,2.49],arcsin:rt.NamedFn,arccos:rt.NamedFn,arctan:rt.NamedFn,arg:rt.NamedFn,cos:rt.NamedFn,cosh:rt.NamedFn,cot:rt.NamedFn,coth:rt.NamedFn,csc:rt.NamedFn,deg:rt.NamedFn,det:rt.NamedOp,dim:rt.NamedFn,exp:rt.NamedFn,gcd:rt.NamedOp,hom:rt.NamedFn,inf:rt.NamedOp,ker:rt.NamedFn,lg:rt.NamedFn,lim:rt.NamedOp,liminf:[rt.NamedOp,"lim&thinsp;inf"],limsup:[rt.NamedOp,"lim&thinsp;sup"],ln:rt.NamedFn,log:rt.NamedFn,max:rt.NamedOp,min:rt.NamedOp,Pr:rt.NamedOp,sec:rt.NamedFn,sin:rt.NamedFn,sinh:rt.NamedFn,sup:rt.NamedOp,tan:rt.NamedFn,tanh:rt.NamedFn,limits:[rt.Limits,!0],nolimits:[rt.Limits,!1],overline:[rt.UnderOver,"2015"],underline:[rt.UnderOver,"2015"],overbrace:[rt.UnderOver,"23DE",!0],underbrace:[rt.UnderOver,"23DF",!0],overparen:[rt.UnderOver,"23DC"],underparen:[rt.UnderOver,"23DD"],overrightarrow:[rt.UnderOver,"2192"],underrightarrow:[rt.UnderOver,"2192"],overleftarrow:[rt.UnderOver,"2190"],underleftarrow:[rt.UnderOver,"2190"],overleftrightarrow:[rt.UnderOver,"2194"],underleftrightarrow:[rt.UnderOver,"2194"],overset:rt.Overset,underset:rt.Underset,overunderset:rt.Overunderset,stackrel:[rt.Macro,"\\mathrel{\\mathop{#2}\\limits^{#1}}",2],stackbin:[rt.Macro,"\\mathbin{\\mathop{#2}\\limits^{#1}}",2],over:rt.Over,overwithdelims:rt.Over,atop:rt.Over,atopwithdelims:rt.Over,above:rt.Over,abovewithdelims:rt.Over,brace:[rt.Over,"{","}"],brack:[rt.Over,"[","]"],choose:[rt.Over,"(",")"],frac:rt.Frac,sqrt:rt.Sqrt,root:rt.Root,uproot:[rt.MoveRoot,"upRoot"],leftroot:[rt.MoveRoot,"leftRoot"],left:rt.LeftRight,right:rt.LeftRight,middle:rt.LeftRight,llap:rt.Lap,rlap:rt.Lap,raise:rt.RaiseLower,lower:rt.RaiseLower,moveleft:rt.MoveLeftRight,moveright:rt.MoveLeftRight,",":[rt.Spacer,fr.thinmathspace],":":[rt.Spacer,fr.mediummathspace],">":[rt.Spacer,fr.mediummathspace],";":[rt.Spacer,fr.thickmathspace],"!":[rt.Spacer,fr.negativethinmathspace],enspace:[rt.Spacer,.5],quad:[rt.Spacer,1],qquad:[rt.Spacer,2],thinspace:[rt.Spacer,fr.thinmathspace],negthinspace:[rt.Spacer,fr.negativethinmathspace],"*":rt.DiscretionaryTimes,allowbreak:rt.AllowBreak,goodbreak:[rt.Linebreak,Wt.LineBreak.GOODBREAK],badbreak:[rt.Linebreak,Wt.LineBreak.BADBREAK],nobreak:[rt.Linebreak,Wt.LineBreak.NOBREAK],break:rt.Break,hskip:rt.Hskip,hspace:rt.Hskip,kern:[rt.Hskip,!0],mskip:rt.Hskip,mspace:rt.Hskip,mkern:[rt.Hskip,!0],rule:rt.rule,Rule:[rt.Rule],Space:[rt.Rule,"blank"],nonscript:rt.Nonscript,big:[rt.MakeBig,mt.ORD,.85],Big:[rt.MakeBig,mt.ORD,1.15],bigg:[rt.MakeBig,mt.ORD,1.45],Bigg:[rt.MakeBig,mt.ORD,1.75],bigl:[rt.MakeBig,mt.OPEN,.85],Bigl:[rt.MakeBig,mt.OPEN,1.15],biggl:[rt.MakeBig,mt.OPEN,1.45],Biggl:[rt.MakeBig,mt.OPEN,1.75],bigr:[rt.MakeBig,mt.CLOSE,.85],Bigr:[rt.MakeBig,mt.CLOSE,1.15],biggr:[rt.MakeBig,mt.CLOSE,1.45],Biggr:[rt.MakeBig,mt.CLOSE,1.75],bigm:[rt.MakeBig,mt.REL,.85],Bigm:[rt.MakeBig,mt.REL,1.15],biggm:[rt.MakeBig,mt.REL,1.45],Biggm:[rt.MakeBig,mt.REL,1.75],mathord:[rt.TeXAtom,mt.ORD],mathop:[rt.TeXAtom,mt.OP],mathopen:[rt.TeXAtom,mt.OPEN],mathclose:[rt.TeXAtom,mt.CLOSE],mathbin:[rt.TeXAtom,mt.BIN],mathrel:[rt.TeXAtom,mt.REL],mathpunct:[rt.TeXAtom,mt.PUNCT],mathinner:[rt.TeXAtom,mt.INNER],vtop:[rt.VBox,"top"],vcenter:[rt.VBox,"center"],vbox:[rt.VBox,"bottom"],hsize:rt.Hsize,parbox:rt.ParBox,breakAlign:rt.BreakAlign,buildrel:rt.BuildRel,hbox:[rt.HBox,0],text:rt.HBox,mbox:[rt.HBox,0],fbox:rt.FBox,boxed:[rt.Macro,"\\fbox{$\\displaystyle{#1}$}",1],framebox:rt.FrameBox,makebox:rt.MakeBox,strut:rt.Strut,mathstrut:[rt.Macro,"\\vphantom{(}"],phantom:rt.Phantom,vphantom:[rt.Phantom,1,0],hphantom:[rt.Phantom,0,1],smash:rt.Smash,acute:[rt.Accent,"00B4"],grave:[rt.Accent,"0060"],ddot:[rt.Accent,"00A8"],dddot:[rt.Accent,"20DB"],ddddot:[rt.Accent,"20DC"],tilde:[rt.Accent,"007E"],bar:[rt.Accent,"00AF"],breve:[rt.Accent,"02D8"],check:[rt.Accent,"02C7"],hat:[rt.Accent,"005E"],vec:[rt.Accent,"2192",!1],dot:[rt.Accent,"02D9"],widetilde:[rt.Accent,"007E",!0],widehat:[rt.Accent,"005E",!0],matrix:rt.Matrix,array:rt.Matrix,pmatrix:[rt.Matrix,"(",")"],cases:[rt.Matrix,"{","","left left",null,".2em",null,!0],eqalign:[rt.Matrix,null,null,"right left",fl,".5em","D"],displaylines:[rt.Matrix,null,null,"center",null,".5em","D"],cr:rt.Cr,"\\":rt.CrLaTeX,newline:[rt.CrLaTeX,!0],hline:rt.HLine,hdashline:[rt.HLine,"dashed"],eqalignno:[rt.Matrix,null,null,"right left",fl,".5em","D",null,"right"],leqalignno:[rt.Matrix,null,null,"right left",fl,".5em","D",null,"left"],hfill:rt.HFill,hfil:rt.HFill,hfilll:rt.HFill,bmod:[rt.Macro,'\\mmlToken{mo}[lspace="'+fl+'" rspace="'+fl+'"]{mod}'],pmod:[rt.Macro,"\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}",1],mod:[rt.Macro,"\\mathchoice{\\kern18mu}{\\kern12mu}{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1",1],pod:[rt.Macro,"\\mathchoice{\\kern18mu}{\\kern8mu}{\\kern8mu}{\\kern8mu}(#1)",1],iff:[rt.Macro,"\\;\\Longleftrightarrow\\;"],skew:[rt.Macro,"{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}",3],pmb:[rt.Macro,"\\rlap{#1}\\kern1px{#1}",1],TeX:[rt.Macro,"T\\kern-.14em\\lower.5ex{E}\\kern-.115em X"],LaTeX:[rt.Macro,"L\\kern-.325em\\raise.21em{\\scriptstyle{A}}\\kern-.17em\\TeX"],not:rt.Not,dots:rt.Dots,space:rt.Tilde,"Â ":rt.Tilde," ":rt.Tilde,begin:rt.BeginEnd,end:rt.BeginEnd,label:rt.HandleLabel,ref:rt.HandleRef,nonumber:rt.HandleNoTag,newcolumntype:rt.NewColumnType,mathchoice:rt.MathChoice,mmlToken:rt.MmlToken});new U1("environment",Je.environment,{displaymath:[rt.Equation,null,!1],math:[rt.Equation,null,!1,!1],array:[rt.AlignedArray],darray:[rt.AlignedArray,null,"D"],equation:[rt.Equation,null,!0],eqnarray:[rt.EqnArray,null,!0,!0,"rcl","bmt",jt.cols(0,fr.thickmathspace),".5em"],indentalign:[rt.IndentAlign]});new An("not_remap",null,{"â":"â","â":"â","â":"â®","â":"â","â":"â","â":"â","â":"â","â":"â","â£":"â¤","â¥":"â¦","â¼":"â","~":"â","â":"â","â":"â","â":"â","â":"â­","=":"â ","â¡":"â¢","<":"â®",">":"â¯","â¤":"â°","â¥":"â±","â²":"â´","â³":"âµ","â¶":"â¸","â·":"â¹","âº":"â","â»":"â","â":"â","â":"â","â":"â","â":"â","â¢":"â¬","â¨":"â­","â©":"â®","â«":"â¯","â¼":"â ","â½":"â¡","â":"â¢","â":"â£","â²":"âª","â³":"â«","â´":"â¬","âµ":"â­","â":"â"});const qQ=Wt.Variant;new An("remap",null,{"-":"â","*":"â","`":"â"});function VI(e,t){const r=e.stack.env.font,n=e.stack.env.italicFont,i=r?{mathvariant:r}:{},s=Cf.getMap("remap").lookup(t),a=UI(t),o=a[3],l=e.create("token",o,i,s?s.char:t),u=jt.isLatinOrGreekChar(t)?e.configuration.mathStyle(t,!0)||n:"",c=a[4]||(r&&u===qQ.NORMAL?"":u);c&&l.attributes.set("mathvariant",c),o==="mo"&&(ft.setProperty(l,"fixStretchy",!0),e.configuration.addNode("fixStretchy",l)),e.Push(l)}function GQ(e,t){throw new Ot("UndefinedControlSequence","Undefined control sequence %1","\\"+t)}function VQ(e,t){throw new Ot("UnknownEnv","Unknown environment '%1'",t)}function YQ({data:e}){for(const t of e.getList("nonscript"))if(t.attributes.get("scriptlevel")>0){const r=t.parent;if(r.childNodes.splice(r.childIndex(t),1),e.removeFromList(t.kind,[t]),t.isKind("mrow")){const n=t.childNodes[0];e.removeFromList("mstyle",[n]),e.removeFromList("mspace",n.childNodes[0].childNodes)}}else t.isKind("mrow")&&(t.parent.replaceChild(t.childNodes[0],t),e.removeFromList("mrow",[t]))}class XQ extends vf{}Mn.create("base",{[ye.CONFIG]:function(e,t){const r=t.parseOptions.options;r.digits&&(r.numberPattern=r.digits),new vo("digit",Je.digit,r.initialDigit),new vo("letter",Je.variable,r.initialLetter),e.handlers.get(le.CHARACTER).add(["letter","digit"],null,4)},[ye.HANDLER]:{[le.CHARACTER]:["command","special"],[le.DELIMITER]:["delimiter"],[le.MACRO]:["delimiter","macros","lcGreek","ucGreek","mathchar0mi","mathchar0mo","mathchar7"],[le.ENVIRONMENT]:["environment"]},[ye.FALLBACK]:{[le.CHARACTER]:VI,[le.MACRO]:GQ,[le.ENVIRONMENT]:VQ},[ye.ITEMS]:{[sd.prototype.kind]:sd,[mu.prototype.kind]:mu,[nb.prototype.kind]:nb,[xT.prototype.kind]:xT,[TT.prototype.kind]:TT,[vT.prototype.kind]:vT,[ib.prototype.kind]:ib,[AT.prototype.kind]:AT,[sb.prototype.kind]:sb,[CT.prototype.kind]:CT,[kT.prototype.kind]:kT,[ST.prototype.kind]:ST,[ab.prototype.kind]:ab,[IT.prototype.kind]:IT,[gu.prototype.kind]:gu,[LT.prototype.kind]:LT,[RT.prototype.kind]:RT,[ad.prototype.kind]:ad,[NT.prototype.kind]:NT,[OT.prototype.kind]:OT,[PT.prototype.kind]:PT,[DT.prototype.kind]:DT,[ds.prototype.kind]:ds,[ob.prototype.kind]:ob,[MT.prototype.kind]:MT,[BT.prototype.kind]:BT},[ye.OPTIONS]:{maxMacros:1e3,digits:"",numberPattern:/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,initialDigit:/[0-9.,]/,identifierPattern:/^[a-zA-Z]+/,initialLetter:/[a-zA-Z]/,baseURL:!Ui.document||Ui.document.getElementsByTagName("base").length===0?"":String(Ui.document.location).replace(/#.*$/,"")},[ye.TAGS]:{base:XQ},[ye.POSTPROCESSORS]:[[YQ,-4]]});class aa extends Zu{static configure(t){const r=new GI(t,["tex"]);return r.init(),r}static tags(t,r){Fi.addTags(r.tags),Fi.setDefault(t.options.tags),t.tags=Fi.getDefault(),t.tags.configuration=t}constructor(t={}){const[r,n,i]=DI(t,aa.OPTIONS,Q0.OPTIONS);super(n),this.findTeX=this.options.FindTeX||new Q0(i);const s=this.options.packages,a=this.configuration=aa.configure(s),o=this._parseOptions=new To(a,[this.options,Fi.OPTIONS]);Bn(o.options,r),a.config(this),aa.tags(o,a),this.postFilters.addList([[Fs.cleanSubSup,-7],[Fs.setInherited,-6],[Fs.checkScriptlevel,-5],[Fs.moveLimits,-4],[Fs.cleanStretchy,-3],[Fs.cleanAttributes,-2],[Fs.combineRelations,-1]])}setMmlFactory(t){super.setMmlFactory(t),this._parseOptions.nodeFactory.setMmlFactory(t)}get parseOptions(){return this._parseOptions}reset(t=0){this.parseOptions.tags.reset(t)}compile(t,r){this.parseOptions.clear(),this.parseOptions.mathItem=t,this.executeFilters(this.preFilters,t,r,this.parseOptions),this.latex=t.math;let n;this.parseOptions.tags.startEquation(t);let i;try{i=new Xe(this.latex,{display:t.display,isInner:!1},this.parseOptions),n=i.mml()}catch(s){if(!(s instanceof Ot))throw s;this.parseOptions.error=!0,n=this.options.formatError(this,s)}return n=this.parseOptions.nodeFactory.create("node","math",[n]),n.attributes.set(Wt.Attr.LATEX,this.latex),t.display&&ft.setAttribute(n,"display","block"),this.parseOptions.tags.finishEquation(t),this.parseOptions.root=n,this.executeFilters(this.postFilters,t,r,this.parseOptions),i&&i.stack.env.hsize&&(ft.setAttribute(n,"maxwidth",i.stack.env.hsize),ft.setAttribute(n,"overflow","linebreak")),this.mathNode=this.parseOptions.root,this.mathNode}findMath(t){return this.findTeX.findMath(t)}formatError(t){const r=t.message.replace(/\n.*/,"");return this.parseOptions.nodeFactory.create("error",r,t.id,this.latex)}}aa.NAME="TeX";aa.OPTIONS=Object.assign(Object.assign({},Zu.OPTIONS),{FindTeX:null,packages:["base"],maxBuffer:5*1024,maxTemplateSubtitutions:1e4,mathStyle:"TeX",formatError:(e,t)=>e.formatError(t)});class ji extends en{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"mi"}setInheritedAttributes(t={},r=!1,n=0,i=!1){super.setInheritedAttributes(t,r,n,i),this.getText().match(ji.singleCharacter)&&!t.mathvariant&&this.attributes.setInherited("mathvariant","italic")}setTeXclass(t){this.getPrevClass(t);const r=this.getText();return r.length>1&&r.match(ji.operatorName)&&this.attributes.get("mathvariant")==="normal"&&this.getProperty("autoOP")===void 0&&this.getProperty("texClass")===void 0&&(this.texClass=mt.OP,this.setProperty("autoOP",!0)),this}}ji.defaults=Object.assign({},en.defaults);ji.operatorName=/^[a-z][a-z0-9]*$/i;ji.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/;class KQ extends F1{create(t,r={},n=[]){return this.node[t](r,n)}}class ub extends ti{get kind(){return"math"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(t,r,n,i){this.attributes.get("mode")==="display"&&this.attributes.setInherited("display","block"),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),r=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&this.attributes.get("display")==="block",this.attributes.setInherited("displaystyle",r),n=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,super.setChildInheritedAttributes(t,r,n,i)}verifyTree(t=null){super.verifyTree(t),this.parent&&this.mError("Improper nesting of math tags",t,!0)}}ub.defaults=Object.assign(Object.assign({},ti.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",infixlinebreakstyle:"before",lineleading:"100%",linebreakmultchar:"â¢",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class cb extends en{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"mn"}}cb.defaults=Object.assign({},en.defaults);class Ao extends en{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"mtext"}get isSpacelike(){return!!this.getText().match(/^\s*$/)&&!this.attributes.hasOneOf(Ao.NONSPACELIKE)}}Ao.NONSPACELIKE=["style","mathbackground","background"];Ao.defaults=Object.assign({},en.defaults);class Co extends en{constructor(){super(...arguments),this.texclass=mt.NONE}setTeXclass(t){return t}get kind(){return"mspace"}get arity(){return 0}get isSpacelike(){return!this.attributes.hasExplicit("linebreak")&&this.canBreak}get hasNewline(){const t=this.attributes.get("linebreak");return this.canBreak&&(t==="newline"||t==="indentingnewline")}get canBreak(){return!this.attributes.hasOneOf(Co.NONSPACELIKE)&&String(this.attributes.get("width")).trim().charAt(0)!=="-"}}Co.NONSPACELIKE=["height","depth","style","mathbackground","background"];Co.defaults=Object.assign(Object.assign({},en.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class hb extends en{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"ms"}}hb.defaults=Object.assign(Object.assign({},en.defaults),{lquote:'"',rquote:'"'});class bu extends ae{constructor(){super(...arguments),this._core=null}get kind(){return"mrow"}get isSpacelike(){for(const t of this.childNodes)if(!t.isSpacelike)return!1;return!0}get isEmbellished(){let t=!1,r=0;for(const n of this.childNodes){if(n){if(n.isEmbellished){if(t)return!1;t=!0,this._core=r}else if(!n.isSpacelike)return!1}r++}return t}core(){return!this.isEmbellished||this._core==null?this:this.childNodes[this._core]}coreMO(){return!this.isEmbellished||this._core==null?this:this.childNodes[this._core].coreMO()}nonSpaceLength(){let t=0;for(const r of this.childNodes)r&&!r.isSpacelike&&t++;return t}firstNonSpace(){for(const t of this.childNodes)if(t&&!t.isSpacelike)return t;return null}lastNonSpace(){let t=this.childNodes.length;for(;--t>=0;){const r=this.childNodes[t];if(r&&!r.isSpacelike)return r}return null}setTeXclass(t){if(this.getProperty("open")!=null||this.getProperty("close")!=null){this.getPrevClass(t),t=null;for(const r of this.childNodes)t=r.setTeXclass(t);return this.texClass==null&&(this.texClass=mt.INNER),this}for(const r of this.childNodes)t=r.setTeXclass(t);return this.childNodes[0]&&this.updateTeXclass(this.childNodes[0]),t}}bu.defaults=Object.assign({},ae.defaults);class db extends bu{get kind(){return"inferredMrow"}get isInferred(){return!0}get notParent(){return!0}toString(){return"["+this.childNodes.join(",")+"]"}}db.defaults=bu.defaults;class fb extends rn{get kind(){return"mfrac"}get arity(){return 2}get linebreakContainer(){return!0}get linebreakAlign(){return""}setTeXclass(t){this.getPrevClass(t);for(const r of this.childNodes)r.setTeXclass(null);return this}setChildInheritedAttributes(t,r,n,i){(!r||n>0)&&n++;const s=this.attributes.get("numalign"),a=this.attributes.get("denomalign"),o=this.addInheritedAttributes(Object.assign({},t),{numalign:s,indentshift:"0",indentalignfirst:s,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),l=this.addInheritedAttributes(Object.assign({},t),{denalign:a,indentshift:"0",indentalignfirst:a,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"});this.childNodes[0].setInheritedAttributes(o,!1,n,i),this.childNodes[1].setInheritedAttributes(l,!1,n,!0)}}fb.defaults=Object.assign(Object.assign({},rn.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1});class pb extends ae{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"msqrt"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this}setChildInheritedAttributes(t,r,n,i){this.childNodes[0].setInheritedAttributes(t,r,n,!0)}}pb.defaults=Object.assign(Object.assign({},ae.defaults),{"data-vertical-align":"bottom"});class mb extends ae{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"mroot"}get arity(){return 2}get linebreakContainer(){return!0}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this}setChildInheritedAttributes(t,r,n,i){this.childNodes[0].setInheritedAttributes(t,r,n,!0),this.childNodes[1].setInheritedAttributes(t,!1,n+2,i)}}mb.defaults=Object.assign(Object.assign({},ae.defaults),{"data-vertical-align":"bottom"});class gb extends ti{get kind(){return"mstyle"}get notParent(){return this.childNodes[0]&&this.childNodes[0].childNodes.length===1}setInheritedAttributes(t={},r=!1,n=0,i=!1){this.attributes.setInherited("displaystyle",r),this.attributes.setInherited("scriptlevel",n),super.setInheritedAttributes(t,r,n,i)}setChildInheritedAttributes(t,r,n,i){let s=this.attributes.getExplicit("scriptlevel");s!=null&&(s=s.toString(),s.match(/^\s*[-+]/)?n+=parseInt(s):n=parseInt(s),i=!1);const a=this.attributes.getExplicit("displaystyle");a!=null&&(r=a===!0,i=!1);const o=this.attributes.getExplicit("data-cramped");o!=null&&(i=o),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(t,r,n,i)}}gb.defaults=Object.assign(Object.assign({},ti.defaults),{scriptlevel:Tr,displaystyle:Tr,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",mathbackground:Tr,mathcolor:Tr,dir:Tr,infixlinebreakstyle:"before"});class bb extends ae{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"merror"}get arity(){return-1}get linebreakContainer(){return!0}}bb.defaults=Object.assign({},ae.defaults);class yb extends ti{get kind(){return"mpadded"}get linebreakContainer(){return!0}setTeXclass(t){return this.getProperty("vbox")?(this.getPrevClass(t),this.texClass=mt.ORD,this.childNodes[0].setTeXclass(null),this):super.setTeXclass(t)}}yb.defaults=Object.assign(Object.assign({},ti.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0});class _b extends ti{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"mphantom"}}_b.defaults=Object.assign({},ti.defaults);class Eb extends ae{constructor(){super(...arguments),this.texclass=mt.INNER,this.separators=[],this.open=null,this.close=null}get kind(){return"mfenced"}setTeXclass(t){this.getPrevClass(t),this.open&&(t=this.open.setTeXclass(t)),this.childNodes[0]&&(t=this.childNodes[0].setTeXclass(t));for(let r=1,n=this.childNodes.length;r<n;r++)this.separators[r-1]&&(t=this.separators[r-1].setTeXclass(t)),this.childNodes[r]&&(t=this.childNodes[r].setTeXclass(t));return this.close&&(t=this.close.setTeXclass(t)),this.updateTeXclass(this.open),t}setChildInheritedAttributes(t,r,n,i){this.addFakeNodes();for(const s of[this.open,this.close].concat(this.separators))s&&s.setInheritedAttributes(t,r,n,i);super.setChildInheritedAttributes(t,r,n,i)}addFakeNodes(){let{open:t,close:r,separators:n}=this.attributes.getList("open","close","separators");if(t=t.replace(/[ \t\n\r]/g,""),r=r.replace(/[ \t\n\r]/g,""),n=n.replace(/[ \t\n\r]/g,""),t&&(this.open=this.fakeNode(t,{fence:!0,form:"prefix"},mt.OPEN)),n){for(;n.length<this.childNodes.length-1;)n+=n.charAt(n.length-1);let i=0;for(const s of this.childNodes.slice(1))s&&this.separators.push(this.fakeNode(n.charAt(i++)))}r&&(this.close=this.fakeNode(r,{fence:!0,form:"postfix"},mt.CLOSE))}fakeNode(t,r={},n=null){const i=this.factory.create("text").setText(t),s=this.factory.create("mo",r,[i]);return s.texClass=n,s.parent=this,s}}Eb.defaults=Object.assign(Object.assign({},ae.defaults),{open:"(",close:")",separators:","});class wb extends ae{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"menclose"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}wb.defaults=Object.assign(Object.assign({},ae.defaults),{notation:"longdiv"});class xb extends ae{get kind(){return"maction"}get arity(){return 1}get selected(){const t=this.attributes.get("selection"),r=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[r]||this.factory.create("mrow")}get isEmbellished(){return this.selected.isEmbellished}get isSpacelike(){return this.selected.isSpacelike}core(){return this.selected.core()}coreMO(){return this.selected.coreMO()}verifyAttributes(t){super.verifyAttributes(t),this.attributes.get("actiontype")!=="toggle"&&this.attributes.hasExplicit("selection")&&this.attributes.unset("selection")}setTeXclass(t){this.attributes.get("actiontype")==="tooltip"&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);const r=this.selected;return t=r.setTeXclass(t),this.updateTeXclass(r),t}nextToggleSelection(){let t=Math.max(1,parseInt(this.attributes.get("selection"))+1);t>this.childNodes.length&&(t=1),this.attributes.set("selection",t)}setChildInheritedAttributes(t,r,n,i){var s,a;if(this.attributes.get("actiontype").toLowerCase()!=="tooltip"){super.setChildInheritedAttributes(t,r,n,i);return}(s=this.childNodes[0])===null||s===void 0||s.setInheritedAttributes(t,r,n,i),(a=this.childNodes[1])===null||a===void 0||a.setInheritedAttributes(t,!1,1,!1)}}xb.defaults=Object.assign(Object.assign({},ae.defaults),{actiontype:"toggle",selection:1});class Wi extends rn{get kind(){return"msubsup"}get arity(){return 3}get base(){return 0}get sub(){return 1}get sup(){return 2}setChildInheritedAttributes(t,r,n,i){const s=this.childNodes;s[0].setInheritedAttributes(t,r,n,i),s[1].setInheritedAttributes(t,!1,n+1,i||this.sub===1),s[2]&&s[2].setInheritedAttributes(t,!1,n+1,i||this.sub===2)}}Wi.defaults=Object.assign(Object.assign({},rn.defaults),{subscriptshift:"",superscriptshift:""});class Tb extends Wi{get kind(){return"msub"}get arity(){return 2}}Tb.defaults=Object.assign({},Wi.defaults);class vb extends Wi{get kind(){return"msup"}get arity(){return 2}get sup(){return 1}get sub(){return 2}}vb.defaults=Object.assign({},Wi.defaults);class ys extends rn{get kind(){return"munderover"}get arity(){return 3}get base(){return 0}get under(){return 1}get over(){return 2}get linebreakContainer(){return!0}setChildInheritedAttributes(t,r,n,i){const s=this.childNodes;s[0].setInheritedAttributes(t,r,n,i||!!s[this.over]);const a=!!(!r&&s[0].coreMO().attributes.get("movablelimits")),o=this.constructor.ACCENTS;s[1].setInheritedAttributes(t,!1,this.getScriptlevel(o[1],a,n),i||this.under===1),this.setInheritedAccent(1,o[1],r,n,i,a),s[2]&&(s[2].setInheritedAttributes(t,!1,this.getScriptlevel(o[2],a,n),i||this.under===2),this.setInheritedAccent(2,o[2],r,n,i,a))}getScriptlevel(t,r,n){return(r||!this.attributes.get(t))&&n++,n}setInheritedAccent(t,r,n,i,s,a){const o=this.childNodes[t];if(!this.attributes.hasExplicit(r)&&o.isEmbellished){const l=o.coreMO().attributes.get("accent");this.attributes.setInherited(r,l),l!==this.attributes.getDefault(r)&&o.setInheritedAttributes({},n,this.getScriptlevel(r,a,i),s)}}}ys.defaults=Object.assign(Object.assign({},rn.defaults),{accent:!1,accentunder:!1,align:"center"});ys.ACCENTS=["","accentunder","accent"];class Ab extends ys{get kind(){return"munder"}get arity(){return 2}}Ab.defaults=Object.assign({},ys.defaults);class od extends ys{get kind(){return"mover"}get arity(){return 2}get over(){return 1}get under(){return 2}}od.defaults=Object.assign({},ys.defaults);od.ACCENTS=["","accent","accentunder"];class Cb extends Wi{get kind(){return"mmultiscripts"}get arity(){return 1}setChildInheritedAttributes(t,r,n,i){this.childNodes[0].setInheritedAttributes(t,r,n,i);let s=!1;for(let a=1,o=0;a<this.childNodes.length;a++){const l=this.childNodes[a];if(l.isKind("mprescripts")){if(!s&&(s=!0,a%2===0)){const u=this.factory.create("none");this.childNodes.splice(a,0,u),u.parent=this,a++}}else{const u=i||o%2===0;l.setInheritedAttributes(t,!1,n+1,u),o++}}this.childNodes.length%2===(s?1:0)&&(this.appendChild(this.factory.create("none")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(t,!1,n+1,i))}verifyChildren(t){let r=!1;const n=t.fixMmultiscripts;for(let i=0;i<this.childNodes.length;i++){const s=this.childNodes[i];s.isKind("mprescripts")&&(r?s.mError(s.kind+" can only appear once in "+this.kind,t,!0):(r=!0,i%2===0&&!n&&this.mError("There must be an equal number of prescripts of each type",t)))}this.childNodes.length%2===(r?1:0)&&!n&&this.mError("There must be an equal number of scripts of each type",t),super.verifyChildren(t)}}Cb.defaults=Object.assign({},Wi.defaults);class kb extends ae{get kind(){return"mprescripts"}get arity(){return 0}verifyTree(t){super.verifyTree(t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)}}kb.defaults=Object.assign({},ae.defaults);class Sb extends ae{get kind(){return"none"}get arity(){return 0}verifyTree(t){super.verifyTree(t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)}}Sb.defaults=Object.assign({},ae.defaults);class Ib extends ae{constructor(){super(...arguments),this.properties={useHeight:!0},this.texclass=mt.ORD}get kind(){return"mtable"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setInheritedAttributes(t,r,n,i){for(const s of EQ)t[s]&&this.attributes.setInherited(s,t[s][1]),this.attributes.hasExplicit(s)&&this.attributes.unset(s);super.setInheritedAttributes(t,r,n,i)}setChildInheritedAttributes(t,r,n,i){for(const o of this.childNodes)o.isKind("mtr")||this.replaceChild(this.factory.create("mtr"),o).appendChild(o);r=!!(this.attributes.getExplicit("displaystyle")||this.attributes.getDefault("displaystyle")),t=this.addInheritedAttributes(t,{columnalign:this.attributes.get("columnalign"),rowalign:"center","data-break-align":this.attributes.get("data-break-align")});const s=this.attributes.getExplicit("data-cramped"),a=Z0(this.attributes.get("rowalign"));for(const o of this.childNodes)t.rowalign[1]=a.shift()||t.rowalign[1],o.setInheritedAttributes(t,r,n,!!s)}verifyChildren(t){let r=null;const n=this.factory;for(let i=0;i<this.childNodes.length;i++){const s=this.childNodes[i];if(s.isKind("mtr"))r=null;else{const a=s.isKind("mtd");if(r?(this.removeChild(s),i--):r=this.replaceChild(n.create("mtr"),s),r.appendChild(a?s:n.create("mtd",{},[s])),!t.fixMtables){s.parent.removeChild(s),s.parent=this,a&&r.appendChild(n.create("mtd"));const o=s.mError("Children of "+this.kind+" must be mtr or mlabeledtr",t,a);r.childNodes[r.childNodes.length-1].appendChild(o)}}}super.verifyChildren(t)}setTeXclass(t){this.getPrevClass(t);for(const r of this.childNodes)r.setTeXclass(null);return this}}Ib.defaults=Object.assign(Object.assign({},ae.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em","data-break-align":"top"});class ld extends ae{get kind(){return"mtr"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(t,r,n,i){for(const o of this.childNodes)o.isKind("mtd")||this.replaceChild(this.factory.create("mtd"),o).appendChild(o);const s=Z0(this.attributes.get("columnalign")),a=Z0(this.attributes.get("data-break-align"));this.arity===1&&(s.unshift(this.parent.attributes.get("side")),a.unshift("top")),t=this.addInheritedAttributes(t,{rowalign:this.attributes.get("rowalign"),columnalign:"center","data-break-align":"top"});for(const o of this.childNodes)t.columnalign[1]=s.shift()||t.columnalign[1],t["data-vertical-align"]=[this.kind,a.shift()||t["data-break-align"][1]],o.setInheritedAttributes(t,r,n,i)}verifyChildren(t){if(this.parent&&!this.parent.isKind("mtable")){this.mError(this.kind+" can only be a child of an mtable",t,!0);return}for(const r of this.childNodes)r.isKind("mtd")||(this.replaceChild(this.factory.create("mtd"),r).appendChild(r),t.fixMtables||r.mError("Children of "+this.kind+" must be mtd",t));super.verifyChildren(t)}setTeXclass(t){this.getPrevClass(t);for(const r of this.childNodes)r.setTeXclass(null);return this}}ld.defaults=Object.assign(Object.assign({},ae.defaults),{rowalign:Tr,columnalign:Tr,groupalign:Tr,"data-break-align":"top"});class UT extends ld{get kind(){return"mlabeledtr"}get arity(){return 1}}class Lb extends rn{get kind(){return"mtd"}get arity(){return-1}get linebreakContainer(){return!0}get linebreakAlign(){return"columnalign"}verifyChildren(t){if(this.parent&&!this.parent.isKind("mtr")){this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",t,!0);return}super.verifyChildren(t)}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this}}Lb.defaults=Object.assign(Object.assign({},rn.defaults),{rowspan:1,columnspan:1,rowalign:Tr,columnalign:Tr,groupalign:Tr,"data-vertical-align":"top"});class Rb extends ti{get kind(){return"maligngroup"}get isSpacelike(){return!0}setChildInheritedAttributes(t,r,n,i){t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),super.setChildInheritedAttributes(t,r,n,i)}}Rb.defaults=Object.assign(Object.assign({},ti.defaults),{groupalign:Tr});class Nb extends ae{get kind(){return"malignmark"}get arity(){return 0}get isSpacelike(){return!0}}Nb.defaults=Object.assign(Object.assign({},ae.defaults),{edge:"left"});class Ob extends en{constructor(){super(...arguments),this.texclass=mt.ORD}get kind(){return"mglyph"}verifyAttributes(t){const{src:r,fontfamily:n,index:i}=this.attributes.getList("src","fontfamily","index");r===""&&(n===""||i==="")?this.mError("mglyph must have either src or fontfamily and index attributes",t,!0):super.verifyAttributes(t)}}Ob.defaults=Object.assign(Object.assign({},en.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"});class Pb extends rn{get kind(){return"semantics"}get arity(){return 1}get notParent(){return!0}}Pb.defaults=Object.assign(Object.assign({},rn.defaults),{definitionUrl:null,encoding:null});class yu extends ae{get kind(){return"annotation-xml"}setChildInheritedAttributes(){}}yu.defaults=Object.assign(Object.assign({},ae.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null});class Db extends yu{constructor(){super(...arguments),this.properties={isChars:!0}}get kind(){return"annotation"}}Db.defaults=Object.assign({},yu.defaults);class ud extends rn{get kind(){return"TeXAtom"}get arity(){return-1}get notParent(){return!0}constructor(t,r,n){super(t,r,n),this.texclass=mt.ORD,this.setProperty("texClass",this.texClass)}setTeXclass(t){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(t)}adjustTeXclass(t){return t}}ud.defaults=Object.assign({},rn.defaults);ud.prototype.adjustTeXclass=bn.prototype.adjustTeXclass;class Bb extends rn{get kind(){return"MathChoice"}get arity(){return 4}get notParent(){return!0}setInheritedAttributes(t,r,n,i){const s=r?0:Math.max(0,Math.min(n,2))+1,a=this.childNodes[s]||this.factory.create("mrow");this.parent.replaceChild(a,this),a.setInheritedAttributes(t,r,n,i)}}Bb.defaults=Object.assign({},rn.defaults);class HT extends tb{get kind(){return"html"}getHTML(){return this.getXML()}setHTML(t,r=null){try{r.getAttribute(t,"data-mjx-hdw")}catch{t=r.node("span",{},[t])}return this.setXML(t,r)}getSerializedHTML(){return this.adaptor.outerHTML(this.xml)}textContent(){return this.adaptor.textContent(this.xml)}toString(){const t=this.adaptor.kind(this.xml);return`HTML=<${t}>...</${t}>`}verifyTree(t){if(this.parent&&!this.parent.isToken){this.mError("HTML can only be a child of a token element",t,!0);return}}}const ZQ={[ub.prototype.kind]:ub,[ji.prototype.kind]:ji,[cb.prototype.kind]:cb,[bn.prototype.kind]:bn,[Ao.prototype.kind]:Ao,[Co.prototype.kind]:Co,[hb.prototype.kind]:hb,[bu.prototype.kind]:bu,[db.prototype.kind]:db,[fb.prototype.kind]:fb,[pb.prototype.kind]:pb,[mb.prototype.kind]:mb,[gb.prototype.kind]:gb,[bb.prototype.kind]:bb,[yb.prototype.kind]:yb,[_b.prototype.kind]:_b,[Eb.prototype.kind]:Eb,[wb.prototype.kind]:wb,[xb.prototype.kind]:xb,[Tb.prototype.kind]:Tb,[vb.prototype.kind]:vb,[Wi.prototype.kind]:Wi,[Ab.prototype.kind]:Ab,[od.prototype.kind]:od,[ys.prototype.kind]:ys,[Cb.prototype.kind]:Cb,[kb.prototype.kind]:kb,[Sb.prototype.kind]:Sb,[Ib.prototype.kind]:Ib,[UT.prototype.kind]:UT,[ld.prototype.kind]:ld,[Lb.prototype.kind]:Lb,[Rb.prototype.kind]:Rb,[Nb.prototype.kind]:Nb,[Ob.prototype.kind]:Ob,[Pb.prototype.kind]:Pb,[Db.prototype.kind]:Db,[yu.prototype.kind]:yu,[ud.prototype.kind]:ud,[Bb.prototype.kind]:Bb,[J0.prototype.kind]:J0,[tb.prototype.kind]:tb,[HT.prototype.kind]:HT};class $1 extends KQ{get MML(){return this.node}}$1.defaultNodes=ZQ;class z1{static methodName(t){return"visit"+(t.charAt(0).toUpperCase()+t.substring(1)).replace(/[^a-z0-9_]/gi,"_")+"Node"}constructor(t){this.nodeHandlers=new Map;for(const r of t.getKinds()){const n=this[z1.methodName(r)];n&&this.nodeHandlers.set(r,n)}}visitTree(t,...r){return this.visitNode(t,...r)}visitNode(t,...r){return(this.nodeHandlers.get(t.kind)||this.visitDefault).call(this,t,...r)}visitDefault(t,...r){if("childNodes"in t)for(const n of t.childNodes)this.visitNode(n,...r)}setNodeHandler(t,r){this.nodeHandlers.set(t,r)}removeNodeHandler(t){this.nodeHandlers.delete(t)}}const QQ="data-mjx-";class kf extends z1{constructor(t=null){t||(t=new $1),super(t)}visitTextNode(t,...r){}visitXMLNode(t,...r){}visitHtmlNode(t,...r){}getKind(t){const r=t.kind;return pu(r,this.constructor.rename,r)}getAttributeList(t){const r=this.constructor,n=pu(t.kind,r.defaultAttributes,{}),i=Object.assign({},n,this.getDataAttributes(t),t.attributes.getAllAttributes()),s=r.variants;return Object.hasOwn(i,"mathvariant")&&(Object.hasOwn(s,i.mathvariant)?i.mathvariant=s[i.mathvariant]:t.getProperty("ignore-variant")&&delete i.mathvariant),i}getDataAttributes(t){const r={},n=t.attributes.getExplicit("mathvariant"),i=this.constructor.variants;n&&(t.getProperty("ignore-variant")||Object.hasOwn(i,n))&&this.setDataAttribute(r,"variant",n),t.getProperty("variantForm")&&this.setDataAttribute(r,"alternate","1"),t.getProperty("pseudoscript")&&this.setDataAttribute(r,"pseudoscript","true"),t.getProperty("autoOP")===!1&&this.setDataAttribute(r,"auto-op","false");const s=t.getProperty("vbox");s&&this.setDataAttribute(r,"vbox",s);const a=t.getProperty("scriptalign");a&&this.setDataAttribute(r,"script-align",a);const o=t.getProperty("mathaccent");o!==void 0&&(o&&!t.isMathAccent()||!o&&!t.isMathAccentWithWidth())&&this.setDataAttribute(r,"mathaccent",o.toString());const l=t.getProperty("texClass");if(l!==void 0){let u=!0;if(l===mt.OP&&t.isKind("mi")){const c=t.getText();u=!(c.length>1&&c.match(ji.operatorName))}u&&this.setDataAttribute(r,"texclass",l<0?"NONE":gQ[l])}return t.getProperty("smallmatrix")&&this.setDataAttribute(r,"smallmatrix","true"),r}setDataAttribute(t,r,n){t[QQ+r]=n}}kf.rename={TeXAtom:"mrow"};kf.variants={"-tex-calligraphic":"script","-tex-bold-calligraphic":"bold-script","-tex-oldstyle":"normal","-tex-bold-oldstyle":"bold","-tex-mathit":"italic"};kf.defaultAttributes={math:{xmlns:"http://www.w3.org/1998/Math/MathML"}};class JQ extends kf{visitTree(t){return this.visitNode(t,"")}visitTextNode(t,r){return this.quoteHTML(t.getText())}visitXMLNode(t,r){return r+t.getSerializedXML()}visitHtmlNode(t,r){return t.getSerializedHTML()}visitInferredMrowNode(t,r){const n=[];for(const i of t.childNodes)n.push(this.visitNode(i,r));return n.join(`
`)}visitAnnotationNode(t,r){const n=this.childNodeMml(t,"","");return`${r}<annotation${this.getAttributes(t)}>${n}</annotation>`}visitDefault(t,r){const n=this.getKind(t),[i,s]=t.isToken||t.childNodes.length===0?["",""]:[`
`,r],a=this.childNodeMml(t,r+"  ",i),o=a.match(/\S/)?i+a+s:"";return`${r}<${n}${this.getAttributes(t)}>${o}</${n}>`}childNodeMml(t,r,n){let i="";for(const s of t.childNodes)i+=this.visitNode(s,r)+n;return i}getAttributes(t){const r=[],n=this.getAttributeList(t);for(const i of Object.keys(n)){const s=String(n[i]);s!==void 0&&r.push(i+'="'+this.quoteHTML(s)+'"')}return r.length?" "+r.join(" "):""}quoteHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/[\uD800-\uDBFF]./g,this.toEntity).replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g,this.toEntity)}toEntity(t){return dQ(t)}}class tJ{constructor(t=null){this.canMeasureNodes=!0,this.document=t}node(t,r={},n=[],i){const s=this.create(t,i);this.setAttributes(s,r);for(const a of n)this.append(s,a);return s}setProperty(t,r,n){t[r]=n}getProperty(t,r){return t[r]}setAttributes(t,r){if(r.style&&typeof r.style!="string")for(const n of Object.keys(r.style))this.setStyle(t,n.replace(/-([a-z])/g,(i,s)=>s.toUpperCase()),r.style[n]);if(r.properties)for(const n of Object.keys(r.properties))t[n]=r.properties[n];for(const n of Object.keys(r))(n!=="style"||typeof r.style=="string")&&n!=="properties"&&this.setAttribute(t,n,r[n])}replace(t,r){return this.insert(t,r),this.remove(r),r}childNode(t,r){return this.childNodes(t)[r]}allClasses(t){const r=this.getAttribute(t,"class");return r?r.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,"").split(/ /):[]}cssText(t){return this.kind(t)==="style"?this.textContent(t):""}}var eJ=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const rJ={badCSS:!0,badSizes:!0};function nJ(e,t={}){var r;return t=Bn(Zn({},rJ),t),r=class extends e{constructor(...i){super(i[0]),this.canMeasureNodes=!1;const s=this.constructor;this.options=Bn(Zn({},s.OPTIONS),i[1])}fontSize(i){return t.badCSS?this.options.fontSize:super.fontSize(i)}fontFamily(i){return t.badCSS?this.options.fontFamily:super.fontFamily(i)}nodeSize(i,s=1,a=null){if(!t.badSizes)return super.nodeSize(i,s,a);const o=this.textContent(i),l=Array.from(o.replace(r.cjkPattern,"")).length;return[(Array.from(o).length-l)*this.options.cjkCharWidth+l*this.options.unknownCharWidth,this.options.unknownCharHeight]}nodeBBox(i){return t.badSizes?{left:0,right:0,top:0,bottom:0}:super.nodeBBox(i)}createWorker(i,s){return eJ(this,void 0,void 0,function*(){const{Worker:a}=yield $I("node:worker_threads");class o{constructor(d,p={}){this.worker=new a(d,p)}addEventListener(d,p){this.worker.on(d,p)}postMessage(d){this.worker.postMessage({data:d})}terminate(){this.worker.terminate()}}const{path:l,maps:u}=s,c=`${l}/${s.worker}`,h=new o(c,{type:"module",workerData:{maps:u}});return h.addEventListener("message",i),h})}},r.OPTIONS=Object.assign(Object.assign({},t.badCSS?{fontSize:16,fontFamily:"Times"}:{}),t.badSizes?{cjkCharWidth:1,unknownCharWidth:.6,unknownCharHeight:.8}:{}),r.cjkPattern=new RegExp(["[","á-á","â©âª","âº-ã¾","ã-ã","ã-ä¶¿","ä¸-ê","ê¥ -ê¥¼","ê°-í£","ï¤-ï«¿","ï¸-ï¸","ï¸°-ï¹«","ï¼-ï½ ï¿ -ï¿¦","ð-ð","ð-ð","ð -ð¿¿½","]"].join(""),"gu"),r}class oa{constructor(t,r={},n=[]){this.kind=t,this.attributes=Object.assign({},r),this.children=[...n];for(const i of this.children)i.parent=this;this.styles=null}}class cd{get kind(){return"#document"}constructor(t=null){this.defaultView=null,this.root=new oa("html",{},[this.head=new oa("head"),this.body=new oa("body")]),this.type="",this.defaultView=t}}class gh{get kind(){return"#text"}constructor(t=""){this.value=t}}class hd extends gh{get kind(){return"#comment"}}class Bg{constructor(t){this.nodes=[],this.nodes=[...t]}append(t){this.nodes.push(t)}[Symbol.iterator](){let t=0;return{next(){return t===this.nodes.length?{value:null,done:!0}:{value:this.nodes[t++],done:!1}}}}}const j1="[ \\n]+",_u="[ \\n]*",$T=`[A-Za-z][^\0- "'>/=-Â]*`,YI=`[^\0- "'>/=-Â]+`,iJ=`(?:'[^']*'|"[^"]*"|${j1})`,sJ=`(?:'([^']*)'|"([^"]*)"|(${j1}))`,aJ=`${YI}(?:${_u}=${_u}${iJ})?`,oJ=`(${YI})(?:${_u}=${_u}${sJ})?`,lJ=`(<(?:${$T}(?:${j1}${aJ})*${_u}/?|/${$T}|!--[^]*?--|![^]*?)(?:>|$))`,zT={tag:new RegExp(lJ,"u"),attrsplit:new RegExp(oJ,"u")};class ec{parseFromString(t,r="text/html",n=null){const i=n.createDocument();let s=n.body(i);const a=t.replace(/<\?.*?\?>/g,"").split(zT.tag);for(;a.length;){const o=a.shift(),l=a.shift();o&&this.addText(n,s,o),l&&l.charAt(l.length-1)===">"&&(l.charAt(1)==="!"?this.addComment(n,s,l):l.charAt(1)==="/"?s=this.closeTag(n,s,l):s=this.openTag(n,s,l,a))}return this.checkDocument(n,i),i}addText(t,r,n){return n=bT(n),t.append(r,t.text(n))}addComment(t,r,n){return t.append(r,new hd(n))}closeTag(t,r,n){const i=n.slice(2,n.length-1).toLowerCase();for(;t.parent(r)&&t.kind(r)!==i;)r=t.parent(r);return t.parent(r)}openTag(t,r,n,i){const s=this.constructor.PCDATA,a=this.constructor.SELF_CLOSING,o=n.match(/<(.*?)[\s\n>/]/)[1].toLowerCase(),l=t.node(o),u=n.replace(/^<.*?[\s\n>]/,"").split(zT.attrsplit);return(u.pop().match(/>$/)||u.length<5)&&(this.addAttributes(t,l,u),t.append(r,l),!a[o]&&!n.match(/\/>$/)&&(s[o]?this.handlePCDATA(t,l,o,i):r=l)),r}addAttributes(t,r,n){for(;n.length;){const[,i,s,a,o]=n.splice(0,5),l=bT(s||a||o||"");t.setAttribute(r,i,l)}}handlePCDATA(t,r,n,i){const s=[],a="</"+n+">";let o="";for(;i.length&&o!==a;)s.push(o),s.push(i.shift()),o=i.shift();t.append(r,t.text(s.join("")))}checkDocument(t,r){const n=this.getOnlyChild(t,t.body(r));if(n){for(const i of t.childNodes(t.body(r))){if(i===n)break;i instanceof hd&&i.value.match(/^<!DOCTYPE/)&&(r.type=i.value)}switch(t.kind(n)){case"html":for(const i of n.children)switch(t.kind(i)){case"head":r.head=i;break;case"body":r.body=i;break}r.root=n,t.remove(n),t.parent(r.body)!==n&&t.append(n,r.body),t.parent(r.head)!==n&&t.insert(r.head,r.body);break;case"head":r.head=t.replace(n,r.head);break;case"body":r.body=t.replace(n,r.body);break}}}getOnlyChild(t,r){let n=null;for(const i of t.childNodes(r))if(i instanceof oa){if(n)return null;n=i}return n}serialize(t,r,n=!1){const i=this.constructor.SELF_CLOSING,s=t.kind(r),a=this.allAttributes(t,r,n).map(u=>u.name+'="'+this.protectAttribute(u.value,n)+'"').join(" "),o=this.serializeInner(t,r,n);return`<${s}`+(a?" "+a:"")+((!n||o)&&!i[s]?`>${o}</${s}>`:n?"/>":">")}serializeInner(t,r,n=!1){const i=this.constructor.PCDATA;return Object.hasOwn(i,r.kind)?t.childNodes(r).map(s=>t.value(s)).join(""):t.childNodes(r).map(s=>{const a=t.kind(s);return a==="#text"?this.protectHTML(t.value(s)):a==="#comment"?s.value:this.serialize(t,s,n)}).join("")}allAttributes(t,r,n){const i=t.allAttributes(r);if(!n)return i;const s=t.kind(r),a=this.constructor.XMLNS;if(!Object.hasOwn(a,s))return i;for(const{name:o}of i)if(o==="xmlns")return i;return i.push({name:"xmlns",value:a[s]}),i}protectAttribute(t,r){return typeof t!="string"&&(t=String(t)),t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),r&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;")),t}protectHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}ec.SELF_CLOSING={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};ec.PCDATA={option:!0,textarea:!0,fieldset:!0,title:!0,style:!0,script:!0};ec.XMLNS={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML",html:"http://www.w3.org/1999/xhtml"};class uJ{constructor(){this.DOMParser=ec,this.NodeList=Bg,this.HTMLCollection=Bg,this.HTMLElement=oa,this.DocumentFragment=Bg,this.Document=cd,this.document=new cd(this)}}var cJ=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class hJ extends tJ{constructor(){super(),this.parser=new ec,this.window=new uJ}parse(t,r){return this.parser.parseFromString(t,r,this)}create(t,r=null){return new oa(t)}text(t){return new gh(t)}comment(t){return new hd(t)}createDocument(){return new cd}head(t=this.document){return t.head}body(t=this.document){return t.body}root(t=this.document){return t.root}doctype(t=this.document){return t.type}tags(t,r,n=null,i=null){let s=[];const a=[];if(n)return a;let o=t;for(;o;){const l=o.kind;if(l!=="#text"&&l!=="#comment"){if(o=o,l===r&&(a.push(o),a.length===i))return a;o.children.length&&(s=o.children.concat(s))}o=s.shift()}return a}elementById(t,r){let n=[],i=t;for(;i;){if(i.kind!=="#text"&&i.kind!=="#comment"){if(i=i,i.attributes.id===r)return i;i.children.length&&(n=i.children.concat(n))}i=n.shift()}return null}elementsByClass(t,r,n=null){let i=[];const s=[];let a=t;for(;a;){if(a.kind!=="#text"&&a.kind!=="#comment"){if(a=a,(a.attributes.class||"").trim().split(/ +/).includes(r)&&(s.push(a),s.length===n))return s;a.children.length&&(i=a.children.concat(i))}a=i.shift()}return s}elementsByAttribute(t,r,n,i=null){let s=[];const a=[];let o=t;for(;o;){if(o.kind!=="#text"&&o.kind!=="#comment"){if(o=o,o.attributes[r]===n&&(a.push(o),a.length===i))return a;o.children.length&&(s=o.children.concat(s))}o=s.shift()}return a}getElements(t,r){let n=[];const i=this.body(r);for(const s of t)if(typeof s=="string")if(s.charAt(0)==="#"){const a=this.elementById(i,s.slice(1));a&&n.push(a)}else if(s.charAt(0)===".")n=n.concat(this.elementsByClass(i,s.slice(1)));else if(s.match(/^[-a-z][-a-z0-9]*$/i))n=n.concat(this.tags(i,s));else{const a=s.match(/^\[(.*?)="(.*?)"\]$/);a&&(n=n.concat(this.elementsByAttribute(i,a[1],a[2])))}else Array.isArray(s)?n=n.concat(s):s instanceof this.window.NodeList||s instanceof this.window.HTMLCollection?n=n.concat(s.nodes):n.push(s);return n}getElement(t,r=this.document){if(r instanceof cd&&(r=this.body(r)),t.charAt(0)==="#")return this.elementById(r,t.slice(1));if(t.charAt(0)===".")return this.elementsByClass(r,t.slice(1),1)[0];if(t.match(/^[-a-z][-a-z0-9]*$/i))return this.tags(r,t,null,1)[0];const n=t.match(/^\[(.*?)="(.*?)"\]$/);return n?this.elementsByAttribute(r,n[1],n[2],1)[0]:null}contains(t,r){for(;r&&r!==t;)r=this.parent(r);return!!r}parent(t){return t.parent}childIndex(t){return t.parent?t.parent.children.findIndex(r=>r===t):-1}append(t,r){return r.parent&&this.remove(r),t.children.push(r),r.parent=t,r}insert(t,r){if(t.parent&&this.remove(t),r&&r.parent){const n=this.childIndex(r);r.parent.children.splice(n,0,t),t.parent=r.parent}}remove(t){const r=this.childIndex(t);return r>=0&&t.parent.children.splice(r,1),t.parent=null,t}replace(t,r){const n=this.childIndex(r);return n>=0&&(r.parent.children[n]=t,t.parent=r.parent,r.parent=null),r}clone(t,r=!0){const n=new oa(t.kind);return n.attributes=Object.assign({},t.attributes),n.children=r?t.children.map(i=>{if(i.kind==="#text")return new gh(i.value);if(i.kind==="#comment")return new hd(i.value);{const s=this.clone(i);return s.parent=n,s}}):[],n}split(t,r){const n=new gh(t.value.slice(r));return t.value=t.value.slice(0,r),t.parent.children.splice(this.childIndex(t)+1,0,n),n.parent=t.parent,n}next(t){const r=t.parent;if(!r)return null;const n=this.childIndex(t)+1;return n>=0&&n<r.children.length?r.children[n]:null}previous(t){const r=t.parent;if(!r)return null;const n=this.childIndex(t)-1;return n>=0?r.children[n]:null}firstChild(t){return t.children[0]}lastChild(t){return t.children[t.children.length-1]}childNodes(t){return[...t.children]}childNode(t,r){return t.children[r]}kind(t){return t.kind}value(t){return t.kind==="#text"?t.value:t.kind==="#comment"?t.value.replace(/^<!(--)?((?:.|\n)*)\1>$/,"$2"):""}textContent(t){return t.children.reduce((r,n)=>r+(n.kind==="#text"?n.value:n.kind==="#comment"?"":this.textContent(n)),"")}innerHTML(t){return this.parser.serializeInner(this,t)}outerHTML(t){return this.parser.serialize(this,t)}serializeXML(t){return this.parser.serialize(this,t,!0)}setAttribute(t,r,n,i=null){typeof n!="string"&&(n=String(n)),i&&(r=i.replace(/.*\//,"")+":"+r.replace(/^.*:/,"")),t.attributes[r]=n,r==="style"&&(t.styles=null)}getAttribute(t,r){return t.attributes[r]}removeAttribute(t,r){delete t.attributes[r]}hasAttribute(t,r){return Object.hasOwn(t.attributes,r)}allAttributes(t){const r=t.attributes,n=[];for(const i of Object.keys(r))n.push({name:i,value:r[i]});return n}addClass(t,r){const n=t.attributes.class,i=n?.split(/ /)||[];i.includes(r)||(i.push(r),t.attributes.class=i.join(" "))}removeClass(t,r){const n=t.attributes.class,i=n?.split(/ /)||[],s=i.indexOf(r);s>=0&&(i.splice(s,1),t.attributes.class=i.join(" "))}hasClass(t,r){return(t.attributes.class||"").split(/ /).includes(r)}setStyle(t,r,n){t.styles||(t.styles=new $e(this.getAttribute(t,"style"))),t.styles.set(r,n),t.attributes.style=t.styles.cssText}getStyle(t,r){if(!t.styles){const n=this.getAttribute(t,"style");if(!n)return"";t.styles=new $e(n)}return t.styles.get(r)}allStyles(t){return this.getAttribute(t,"style")}insertRules(t,r){t.children=[this.text(this.textContent(t)+`

`+r.join(`

`))]}fontSize(t){return 0}fontFamily(t){return""}nodeSize(t,r=1,n=null){return[0,0]}nodeBBox(t){return{left:0,right:0,top:0,bottom:0}}createWorker(){return cJ(this,void 0,void 0,function*(){return null})}}class dJ extends nJ(hJ){}function fJ(e=null){return new dJ(null,e)}class W1{constructor(t={}){this.adaptor=null;const r=this.constructor;this.options=Bn(Zn({},r.OPTIONS),t),this.preFilters=new bs(this.options.preFilters),this.postFilters=new bs(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(t){this.adaptor=t}initialize(){}reset(...t){}getMetrics(t){}styleSheet(t){return null}pageElements(t){return null}executeFilters(t,r,n,i){const s={math:r,document:n,data:i};return t.execute(s),s.data}}W1.NAME="generic";W1.OPTIONS={preFilters:[],postFilters:[]};const si=Symbol();class Wc{constructor(t=null){this.next=null,this.prev=null,this.data=t}}class q1{constructor(...t){this.list=new Wc(si),this.list.next=this.list.prev=this.list,this.push(...t)}isBefore(t,r){return t<r}push(...t){for(const r of t){const n=new Wc(r);n.next=this.list,n.prev=this.list.prev,this.list.prev=n,n.prev.next=n}return this}pop(){const t=this.list.prev;return t.data===si?null:(this.list.prev=t.prev,t.prev.next=this.list,t.next=t.prev=null,t.data)}unshift(...t){for(const r of t.slice(0).reverse()){const n=new Wc(r);n.next=this.list.next,n.prev=this.list,this.list.next=n,n.next.prev=n}return this}shift(){const t=this.list.next;return t.data===si?null:(this.list.next=t.next,t.next.prev=this.list,t.next=t.prev=null,t.data)}remove(...t){const r=new Map;for(const i of t)r.set(i,!0);let n=this.list.next;for(;n.data!==si;){const i=n.next;r.has(n.data)&&(n.prev.next=n.next,n.next.prev=n.prev,n.next=n.prev=null),n=i}return this}clear(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this}*[Symbol.iterator](){let t=this.list.next;for(;t.data!==si;)yield t.data,t=t.next}*reversed(){let t=this.list.prev;for(;t.data!==si;)yield t.data,t=t.prev}insert(t,r=null){r===null&&(r=this.isBefore.bind(this));const n=new Wc(t);let i=this.list.next;for(;i.data!==si&&r(i.data,n.data);)i=i.next;return n.prev=i.prev,n.next=i,i.prev.next=i.prev=n,this}sort(t=null){t===null&&(t=this.isBefore.bind(this));const r=[];for(const n of this)r.push(new q1(n));for(this.list.next=this.list.prev=this.list;r.length>1;){const n=r.shift(),i=r.shift();n.merge(i,t),r.push(n)}return r.length&&(this.list=r[0].list),this}merge(t,r=null){r===null&&(r=this.isBefore.bind(this));let n=this.list.next,i=t.list.next;for(;n.data!==si&&i.data!==si;)r(i.data,n.data)?([i.prev.next,n.prev.next]=[n,i],[i.prev,n.prev]=[n.prev,i.prev],[this.list.prev.next,t.list.prev.next]=[t.list,this.list],[this.list.prev,t.list.prev]=[t.list.prev,this.list.prev],[n,i]=[i.next,n]):n=n.next;return i.data!==si&&(this.list.prev.next=t.list.next,t.list.next.prev=this.list.prev,t.list.prev.next=this.list,this.list.prev=t.list.prev,t.list.next=t.list.prev=t.list),this}}class XI extends q1{isBefore(t,r){return t.start.i<r.start.i||t.start.i===r.start.i&&t.start.n<r.start.n}}class zo{constructor(){this.bits=0}static allocate(...t){for(const r of t){if(this.has(r))throw new Error("Bit already allocated for "+r);if(this.next===zo.MAXBIT)throw new Error("Maximum number of bits already allocated");this.names.set(r,this.next),this.next<<=1}}static has(t){return this.names.has(t)}set(t){this.bits|=this.getBit(t)}clear(t){this.bits&=~this.getBit(t)}isSet(t){return!!(this.bits&this.getBit(t))}reset(){this.bits=0}getBit(t){const r=this.constructor.names.get(t);if(!r)throw new Error("Unknown bit-field name: "+t);return r}}zo.MAXBIT=1<<31;zo.next=1;zo.names=new Map;function pJ(...e){const t=class extends zo{};return t.allocate(...e),t}var Mg=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class jT extends Kn{static create(t){const r=new this;for(const n of Object.keys(t)){const[i,s]=this.action(n,t[n]);s&&r.add(i,s)}return r}static action(t,r){let n,i,s=!0;const a=r[0];if(r.length===1||typeof r[1]=="boolean")r.length===2&&(s=r[1]),[n,i]=this.methodActions(t);else if(typeof r[1]=="string")if(typeof r[2]=="string"){r.length===4&&(s=r[3]);const[o,l]=r.slice(1);[n,i]=this.methodActions(o,l)}else r.length===3&&(s=r[2]),[n,i]=this.methodActions(r[1]);else r.length===4&&(s=r[3]),[n,i]=r.slice(1);return[{id:t,renderDoc:n,renderMath:i,convert:s},a]}static methodActions(t,r=t){return[n=>(t&&n[t](),!1),(n,i)=>(r&&n[r](i),!1)]}renderDoc(t,r=fe.UNPROCESSED){for(const n of this.items)if(n.priority>=r&&n.item.renderDoc(t))return}renderMath(t,r,n=fe.UNPROCESSED){for(const i of this.items)if(i.priority>=n&&i.item.renderMath(t,r))return}renderConvert(t,r,n=fe.LAST){for(const i of this.items)if(i.priority>n||i.item.convert&&i.item.renderMath(t,r))return}findID(t){for(const r of this.items)if(r.item.id===t)return r.item;return null}}const mJ={all:!1,processed:!1,inputJax:null,outputJax:null},gJ={all:!0,processed:!0,inputJax:[],outputJax:[]};class bJ extends Zu{compile(t){return null}}class yJ extends W1{typeset(t,r=null){return null}escaped(t,r){return null}}class KI extends XI{}class _J extends MI{}class qi{constructor(t,r,n){const i=this.constructor;this.document=t,this.options=Bn(Zn({},i.OPTIONS),n),this.math=new(this.options.MathList||KI),this.renderActions=jT.create(this.options.renderActions),this._actionPromises=[],this._readyPromise=Promise.resolve(),this.processed=new qi.ProcessBits,this.outputJax=this.options.OutputJax||new yJ;let s=this.options.InputJax||[new bJ];Array.isArray(s)||(s=[s]),this.inputJax=s,this.adaptor=r,this.outputJax.setAdaptor(r),this.inputJax.map(a=>a.setAdaptor(r)),this.mmlFactory=this.options.MmlFactory||new $1,this.inputJax.map(a=>a.setMmlFactory(this.mmlFactory)),this.outputJax.initialize(),this.inputJax.map(a=>a.initialize())}get kind(){return this.constructor.KIND}addRenderAction(t,...r){const[n,i]=jT.action(t,r);this.renderActions.add(n,i)}removeRenderAction(t){const r=this.renderActions.findID(t);r&&this.renderActions.remove(r)}render(){return this.clearPromises(),this.renderActions.renderDoc(this),this}renderPromise(){return this.whenReady(()=>ph(()=>Mg(this,void 0,void 0,function*(){return this.render(),yield this.actionPromises(),this.clearPromises(),this})))}rerender(t=fe.RERENDER){return this.state(t-1),this.render(),this}rerenderPromise(t=fe.RERENDER){return this.whenReady(()=>ph(()=>Mg(this,void 0,void 0,function*(){return this.rerender(t),yield this.actionPromises(),this.clearPromises(),this})))}convert(t,r={}){let{format:n,display:i,end:s,ex:a,em:o,containerWidth:l,scale:u,family:c}=Bn({format:this.inputJax[0].name,display:!0,end:fe.LAST,em:16,ex:8,containerWidth:null,scale:1,family:""},r);l===null&&(l=80*a);const h=this.inputJax.reduce((d,p)=>p.name===n?p:d,null),f=new this.options.MathItem(t,h,i);return f.start.node=this.adaptor.body(this.document),f.setMetrics(o,a,l,u),c&&this.outputJax.options.mtextInheritFont&&(f.outputData.mtextFamily=c),c&&this.outputJax.options.merrorInheritFont&&(f.outputData.merrorFamily=c),this.clearPromises(),f.convert(this,s),f.typesetRoot||f.root}convertPromise(t,r={}){return this.whenReady(()=>ph(()=>Mg(this,void 0,void 0,function*(){const n=this.convert(t,r);return yield this.actionPromises(),this.clearPromises(),n})))}whenReady(t){return this._readyPromise=this._readyPromise.catch(r=>{}).then(()=>{const r=this._readyPromise;this._readyPromise=Promise.resolve();const n=t(),i=this._readyPromise.then(()=>n);return this._readyPromise=r,i})}actionPromises(){return Promise.all(this._actionPromises)}clearPromises(){this._actionPromises=[]}savePromise(t){this._actionPromises.push(t)}findMath(t=null){return this.processed.set("findMath"),this}compile(){if(!this.processed.isSet("compile")){const t=[];for(const r of this.math)this.compileMath(r),r.inputData.recompile!==void 0&&t.push(r);for(const r of t){const n=r.inputData.recompile;r.state(n.state),r.inputData.recompile=n,this.compileMath(r)}this.processed.set("compile")}return this}compileMath(t){try{t.compile(this)}catch(r){if(r.retry||r.restart)throw r;this.options.compileError(this,t,r),t.inputData.error=r}}compileError(t,r){t.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":r.message,title:r.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),t.display&&t.root.attributes.set("display","block"),t.inputData.error=r.message}typeset(){if(!this.processed.isSet("typeset")){for(const t of this.math)try{t.typeset(this)}catch(r){if(r.retry||r.restart)throw r;this.options.typesetError(this,t,r),t.outputData.error=r}this.processed.set("typeset")}return this}typesetError(t,r){t.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":r.message,title:r.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),t.display&&this.adaptor.setAttributes(t.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),t.outputData.error=r.message}getMetrics(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this}updateDocument(){if(!this.processed.isSet("updateDocument")){for(const t of this.math.reversed())t.updateDocument(this);this.processed.set("updateDocument")}return this}removeFromDocument(t=!1){return this}state(t,r=!1){for(const n of this.math)n.state(t,r);return t<fe.INSERTED&&this.processed.clear("updateDocument"),t<fe.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),t<fe.COMPILED&&this.processed.clear("compile"),t<fe.FINDMATH&&this.processed.clear("findMath"),this}reset(t={processed:!0}){return t=Bn(Object.assign({},mJ),t),t.all&&Object.assign(t,gJ),t.processed&&this.processed.reset(),t.inputJax&&this.inputJax.forEach(r=>r.reset(...t.inputJax)),t.outputJax&&this.outputJax.reset(...t.outputJax),this}clear(){return this.reset(),this.math.clear(),this}done(){return Promise.resolve()}concat(t){return this.math.merge(t),this}clearMathItemsWithin(t){const r=this.getMathItemsWithin(t);for(const n of r.slice(0).reverse())n.clear();return this.math.remove(...r),r}getMathItemsWithin(t){Array.isArray(t)||(t=[t]);const r=this.adaptor,n=[],i=r.getElements(t,this.document);t:for(const s of this.math)for(const a of i)if(s.start.node&&r.contains(a,s.start.node)){n.push(s);continue t}return n}}qi.KIND="MathDocument";qi.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:KI,MathItem:_J,compileError:(e,t,r)=>{e.compileError(t,r)},typesetError:(e,t,r)=>{e.typesetError(t,r)},renderActions:Tf({find:[fe.FINDMATH,"findMath","",!1],compile:[fe.COMPILED],metrics:[fe.METRICS,"getMetrics","",!1],typeset:[fe.TYPESET],update:[fe.INSERTED,"updateDocument",!1]})};qi.ProcessBits=pJ("findMath","compile","getMetrics","typeset","updateDocument");class EJ extends qi{}class ZI{constructor(t,r=5){this.documentClass=EJ,this.adaptor=t,this.priority=r}get name(){return this.constructor.NAME}handlesDocument(t){return!1}create(t,r){return new this.documentClass(t,this.adaptor,r)}}ZI.NAME="generic";class wJ extends MI{get adaptor(){return this.inputJax.adaptor}constructor(t,r,n=!0,i={node:null,n:0,delim:""},s={node:null,n:0,delim:""}){super(t,r,n,i,s)}updateDocument(t){if(this.state()<fe.INSERTED){if(this.inputJax.processStrings){let r=this.start.node;if(r===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(r=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,r);else{for(this.start.n&&(r=this.adaptor.split(r,this.start.n));r!==this.end.node;){const n=this.adaptor.next(r);this.adaptor.remove(r),r=n}this.adaptor.insert(this.typesetRoot,r),this.end.n<this.adaptor.value(r).length&&this.adaptor.split(r,this.end.n),this.adaptor.remove(r)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(fe.INSERTED)}}updateStyleSheet(t){t.addStyleSheet()}removeFromDocument(t=!1){if(super.removeFromDocument(t),this.state()>=fe.TYPESET){const r=this.adaptor,n=this.start.node;let i=r.text("");if(t){const s=this.start.delim+this.math+this.end.delim;if(this.inputJax.processStrings)i=r.text(s);else{const a=r.parse(s,"text/html");i=r.firstChild(r.body(a))}}r.parent(n)&&r.replace(i,n),this.start.node=this.end.node=i,this.start.n=this.end.n=0}}}class xJ extends XI{}class Mb{constructor(t=null){const r=this.constructor;this.options=Bn(Zn({},r.OPTIONS),t),this.init(),this.getPatterns()}init(){this.strings=[],this.string="",this.snodes=[],this.nodes=[],this.stack=[]}getPatterns(){const t=Sg(this.options.skipHtmlTags),r=Sg(this.options.ignoreHtmlClass),n=Sg(this.options.processHtmlClass);this.skipHtmlTags=new RegExp("^(?:"+t.join("|")+")$","i"),this.ignoreHtmlClass=new RegExp("(?:^| )(?:"+r.join("|")+")(?: |$)"),this.processHtmlClass=new RegExp("(?:^| )(?:"+n+")(?: |$)")}pushString(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string="",this.snodes=[]}extendString(t,r){this.snodes.push([t,r.length]),this.string+=r}handleText(t,r){return r||this.extendString(t,this.adaptor.value(t)),this.adaptor.next(t)}handleTag(t,r){if(!r){const n=this.options.includeHtmlTags[this.adaptor.kind(t)];n instanceof Function?this.extendString(t,n(t,this.adaptor)):this.extendString(t,n)}return this.adaptor.next(t)}handleContainer(t,r){this.pushString();const n=this.adaptor.getAttribute(t,"class")||"",i=this.adaptor.kind(t)||"",s=this.processHtmlClass.exec(n);let a=t;return this.adaptor.firstChild(t)&&!this.adaptor.getAttribute(t,"data-MJX")&&(s||!this.skipHtmlTags.exec(i))?(this.adaptor.next(t)&&this.stack.push([this.adaptor.next(t),r]),a=this.adaptor.firstChild(t),r=(r||this.ignoreHtmlClass.exec(n))&&!s):a=this.adaptor.next(t),[a,r]}handleOther(t,r){return this.pushString(),this.adaptor.next(t)}find(t){this.init();const r=this.adaptor.next(t);let n=!1;const i=this.options.includeHtmlTags;for(;t&&t!==r;){const a=this.adaptor.kind(t);a==="#text"?t=this.handleText(t,n):Object.hasOwn(i,a)?t=this.handleTag(t,n):a?[t,n]=this.handleContainer(t,n):t=this.handleOther(t,n),!t&&this.stack.length&&(this.pushString(),[t,n]=this.stack.pop())}this.pushString();const s=[this.strings,this.nodes];return this.init(),s}}Mb.OPTIONS={skipHtmlTags:["script","noscript","style","textarea","pre","code","math","select","option","mjx-container"],includeHtmlTags:Tf({br:`
`,wbr:"","#comment":""}),ignoreHtmlClass:"mathjax_ignore",processHtmlClass:"mathjax_process"};fQ("STYLES",fe.INSERTED+1);class G1 extends qi{constructor(t,r,n){const[i,s]=DI(n,Mb.OPTIONS);super(t,r,i),this.domStrings=this.options.DomStrings||new Mb(s),this.domStrings.adaptor=r,this.styles=[]}findPosition(t,r,n,i){const s=this.adaptor,a=1/(i[t].length||1);let o=t;for(const[l,u]of i[t]){if(r<=u&&s.kind(l)==="#text")return{i:o,node:l,n:Math.max(r,0),delim:n};r-=u,o+=a}return{node:null,n:0,delim:n}}mathItem(t,r,n){const i=t.math,s=this.findPosition(t.n,t.start.n,t.open,n),a=this.findPosition(t.n,t.end.n,t.close,n);return new this.options.MathItem(i,r,t.display,s,a)}findMath(t){if(!this.processed.isSet("findMath")){this.adaptor.document=this.document,t=Bn({elements:this.options.elements||[this.adaptor.body(this.document)]},t);const r=this.adaptor.getElements(t.elements,this.document);for(const n of this.inputJax){const i=n.processStrings?this.findMathFromStrings(n,r):this.findMathFromDOM(n,r);this.math.merge(i)}this.processed.set("findMath")}return this}findMathFromStrings(t,r){const n=[],i=[];for(const a of r){const[o,l]=this.domStrings.find(a);n.push(...o),i.push(...l)}const s=new this.options.MathList;for(const a of t.findMath(n))s.push(this.mathItem(a,t,i));return s}findMathFromDOM(t,r){const n=[];for(const i of r)for(const s of t.findMath(i))n.push(new this.options.MathItem(s.math,t,s.display,s.start,s.end));return new this.options.MathList(...n)}updateDocument(){return this.processed.isSet("updateDocument")||(this.addPageElements(),this.addStyleSheet(),super.updateDocument(),this.processed.set("updateDocument")),this}addPageElements(){const t=this.adaptor,r=t.body(this.document),n=this.documentPageElements();if(n){const i=t.firstChild(r);i?t.insert(n,i):t.append(r,n)}}addStyleSheet(){const t=this.documentStyleSheet(),r=this.adaptor;if(t&&!r.parent(t)){const n=r.head(this.document),i=this.findSheet(n,r.getAttribute(t,"id"));i?r.replace(t,i):r.append(n,t)}}findSheet(t,r){if(r){for(const n of this.adaptor.tags(t,"style"))if(this.adaptor.getAttribute(n,"id")===r)return n}return null}removeFromDocument(t=!1){if(this.processed.isSet("updateDocument"))for(const r of this.math)r.state()>=fe.INSERTED&&r.state(fe.TYPESET,t);return this.processed.clear("updateDocument"),this}documentStyleSheet(){return this.outputJax.styleSheet(this)}documentPageElements(){return this.outputJax.pageElements(this)}addStyles(t){this.styles.push(t),"insertStyles"in this.outputJax&&this.outputJax.insertStyles(t)}getStyles(){return this.styles}}G1.KIND="HTML";G1.OPTIONS=Object.assign(Object.assign({},qi.OPTIONS),{renderActions:Tf(Object.assign(Object.assign({},qi.OPTIONS.renderActions),{styles:[fe.STYLES,"","updateStyleSheet",!1]})),MathList:xJ,MathItem:wJ,DomStrings:null});class TJ extends ZI{constructor(){super(...arguments),this.documentClass=G1}handlesDocument(t){const r=this.adaptor;if(typeof t=="string")try{t=r.parse(t,"text/html")}catch{}return t instanceof r.window.Document||t instanceof r.window.HTMLElement||t instanceof r.window.DocumentFragment}create(t,r){const n=this.adaptor;if(typeof t=="string")t=n.parse(t,"text/html");else if(t instanceof n.window.HTMLElement||t instanceof n.window.DocumentFragment){const i=t;t=n.parse("","text/html"),n.append(n.body(t),i)}return super.create(t,r)}}function vJ(e){const t=new TJ(e);return B1.handlers.register(t),t}const AJ={},la=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:AJ;function dd(e){return typeof e=="object"&&e!==null}function QI(e,t,r=!1){var n;for(const i of Object.keys(t))i==="__esModule"||e[i]===t[i]||t[i]===null||t[i]===void 0||(dd(e[i])&&dd(t[i])?QI(e[i],t[i],r||i==="_"):(!r||!(!((n=Object.getOwnPropertyDescriptor(e,i))===null||n===void 0)&&n.get))&&(e[i]=t[i]));return e}function JI(e,t,r){e[t]||(e[t]={}),e=e[t];for(const n of Object.keys(r))dd(e[n])&&dd(r[n])?JI(e,n,r[n]):e[n]==null&&r[n]!=null&&(e[n]=r[n]);return e}function va(e){return QI(V1,e)}(typeof la.MathJax>"u"||la.MathJax.constructor!=={}.constructor)&&(la.MathJax={});la.MathJax.version||(la.MathJax={version:ks,_:{},config:la.MathJax});const V1=la.MathJax;class WT extends Error{constructor(t,r){super(t),this.package=r}}class cr{get canLoad(){return this.dependencyCount===0&&!this.noLoad&&!this.isLoading&&!this.hasFailed}static loadPromise(t){const r=hr[t]||{},n=r.extraLoads?Vr.load(...r.extraLoads):Promise.resolve(),i=r.checkReady||(()=>Promise.resolve());return n.then(()=>i())}static resolvePath(t,r=!0){const n={name:t,original:t,addExtension:r};return Vr.pathFilters.execute(n),n.name}static loadAll(){for(const t of this.packages.values())t.canLoad&&t.load()}constructor(t,r=!1){this.isLoaded=!1,this.result={},this.isLoading=!1,this.hasFailed=!1,this.dependents=[],this.dependencies=[],this.dependencyCount=0,this.provided=[],this.name=t,this.noLoad=r,cr.packages.set(t,this),this.promise=this.makePromise(this.makeDependencies())}makeDependencies(){const t=[],r=cr.packages,n=this.noLoad,i=this.name,s=[];Object.hasOwn(hr.dependencies,i)?s.push(...hr.dependencies[i]):i!=="core"&&s.push("core");for(const a of s){const o=r.get(a)||new cr(a,n);this.dependencies.includes(o)||(o.addDependent(this,n),this.dependencies.push(o),o.isLoaded||(this.dependencyCount++,t.push(o.promise)))}return t}makePromise(t){let r=new Promise((i,s)=>{this.resolve=i,this.reject=s});const n=hr[this.name]||{};return n.ready&&(r=r.then(i=>n.ready(this.name))),t.length&&(t.push(r),r=Promise.all(t).then(i=>i.join(", "))),n.failed&&r.catch(i=>n.failed(new WT(i,this.name))),r}load(){if(!this.isLoaded&&!this.isLoading&&!this.noLoad){this.isLoading=!0;const t=cr.resolvePath(this.name);hr.require?this.loadCustom(t):this.loadScript(t)}}loadCustom(t){try{const r=hr.require(t);r instanceof Promise?r.then(n=>this.result=n).then(()=>this.checkLoad()).catch(n=>this.failed(`Can't load "`+t+`"
`+n.message.trim())):(this.result=r,this.checkLoad())}catch(r){this.failed(r.message)}}loadScript(t){const r=Ui.document.createElement("script");r.src=t,r.charset="UTF-8",r.onload=n=>this.checkLoad(),r.onerror=n=>this.failed(`Can't load "`+t+'"'),Ui.document.head.appendChild(r)}loaded(){this.isLoaded=!0,this.isLoading=!1;for(const t of this.dependents)t.requirementSatisfied();for(const t of this.provided)t.loaded();this.resolve(this.name)}failed(t){this.hasFailed=!0,this.isLoading=!1,this.reject(new WT(t,this.name))}checkLoad(){cr.loadPromise(this.name).then(()=>this.loaded()).catch(t=>this.failed(t))}requirementSatisfied(){this.dependencyCount&&(this.dependencyCount--,this.canLoad&&this.load())}provides(t=[]){for(const r of t){let n=cr.packages.get(r);n||(hr.dependencies[r]||(hr.dependencies[r]=[]),hr.dependencies[r].push(r),n=new cr(r,!0),n.isLoading=!0),this.provided.push(n)}}addDependent(t,r){this.dependents.push(t),r||this.checkNoLoad()}checkNoLoad(){if(this.noLoad){this.noLoad=!1;for(const t of this.dependencies)t.checkNoLoad()}}}cr.packages=new Map;function CJ(){return new URL(import.meta.url).pathname.replace(/[cm]js\/components\/[cm]js\/root.js$/,"bundle")}var kJ=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const Sf={source:e=>(Object.hasOwn(hr.source,e.name)&&(e.name=hr.source[e.name]),!0),normalize:e=>{const t=e.name;return t.match(/^(?:[a-z]+:\/)?\/|[a-z]:\\|\[/i)||(e.name="[mathjax]/"+t.replace(/^\.\//,"")),!0},prefix:e=>{let t;for(;(t=e.name.match(/^\[([^\]]*)\]/))&&Object.hasOwn(hr.paths,t[1]);)e.name=hr.paths[t[1]]+e.name.substring(t[0].length);return!0},addExtension:e=>(e.addExtension&&!e.name.match(/\.[^/]+$/)&&(e.name+=".js"),!0)},Fg=V1.version,Vr={versions:new Map,nestedLoads:[],ready(...e){e.length===0&&(e=Array.from(cr.packages.keys()));const t=[];for(const r of e){const n=cr.packages.get(r)||new cr(r,!0);t.push(n.promise)}return Promise.all(t)},load(...e){if(e.length===0)return Promise.resolve([]);let t=[];this.nestedLoads.unshift(t);const r=Promise.resolve().then(()=>kJ(this,void 0,void 0,function*(){const n=[];for(const s of e){let a=cr.packages.get(s);a||(a=new cr(s),a.provides(hr.provides[s])),a.checkNoLoad(),n.push(a.promise.then(()=>(hr.versionWarnings&&a.isLoaded&&!Vr.versions.has(cr.resolvePath(s))&&console.warn(`No version information available for component ${s}`),a.result)))}cr.loadAll();const i=yield Promise.all(n);for(;t.length;){const s=Promise.all(t);t=this.nestedLoads[this.nestedLoads.indexOf(t)]=[],yield s}return this.nestedLoads.splice(this.nestedLoads.indexOf(t),1),i}));return this.nestedLoads.slice(1).forEach(n=>n.push(r)),r},preLoaded(...e){for(const t of e){let r=cr.packages.get(t);r||(r=new cr(t,!0),r.provides(hr.provides[t])),r.loaded()}},addPackageData(e,t){let r=hr[e];r||(r=hr[e]={});for(const[n,i]of Object.entries(t))if(Array.isArray(i)){r[n]||(r[n]=[]);const s=new Set([...r[n],...i]);r[n]=[...s]}else r[n]=i},defaultReady(){typeof ro.startup<"u"&&ro.config.startup.ready()},getRoot(){if(Ui.document){const e=Ui.document.currentScript||Ui.document.getElementById("MathJax-script");if(e&&e instanceof HTMLScriptElement)return e.src.replace(/\/[^/]*$/,"")}return CJ()},checkVersion(e,t,r){return this.saveVersion(e),hr.versionWarnings&&t!==Fg?(console.warn(`Component ${e} uses ${t} of MathJax; version in use is ${Fg}`),!0):!1},saveVersion(e){Vr.versions.set(cr.resolvePath(e),Fg)},pathFilters:new bs};Vr.pathFilters.add(Sf.source,0);Vr.pathFilters.add(Sf.normalize,10);Vr.pathFilters.add(Sf.prefix,20);Vr.pathFilters.add(Sf.addExtension,30);const ro=V1;if(typeof ro.loader>"u"){JI(ro.config,"loader",{paths:{mathjax:Vr.getRoot()},source:{},dependencies:{},provides:{},load:[],ready:Vr.defaultReady.bind(Vr),failed:e=>console.log(`MathJax(${e.package||"?"}): ${e.message}`),require:null,pathFilters:[],versionWarnings:!0}),va({loader:Vr});for(const e of ro.config.loader.pathFilters)Array.isArray(e)?Vr.pathFilters.add(e[0],e[1]):Vr.pathFilters.add(e)}const hr=ro.config.loader;function SJ(e,t,r,n){const i=e.create("token","mtext",{},n.replace(/\n/g," "));return e.create("node","merror",[i],{"data-mjx-error":t,title:t})}const IJ=Mn.create("noerrors",{[ye.NODES]:{error:SJ}}),LJ=Object.freeze(Object.defineProperty({__proto__:null,NoErrorsConfiguration:IJ},Symbol.toStringTag,{value:"Module"}));MathJax.loader&&MathJax.loader.checkVersion("[tex]/noerrors",ks,"tex-extension");va({_:{input:{tex:{noerrors:{NoErrorsConfiguration:LJ}}}}});class Fb extends ds{constructor(t,...r){super(t),this.factory.configuration.tags.start("multline",!0,r[0])}get kind(){return"multline"}EndEntry(){this.table.length&&jt.fixInitialMO(this.factory.configuration,this.nodes);const t=this.getProperty("shove"),r=this.create("node","mtd",this.nodes,t?{columnalign:t}:{});this.setProperty("shove",null),this.row.push(r),this.Clear()}EndRow(){if(this.row.length!==1)throw new Ot("MultlineRowsOneCol","The rows within the %1 environment must have exactly one column","multline");const t=this.create("node","mtr",this.row);this.table.push(t),this.row=[]}EndTable(){if(super.EndTable(),this.table.length){const t=this.table.length-1;let r=-1;ft.getAttribute(ft.getChildren(this.table[0])[0],"columnalign")||ft.setAttribute(ft.getChildren(this.table[0])[0],"columnalign",Wt.Align.LEFT),ft.getAttribute(ft.getChildren(this.table[t])[0],"columnalign")||ft.setAttribute(ft.getChildren(this.table[t])[0],"columnalign",Wt.Align.RIGHT);const n=this.factory.configuration.tags.getTag();if(n){r=this.arraydef.side===Wt.Align.LEFT?0:this.table.length-1;const i=this.table[r],s=this.create("node","mlabeledtr",[n].concat(ft.getChildren(i)));ft.copyAttributes(i,s),this.table[r]=s}}this.factory.configuration.tags.end()}}class Ub extends ob{get kind(){return"flalign"}constructor(t,r,n,i,s){super(t),this.name=r,this.numbered=n,this.padded=i,this.center=s,this.factory.configuration.tags.start(r,n,n)}EndEntry(){super.EndEntry();const t=this.getProperty("xalignat");if(t&&this.row.length>t)throw new Ot("XalignOverflow","Extra %1 in row of %2","&",this.name)}EndRow(){let t;const r=this.row,n=this.getProperty("xalignat");for(;r.length<n;)r.push(this.create("node","mtd"));for(this.row=[],this.padded&&this.row.push(this.create("node","mtd"));t=r.shift();)this.row.push(t),t=r.shift(),t&&this.row.push(t),(r.length||this.padded)&&this.row.push(this.create("node","mtd"));this.row.length>this.maxrow&&(this.maxrow=this.row.length),super.EndRow();const i=this.table[this.table.length-1];if(this.getProperty("zeroWidthLabel")&&i.isKind("mlabeledtr")){const s=ft.getChildren(i)[0],a=this.factory.configuration.options.tagSide,o=Object.assign({width:0},a==="right"?{lspace:"-1width"}:{}),l=this.create("node","mpadded",ft.getChildren(s),o);s.setChildren([l])}}EndTable(){if(super.EndTable(),this.center&&this.maxrow<=2){const t=this.arraydef;delete t.width,delete this.global.indentalign}}}const RJ=Object.freeze(Object.defineProperty({__proto__:null,FlalignItem:Ub,MultlineItem:Fb},Symbol.toStringTag,{value:"Module"}));var Dr;(function(e){e.NEW_DELIMITER="new-Delimiter",e.NEW_COMMAND="new-Command",e.NEW_ENVIRONMENT="new-Environment"})(Dr||(Dr={}));const tL=-100,Re={GetCSname(e,t){if(e.GetNext()!=="\\")throw new Ot("MissingCS","%1 must be followed by a control sequence",t);const n=Ce.trimSpaces(e.GetArgument(t)).substring(1);return this.checkProtectedMacros(e,n),n},GetCsNameArgument(e,t){let r=Ce.trimSpaces(e.GetArgument(t));if(r.charAt(0)==="\\"&&(r=r.substring(1)),!r.match(/^(.|[a-z]+)$/i))throw new Ot("IllegalControlSequenceName","Illegal control sequence name for %1",t);return this.checkProtectedMacros(e,r),r},GetArgCount(e,t){let r=e.GetBrackets(t);if(r&&(r=Ce.trimSpaces(r),!r.match(/^[0-9]+$/)))throw new Ot("IllegalParamNumber","Illegal number of parameters specified in %1",t);return r},GetTemplate(e,t,r){let n=e.GetNext();const i=[];let s=0,a=e.i;for(;e.i<e.string.length;){if(n=e.GetNext(),n==="#"){if(a!==e.i&&(i[s]=e.string.substring(a,e.i)),n=e.string.charAt(++e.i),!n.match(/^[1-9]$/))throw new Ot("CantUseHash2","Illegal use of # in template for %1",r);if(parseInt(n)!==++s)throw new Ot("SequentialParam","Parameters for %1 must be numbered sequentially",r);a=e.i+1}else if(n==="{")return a!==e.i&&(i[s]=e.string.substring(a,e.i)),i.length>0?[s.toString()].concat(i):s;e.i++}throw new Ot("MissingReplacementString","Missing replacement string for definition of %1",t)},GetParameter(e,t,r){if(r==null)return e.GetArgument(t);let n=e.i,i=0,s=!1;for(;e.i<e.string.length;){const a=e.string.charAt(e.i);if(a==="{")s=e.i===n,e.GetArgument(t),i=e.i-n;else{if(this.MatchParam(e,r))return s&&(n++,i-=2),e.string.substring(n,n+i);if(a==="\\"){e.i++,i++,s=!1;const o=e.string.substring(e.i).match(/[a-z]+|./i);o&&(e.i+=o[0].length,i=e.i-n)}else e.i++,i++,s=!1}}throw new Ot("RunawayArgument","Runaway argument for %1?",t)},MatchParam(e,t){return e.string.substring(e.i,e.i+t.length)!==t||t.match(/\\[a-z]+$/i)&&e.string.charAt(e.i+t.length).match(/[a-z]/i)?0:(e.i+=t.length,1)},checkGlobal(e,t,r){return e.stack.env.isGlobal?e.configuration.packageData.get("begingroup").stack.checkGlobal(t,r):r.map(n=>e.configuration.handlers.retrieve(n))},checkProtectedMacros(e,t){var r;if(!((r=e.options.protectedMacros)===null||r===void 0)&&r.includes(t))throw new Ot("ProtectedMacro","The control sequence %1 can't be redefined",`\\${t}`)},addDelimiter(e,t,r,n){const i=t.substring(1);this.checkProtectedMacros(e,i);const[s,a]=Re.checkGlobal(e,[i,t],[Dr.NEW_COMMAND,Dr.NEW_DELIMITER]);i!==t&&s.remove(i),a.add(t,new rb(t,r,n)),delete e.stack.env.isGlobal},addMacro(e,t,r,n,i=""){this.checkProtectedMacros(e,t);const s=Re.checkGlobal(e,[t],[Dr.NEW_COMMAND])[0];this.undefineDelimiter(e,"\\"+t),s.add(t,new mh(i||t,r,n)),delete e.stack.env.isGlobal},addEnvironment(e,t,r,n){Re.checkGlobal(e,[t],[Dr.NEW_ENVIRONMENT])[0].add(t,new mh(t,r,n)),delete e.stack.env.isGlobal},undefineMacro(e,t){const r=Re.checkGlobal(e,[t],[Dr.NEW_COMMAND])[0];r.remove(t),e.configuration.handlers.get(le.MACRO).applicable(t)&&(r.add(t,new mh(t,()=>tc.FALLBACK,[])),this.undefineDelimiter(e,"\\"+t)),delete e.stack.env.isGlobal},undefineDelimiter(e,t){const r=Re.checkGlobal(e,[t],[Dr.NEW_DELIMITER])[0];r.remove(t),e.configuration.handlers.get(le.DELIMITER).applicable(t)&&r.add(t,new rb(t,null,{})),delete e.stack.env.isGlobal}},NJ=Object.freeze(Object.defineProperty({__proto__:null,NewcommandPriority:tL,get NewcommandTables(){return Dr},NewcommandUtil:Re},Symbol.toStringTag,{value:"Module"}));function qT(e){if(!e||e.isInferred&&e.childNodes.length===0)return[null,null];if(e.isKind("msubsup")&&GT(e))return[e,null];const t=ft.getChildAt(e,0);return e.isInferred&&t&&GT(t)?(e.childNodes.splice(0,1),[t,e]):[null,e]}function GT(e){const t=e.childNodes[0];return t&&t.isKind("mi")&&t.getText()===""}const Ht={AmsEqnArray(e,t,r,n,i,s,a,o){const l=e.GetBrackets("\\begin{"+t.getName()+"}"),u=rt.EqnArray(e,t,r,n,i,s,a,o);return jt.setArrayAlign(u,l,e)},AlignAt(e,t,r,n){const i=t.getName();let s,a="",o="";const l=[];n||(s=e.GetBrackets("\\begin{"+i+"}"));const u=e.GetArgument("\\begin{"+i+"}");if(u.match(/[^0-9]/))throw new Ot("PositiveIntegerArg","Argument to %1 must be a positive integer","\\begin{"+i+"}");let c=parseInt(u,10);for(;c>0;)a+="rl",o+="bt",l.push("0em 0em"),c--;const h=l.join(" ");if(n)return Ht.EqnArray(e,t,r,n,a,o,h);const f=Ht.EqnArray(e,t,r,n,a,o,h);return jt.setArrayAlign(f,s,e)},Multline(e,t,r){jt.checkEqnEnv(e),e.Push(t);const n=e.options.ams.multlineIndent,i=e.itemFactory.create("multline",r,e.stack);return i.arraydef={displaystyle:!0,rowspacing:".5em",columnspacing:"100%",width:e.options.ams.multlineWidth,side:e.options.tagSide,minlabelspacing:e.options.tagIndent,"data-array-padding":`${n} ${n}`,"data-width-includes-label":!0},i},XalignAt(e,t,r,n){const i=e.GetArgument("\\begin{"+t.getName()+"}");if(i.match(/[^0-9]/))throw new Ot("PositiveIntegerArg","Argument to %1 must be a positive integer","\\begin{"+t.getName()+"}");const s=n?"crl":"rlc",a=n?"mbt":"btm",o=n?"fit auto auto":"auto auto fit",l=Ht.FlalignArray(e,t,r,n,!1,s,a,o,!0);return l.setProperty("xalignat",2*parseInt(i)),l},FlalignArray(e,t,r,n,i,s,a,o,l=!1){jt.checkEqnEnv(e),e.Push(t),s=s.split("").join(" ").replace(/r/g,"right").replace(/l/g,"left").replace(/c/g,"center"),a=ja(a);const u=e.itemFactory.create("flalign",t.getName(),r,n,i,e.stack);return u.arraydef={width:"100%",displaystyle:!0,columnalign:s,columnspacing:"0em",columnwidth:o,rowspacing:"3pt","data-break-align":a,side:e.options.tagSide,minlabelspacing:l?"0":e.options.tagIndent,"data-width-includes-label":!0},u.setProperty("zeroWidthLabel",l),u},HandleDeclareOp(e,t){const r=e.GetStar()?"*":"",n=Re.GetCsNameArgument(e,t),i=e.GetArgument(t);Re.addMacro(e,n,Ht.Macro,[`\\operatorname${r}{${i}}`]),e.Push(e.itemFactory.create("null"))},HandleOperatorName(e,t){const r=e.GetStar(),n=Ce.trimSpaces(e.GetArgument(t));let i=new Xe(n,Object.assign(Object.assign({},e.stack.env),{font:Wt.Variant.NORMAL,multiLetterIdentifiers:e.options.ams.operatornamePattern,operatorLetters:!0}),e.configuration).mml();if(i.isKind("mi")||(i=e.create("node","TeXAtom",[i])),ft.setProperties(i,{movesupsub:r,movablelimits:!0,texClass:mt.OP}),!r){const s=e.GetNext(),a=e.i;s==="\\"&&++e.i&&e.GetCS()!=="limits"&&(e.i=a)}e.Push(e.itemFactory.create("fn",i))},SideSet(e,t){const[r,n]=qT(e.ParseArg(t)),[i,s]=qT(e.ParseArg(t)),a=e.ParseArg(t);let o=a;r&&(n?r.replaceChild(e.create("node","mphantom",[e.create("node","mpadded",[jt.copyNode(a,e)],{width:0})]),ft.getChildAt(r,0)):(o=e.create("node","mmultiscripts",[a]),i&&ft.appendChildren(o,[ft.getChildAt(i,1)||e.create("node","none"),ft.getChildAt(i,2)||e.create("node","none")]),ft.setProperty(o,"scriptalign","left"),ft.appendChildren(o,[e.create("node","mprescripts"),ft.getChildAt(r,1)||e.create("node","none"),ft.getChildAt(r,2)||e.create("node","none")]))),i&&o===a&&(i.replaceChild(a,ft.getChildAt(i,0)),o=i);const l=e.create("node","TeXAtom",[],{texClass:mt.OP,movesupsub:!0,movablelimits:!0});n&&(r&&l.appendChild(r),l.appendChild(n)),l.appendChild(o),s&&l.appendChild(s),e.Push(l)},operatorLetter(e,t){return e.stack.env.operatorLetters?Je.variable(e,t):!1},MultiIntegral(e,t,r){let n=e.GetNext();if(n==="\\"){const i=e.i;n=e.GetArgument(t),e.i=i,n==="\\limits"&&(r="\\!\\!\\mathop{\\,\\,"+r+"}")}e.string=r+" "+e.string.slice(e.i),e.i=0},xArrow(e,t,r,n,i,s=0){const a={width:"+"+Ce.em((n+i)/18),lspace:Ce.em(n/18)},o=e.GetBrackets(t),l=e.ParseArg(t),u=e.create("node","mspace",[],{depth:".2em"});let c=e.create("token","mo",{stretchy:!0,texClass:mt.REL},String.fromCodePoint(r));s&&c.attributes.set("minsize",Ce.em(s)),c=e.create("node","mstyle",[c],{scriptlevel:0});const h=e.create("node","munderover",[c]);let f=e.create("node","mpadded",[l,u],a);if(ft.setAttribute(f,"voffset","-.2em"),ft.setAttribute(f,"height","-.2em"),ft.setChild(h,h.over,f),o){const d=new Xe(o,e.stack.env,e.configuration).mml(),p=e.create("node","mspace",[],{height:".75em"});f=e.create("node","mpadded",[d,p],a),ft.setAttribute(f,"voffset",".15em"),ft.setAttribute(f,"depth","-.15em"),ft.setChild(h,h.under,f)}ft.setProperty(h,"subsupOK",!0),e.Push(h)},HandleShove(e,t,r){const n=e.stack.Top();if(n.kind!=="multline")throw new Ot("CommandOnlyAllowedInEnv","%1 only allowed in %2 environment",e.currentCS,"multline");if(n.Size())throw new Ot("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",e.currentCS);n.setProperty("shove",r)},CFrac(e,t){let r=Ce.trimSpaces(e.GetBrackets(t,""));const n=e.GetArgument(t),i=e.GetArgument(t),s={l:Wt.Align.LEFT,r:Wt.Align.RIGHT,"":""},a=new Xe("\\strut\\textstyle{"+n+"}",e.stack.env,e.configuration).mml(),o=new Xe("\\strut\\textstyle{"+i+"}",e.stack.env,e.configuration).mml(),l=e.create("node","mfrac",[a,o]);if(r=s[r],r==null)throw new Ot("IllegalAlign","Illegal alignment specified in %1",e.currentCS);r&&ft.setProperties(l,{numalign:r,denomalign:r}),e.Push(l)},Genfrac(e,t,r,n,i,s){r==null&&(r=e.GetDelimiterArg(t)),n==null&&(n=e.GetDelimiterArg(t)),i==null&&(i=e.GetArgument(t)),s==null&&(s=Ce.trimSpaces(e.GetArgument(t)));const a=e.ParseArg(t),o=e.ParseArg(t);let l=e.create("node","mfrac",[a,o]);if(i!==""&&ft.setAttribute(l,"linethickness",i),(r||n)&&(ft.setProperty(l,"withDelims",!0),l=jt.fixedFence(e.configuration,r,l,n)),s!==""){const u=parseInt(s,10),c=["D","T","S","SS"][u];if(c==null)throw new Ot("BadMathStyleFor","Bad math style for %1",e.currentCS);l=e.create("node","mstyle",[l]),c==="D"?ft.setProperties(l,{displaystyle:!0,scriptlevel:0}):ft.setProperties(l,{displaystyle:!1,scriptlevel:u-1})}e.Push(l)},HandleTag(e,t){if(!e.tags.currentTag.taggable&&e.tags.env)throw new Ot("CommandNotAllowedInEnv","%1 not allowed in %2 environment",e.currentCS,e.tags.env);if(e.tags.currentTag.tag)throw new Ot("MultipleCommand","Multiple %1",e.currentCS);const r=e.GetStar(),n=Ce.trimSpaces(e.GetArgument(t));e.tags.tag(n,r),e.Push(e.itemFactory.create("null"))},HandleNoTag:rt.HandleNoTag,HandleRef:rt.HandleRef,Macro:rt.Macro,Accent:rt.Accent,Tilde:rt.Tilde,Array:rt.Array,Spacer:rt.Spacer,NamedOp:rt.NamedOp,EqnArray:rt.EqnArray,Equation:rt.Equation},OJ=Object.freeze(Object.defineProperty({__proto__:null,AmsMethods:Ht},Symbol.toStringTag,{value:"Module"}));new An("AMSmath-mathchar0mo",Je.mathchar0mo,{iiiint:["â¨",{texClass:mt.OP}]});new vo("AMSmath-operatorLetter",Ht.operatorLetter,/[-*]/i);new Ss("AMSmath-macros",{mathring:[Ht.Accent,"02DA"],nobreakspace:Ht.Tilde,negmedspace:[Ht.Spacer,fr.negativemediummathspace],negthickspace:[Ht.Spacer,fr.negativethickmathspace],idotsint:[Ht.MultiIntegral,"\\int\\cdots\\int"],dddot:[Ht.Accent,"20DB"],ddddot:[Ht.Accent,"20DC"],sideset:Ht.SideSet,boxed:[Ht.Macro,"\\fbox{$\\displaystyle{#1}$}",1],tag:Ht.HandleTag,notag:Ht.HandleNoTag,eqref:[Ht.HandleRef,!0],substack:[Ht.Macro,"\\begin{subarray}{c}#1\\end{subarray}",1],injlim:[Ht.NamedOp,"inj&thinsp;lim"],projlim:[Ht.NamedOp,"proj&thinsp;lim"],varliminf:[Ht.Macro,"\\mathop{\\underline{\\mmlToken{mi}{lim}}}"],varlimsup:[Ht.Macro,"\\mathop{\\overline{\\mmlToken{mi}{lim}}}"],varinjlim:[Ht.Macro,"\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}"],varprojlim:[Ht.Macro,"\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}"],DeclareMathOperator:Ht.HandleDeclareOp,operatorname:Ht.HandleOperatorName,genfrac:Ht.Genfrac,frac:[Ht.Genfrac,"","","",""],tfrac:[Ht.Genfrac,"","","","1"],dfrac:[Ht.Genfrac,"","","","0"],binom:[Ht.Genfrac,"(",")","0",""],tbinom:[Ht.Genfrac,"(",")","0","1"],dbinom:[Ht.Genfrac,"(",")","0","0"],cfrac:Ht.CFrac,shoveleft:[Ht.HandleShove,Wt.Align.LEFT],shoveright:[Ht.HandleShove,Wt.Align.RIGHT],xrightarrow:[Ht.xArrow,8594,5,10],xleftarrow:[Ht.xArrow,8592,10,5]});new U1("AMSmath-environment",Je.environment,{"equation*":[Ht.Equation,null,!1],"eqnarray*":[Ht.EqnArray,null,!1,!0,"rcl","bmt",jt.cols(0,fr.thickmathspace),".5em"],align:[Ht.EqnArray,null,!0,!0,"rl","bt",jt.cols(0,2)],"align*":[Ht.EqnArray,null,!1,!0,"rl","bt",jt.cols(0,2)],multline:[Ht.Multline,null,!0],"multline*":[Ht.Multline,null,!1],split:[Ht.EqnArray,null,!1,!1,"rl","bt",jt.cols(0)],gather:[Ht.EqnArray,null,!0,!0,"c","m"],"gather*":[Ht.EqnArray,null,!1,!0,"c","m"],alignat:[Ht.AlignAt,null,!0,!0],"alignat*":[Ht.AlignAt,null,!1,!0],alignedat:[Ht.AlignAt,null,!1,!1],aligned:[Ht.AmsEqnArray,null,null,null,"rl","bt",jt.cols(0,2),".5em","D"],gathered:[Ht.AmsEqnArray,null,null,null,"c","m",null,".5em","D"],xalignat:[Ht.XalignAt,null,!0,!0],"xalignat*":[Ht.XalignAt,null,!1,!0],xxalignat:[Ht.XalignAt,null,!1,!1],flalign:[Ht.FlalignArray,null,!0,!1,!0,"rlc","btm","auto auto fit"],"flalign*":[Ht.FlalignArray,null,!1,!1,!0,"rlc","btm","auto auto fit"],subarray:[Ht.Array,null,null,null,null,jt.cols(0),"0.1em","S",!0],smallmatrix:[Ht.Array,null,null,null,"c",jt.cols(1/3),".2em","S",!0],matrix:[Ht.Array,null,null,null,"c"],pmatrix:[Ht.Array,null,"(",")","c"],bmatrix:[Ht.Array,null,"[","]","c"],Bmatrix:[Ht.Array,null,"\\{","\\}","c"],vmatrix:[Ht.Array,null,"\\vert","\\vert","c"],Vmatrix:[Ht.Array,null,"\\Vert","\\Vert","c"],cases:[Ht.Array,null,"\\{",".","ll",null,".2em","T"]});new Qu("AMSmath-delimiter",Je.delimiter,{"\\lvert":["|",{texClass:mt.OPEN}],"\\rvert":["|",{texClass:mt.CLOSE}],"\\lVert":["â",{texClass:mt.OPEN}],"\\rVert":["â",{texClass:mt.CLOSE}]});new An("AMSsymbols-mathchar0mi",Je.mathchar0mi,{digamma:"Ï",varkappa:"Ï°",varGamma:["Î",{mathvariant:Wt.Variant.ITALIC}],varDelta:["Î",{mathvariant:Wt.Variant.ITALIC}],varTheta:["Î",{mathvariant:Wt.Variant.ITALIC}],varLambda:["Î",{mathvariant:Wt.Variant.ITALIC}],varXi:["Î",{mathvariant:Wt.Variant.ITALIC}],varPi:["Î ",{mathvariant:Wt.Variant.ITALIC}],varSigma:["Î£",{mathvariant:Wt.Variant.ITALIC}],varUpsilon:["Î¥",{mathvariant:Wt.Variant.ITALIC}],varPhi:["Î¦",{mathvariant:Wt.Variant.ITALIC}],varPsi:["Î¨",{mathvariant:Wt.Variant.ITALIC}],varOmega:["Î©",{mathvariant:Wt.Variant.ITALIC}],beth:"â¶",gimel:"â·",daleth:"â¸",backprime:["âµ",{variantForm:!0}],hslash:"â",varnothing:["â",{variantForm:!0}],blacktriangle:"â´",triangledown:["â½",{variantForm:!0}],blacktriangledown:"â¾",square:"â»",Box:"â»",blacksquare:"â¼",lozenge:"â",Diamond:"â",blacklozenge:"â§«",circledS:["â",{mathvariant:Wt.Variant.NORMAL}],bigstar:"â",sphericalangle:"â¢",measuredangle:"â¡",nexists:"â",complement:"â",mho:"â§",eth:["Ã°",{mathvariant:Wt.Variant.NORMAL}],Finv:"â²",diagup:"â±",Game:"â",diagdown:"â²",Bbbk:["k",{mathvariant:Wt.Variant.DOUBLESTRUCK}],yen:"Â¥",circledR:"Â®",checkmark:"â",maltese:"â "});new An("AMSsymbols-mathchar0mo",Je.mathchar0mo,{dotplus:"â",ltimes:"â",smallsetminus:["â",{variantForm:!0}],rtimes:"â",Cap:"â",doublecap:"â",leftthreetimes:"â",Cup:"â",doublecup:"â",rightthreetimes:"â",barwedge:"â¼",curlywedge:"â",veebar:"â»",curlyvee:"â",doublebarwedge:"â©",boxminus:"â",circleddash:"â",boxtimes:"â ",circledast:"â",boxdot:"â¡",circledcirc:"â",boxplus:"â",centerdot:["â",{variantForm:!0}],divideontimes:"â",intercal:"âº",leqq:"â¦",geqq:"â§",leqslant:"â©½",geqslant:"â©¾",eqslantless:"âª",eqslantgtr:"âª",lesssim:"â²",gtrsim:"â³",lessapprox:"âª",gtrapprox:"âª",approxeq:"â",lessdot:"â",gtrdot:"â",lll:"â",llless:"â",ggg:"â",gggtr:"â",lessgtr:"â¶",gtrless:"â·",lesseqgtr:"â",gtreqless:"â",lesseqqgtr:"âª",gtreqqless:"âª",doteqdot:"â",Doteq:"â",eqcirc:"â",risingdotseq:"â",circeq:"â",fallingdotseq:"â",triangleq:"â",backsim:"â½",thicksim:["â¼",{variantForm:!0}],backsimeq:"â",thickapprox:["â",{variantForm:!0}],subseteqq:"â«",supseteqq:"â«",Subset:"â",Supset:"â",sqsubset:"â",sqsupset:"â",preccurlyeq:"â¼",succcurlyeq:"â½",curlyeqprec:"â",curlyeqsucc:"â",precsim:"â¾",succsim:"â¿",precapprox:"âª·",succapprox:"âª¸",vartriangleleft:"â²",lhd:"â²",vartriangleright:"â³",rhd:"â³",trianglelefteq:"â´",unlhd:"â´",trianglerighteq:"âµ",unrhd:"âµ",vDash:"â¨",Vdash:"â©",Vvdash:"âª",smallsmile:["â£",{variantForm:!0}],shortmid:["â£",{variantForm:!0}],smallfrown:["â¢",{variantForm:!0}],shortparallel:["â¥",{variantForm:!0}],bumpeq:"â",between:"â¬",Bumpeq:"â",pitchfork:"â",varpropto:["â",{variantForm:!0}],backepsilon:"â",blacktriangleleft:"â",blacktriangleright:"â¸",therefore:"â´",because:"âµ",eqsim:"â",vartriangle:["â³",{variantForm:!0}],Join:"â",nless:"â®",ngtr:"â¯",nleq:"â°",ngeq:"â±",nleqslant:["âª",{variantForm:!0}],ngeqslant:["âª",{variantForm:!0}],nleqq:["â°",{variantForm:!0}],ngeqq:["â±",{variantForm:!0}],lneq:"âª",gneq:"âª",lneqq:"â¨",gneqq:"â©",lvertneqq:["â¨",{variantForm:!0}],gvertneqq:["â©",{variantForm:!0}],lnsim:"â¦",gnsim:"â§",lnapprox:"âª",gnapprox:"âª",nprec:"â",nsucc:"â",npreceq:["â ",{variantForm:!0}],nsucceq:["â¡",{variantForm:!0}],precneqq:"âªµ",succneqq:"âª¶",precnsim:"â¨",succnsim:"â©",precnapprox:"âª¹",succnapprox:"âªº",nsim:"â",ncong:"â",nshortmid:["â¤",{variantForm:!0}],nshortparallel:["â¦",{variantForm:!0}],nmid:"â¤",nparallel:"â¦",nvdash:"â¬",nvDash:"â­",nVdash:"â®",nVDash:"â¯",ntriangleleft:"âª",ntriangleright:"â«",ntrianglelefteq:"â¬",ntrianglerighteq:"â­",nsubseteq:"â",nsupseteq:"â",nsubseteqq:["â",{variantForm:!0}],nsupseteqq:["â",{variantForm:!0}],subsetneq:"â",supsetneq:"â",varsubsetneq:["â",{variantForm:!0}],varsupsetneq:["â",{variantForm:!0}],subsetneqq:"â«",supsetneqq:"â«",varsubsetneqq:["â«",{variantForm:!0}],varsupsetneqq:["â«",{variantForm:!0}],leftleftarrows:"â",rightrightarrows:"â",leftrightarrows:"â",rightleftarrows:"â",Lleftarrow:"â",Rrightarrow:"â",twoheadleftarrow:"â",twoheadrightarrow:"â ",leftarrowtail:"â¢",rightarrowtail:"â£",looparrowleft:"â«",looparrowright:"â¬",leftrightharpoons:"â",rightleftharpoons:["â",{variantForm:!0}],curvearrowleft:"â¶",curvearrowright:"â·",circlearrowleft:"âº",circlearrowright:"â»",Lsh:"â°",Rsh:"â±",upuparrows:"â",downdownarrows:"â",upharpoonleft:"â¿",upharpoonright:"â¾",downharpoonleft:"â",restriction:"â¾",multimap:"â¸",downharpoonright:"â",leftrightsquigarrow:"â­",rightsquigarrow:"â",leadsto:"â",dashrightarrow:"â¢",dashleftarrow:"â ",nleftarrow:"â",nrightarrow:"â",nLeftarrow:"â",nRightarrow:"â",nleftrightarrow:"â®",nLeftrightarrow:"â"});new Qu("AMSsymbols-delimiter",Je.delimiter,{"\\ulcorner":"â","\\urcorner":"â","\\llcorner":"â","\\lrcorner":"â"});new Ss("AMSsymbols-macros",{implies:[Ht.Macro,"\\;\\Longrightarrow\\;"],impliedby:[Ht.Macro,"\\;\\Longleftarrow\\;"]});class Hb extends ue{get kind(){return"beginEnv"}get isOpen(){return!0}checkItem(t){if(t.isKind("end")){if(t.getName()!==this.getName())throw new Ot("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),t.getName());return[[this.factory.create("mml",this.toMml())],!0]}if(t.isKind("stop"))throw new Ot("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(t)}}const PJ=Object.freeze(Object.defineProperty({__proto__:null,BeginEnvItem:Hb},Symbol.toStringTag,{value:"Module"})),Pn={NewCommand(e,t){const r=Re.GetCsNameArgument(e,t),n=Re.GetArgCount(e,t),i=e.GetBrackets(t),s=e.GetArgument(t);Re.addMacro(e,r,Pn.Macro,[s,n,i]),e.Push(e.itemFactory.create("null"))},NewEnvironment(e,t){const r=Ce.trimSpaces(e.GetArgument(t)),n=Re.GetArgCount(e,t),i=e.GetBrackets(t),s=e.GetArgument(t),a=e.GetArgument(t);Re.addEnvironment(e,r,Pn.BeginEnv,[!0,s,a,n,i]),e.Push(e.itemFactory.create("null"))},MacroDef(e,t){const r=Re.GetCSname(e,t),n=Re.GetTemplate(e,t,"\\"+r),i=e.GetArgument(t);n instanceof Array?Re.addMacro(e,r,Pn.MacroWithTemplate,[i].concat(n)):Re.addMacro(e,r,Pn.Macro,[i,n]),e.Push(e.itemFactory.create("null"))},Let(e,t){const r=Re.GetCSname(e,t);let n=e.GetNext();n==="="&&(e.i++,n=e.GetNext());const i=e.configuration.handlers;if(e.Push(e.itemFactory.create("null")),n==="\\"){if(t=Re.GetCSname(e,t),r===t)return;const a=i.get(le.MACRO).applicable(t);if(a instanceof Ju){const l=a.lookup(t);Re.addMacro(e,r,l.func,l.args,l.token);return}if(a instanceof An&&!(a instanceof Qu)){const l=a.lookup(t),u=c=>a.parser(c,l);Re.addMacro(e,r,u,[r,l.char]);return}const o=i.get(le.DELIMITER).lookup("\\"+t);if(o){Re.addDelimiter(e,"\\"+r,o.char,o.attributes);return}Re.checkProtectedMacros(e,r),Re.undefineMacro(e,r),Re.undefineDelimiter(e,"\\"+r);return}e.i++;const s=i.get(le.DELIMITER).lookup(n);if(s){Re.addDelimiter(e,"\\"+r,s.char,s.attributes);return}Re.addMacro(e,r,Pn.Macro,[n])},MacroWithTemplate(e,t,r,n,...i){const s=parseInt(n,10);if(i.length){const a=[];if(e.GetNext(),i[0]&&!Re.MatchParam(e,i[0]))throw new Ot("MismatchUseDef","Use of %1 doesn't match its definition",t);if(s){for(let o=0;o<s;o++)a.push(Re.GetParameter(e,t,i[o+1]));r=jt.substituteArgs(e,a,r)}}e.string=jt.addArgs(e,r,e.string.slice(e.i)),e.i=0,jt.checkMaxMacros(e)},BeginEnv(e,t,r,n,i,s){const a=t.getName();if(e.stack.env.closing===a){if(delete e.stack.env.closing,e.stack.global.beginEnv&&(e.stack.global.beginEnv--,n)){const l=e.string.slice(e.i);e.string=jt.addArgs(e,e.string.substring(0,e.i),n),e.Parse(),e.string=l,e.i=0}return e.itemFactory.create("end").setProperty("name",a)}if(i){const o=[];if(s!=null){const l=e.GetBrackets(`\\begin{${a}}`);o.push(l??s)}for(let l=o.length;l<i;l++)o.push(e.GetArgument(`\\begin{${a}}`));r=jt.substituteArgs(e,o,r),n=jt.substituteArgs(e,[],n)}return e.string=jt.addArgs(e,r,e.string.slice(e.i)),e.i=0,e.stack.global.beginEnv=(e.stack.global.beginEnv||0)+1,e.itemFactory.create("beginEnv").setProperty("name",a)},Macro:rt.Macro},DJ=Object.freeze(Object.defineProperty({__proto__:null,default:Pn},Symbol.toStringTag,{value:"Module"}));new Ss("Newcommand-macros",{newcommand:Pn.NewCommand,renewcommand:Pn.NewCommand,newenvironment:Pn.NewEnvironment,renewenvironment:Pn.NewEnvironment,def:Pn.MacroDef,let:Pn.Let});function Y1(e,t){t.parseOptions.packageData.has("newcommand")||(t.parseOptions.packageData.set("newcommand",{}),new Qu(Dr.NEW_DELIMITER,Je.delimiter,{}),new Ss(Dr.NEW_COMMAND,{}),new U1(Dr.NEW_ENVIRONMENT,Je.environment,{}),t.parseOptions.handlers.add({[le.CHARACTER]:[],[le.DELIMITER]:[Dr.NEW_DELIMITER],[le.MACRO]:[Dr.NEW_DELIMITER,Dr.NEW_COMMAND],[le.ENVIRONMENT]:[Dr.NEW_ENVIRONMENT]},{},tL))}const BJ=Mn.create("newcommand",{[ye.HANDLER]:{macro:["Newcommand-macros"]},[ye.ITEMS]:{[Hb.prototype.kind]:Hb},[ye.OPTIONS]:{maxMacros:1e3,protectedMacros:["begingroupSandbox"]},[ye.CONFIG]:Y1}),MJ=Object.freeze(Object.defineProperty({__proto__:null,NewcommandConfig:Y1,NewcommandConfiguration:BJ},Symbol.toStringTag,{value:"Module"}));class eL extends vf{}const FJ=Mn.create("ams",{[ye.HANDLER]:{[le.CHARACTER]:["AMSmath-operatorLetter"],[le.DELIMITER]:["AMSsymbols-delimiter","AMSmath-delimiter"],[le.MACRO]:["AMSsymbols-mathchar0mi","AMSsymbols-mathchar0mo","AMSsymbols-delimiter","AMSsymbols-macros","AMSmath-mathchar0mo","AMSmath-macros","AMSmath-delimiter"],[le.ENVIRONMENT]:["AMSmath-environment"]},[ye.ITEMS]:{[Fb.prototype.kind]:Fb,[Ub.prototype.kind]:Ub},[ye.TAGS]:{ams:eL},[ye.OPTIONS]:{multlineWidth:"",ams:{operatornamePattern:/^[-*a-zA-Z]+/,multlineWidth:"100%",multlineIndent:"1em"}},[ye.CONFIG]:Y1}),UJ=Object.freeze(Object.defineProperty({__proto__:null,AmsConfiguration:FJ,AmsTags:eL},Symbol.toStringTag,{value:"Module"}));MathJax.loader&&MathJax.loader.checkVersion("[tex]/ams",ks,"tex-extension");va({_:{input:{tex:{ams:{AmsConfiguration:UJ,AmsItems:RJ,AmsMethods:OJ}}}}});const Ji={};Ji[Wt.Variant.NORMAL]=Wt.Variant.BOLD;Ji[Wt.Variant.ITALIC]=Wt.Variant.BOLDITALIC;Ji[Wt.Variant.FRAKTUR]=Wt.Variant.BOLDFRAKTUR;Ji[Wt.Variant.SCRIPT]=Wt.Variant.BOLDSCRIPT;Ji[Wt.Variant.SANSSERIF]=Wt.Variant.BOLDSANSSERIF;Ji["-tex-calligraphic"]="-tex-bold-calligraphic";Ji["-tex-oldstyle"]="-tex-bold-oldstyle";Ji["-tex-mathit"]=Wt.Variant.BOLDITALIC;const rL={Boldsymbol(e,t){const r=e.stack.env.boldsymbol;e.stack.env.boldsymbol=!0;const n=e.ParseArg(t);e.stack.env.boldsymbol=r,e.Push(n)}};new Ss("boldsymbol",{boldsymbol:rL.Boldsymbol});function nL(e,t,r,n){const i=Xs.createToken(e,t,r,n);return t!=="mtext"&&e.configuration.parser.stack.env.boldsymbol&&(ft.setProperty(i,"fixBold",!0),e.configuration.addNode("fixBold",i)),i}function iL(e){for(const t of e.data.getList("fixBold"))if(ft.getProperty(t,"fixBold")){const r=ft.getAttribute(t,"mathvariant");ft.setAttribute(t,"mathvariant",Ji[r]||r),ft.removeProperties(t,"fixBold")}}const HJ=Mn.create("boldsymbol",{[ye.HANDLER]:{[le.MACRO]:["boldsymbol"]},[ye.NODES]:{token:nL},[ye.POSTPROCESSORS]:[iL]}),$J=Object.freeze(Object.defineProperty({__proto__:null,BoldsymbolConfiguration:HJ,BoldsymbolMethods:rL,createBoldToken:nL,rewriteBoldTokens:iL},Symbol.toStringTag,{value:"Module"}));MathJax.loader&&MathJax.loader.checkVersion("[tex]/boldsymbol",ks,"tex-extension");va({_:{input:{tex:{boldsymbol:{BoldsymbolConfiguration:$J}}}}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/newcommand",ks,"tex-extension");va({_:{input:{tex:{newcommand:{NewcommandConfiguration:MJ,NewcommandItems:PJ,NewcommandMethods:DJ,NewcommandUtil:NJ}}}}});class ko extends Xe{get texParser(){return this.configuration.packageData.get("textmacros").texParser}get tags(){return this.texParser.tags}constructor(t,r,n,i){super(t,r,n),this.level=i}mml(){return this.copyLists(),this.configuration.popParser(),this.level!=null?this.create("node","mstyle",this.nodes,{displaystyle:!1,scriptlevel:this.level}):this.nodes.length===1?this.nodes[0]:this.create("node","mrow",this.nodes)}copyLists(){const t=this.texParser.configuration;for(const[r,n]of Object.entries(this.configuration.nodeLists))for(const i of n)t.addNode(r,i);this.configuration.nodeLists={}}Parse(){this.text="",this.nodes=[],this.envStack=[],super.Parse()}saveText(){if(this.text){const t=this.stack.env.mathvariant,r=jt.internalText(this,this.text,t?{mathvariant:t}:{});this.text="",this.Push(r)}}Push(t){if(this.text&&this.saveText(),t instanceof mu)return super.Push(t);if(t instanceof gu){this.stack.env.mathcolor=this.stack.env.color;return}t instanceof ae&&(this.addAttributes(t),this.nodes.push(t))}PushMath(t){const r=this.stack.env;for(const n of["mathsize","mathcolor"])r[n]&&!t.attributes.hasExplicit(n)&&(!t.isToken&&!t.isKind("mstyle")&&(t=this.create("node","mstyle",[t])),ft.setAttribute(t,n,r[n]));t.isInferred&&(t=this.create("node","mrow",t.childNodes)),t.isKind("TeXAtom")||(t=this.create("node","TeXAtom",[t])),this.nodes.push(t)}addAttributes(t){const r=this.stack.env;if(t.isToken)for(const n of["mathsize","mathcolor","mathvariant"])r[n]&&!t.attributes.hasExplicit(n)&&ft.setAttribute(t,n,r[n])}ParseTextArg(t,r){const n=this.GetArgument(t);return r=Object.assign(Object.assign({},this.stack.env),r),new ko(n,r,this.configuration).mml()}ParseArg(t){return new ko(this.GetArgument(t),this.stack.env,this.configuration).mml()}Error(t,r,...n){throw new Ot(t,r,...n)}}const zJ=Object.freeze(Object.defineProperty({__proto__:null,TextParser:ko},Symbol.toStringTag,{value:"Module"})),It={Comment(e,t){for(;e.i<e.string.length&&e.string.charAt(e.i)!==`
`;)e.i++;e.i++},Math(e,t){e.saveText();const r=e.i;let n,i,s=0;for(;i=e.GetNext();)switch(n=e.i++,i){case"\\":e.GetCS()===")"&&(i="\\(");case"$":if(s===0&&t===i){const a=e.texParser.configuration,o=new Xe(e.string.substring(r,n),e.stack.env,a).mml();e.PushMath(o);return}break;case"{":s++;break;case"}":s===0&&e.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace"),s--;break}e.Error("MathNotTerminated","Math mode is not properly terminated")},MathModeOnly(e,t){e.Error("MathModeOnly","'%1' allowed only in math mode",t)},Misplaced(e,t){e.Error("Misplaced","Misplaced '%1'",t)},OpenBrace(e,t){const r=e.stack.env;e.envStack.push(r),e.stack.env=Object.assign({},r)},CloseBrace(e,t){e.envStack.length?(e.saveText(),e.stack.env=e.envStack.pop()):e.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace")},OpenQuote(e,t){e.string.charAt(e.i)===t?(e.text+="â",e.i++):e.text+="â"},CloseQuote(e,t){e.string.charAt(e.i)===t?(e.text+="â",e.i++):e.text+="â"},Tilde(e,t){e.text+="Â "},Space(e,t){e.text+=" ",e.GetNext()},SelfQuote(e,t){e.text+=t.substring(1)},Insert(e,t,r){e.text+=r},Accent(e,t,r){const n=e.ParseArg(t),i=e.create("token","mo",{},r);e.addAttributes(i),e.Push(e.create("node","mover",[n,i]))},Emph(e,t){const r=e.stack.env.mathvariant==="-tex-mathit"?"normal":"-tex-mathit";e.Push(e.ParseTextArg(t,{mathvariant:r}))},TextFont(e,t,r){e.saveText(),e.Push(e.ParseTextArg(t,{mathvariant:r}))},SetFont(e,t,r){e.saveText(),e.stack.env.mathvariant=r},SetSize(e,t,r){e.saveText(),e.stack.env.mathsize=r},CheckAutoload(e,t){const r=e.configuration.packageData.get("autoload"),n=e.texParser;t=t.slice(1);const i=n.lookup(le.MACRO,t);if(!i||r&&i._func===r.Autoload){if(n.parse(le.MACRO,[n,t]),!i)return;D1(Promise.resolve())}n.parse(le.MACRO,[e,t])},Macro:rt.Macro,Spacer:rt.Spacer,Hskip:rt.Hskip,rule:rt.rule,Rule:rt.Rule,HandleRef:rt.HandleRef,UnderOver:rt.UnderOver,Lap:rt.Lap,Phantom:rt.Phantom,Smash:rt.Smash,MmlToken:rt.MmlToken},jJ=Object.freeze(Object.defineProperty({__proto__:null,TextMacrosMethods:It},Symbol.toStringTag,{value:"Module"})),Li=Wt.Variant;new Ju("text-special",{$:It.Math,"%":It.Comment,"^":It.MathModeOnly,_:It.MathModeOnly,"&":It.Misplaced,"#":It.Misplaced,"~":It.Tilde," ":It.Space,"	":It.Space,"\r":It.Space,"\n":It.Space,"Â ":It.Tilde,"{":It.OpenBrace,"}":It.CloseBrace,"`":It.OpenQuote,"'":It.CloseQuote});new Ss("text-macros",{"(":It.Math,$:It.SelfQuote,_:It.SelfQuote,"%":It.SelfQuote,"{":It.SelfQuote,"}":It.SelfQuote," ":It.SelfQuote,"&":It.SelfQuote,"#":It.SelfQuote,"\\":[It.Macro,"$\\\\$"],"'":[It.Accent,"Â´"],"â":[It.Accent,"Â´"],"`":[It.Accent,"`"],"â":[It.Accent,"`"],"^":[It.Accent,"^"],'"':[It.Accent,"Â¨"],"~":[It.Accent,"~"],"=":[It.Accent,"Â¯"],".":[It.Accent,"Ë"],u:[It.Accent,"Ë"],v:[It.Accent,"Ë"],emph:It.Emph,rm:[It.SetFont,Li.NORMAL],mit:[It.SetFont,Li.ITALIC],oldstyle:[It.SetFont,Li.OLDSTYLE],cal:[It.SetFont,Li.CALLIGRAPHIC],it:[It.SetFont,"-tex-mathit"],bf:[It.SetFont,Li.BOLD],sf:[It.SetFont,Li.SANSSERIF],tt:[It.SetFont,Li.MONOSPACE],frak:[It.TextFont,Li.FRAKTUR],Bbb:[It.TextFont,Li.DOUBLESTRUCK],tiny:[It.SetSize,.5],Tiny:[It.SetSize,.6],scriptsize:[It.SetSize,.7],small:[It.SetSize,.85],normalsize:[It.SetSize,1],large:[It.SetSize,1.2],Large:[It.SetSize,1.44],LARGE:[It.SetSize,1.73],huge:[It.SetSize,2.07],Huge:[It.SetSize,2.49],textnormal:[It.Macro,"{\\rm #1}",1],textup:[It.Macro,"{\\rm #1}",1],textrm:[It.Macro,"{\\rm #1}",1],textit:[It.Macro,"{\\it #1}",1],textbf:[It.Macro,"{\\bf #1}",1],textsf:[It.Macro,"{\\sf #1}",1],texttt:[It.Macro,"{\\tt #1}",1],dagger:[It.Insert,"â "],ddagger:[It.Insert,"â¡"],S:[It.Insert,"Â§"],AA:[It.Insert,"â«"],ldots:[It.Insert,"â¦"],vdots:[It.Insert,"â®"],",":[It.Spacer,fr.thinmathspace],":":[It.Spacer,fr.mediummathspace],">":[It.Spacer,fr.mediummathspace],";":[It.Spacer,fr.thickmathspace],"!":[It.Spacer,fr.negativethinmathspace],enspace:[It.Spacer,.5],quad:[It.Spacer,1],qquad:[It.Spacer,2],thinspace:[It.Spacer,fr.thinmathspace],negthinspace:[It.Spacer,fr.negativethinmathspace],hskip:It.Hskip,hspace:It.Hskip,kern:It.Hskip,mskip:It.Hskip,mspace:It.Hskip,mkern:It.Hskip,rule:It.rule,Rule:[It.Rule],Space:[It.Rule,"blank"],color:It.CheckAutoload,textcolor:It.CheckAutoload,colorbox:It.CheckAutoload,fcolorbox:It.CheckAutoload,href:It.CheckAutoload,style:It.CheckAutoload,class:It.CheckAutoload,data:It.CheckAutoload,cssId:It.CheckAutoload,unicode:It.CheckAutoload,U:It.CheckAutoload,char:It.CheckAutoload,ref:[It.HandleRef,!1],eqref:[It.HandleRef,!0],underline:[It.UnderOver,"2015"],llap:It.Lap,rlap:It.Lap,phantom:It.Phantom,vphantom:[It.Phantom,1,0],hphantom:[It.Phantom,0,1],smash:It.Smash,mmlToken:It.MmlToken});const WJ=Mn.create("text-base",{[ye.PARSER]:"text",[ye.PRIORITY]:1,[ye.HANDLER]:{[le.CHARACTER]:["command","text-special"],[le.MACRO]:["text-macros"]},[ye.FALLBACK]:{[le.CHARACTER]:(e,t)=>{e.text+=t},[le.MACRO]:(e,t)=>{const r=e.texParser,n=r.lookup(le.MACRO,t);n&&n._func!==It.Macro&&e.Error("MathMacro","%1 is only supported in math mode","\\"+t),r.parse(le.MACRO,[e,t])}},[ye.ITEMS]:{[sd.prototype.kind]:sd,[mu.prototype.kind]:mu,[ad.prototype.kind]:ad,[gu.prototype.kind]:gu}});function qJ(e,t,r,n){const i=e.configuration.packageData.get("textmacros");return e instanceof ko||(i.texParser=e),i.parseOptions.clear(),[new ko(t,n?{mathvariant:n}:{},i.parseOptions,r).mml()]}const GJ=Mn.create("textmacros",{[ye.PRIORITY]:1,[ye.CONFIG]:(e,t)=>{const r=new GI(t.parseOptions.options.textmacros.packages,["tex","text"]);r.init();const n=new To(r,[]);n.options=t.parseOptions.options,r.config(t),Fi.addTags(r.tags),n.tags=Fi.getDefault(),n.tags.configuration=n,n.packageData=t.parseOptions.packageData,n.packageData.set("textmacros",{textConf:r,parseOptions:n,jax:t,texParser:null}),n.options.internalMath=qJ},[ye.PREPROCESSORS]:[e=>{const t=e.data.packageData.get("textmacros");t.parseOptions.nodeFactory.setMmlFactory(t.jax.mmlFactory)}],[ye.OPTIONS]:{textmacros:{packages:["text-base"]}}}),VJ=Object.freeze(Object.defineProperty({__proto__:null,TextBaseConfiguration:WJ,TextMacrosConfiguration:GJ},Symbol.toStringTag,{value:"Module"}));MathJax.loader&&MathJax.loader.checkVersion("[tex]/textmacros",ks,"tex-extension");va({_:{input:{tex:{textmacros:{TextMacrosConfiguration:VJ,TextMacrosMethods:jJ,TextParser:zJ}}}}});const Ma={},Ug={Unicode(e,t){const r=e.GetBrackets(t);let n=null,i="";if(r&&(r.replace(/ /g,"").match(/^(\d+(\.\d*)?|\.\d+),(\d+(\.\d*)?|\.\d+)$/)?(n=r.replace(/ /g,"").split(/,/),i=e.GetBrackets(t)||""):i=r),i.match(/;/))throw new Ot("BadFont","Font name for %1 can't contain semicolons",e.currentCS);const s=Ce.trimSpaces(e.GetArgument(t)).replace(/^0x/,"x");if(!s.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/))throw new Ot("BadUnicode","Argument to %1 must be a number",e.currentCS);const a=parseInt(s.match(/^x/)?"0"+s:s);Ma[a]?i||(i=Ma[a][2]):Ma[a]=[800,200,i,a],n&&(Ma[a][0]=Math.floor(parseFloat(n[0])*1e3),Ma[a][1]=Math.floor(parseFloat(n[1])*1e3));const o=e.stack.env.font,l={};i?(Ma[a][2]=l.fontfamily=i.replace(/'/g,"'"),o&&(o.match(/bold/)&&(l.fontweight="bold"),o.match(/italic|-mathit/)&&(l.fontstyle="italic"))):o&&(l.mathvariant=o);const u=e.create("token","mtext",l,zI(s));ft.setProperty(u,"unicode",!0),e.Push(u)},RawUnicode(e,t){const r=e.GetArgument(t).trim();if(!r.match(/^[0-9A-F]{1,6}$/))throw new Ot("BadRawUnicode","Argument to %1 must a hexadecimal number with 1 to 6 digits",e.currentCS);const n=parseInt(r,16);e.string=String.fromCodePoint(n)+e.string.substring(e.i),e.i=0},Char(e,t){let r;const n=e.GetNext();let i="";const s=e.string.substring(e.i);if(n==="'")r=s.match(/^'([0-7]{1,7}) ?/u),r&&(i=String.fromCodePoint(parseInt(r[1],8)));else if(n==='"')r=s.match(/^"([0-9A-F]{1,6}) ?/),r&&(i=String.fromCodePoint(parseInt(r[1],16)));else if(n==="`"){if(r=s.match(/^`(?:(\\\S)|(.))/u),r)if(r[2])i=r[2];else{e.i+=2;const a=[...e.GetCS()];if(a.length>1)throw new Ot("InvalidAlphanumeric","Invalid alphanumeric constant for %1",e.currentCS);i=a[0],r=[""]}}else r=s.match(/^([0-9]{1,7}) ?/),r&&(i=String.fromCodePoint(parseInt(r[1])));if(!i)throw new Ot("MissingNumber","Missing numeric constant for %1",e.currentCS);e.i+=r[0].length,i>="0"&&i<="9"?e.Push(e.create("token","mn",{},i)):i.match(/[A-Za-z]/)?e.Push(e.create("token","mi",{},i)):VI(e,i)}};new Ss("unicode",{unicode:Ug.Unicode,U:Ug.RawUnicode,char:Ug.Char});const YJ=Mn.create("unicode",{[ye.HANDLER]:{[le.MACRO]:["unicode"]}}),XJ=Object.freeze(Object.defineProperty({__proto__:null,UnicodeConfiguration:YJ},Symbol.toStringTag,{value:"Module"}));MathJax.loader&&MathJax.loader.checkVersion("[tex]/unicode",ks,"tex-extension");va({_:{input:{tex:{unicode:{UnicodeConfiguration:XJ}}}}});class KJ extends $t{}class ZJ extends vt{constructor(t,r,n){if(super(t),n){const i={};for(const[s,a]of Object.entries(n))s.startsWith("m:")&&(i[s]=a);this.root.push(new KJ(i))}r.length&&this.root.push(...r)}}const QJ=e=>"#text"in e,sL=e=>{const t=e[":@"];let r="",n;for(const i of Object.keys(e))if(i!==":@"){r=i,n=e[i];break}if(r.startsWith("m:")){const i=[];for(const s of n??[])if(QJ(s)){const a=s["#text"];i.push(String(a))}else{const a=sL(s);a&&i.push(a)}return new ZJ(r,i,t)}return null},JJ=()=>{vJ(fJ());const e=["[tex]/noerrors","[tex]/ams","[tex]/newcommand","[tex]/boldsymbol","[tex]/textmacros","[tex]/unicode"],t=["base"].concat(e.map(o=>o.slice(6)));Vr.preLoaded(...e);const r=new aa({packages:t}),n=B1.document("",{InputJax:r}),i=new JQ,s=new iQ({ignoreAttributes:!1,preserveOrder:!0,attributeNamePrefix:""}),a=o=>{const l=n.convert(o,{end:fe.CONVERT}),u=i.visitTree(l),c=pZ(u),h=s.parse(c);return sL(h[0])};return async()=>({math:({value:o})=>{const l=a(o);return l?new Tn({children:[l]}):null},inlineMath:({value:o})=>a(o)})};var VT={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},bh={exports:{}},ttt=bh.exports,YT;function ett(){return YT||(YT=1,function(e,t){(function(r,n){e.exports=n()})(ttt,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",u="day",c="week",h="month",f="quarter",d="year",p="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var $=["th","st","nd","rd"],X=w%100;return"["+w+($[(X-20)%10]||$[X]||$[0])+"]"}},_=function(w,$,X){var j=String(w);return!j||j.length>=$?w:""+Array($+1-j.length).join(X)+w},T={s:_,z:function(w){var $=-w.utcOffset(),X=Math.abs($),j=Math.floor(X/60),nt=X%60;return($<=0?"+":"-")+_(j,2,"0")+":"+_(nt,2,"0")},m:function w($,X){if($.date()<X.date())return-w(X,$);var j=12*(X.year()-$.year())+(X.month()-$.month()),nt=$.clone().add(j,h),J=X-nt<0,G=$.clone().add(j+(J?-1:1),h);return+(-(j+(X-nt)/(J?nt-G:G-nt))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:h,y:d,w:c,d:u,D:p,h:l,m:o,s:a,ms:s,Q:f}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},C="en",L={};L[C]=b;var N="$isDayjsObject",z=function(w){return w instanceof S||!(!w||!w[N])},R=function w($,X,j){var nt;if(!$)return C;if(typeof $=="string"){var J=$.toLowerCase();L[J]&&(nt=J),X&&(L[J]=X,nt=J);var G=$.split("-");if(!nt&&G.length>1)return w(G[0])}else{var W=$.name;L[W]=$,nt=W}return!j&&nt&&(C=nt),nt||!j&&C},H=function(w,$){if(z(w))return w.clone();var X=typeof $=="object"?$:{};return X.date=w,X.args=arguments,new S(X)},K=T;K.l=R,K.i=z,K.w=function(w,$){return H(w,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var S=function(){function w(X){this.$L=R(X.locale,null,!0),this.parse(X),this.$x=this.$x||X.x||{},this[N]=!0}var $=w.prototype;return $.parse=function(X){this.$d=function(j){var nt=j.date,J=j.utc;if(nt===null)return new Date(NaN);if(K.u(nt))return new Date;if(nt instanceof Date)return new Date(nt);if(typeof nt=="string"&&!/Z$/i.test(nt)){var G=nt.match(y);if(G){var W=G[2]-1||0,B=(G[7]||"0").substring(0,3);return J?new Date(Date.UTC(G[1],W,G[3]||1,G[4]||0,G[5]||0,G[6]||0,B)):new Date(G[1],W,G[3]||1,G[4]||0,G[5]||0,G[6]||0,B)}}return new Date(nt)}(X),this.init()},$.init=function(){var X=this.$d;this.$y=X.getFullYear(),this.$M=X.getMonth(),this.$D=X.getDate(),this.$W=X.getDay(),this.$H=X.getHours(),this.$m=X.getMinutes(),this.$s=X.getSeconds(),this.$ms=X.getMilliseconds()},$.$utils=function(){return K},$.isValid=function(){return this.$d.toString()!==g},$.isSame=function(X,j){var nt=H(X);return this.startOf(j)<=nt&&nt<=this.endOf(j)},$.isAfter=function(X,j){return H(X)<this.startOf(j)},$.isBefore=function(X,j){return this.endOf(j)<H(X)},$.$g=function(X,j,nt){return K.u(X)?this[j]:this.set(nt,X)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(X,j){var nt=this,J=!!K.u(j)||j,G=K.p(X),W=function(at,Q){var Y=K.w(nt.$u?Date.UTC(nt.$y,Q,at):new Date(nt.$y,Q,at),nt);return J?Y:Y.endOf(u)},B=function(at,Q){return K.w(nt.toDate()[at].apply(nt.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(Q)),nt)},F=this.$W,it=this.$M,lt=this.$D,ut="set"+(this.$u?"UTC":"");switch(G){case d:return J?W(1,0):W(31,11);case h:return J?W(1,it):W(0,it+1);case c:var M=this.$locale().weekStart||0,D=(F<M?F+7:F)-M;return W(J?lt-D:lt+(6-D),it);case u:case p:return B(ut+"Hours",0);case l:return B(ut+"Minutes",1);case o:return B(ut+"Seconds",2);case a:return B(ut+"Milliseconds",3);default:return this.clone()}},$.endOf=function(X){return this.startOf(X,!1)},$.$set=function(X,j){var nt,J=K.p(X),G="set"+(this.$u?"UTC":""),W=(nt={},nt[u]=G+"Date",nt[p]=G+"Date",nt[h]=G+"Month",nt[d]=G+"FullYear",nt[l]=G+"Hours",nt[o]=G+"Minutes",nt[a]=G+"Seconds",nt[s]=G+"Milliseconds",nt)[J],B=J===u?this.$D+(j-this.$W):j;if(J===h||J===d){var F=this.clone().set(p,1);F.$d[W](B),F.init(),this.$d=F.set(p,Math.min(this.$D,F.daysInMonth())).$d}else W&&this.$d[W](B);return this.init(),this},$.set=function(X,j){return this.clone().$set(X,j)},$.get=function(X){return this[K.p(X)]()},$.add=function(X,j){var nt,J=this;X=Number(X);var G=K.p(j),W=function(it){var lt=H(J);return K.w(lt.date(lt.date()+Math.round(it*X)),J)};if(G===h)return this.set(h,this.$M+X);if(G===d)return this.set(d,this.$y+X);if(G===u)return W(1);if(G===c)return W(7);var B=(nt={},nt[o]=n,nt[l]=i,nt[a]=r,nt)[G]||1,F=this.$d.getTime()+X*B;return K.w(F,this)},$.subtract=function(X,j){return this.add(-1*X,j)},$.format=function(X){var j=this,nt=this.$locale();if(!this.isValid())return nt.invalidDate||g;var J=X||"YYYY-MM-DDTHH:mm:ssZ",G=K.z(this),W=this.$H,B=this.$m,F=this.$M,it=nt.weekdays,lt=nt.months,ut=nt.meridiem,M=function(Q,Y,Z,_t){return Q&&(Q[Y]||Q(j,J))||Z[Y].slice(0,_t)},D=function(Q){return K.s(W%12||12,Q,"0")},at=ut||function(Q,Y,Z){var _t=Q<12?"AM":"PM";return Z?_t.toLowerCase():_t};return J.replace(m,function(Q,Y){return Y||function(Z){switch(Z){case"YY":return String(j.$y).slice(-2);case"YYYY":return K.s(j.$y,4,"0");case"M":return F+1;case"MM":return K.s(F+1,2,"0");case"MMM":return M(nt.monthsShort,F,lt,3);case"MMMM":return M(lt,F);case"D":return j.$D;case"DD":return K.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return M(nt.weekdaysMin,j.$W,it,2);case"ddd":return M(nt.weekdaysShort,j.$W,it,3);case"dddd":return it[j.$W];case"H":return String(W);case"HH":return K.s(W,2,"0");case"h":return D(1);case"hh":return D(2);case"a":return at(W,B,!0);case"A":return at(W,B,!1);case"m":return String(B);case"mm":return K.s(B,2,"0");case"s":return String(j.$s);case"ss":return K.s(j.$s,2,"0");case"SSS":return K.s(j.$ms,3,"0");case"Z":return G}return null}(Q)||G.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(X,j,nt){var J,G=this,W=K.p(j),B=H(X),F=(B.utcOffset()-this.utcOffset())*n,it=this-B,lt=function(){return K.m(G,B)};switch(W){case d:J=lt()/12;break;case h:J=lt();break;case f:J=lt()/3;break;case c:J=(it-F)/6048e5;break;case u:J=(it-F)/864e5;break;case l:J=it/i;break;case o:J=it/n;break;case a:J=it/r;break;default:J=it}return nt?J:K.a(J)},$.daysInMonth=function(){return this.endOf(h).$D},$.$locale=function(){return L[this.$L]},$.locale=function(X,j){if(!X)return this.$L;var nt=this.clone(),J=R(X,j,!0);return J&&(nt.$L=J),nt},$.clone=function(){return K.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},w}(),U=S.prototype;return H.prototype=U,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",u],["$M",h],["$y",d],["$D",p]].forEach(function(w){U[w[1]]=function($){return this.$g($,w[0],w[1])}}),H.extend=function(w,$){return w.$i||(w($,S,H),w.$i=!0),H},H.locale=R,H.isDayjs=z,H.unix=function(w){return H(1e3*w)},H.en=L[C],H.Ls=L,H.p={},H})}(bh)),bh.exports}var rtt=ett();const ntt=Ou(rtt);var aL=Object.defineProperty,P=(e,t)=>aL(e,"name",{value:t,configurable:!0}),itt=(e,t)=>{for(var r in t)aL(e,r,{get:t[r],enumerable:!0})},Ri={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Lt={trace:P((...e)=>{},"trace"),debug:P((...e)=>{},"debug"),info:P((...e)=>{},"info"),warn:P((...e)=>{},"warn"),error:P((...e)=>{},"error"),fatal:P((...e)=>{},"fatal")},X1=P(function(e="fatal"){let t=Ri.fatal;typeof e=="string"?e.toLowerCase()in Ri&&(t=Ri[e]):typeof e=="number"&&(t=e),Lt.trace=()=>{},Lt.debug=()=>{},Lt.info=()=>{},Lt.warn=()=>{},Lt.error=()=>{},Lt.fatal=()=>{},t<=Ri.fatal&&(Lt.fatal=console.error?console.error.bind(console,Sn("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Sn("FATAL"))),t<=Ri.error&&(Lt.error=console.error?console.error.bind(console,Sn("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Sn("ERROR"))),t<=Ri.warn&&(Lt.warn=console.warn?console.warn.bind(console,Sn("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Sn("WARN"))),t<=Ri.info&&(Lt.info=console.info?console.info.bind(console,Sn("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Sn("INFO"))),t<=Ri.debug&&(Lt.debug=console.debug?console.debug.bind(console,Sn("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Sn("DEBUG"))),t<=Ri.trace&&(Lt.trace=console.debug?console.debug.bind(console,Sn("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Sn("TRACE")))},"setLogLevel"),Sn=P(e=>`%c${ntt().format("ss.SSS")} : ${e} : `,"format");const yh={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return yh.hue2rgb(s,i,e+1/3)*255;case"g":return yh.hue2rgb(s,i,e)*255;case"b":return yh.hue2rgb(s,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),s=Math.min(e,t,r),a=(i+s)/2;if(n==="l")return a*100;if(i===s)return 0;const o=i-s,l=a>.5?o/(2-i-s):o/(i+s);if(n==="s")return l*100;switch(i){case e:return((t-r)/o+(t<r?6:0))*60;case t:return((r-e)/o+2)*60;case r:return((e-t)/o+4)*60;default:return-1}}},stt={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},att={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},se={channel:yh,lang:stt,unit:att},as={};for(let e=0;e<=255;e++)as[e]=se.unit.dec2hex(e);const Or={ALL:0,RGB:1,HSL:2};class ott{constructor(){this.type=Or.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Or.ALL}is(t){return this.type===t}}class ltt{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new ott}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=Or.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=se.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=se.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=se.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=se.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=se.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=se.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(Or.HSL)&&r!==void 0?r:(this._ensureHSL(),se.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(Or.HSL)&&r!==void 0?r:(this._ensureHSL(),se.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(Or.HSL)&&r!==void 0?r:(this._ensureHSL(),se.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(Or.RGB)&&r!==void 0?r:(this._ensureRGB(),se.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(Or.RGB)&&r!==void 0?r:(this._ensureRGB(),se.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(Or.RGB)&&r!==void 0?r:(this._ensureRGB(),se.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Or.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Or.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Or.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Or.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Or.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Or.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const If=new ltt({r:0,g:0,b:0,a:0},"transparent"),no={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(no.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,a=i>4,o=a?1:17,l=a?8:4,u=s?0:-1,c=a?255:15;return If.set({r:(n>>l*(u+3)&c)*o,g:(n>>l*(u+2)&c)*o,b:(n>>l*(u+1)&c)*o,a:s?(n&c)*o/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${as[Math.round(t)]}${as[Math.round(r)]}${as[Math.round(n)]}${as[Math.round(i*255)]}`:`#${as[Math.round(t)]}${as[Math.round(r)]}${as[Math.round(n)]}`}},Ks={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Ks.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return se.channel.clamp.h(parseFloat(r)*.9);case"rad":return se.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return se.channel.clamp.h(parseFloat(r)*360)}}return se.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(Ks.re);if(!r)return;const[,n,i,s,a,o]=r;return If.set({h:Ks._hue2deg(n),s:se.channel.clamp.s(parseFloat(i)),l:se.channel.clamp.l(parseFloat(s)),a:a?se.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${se.lang.round(t)}, ${se.lang.round(r)}%, ${se.lang.round(n)}%, ${i})`:`hsl(${se.lang.round(t)}, ${se.lang.round(r)}%, ${se.lang.round(n)}%)`}},Jl={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Jl.colors[e];if(t)return no.parse(t)},stringify:e=>{const t=no.stringify(e);for(const r in Jl.colors)if(Jl.colors[r]===t)return r}},Ll={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(Ll.re);if(!r)return;const[,n,i,s,a,o,l,u,c]=r;return If.set({r:se.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:se.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:se.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:u?se.channel.clamp.a(c?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${se.lang.round(t)}, ${se.lang.round(r)}, ${se.lang.round(n)}, ${se.lang.round(i)})`:`rgb(${se.lang.round(t)}, ${se.lang.round(r)}, ${se.lang.round(n)})`}},wi={format:{keyword:Jl,hex:no,rgb:Ll,rgba:Ll,hsl:Ks,hsla:Ks},parse:e=>{if(typeof e!="string")return e;const t=no.parse(e)||Ll.parse(e)||Ks.parse(e)||Jl.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Or.HSL)||e.data.r===void 0?Ks.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Ll.stringify(e):no.stringify(e)},oL=(e,t)=>{const r=wi.parse(e);for(const n in t)r[n]=se.channel.clamp[n](t[n]);return wi.stringify(r)},tu=(e,t,r=0,n=1)=>{if(typeof e!="number")return oL(e,{a:t});const i=If.set({r:se.channel.clamp.r(e),g:se.channel.clamp.g(t),b:se.channel.clamp.b(r),a:se.channel.clamp.a(n)});return wi.stringify(i)},utt=e=>{const{r:t,g:r,b:n}=wi.parse(e),i=.2126*se.channel.toLinear(t)+.7152*se.channel.toLinear(r)+.0722*se.channel.toLinear(n);return se.lang.round(i)},ctt=e=>utt(e)>=.5,rc=e=>!ctt(e),lL=(e,t,r)=>{const n=wi.parse(e),i=n[t],s=se.channel.clamp[t](i+r);return i!==s&&(n[t]=s),wi.stringify(n)},qt=(e,t)=>lL(e,"l",t),ee=(e,t)=>lL(e,"l",-t),xt=(e,t)=>{const r=wi.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return oL(e,n)},htt=(e,t,r=50)=>{const{r:n,g:i,b:s,a}=wi.parse(e),{r:o,g:l,b:u,a:c}=wi.parse(t),h=r/100,f=h*2-1,d=a-c,g=((f*d===-1?f:(f+d)/(1+f*d))+1)/2,y=1-g,m=n*g+o*y,b=i*g+l*y,_=s*g+u*y,T=a*h+c*(1-h);return tu(m,b,_,T)},Ft=(e,t=100)=>{const r=wi.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,htt(r,e,t)};const{entries:uL,setPrototypeOf:XT,isFrozen:dtt,getPrototypeOf:ftt,getOwnPropertyDescriptor:ptt}=Object;let{freeze:Qr,seal:Fn,create:$b}=Object,{apply:zb,construct:jb}=typeof Reflect<"u"&&Reflect;Qr||(Qr=function(t){return t});Fn||(Fn=function(t){return t});zb||(zb=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return t.apply(r,i)});jb||(jb=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});const qc=Jr(Array.prototype.forEach),mtt=Jr(Array.prototype.lastIndexOf),KT=Jr(Array.prototype.pop),pl=Jr(Array.prototype.push),gtt=Jr(Array.prototype.splice),_h=Jr(String.prototype.toLowerCase),Hg=Jr(String.prototype.toString),$g=Jr(String.prototype.match),ml=Jr(String.prototype.replace),btt=Jr(String.prototype.indexOf),ytt=Jr(String.prototype.trim),zn=Jr(Object.prototype.hasOwnProperty),Wr=Jr(RegExp.prototype.test),gl=_tt(TypeError);function Jr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return zb(e,t,n)}}function _tt(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jb(e,r)}}function ge(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_h;XT&&XT(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=r(i);s!==i&&(dtt(t)||(t[n]=s),i=s)}e[i]=!0}return e}function Ett(e){for(let t=0;t<e.length;t++)zn(e,t)||(e[t]=null);return e}function ci(e){const t=$b(null);for(const[r,n]of uL(e))zn(e,r)&&(Array.isArray(n)?t[r]=Ett(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=ci(n):t[r]=n);return t}function bl(e,t){for(;e!==null;){const n=ptt(e,t);if(n){if(n.get)return Jr(n.get);if(typeof n.value=="function")return Jr(n.value)}e=ftt(e)}function r(){return null}return r}const ZT=Qr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zg=Qr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),jg=Qr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wtt=Qr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wg=Qr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),xtt=Qr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),QT=Qr(["#text"]),JT=Qr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qg=Qr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tv=Qr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gc=Qr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ttt=Fn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vtt=Fn(/<%[\w\W]*|[\w\W]*%>/gm),Att=Fn(/\$\{[\w\W]*/gm),Ctt=Fn(/^data-[\-\w.\u00B7-\uFFFF]+$/),ktt=Fn(/^aria-[\-\w]+$/),cL=Fn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Stt=Fn(/^(?:\w+script|data):/i),Itt=Fn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hL=Fn(/^html$/i),Ltt=Fn(/^[a-z][.\w]*(-[.\w]+)+$/i);var ev=Object.freeze({__proto__:null,ARIA_ATTR:ktt,ATTR_WHITESPACE:Itt,CUSTOM_ELEMENT:Ltt,DATA_ATTR:Ctt,DOCTYPE_NAME:hL,ERB_EXPR:vtt,IS_ALLOWED_URI:cL,IS_SCRIPT_OR_DATA:Stt,MUSTACHE_EXPR:Ttt,TMPLIT_EXPR:Att});const yl={element:1,text:3,progressingInstruction:7,comment:8,document:9},Rtt=function(){return typeof window>"u"?null:window},Ntt=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},rv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function dL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rtt();const t=te=>dL(te);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==yl.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=e,p=l.prototype,g=bl(p,"cloneNode"),y=bl(p,"remove"),m=bl(p,"nextSibling"),b=bl(p,"childNodes"),_=bl(p,"parentNode");if(typeof a=="function"){const te=r.createElement("template");te.content&&te.content.ownerDocument&&(r=te.content.ownerDocument)}let T,C="";const{implementation:L,createNodeIterator:N,createDocumentFragment:z,getElementsByTagName:R}=r,{importNode:H}=n;let K=rv();t.isSupported=typeof uL=="function"&&typeof _=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:S,ERB_EXPR:U,TMPLIT_EXPR:w,DATA_ATTR:$,ARIA_ATTR:X,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:nt,CUSTOM_ELEMENT:J}=ev;let{IS_ALLOWED_URI:G}=ev,W=null;const B=ge({},[...ZT,...zg,...jg,...Wg,...QT]);let F=null;const it=ge({},[...JT,...qg,...tv,...Gc]);let lt=Object.seal($b(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ut=null,M=null;const D=Object.seal($b(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let at=!0,Q=!0,Y=!1,Z=!0,_t=!1,A=!0,ot=!1,O=!1,x=!1,v=!1,I=!1,V=!1,tt=!0,q=!1;const pt="user-content-";let Et=!0,gt=!1,ht={},wt=null;const St=ge({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zt=null;const oe=ge({},["audio","video","img","source","image","track"]);let Ee=null;const Ve=ge({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qt="http://www.w3.org/1998/Math/MathML",er="http://www.w3.org/2000/svg",qe="http://www.w3.org/1999/xhtml";let he=qe,Lr=!1,Ar=null;const Xo=ge({},[Qt,er,qe],Hg);let es=ge({},["mi","mo","mn","ms","mtext"]),ri=ge({},["annotation-xml"]);const _n=ge({},["title","style","font","a","script"]);let jr=null;const M6=["application/xhtml+xml","text/html"],F6="text/html";let lr=null,Ra=null;const U6=r.createElement("form"),t_=function(bt){return bt instanceof RegExp||bt instanceof Function},rp=function(){let bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ra&&Ra===bt)){if((!bt||typeof bt!="object")&&(bt={}),bt=ci(bt),jr=M6.indexOf(bt.PARSER_MEDIA_TYPE)===-1?F6:bt.PARSER_MEDIA_TYPE,lr=jr==="application/xhtml+xml"?Hg:_h,W=zn(bt,"ALLOWED_TAGS")?ge({},bt.ALLOWED_TAGS,lr):B,F=zn(bt,"ALLOWED_ATTR")?ge({},bt.ALLOWED_ATTR,lr):it,Ar=zn(bt,"ALLOWED_NAMESPACES")?ge({},bt.ALLOWED_NAMESPACES,Hg):Xo,Ee=zn(bt,"ADD_URI_SAFE_ATTR")?ge(ci(Ve),bt.ADD_URI_SAFE_ATTR,lr):Ve,zt=zn(bt,"ADD_DATA_URI_TAGS")?ge(ci(oe),bt.ADD_DATA_URI_TAGS,lr):oe,wt=zn(bt,"FORBID_CONTENTS")?ge({},bt.FORBID_CONTENTS,lr):St,ut=zn(bt,"FORBID_TAGS")?ge({},bt.FORBID_TAGS,lr):ci({}),M=zn(bt,"FORBID_ATTR")?ge({},bt.FORBID_ATTR,lr):ci({}),ht=zn(bt,"USE_PROFILES")?bt.USE_PROFILES:!1,at=bt.ALLOW_ARIA_ATTR!==!1,Q=bt.ALLOW_DATA_ATTR!==!1,Y=bt.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=bt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_t=bt.SAFE_FOR_TEMPLATES||!1,A=bt.SAFE_FOR_XML!==!1,ot=bt.WHOLE_DOCUMENT||!1,v=bt.RETURN_DOM||!1,I=bt.RETURN_DOM_FRAGMENT||!1,V=bt.RETURN_TRUSTED_TYPE||!1,x=bt.FORCE_BODY||!1,tt=bt.SANITIZE_DOM!==!1,q=bt.SANITIZE_NAMED_PROPS||!1,Et=bt.KEEP_CONTENT!==!1,gt=bt.IN_PLACE||!1,G=bt.ALLOWED_URI_REGEXP||cL,he=bt.NAMESPACE||qe,es=bt.MATHML_TEXT_INTEGRATION_POINTS||es,ri=bt.HTML_INTEGRATION_POINTS||ri,lt=bt.CUSTOM_ELEMENT_HANDLING||{},bt.CUSTOM_ELEMENT_HANDLING&&t_(bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(lt.tagNameCheck=bt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),bt.CUSTOM_ELEMENT_HANDLING&&t_(bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(lt.attributeNameCheck=bt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),bt.CUSTOM_ELEMENT_HANDLING&&typeof bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(lt.allowCustomizedBuiltInElements=bt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_t&&(Q=!1),I&&(v=!0),ht&&(W=ge({},QT),F=[],ht.html===!0&&(ge(W,ZT),ge(F,JT)),ht.svg===!0&&(ge(W,zg),ge(F,qg),ge(F,Gc)),ht.svgFilters===!0&&(ge(W,jg),ge(F,qg),ge(F,Gc)),ht.mathMl===!0&&(ge(W,Wg),ge(F,tv),ge(F,Gc))),bt.ADD_TAGS&&(typeof bt.ADD_TAGS=="function"?D.tagCheck=bt.ADD_TAGS:(W===B&&(W=ci(W)),ge(W,bt.ADD_TAGS,lr))),bt.ADD_ATTR&&(typeof bt.ADD_ATTR=="function"?D.attributeCheck=bt.ADD_ATTR:(F===it&&(F=ci(F)),ge(F,bt.ADD_ATTR,lr))),bt.ADD_URI_SAFE_ATTR&&ge(Ee,bt.ADD_URI_SAFE_ATTR,lr),bt.FORBID_CONTENTS&&(wt===St&&(wt=ci(wt)),ge(wt,bt.FORBID_CONTENTS,lr)),bt.ADD_FORBID_CONTENTS&&(wt===St&&(wt=ci(wt)),ge(wt,bt.ADD_FORBID_CONTENTS,lr)),Et&&(W["#text"]=!0),ot&&ge(W,["html","head","body"]),W.table&&(ge(W,["tbody"]),delete ut.tbody),bt.TRUSTED_TYPES_POLICY){if(typeof bt.TRUSTED_TYPES_POLICY.createHTML!="function")throw gl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof bt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=bt.TRUSTED_TYPES_POLICY,C=T.createHTML("")}else T===void 0&&(T=Ntt(d,i)),T!==null&&typeof C=="string"&&(C=T.createHTML(""));Qr&&Qr(bt),Ra=bt}},e_=ge({},[...zg,...jg,...wtt]),r_=ge({},[...Wg,...xtt]),H6=function(bt){let Bt=_(bt);(!Bt||!Bt.tagName)&&(Bt={namespaceURI:he,tagName:"template"});const Kt=_h(bt.tagName),ze=_h(Bt.tagName);return Ar[bt.namespaceURI]?bt.namespaceURI===er?Bt.namespaceURI===qe?Kt==="svg":Bt.namespaceURI===Qt?Kt==="svg"&&(ze==="annotation-xml"||es[ze]):!!e_[Kt]:bt.namespaceURI===Qt?Bt.namespaceURI===qe?Kt==="math":Bt.namespaceURI===er?Kt==="math"&&ri[ze]:!!r_[Kt]:bt.namespaceURI===qe?Bt.namespaceURI===er&&!ri[ze]||Bt.namespaceURI===Qt&&!es[ze]?!1:!r_[Kt]&&(_n[Kt]||!e_[Kt]):!!(jr==="application/xhtml+xml"&&Ar[bt.namespaceURI]):!1},ni=function(bt){pl(t.removed,{element:bt});try{_(bt).removeChild(bt)}catch{y(bt)}},Os=function(bt,Bt){try{pl(t.removed,{attribute:Bt.getAttributeNode(bt),from:Bt})}catch{pl(t.removed,{attribute:null,from:Bt})}if(Bt.removeAttribute(bt),bt==="is")if(v||I)try{ni(Bt)}catch{}else try{Bt.setAttribute(bt,"")}catch{}},n_=function(bt){let Bt=null,Kt=null;if(x)bt="<remove></remove>"+bt;else{const rr=$g(bt,/^[\r\n\t ]+/);Kt=rr&&rr[0]}jr==="application/xhtml+xml"&&he===qe&&(bt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+bt+"</body></html>");const ze=T?T.createHTML(bt):bt;if(he===qe)try{Bt=new f().parseFromString(ze,jr)}catch{}if(!Bt||!Bt.documentElement){Bt=L.createDocument(he,"template",null);try{Bt.documentElement.innerHTML=Lr?C:ze}catch{}}const Rr=Bt.body||Bt.documentElement;return bt&&Kt&&Rr.insertBefore(r.createTextNode(Kt),Rr.childNodes[0]||null),he===qe?R.call(Bt,ot?"html":"body")[0]:ot?Bt.documentElement:Rr},i_=function(bt){return N.call(bt.ownerDocument||bt,bt,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},np=function(bt){return bt instanceof h&&(typeof bt.nodeName!="string"||typeof bt.textContent!="string"||typeof bt.removeChild!="function"||!(bt.attributes instanceof c)||typeof bt.removeAttribute!="function"||typeof bt.setAttribute!="function"||typeof bt.namespaceURI!="string"||typeof bt.insertBefore!="function"||typeof bt.hasChildNodes!="function")},s_=function(bt){return typeof o=="function"&&bt instanceof o};function ki(te,bt,Bt){qc(te,Kt=>{Kt.call(t,bt,Bt,Ra)})}const a_=function(bt){let Bt=null;if(ki(K.beforeSanitizeElements,bt,null),np(bt))return ni(bt),!0;const Kt=lr(bt.nodeName);if(ki(K.uponSanitizeElement,bt,{tagName:Kt,allowedTags:W}),A&&bt.hasChildNodes()&&!s_(bt.firstElementChild)&&Wr(/<[/\w!]/g,bt.innerHTML)&&Wr(/<[/\w!]/g,bt.textContent)||bt.nodeType===yl.progressingInstruction||A&&bt.nodeType===yl.comment&&Wr(/<[/\w]/g,bt.data))return ni(bt),!0;if(!(D.tagCheck instanceof Function&&D.tagCheck(Kt))&&(!W[Kt]||ut[Kt])){if(!ut[Kt]&&l_(Kt)&&(lt.tagNameCheck instanceof RegExp&&Wr(lt.tagNameCheck,Kt)||lt.tagNameCheck instanceof Function&&lt.tagNameCheck(Kt)))return!1;if(Et&&!wt[Kt]){const ze=_(bt)||bt.parentNode,Rr=b(bt)||bt.childNodes;if(Rr&&ze){const rr=Rr.length;for(let nn=rr-1;nn>=0;--nn){const Si=g(Rr[nn],!0);Si.__removalCount=(bt.__removalCount||0)+1,ze.insertBefore(Si,m(bt))}}}return ni(bt),!0}return bt instanceof l&&!H6(bt)||(Kt==="noscript"||Kt==="noembed"||Kt==="noframes")&&Wr(/<\/no(script|embed|frames)/i,bt.innerHTML)?(ni(bt),!0):(_t&&bt.nodeType===yl.text&&(Bt=bt.textContent,qc([S,U,w],ze=>{Bt=ml(Bt,ze," ")}),bt.textContent!==Bt&&(pl(t.removed,{element:bt.cloneNode()}),bt.textContent=Bt)),ki(K.afterSanitizeElements,bt,null),!1)},o_=function(bt,Bt,Kt){if(tt&&(Bt==="id"||Bt==="name")&&(Kt in r||Kt in U6))return!1;if(!(Q&&!M[Bt]&&Wr($,Bt))){if(!(at&&Wr(X,Bt))){if(!(D.attributeCheck instanceof Function&&D.attributeCheck(Bt,bt))){if(!F[Bt]||M[Bt]){if(!(l_(bt)&&(lt.tagNameCheck instanceof RegExp&&Wr(lt.tagNameCheck,bt)||lt.tagNameCheck instanceof Function&&lt.tagNameCheck(bt))&&(lt.attributeNameCheck instanceof RegExp&&Wr(lt.attributeNameCheck,Bt)||lt.attributeNameCheck instanceof Function&&lt.attributeNameCheck(Bt,bt))||Bt==="is"&&lt.allowCustomizedBuiltInElements&&(lt.tagNameCheck instanceof RegExp&&Wr(lt.tagNameCheck,Kt)||lt.tagNameCheck instanceof Function&&lt.tagNameCheck(Kt))))return!1}else if(!Ee[Bt]){if(!Wr(G,ml(Kt,nt,""))){if(!((Bt==="src"||Bt==="xlink:href"||Bt==="href")&&bt!=="script"&&btt(Kt,"data:")===0&&zt[bt])){if(!(Y&&!Wr(j,ml(Kt,nt,"")))){if(Kt)return!1}}}}}}}return!0},l_=function(bt){return bt!=="annotation-xml"&&$g(bt,J)},u_=function(bt){ki(K.beforeSanitizeAttributes,bt,null);const{attributes:Bt}=bt;if(!Bt||np(bt))return;const Kt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let ze=Bt.length;for(;ze--;){const Rr=Bt[ze],{name:rr,namespaceURI:nn,value:Si}=Rr,Na=lr(rr),ip=Si;let Cr=rr==="value"?ip:ytt(ip);if(Kt.attrName=Na,Kt.attrValue=Cr,Kt.keepAttr=!0,Kt.forceKeepAttr=void 0,ki(K.uponSanitizeAttribute,bt,Kt),Cr=Kt.attrValue,q&&(Na==="id"||Na==="name")&&(Os(rr,bt),Cr=pt+Cr),A&&Wr(/((--!?|])>)|<\/(style|title|textarea)/i,Cr)){Os(rr,bt);continue}if(Na==="attributename"&&$g(Cr,"href")){Os(rr,bt);continue}if(Kt.forceKeepAttr)continue;if(!Kt.keepAttr){Os(rr,bt);continue}if(!Z&&Wr(/\/>/i,Cr)){Os(rr,bt);continue}_t&&qc([S,U,w],h_=>{Cr=ml(Cr,h_," ")});const c_=lr(bt.nodeName);if(!o_(c_,Na,Cr)){Os(rr,bt);continue}if(T&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!nn)switch(d.getAttributeType(c_,Na)){case"TrustedHTML":{Cr=T.createHTML(Cr);break}case"TrustedScriptURL":{Cr=T.createScriptURL(Cr);break}}if(Cr!==ip)try{nn?bt.setAttributeNS(nn,rr,Cr):bt.setAttribute(rr,Cr),np(bt)?ni(bt):KT(t.removed)}catch{Os(rr,bt)}}ki(K.afterSanitizeAttributes,bt,null)},$6=function te(bt){let Bt=null;const Kt=i_(bt);for(ki(K.beforeSanitizeShadowDOM,bt,null);Bt=Kt.nextNode();)ki(K.uponSanitizeShadowNode,Bt,null),a_(Bt),u_(Bt),Bt.content instanceof s&&te(Bt.content);ki(K.afterSanitizeShadowDOM,bt,null)};return t.sanitize=function(te){let bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Bt=null,Kt=null,ze=null,Rr=null;if(Lr=!te,Lr&&(te="<!-->"),typeof te!="string"&&!s_(te))if(typeof te.toString=="function"){if(te=te.toString(),typeof te!="string")throw gl("dirty is not a string, aborting")}else throw gl("toString is not a function");if(!t.isSupported)return te;if(O||rp(bt),t.removed=[],typeof te=="string"&&(gt=!1),gt){if(te.nodeName){const Si=lr(te.nodeName);if(!W[Si]||ut[Si])throw gl("root node is forbidden and cannot be sanitized in-place")}}else if(te instanceof o)Bt=n_("<!---->"),Kt=Bt.ownerDocument.importNode(te,!0),Kt.nodeType===yl.element&&Kt.nodeName==="BODY"||Kt.nodeName==="HTML"?Bt=Kt:Bt.appendChild(Kt);else{if(!v&&!_t&&!ot&&te.indexOf("<")===-1)return T&&V?T.createHTML(te):te;if(Bt=n_(te),!Bt)return v?null:V?C:""}Bt&&x&&ni(Bt.firstChild);const rr=i_(gt?te:Bt);for(;ze=rr.nextNode();)a_(ze),u_(ze),ze.content instanceof s&&$6(ze.content);if(gt)return te;if(v){if(I)for(Rr=z.call(Bt.ownerDocument);Bt.firstChild;)Rr.appendChild(Bt.firstChild);else Rr=Bt;return(F.shadowroot||F.shadowrootmode)&&(Rr=H.call(n,Rr,!0)),Rr}let nn=ot?Bt.outerHTML:Bt.innerHTML;return ot&&W["!doctype"]&&Bt.ownerDocument&&Bt.ownerDocument.doctype&&Bt.ownerDocument.doctype.name&&Wr(hL,Bt.ownerDocument.doctype.name)&&(nn="<!DOCTYPE "+Bt.ownerDocument.doctype.name+`>
`+nn),_t&&qc([S,U,w],Si=>{nn=ml(nn,Si," ")}),T&&V?T.createHTML(nn):nn},t.setConfig=function(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rp(te),O=!0},t.clearConfig=function(){Ra=null,O=!1},t.isValidAttribute=function(te,bt,Bt){Ra||rp({});const Kt=lr(te),ze=lr(bt);return o_(Kt,ze,Bt)},t.addHook=function(te,bt){typeof bt=="function"&&pl(K[te],bt)},t.removeHook=function(te,bt){if(bt!==void 0){const Bt=mtt(K[te],bt);return Bt===-1?void 0:gtt(K[te],Bt,1)[0]}return KT(K[te])},t.removeHooks=function(te){K[te]=[]},t.removeAllHooks=function(){K=rv()},t}var So=dL(),fL=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,eu=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Ott=/\s*%%.*\n/gm,ao,pL=(ao=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},P(ao,"UnknownDiagramError"),ao),da={},K1=P(function(e,t){e=e.replace(fL,"").replace(eu,"").replace(Ott,`
`);for(const[r,{detector:n}]of Object.entries(da))if(n(e,t))return r;throw new pL(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Wb=P((...e)=>{for(const{id:t,detector:r,loader:n}of e)mL(t,r,n)},"registerLazyLoadedDiagrams"),mL=P((e,t,r)=>{da[e]&&Lt.warn(`Detector with key ${e} already exists. Overwriting.`),da[e]={detector:t,loader:r},Lt.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),Ptt=P(e=>da[e].loader,"getDiagramLoader"),qb=P((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>qb(e,s,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=qb(e[s],t[s],{depth:r-1,clobber:n})):(n||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),pr=qb,Lf="#ffffff",Rf="#f2f2f2",Xr=P((e,t)=>t?xt(e,{s:-40,l:10}):xt(e,{s:-40,l:-10}),"mkBorder"),oo,Dtt=(oo=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||xt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||xt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Xr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Xr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Xr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Xr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ft(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ft(this.tertiaryColor),this.lineColor=this.lineColor||Ft(this.background),this.arrowheadColor=this.arrowheadColor||Ft(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?ee(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||ee(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ft(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||qt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||ee(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ee(this.mainBkg,10)):(this.rowOdd=this.rowOdd||qt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||qt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||xt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||xt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||xt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||xt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||xt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||xt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||xt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||xt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||xt(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=ee(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=ee(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||Ft(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||qt(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||ee(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||xt(this.mainBkg,{h:180,s:-15,l:t*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||xt(this.mainBkg,{h:180,s:-15,l:t*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||xt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||xt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||xt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||xt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||xt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||xt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||xt(this.primaryColor,{l:-10}),this.pie5=this.pie5||xt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||xt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||xt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||xt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||xt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||xt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||xt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||xt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||rc(this.quadrant1Fill)?qt(this.quadrant1Fill):ee(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ee(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||xt(this.primaryColor,{h:-30}),this.git4=this.git4||xt(this.primaryColor,{h:-60}),this.git5=this.git5||xt(this.primaryColor,{h:-90}),this.git6=this.git6||xt(this.primaryColor,{h:60}),this.git7=this.git7||xt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qt(this.git0,25),this.git1=qt(this.git1,25),this.git2=qt(this.git2,25),this.git3=qt(this.git3,25),this.git4=qt(this.git4,25),this.git5=qt(this.git5,25),this.git6=qt(this.git6,25),this.git7=qt(this.git7,25)):(this.git0=ee(this.git0,25),this.git1=ee(this.git1,25),this.git2=ee(this.git2,25),this.git3=ee(this.git3,25),this.git4=ee(this.git4,25),this.git5=ee(this.git5,25),this.git6=ee(this.git6,25),this.git7=ee(this.git7,25)),this.gitInv0=this.gitInv0||Ft(this.git0),this.gitInv1=this.gitInv1||Ft(this.git1),this.gitInv2=this.gitInv2||Ft(this.git2),this.gitInv3=this.gitInv3||Ft(this.git3),this.gitInv4=this.gitInv4||Ft(this.git4),this.gitInv5=this.gitInv5||Ft(this.git5),this.gitInv6=this.gitInv6||Ft(this.git6),this.gitInv7=this.gitInv7||Ft(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Lf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Rf}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},P(oo,"Theme"),oo),Btt=P(e=>{const t=new Dtt;return t.calculate(e),t},"getThemeVariables"),lo,Mtt=(lo=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=qt(this.primaryColor,16),this.tertiaryColor=xt(this.primaryColor,{h:-160}),this.primaryBorderColor=Ft(this.background),this.secondaryBorderColor=Xr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Xr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ft(this.primaryColor),this.secondaryTextColor=Ft(this.secondaryColor),this.tertiaryTextColor=Ft(this.tertiaryColor),this.lineColor=Ft(this.background),this.textColor=Ft(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=qt(Ft("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=tu(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=ee("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=ee(this.sectionBkgColor,10),this.taskBorderColor=tu(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=tu(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||qt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ee(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=qt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=qt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=qt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=xt(this.primaryColor,{h:64}),this.fillType3=xt(this.secondaryColor,{h:64}),this.fillType4=xt(this.primaryColor,{h:-64}),this.fillType5=xt(this.secondaryColor,{h:-64}),this.fillType6=xt(this.primaryColor,{h:128}),this.fillType7=xt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||xt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||xt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||xt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||xt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||xt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||xt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||xt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||xt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||xt(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ft(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||qt(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||xt(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||xt(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||rc(this.quadrant1Fill)?qt(this.quadrant1Fill):ee(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ee(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=qt(this.secondaryColor,20),this.git1=qt(this.pie2||this.secondaryColor,20),this.git2=qt(this.pie3||this.tertiaryColor,20),this.git3=qt(this.pie4||xt(this.primaryColor,{h:-30}),20),this.git4=qt(this.pie5||xt(this.primaryColor,{h:-60}),20),this.git5=qt(this.pie6||xt(this.primaryColor,{h:-90}),10),this.git6=qt(this.pie7||xt(this.primaryColor,{h:60}),10),this.git7=qt(this.pie8||xt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ft(this.git0),this.gitInv1=this.gitInv1||Ft(this.git1),this.gitInv2=this.gitInv2||Ft(this.git2),this.gitInv3=this.gitInv3||Ft(this.git3),this.gitInv4=this.gitInv4||Ft(this.git4),this.gitInv5=this.gitInv5||Ft(this.git5),this.gitInv6=this.gitInv6||Ft(this.git6),this.gitInv7=this.gitInv7||Ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||qt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},P(lo,"Theme"),lo),Ftt=P(e=>{const t=new Mtt;return t.calculate(e),t},"getThemeVariables"),uo,Utt=(uo=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=xt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=xt(this.primaryColor,{h:-160}),this.primaryBorderColor=Xr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Xr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Xr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ft(this.primaryColor),this.secondaryTextColor=Ft(this.secondaryColor),this.tertiaryTextColor=Ft(this.tertiaryColor),this.lineColor=Ft(this.background),this.textColor=Ft(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=tu(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||xt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||xt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||xt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||xt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||xt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||xt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||xt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||xt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||xt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ee(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ee(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=ee(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||ee(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||xt(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||xt(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||xt(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ft(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ft(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=qt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||qt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||qt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=xt(this.primaryColor,{h:64}),this.fillType3=xt(this.secondaryColor,{h:64}),this.fillType4=xt(this.primaryColor,{h:-64}),this.fillType5=xt(this.secondaryColor,{h:-64}),this.fillType6=xt(this.primaryColor,{h:128}),this.fillType7=xt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||xt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||xt(this.primaryColor,{l:-10}),this.pie5=this.pie5||xt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||xt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||xt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||xt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||xt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||xt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||xt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||xt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||rc(this.quadrant1Fill)?qt(this.quadrant1Fill):ee(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||xt(this.primaryColor,{h:-30}),this.git4=this.git4||xt(this.primaryColor,{h:-60}),this.git5=this.git5||xt(this.primaryColor,{h:-90}),this.git6=this.git6||xt(this.primaryColor,{h:60}),this.git7=this.git7||xt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qt(this.git0,25),this.git1=qt(this.git1,25),this.git2=qt(this.git2,25),this.git3=qt(this.git3,25),this.git4=qt(this.git4,25),this.git5=qt(this.git5,25),this.git6=qt(this.git6,25),this.git7=qt(this.git7,25)):(this.git0=ee(this.git0,25),this.git1=ee(this.git1,25),this.git2=ee(this.git2,25),this.git3=ee(this.git3,25),this.git4=ee(this.git4,25),this.git5=ee(this.git5,25),this.git6=ee(this.git6,25),this.git7=ee(this.git7,25)),this.gitInv0=this.gitInv0||ee(Ft(this.git0),25),this.gitInv1=this.gitInv1||Ft(this.git1),this.gitInv2=this.gitInv2||Ft(this.git2),this.gitInv3=this.gitInv3||Ft(this.git3),this.gitInv4=this.gitInv4||Ft(this.git4),this.gitInv5=this.gitInv5||Ft(this.git5),this.gitInv6=this.gitInv6||Ft(this.git6),this.gitInv7=this.gitInv7||Ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Lf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Rf}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},P(uo,"Theme"),uo),Htt=P(e=>{const t=new Utt;return t.calculate(e),t},"getThemeVariables"),co,$tt=(co=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=qt("#cde498",10),this.primaryBorderColor=Xr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Xr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Xr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ft(this.primaryColor),this.secondaryTextColor=Ft(this.secondaryColor),this.tertiaryTextColor=Ft(this.primaryColor),this.lineColor=Ft(this.background),this.textColor=Ft(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=ee(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||xt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||xt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||xt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||xt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||xt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||xt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||xt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||xt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||xt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ee(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ee(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=ee(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||ee(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||xt(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||xt(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||xt(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||qt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||qt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=xt(this.primaryColor,{h:64}),this.fillType3=xt(this.secondaryColor,{h:64}),this.fillType4=xt(this.primaryColor,{h:-64}),this.fillType5=xt(this.secondaryColor,{h:-64}),this.fillType6=xt(this.primaryColor,{h:128}),this.fillType7=xt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||xt(this.primaryColor,{l:-30}),this.pie5=this.pie5||xt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||xt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||xt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||xt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||xt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||xt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||xt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||xt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||rc(this.quadrant1Fill)?qt(this.quadrant1Fill):ee(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||xt(this.primaryColor,{h:-30}),this.git4=this.git4||xt(this.primaryColor,{h:-60}),this.git5=this.git5||xt(this.primaryColor,{h:-90}),this.git6=this.git6||xt(this.primaryColor,{h:60}),this.git7=this.git7||xt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qt(this.git0,25),this.git1=qt(this.git1,25),this.git2=qt(this.git2,25),this.git3=qt(this.git3,25),this.git4=qt(this.git4,25),this.git5=qt(this.git5,25),this.git6=qt(this.git6,25),this.git7=qt(this.git7,25)):(this.git0=ee(this.git0,25),this.git1=ee(this.git1,25),this.git2=ee(this.git2,25),this.git3=ee(this.git3,25),this.git4=ee(this.git4,25),this.git5=ee(this.git5,25),this.git6=ee(this.git6,25),this.git7=ee(this.git7,25)),this.gitInv0=this.gitInv0||Ft(this.git0),this.gitInv1=this.gitInv1||Ft(this.git1),this.gitInv2=this.gitInv2||Ft(this.git2),this.gitInv3=this.gitInv3||Ft(this.git3),this.gitInv4=this.gitInv4||Ft(this.git4),this.gitInv5=this.gitInv5||Ft(this.git5),this.gitInv6=this.gitInv6||Ft(this.git6),this.gitInv7=this.gitInv7||Ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Lf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Rf}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},P(co,"Theme"),co),ztt=P(e=>{const t=new $tt;return t.calculate(e),t},"getThemeVariables"),ho,jtt=(ho=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=qt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=xt(this.primaryColor,{h:-160}),this.primaryBorderColor=Xr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Xr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Xr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ft(this.primaryColor),this.secondaryTextColor=Ft(this.secondaryColor),this.tertiaryTextColor=Ft(this.tertiaryColor),this.lineColor=Ft(this.background),this.textColor=Ft(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||qt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=qt(this.contrast,55),this.border2=this.contrast,this.actorBorder=qt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Ft(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||qt(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||ee(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||xt(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||xt(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=qt(this.contrast,30),this.sectionBkgColor2=qt(this.contrast,30),this.taskBorderColor=ee(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=qt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=ee(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=xt(this.primaryColor,{h:64}),this.fillType3=xt(this.secondaryColor,{h:64}),this.fillType4=xt(this.primaryColor,{h:-64}),this.fillType5=xt(this.secondaryColor,{h:-64}),this.fillType6=xt(this.primaryColor,{h:128}),this.fillType7=xt(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||rc(this.quadrant1Fill)?qt(this.quadrant1Fill):ee(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ee(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||xt(this.primaryColor,{h:-30}),this.git4=this.pie5||xt(this.primaryColor,{h:-60}),this.git5=this.pie6||xt(this.primaryColor,{h:-90}),this.git6=this.pie7||xt(this.primaryColor,{h:60}),this.git7=this.pie8||xt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ft(this.git0),this.gitInv1=this.gitInv1||Ft(this.git1),this.gitInv2=this.gitInv2||Ft(this.git2),this.gitInv3=this.gitInv3||Ft(this.git3),this.gitInv4=this.gitInv4||Ft(this.git4),this.gitInv5=this.gitInv5||Ft(this.git5),this.gitInv6=this.gitInv6||Ft(this.git6),this.gitInv7=this.gitInv7||Ft(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Lf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Rf}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},P(ho,"Theme"),ho),Wtt=P(e=>{const t=new jtt;return t.calculate(e),t},"getThemeVariables"),Hi={base:{getThemeVariables:Btt},dark:{getThemeVariables:Ftt},default:{getThemeVariables:Htt},forest:{getThemeVariables:ztt},neutral:{getThemeVariables:Wtt}},ai={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},gL={...ai,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Hi.default.getThemeVariables(),sequence:{...ai.sequence,messageFont:P(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:P(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:P(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...ai.gantt,tickInterval:void 0,useWidth:void 0},c4:{...ai.c4,useWidth:void 0,personFont:P(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...ai.flowchart,inheritDir:!1},external_personFont:P(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:P(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:P(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:P(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:P(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:P(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:P(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:P(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:P(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:P(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:P(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:P(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:P(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:P(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:P(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:P(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:P(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:P(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:P(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:P(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:P(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...ai.pie,useWidth:984},xyChart:{...ai.xyChart,useWidth:void 0},requirement:{...ai.requirement,useWidth:void 0},packet:{...ai.packet},radar:{...ai.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},bL=P((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...bL(e[n],"")]:[...r,t+n],[]),"keyify"),qtt=new Set(bL(gL,"")),yL=gL,fd=P(e=>{if(Lt.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>fd(t));return}for(const t of Object.keys(e)){if(Lt.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!qtt.has(t)||e[t]==null){Lt.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){Lt.debug("sanitizing object",t),fd(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(Lt.debug("sanitizing css option",t),e[t]=Gtt(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}Lt.debug("After sanitization",e)}},"sanitizeDirective"),Gtt=P(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),Io=Object.freeze(yL),un=pr({},Io),pd,fa=[],ru=pr({},Io),Nf=P((e,t)=>{let r=pr({},e),n={};for(const i of t)wL(i),n=pr(n,i);if(r=pr(r,n),n.theme&&n.theme in Hi){const i=pr({},pd),s=pr(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Hi&&(r.themeVariables=Hi[r.theme].getThemeVariables(s))}return ru=r,xL(ru),ru},"updateCurrentConfig"),Vtt=P(e=>(un=pr({},Io),un=pr(un,e),e.theme&&Hi[e.theme]&&(un.themeVariables=Hi[e.theme].getThemeVariables(e.themeVariables)),Nf(un,fa),un),"setSiteConfig"),Ytt=P(e=>{pd=pr({},e)},"saveConfigFromInitialize"),Xtt=P(e=>(un=pr(un,e),Nf(un,fa),un),"updateSiteConfig"),_L=P(()=>pr({},un),"getSiteConfig"),EL=P(e=>(xL(e),pr(ru,e),Mr()),"setConfig"),Mr=P(()=>pr({},ru),"getConfig"),wL=P(e=>{e&&(["secure",...un.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(Lt.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&wL(e[t])}))},"sanitize"),Ktt=P(e=>{fd(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),fa.push(e),Nf(un,fa)},"addDirective"),md=P((e=un)=>{fa=[],Nf(e,fa)},"reset"),Ztt={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},nv={},Qtt=P(e=>{nv[e]||(Lt.warn(Ztt[e]),nv[e]=!0)},"issueWarning"),xL=P(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&Qtt("LAZY_LOAD_DEPRECATED")},"checkConfig"),e0t=P(()=>{let e={};pd&&(e=pr(e,pd));for(const t of fa)e=pr(e,t);return e},"getUserDefinedConfig"),nc=/<br\s*\/?>/gi,Jtt=P(e=>e?AL(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),tet=(()=>{let e=!1;return()=>{e||(TL(),e=!0)}})();function TL(){const e="data-temp-href-target";So.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),So.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}P(TL,"setupDompurifyHooks");var vL=P(e=>(tet(),So.sanitize(e)),"removeScript"),iv=P((e,t)=>{if(t.flowchart?.htmlLabels!==!1){const r=t.securityLevel;r==="antiscript"||r==="strict"?e=vL(e):r!=="loose"&&(e=AL(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=iet(e))}return e},"sanitizeMore"),Un=P((e,t)=>e&&(t.dompurifyConfig?e=So.sanitize(iv(e,t),t.dompurifyConfig).toString():e=So.sanitize(iv(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),eet=P((e,t)=>typeof e=="string"?Un(e,t):e.flat().map(r=>Un(r,t)),"sanitizeTextOrArray"),ret=P(e=>nc.test(e),"hasBreaks"),net=P(e=>e.split(nc),"splitBreaks"),iet=P(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),AL=P(e=>e.replace(nc,"#br#"),"breakToPlaceholder"),set=P(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),gr=P(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),aet=P(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),oet=P(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),sv=P(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const s=t[n-1],a=t[n+1];uet(s,a)&&(i=s+","+a,n++,r.pop())}r.push(cet(i))}return r.join("")},"parseGenericTypes"),Gb=P((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),uet=P((e,t)=>{const r=Gb(e,"~"),n=Gb(t,"~");return r===1&&n===1},"shouldCombineSets"),cet=P(e=>{const t=Gb(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),av=P(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Vb=/\$\$(.*)\$\$/g,Lo=P(e=>(e.match(Vb)?.length??0)>0,"hasKatex"),r0t=P(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await Z1(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),het=P(async(e,t)=>{if(!Lo(e))return e;if(!(av()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Vb,"MathML is unsupported in this environment.");{const{default:r}=await et(async()=>{const{default:i}=await import("./katex-qrhCpa0F.js");return{default:i}},[],import.meta.url),n=t.forceLegacyMathML||!av()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(nc).map(i=>Lo(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(Vb,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Z1=P(async(e,t)=>Un(await het(e,t),t),"renderKatexSanitized"),jo={getRows:Jtt,sanitizeText:Un,sanitizeTextOrArray:eet,hasBreaks:ret,splitBreaks:net,lineBreakRegex:nc,removeScript:vL,getUrl:set,evaluate:gr,getMax:aet,getMin:oet},det=P(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),fet=P(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),CL=P(function(e,t,r,n){const i=fet(t,r,n);det(e,i)},"configureSvgSize"),pet=P(function(e,t,r,n){const i=t.node().getBBox(),s=i.width,a=i.height;Lt.info(`SVG bounds: ${s}x${a}`,i);let o=0,l=0;Lt.info(`Graph bounds: ${o}x${l}`,e),o=s+r*2,l=a+r*2,Lt.info(`Calculated bounds: ${o}x${l}`),CL(t,l,o,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",u)},"setupGraphViewbox"),Eh={},met=P((e,t,r)=>{let n="";return e in Eh&&Eh[e]?n=Eh[e](r):Lt.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),get=P((e,t)=>{t!==void 0&&(Eh[e]=t)},"addStylesForDiagram"),bet=met,kL={};itt(kL,{clear:()=>yet,getAccDescription:()=>xet,getAccTitle:()=>Eet,getDiagramTitle:()=>vet,setAccDescription:()=>wet,setAccTitle:()=>_et,setDiagramTitle:()=>Tet});var Q1="",J1="",t2="",e2=P(e=>Un(e,Mr()),"sanitizeText"),yet=P(()=>{Q1="",t2="",J1=""},"clear"),_et=P(e=>{Q1=e2(e).replace(/^\s+/g,"")},"setAccTitle"),Eet=P(()=>Q1,"getAccTitle"),wet=P(e=>{t2=e2(e).replace(/\n\s+/g,`
`)},"setAccDescription"),xet=P(()=>t2,"getAccDescription"),Tet=P(e=>{J1=e2(e)},"setDiagramTitle"),vet=P(()=>J1,"getDiagramTitle"),ov=Lt,Aet=X1,Ie=Mr,n0t=EL,i0t=Io,r2=P(e=>Un(e,Ie()),"sanitizeText"),Cet=pet,ket=P(()=>kL,"getCommonDb"),gd={},bd=P((e,t,r)=>{gd[e]&&ov.warn(`Diagram with id ${e} already registered. Overwriting.`),gd[e]=t,r&&mL(e,r),get(e,t.styles),t.injectUtils?.(ov,Aet,Ie,r2,Cet,ket(),()=>{})},"registerDiagram"),Yb=P(e=>{if(e in gd)return gd[e];throw new Iet(e)},"getDiagram"),fo,Iet=(fo=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},P(fo,"DiagramNotFoundError"),fo),Let={value:()=>{}};function SL(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new wh(r)}function wh(e){this._=e}function Ret(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}wh.prototype=SL.prototype={constructor:wh,on:function(e,t){var r=this._,n=Ret(e+"",r),i,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((i=(e=n[s]).type)&&(i=Net(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=n[s]).type)r[i]=lv(r[i],e.name,t);else if(t==null)for(i in r)r[i]=lv(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new wh(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function Net(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function lv(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Let,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Xb="http://www.w3.org/1999/xhtml";const uv={svg:"http://www.w3.org/2000/svg",xhtml:Xb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Of(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),uv.hasOwnProperty(t)?{space:uv[t],local:e}:e}function Oet(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Xb&&t.documentElement.namespaceURI===Xb?t.createElement(e):t.createElementNS(r,e)}}function Pet(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function IL(e){var t=Of(e);return(t.local?Pet:Oet)(t)}function Det(){}function n2(e){return e==null?Det:function(){return this.querySelector(e)}}function Bet(e){typeof e!="function"&&(e=n2(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=new Array(a),l,u,c=0;c<a;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new vn(n,this._parents)}function Met(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Fet(){return[]}function LL(e){return e==null?Fet:function(){return this.querySelectorAll(e)}}function Uet(e){return function(){return Met(e.apply(this,arguments))}}function Het(e){typeof e=="function"?e=Uet(e):e=LL(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var a=t[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&(n.push(e.call(l,l.__data__,u,a)),i.push(l));return new vn(n,i)}function RL(e){return function(){return this.matches(e)}}function NL(e){return function(t){return t.matches(e)}}var $et=Array.prototype.find;function zet(e){return function(){return $et.call(this.children,e)}}function jet(){return this.firstElementChild}function Wet(e){return this.select(e==null?jet:zet(typeof e=="function"?e:NL(e)))}var qet=Array.prototype.filter;function Get(){return Array.from(this.children)}function Vet(e){return function(){return qet.call(this.children,e)}}function Yet(e){return this.selectAll(e==null?Get:Vet(typeof e=="function"?e:NL(e)))}function Xet(e){typeof e!="function"&&(e=RL(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,u=0;u<a;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new vn(n,this._parents)}function OL(e){return new Array(e.length)}function Ket(){return new vn(this._enter||this._groups.map(OL),this._parents)}function yd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}yd.prototype={constructor:yd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Zet(e){return function(){return e}}function Qet(e,t,r,n,i,s){for(var a=0,o,l=t.length,u=s.length;a<u;++a)(o=t[a])?(o.__data__=s[a],n[a]=o):r[a]=new yd(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function Jet(e,t,r,n,i,s,a){var o,l,u=new Map,c=t.length,h=s.length,f=new Array(c),d;for(o=0;o<c;++o)(l=t[o])&&(f[o]=d=a.call(l,l.__data__,o,t)+"",u.has(d)?i[o]=l:u.set(d,l));for(o=0;o<h;++o)d=a.call(e,s[o],o,s)+"",(l=u.get(d))?(n[o]=l,l.__data__=s[o],u.delete(d)):r[o]=new yd(e,s[o]);for(o=0;o<c;++o)(l=t[o])&&u.get(f[o])===l&&(i[o]=l)}function trt(e){return e.__data__}function ert(e,t){if(!arguments.length)return Array.from(this,trt);var r=t?Jet:Qet,n=this._parents,i=this._groups;typeof e!="function"&&(e=Zet(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var c=n[u],h=i[u],f=h.length,d=rrt(e.call(c,c&&c.__data__,u,n)),p=d.length,g=o[u]=new Array(p),y=a[u]=new Array(p),m=l[u]=new Array(f);r(c,h,g,y,m,d,t);for(var b=0,_=0,T,C;b<p;++b)if(T=g[b]){for(b>=_&&(_=b+1);!(C=y[_])&&++_<p;);T._next=C||null}}return a=new vn(a,n),a._enter=o,a._exit=l,a}function rrt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nrt(){return new vn(this._exit||this._groups.map(OL),this._parents)}function irt(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function srt(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var u=r[l],c=n[l],h=u.length,f=o[l]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;l<i;++l)o[l]=r[l];return new vn(o,this._parents)}function art(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],a;--i>=0;)(a=n[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function ort(e){e||(e=lrt);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var a=r[s],o=a.length,l=i[s]=new Array(o),u,c=0;c<o;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new vn(i,this._parents).order()}function lrt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function urt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function crt(){return Array.from(this)}function hrt(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}function drt(){let e=0;for(const t of this)++e;return e}function frt(){return!this.node()}function prt(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function mrt(e){return function(){this.removeAttribute(e)}}function grt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function brt(e,t){return function(){this.setAttribute(e,t)}}function yrt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _rt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Ert(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function wrt(e,t){var r=Of(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?grt:mrt:typeof t=="function"?r.local?Ert:_rt:r.local?yrt:brt)(r,t))}function PL(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xrt(e){return function(){this.style.removeProperty(e)}}function Trt(e,t,r){return function(){this.style.setProperty(e,t,r)}}function vrt(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Art(e,t,r){return arguments.length>1?this.each((t==null?xrt:typeof t=="function"?vrt:Trt)(e,t,r??"")):Ro(this.node(),e)}function Ro(e,t){return e.style.getPropertyValue(t)||PL(e).getComputedStyle(e,null).getPropertyValue(t)}function Crt(e){return function(){delete this[e]}}function krt(e,t){return function(){this[e]=t}}function Srt(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Irt(e,t){return arguments.length>1?this.each((t==null?Crt:typeof t=="function"?Srt:krt)(e,t)):this.node()[e]}function DL(e){return e.trim().split(/^|\s+/)}function i2(e){return e.classList||new BL(e)}function BL(e){this._node=e,this._names=DL(e.getAttribute("class")||"")}BL.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ML(e,t){for(var r=i2(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function FL(e,t){for(var r=i2(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Lrt(e){return function(){ML(this,e)}}function Rrt(e){return function(){FL(this,e)}}function Nrt(e,t){return function(){(t.apply(this,arguments)?ML:FL)(this,e)}}function Ort(e,t){var r=DL(e+"");if(arguments.length<2){for(var n=i2(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Nrt:t?Lrt:Rrt)(r,t))}function Prt(){this.textContent=""}function Drt(e){return function(){this.textContent=e}}function Brt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Mrt(e){return arguments.length?this.each(e==null?Prt:(typeof e=="function"?Brt:Drt)(e)):this.node().textContent}function Frt(){this.innerHTML=""}function Urt(e){return function(){this.innerHTML=e}}function Hrt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function $rt(e){return arguments.length?this.each(e==null?Frt:(typeof e=="function"?Hrt:Urt)(e)):this.node().innerHTML}function zrt(){this.nextSibling&&this.parentNode.appendChild(this)}function jrt(){return this.each(zrt)}function Wrt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qrt(){return this.each(Wrt)}function Grt(e){var t=typeof e=="function"?e:IL(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Vrt(){return null}function Yrt(e,t){var r=typeof e=="function"?e:IL(e),n=t==null?Vrt:typeof t=="function"?t:n2(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Xrt(){var e=this.parentNode;e&&e.removeChild(this)}function Krt(){return this.each(Xrt)}function Zrt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qrt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jrt(e){return this.select(e?Qrt:Zrt)}function tnt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ent(e){return function(t){e.call(this,t,this.__data__)}}function rnt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function nnt(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function int(e,t,r){return function(){var n=this.__on,i,s=ent(t);if(n){for(var a=0,o=n.length;a<o;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function snt(e,t,r){var n=rnt(e+""),i,s=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(i=0,c=o[l];i<s;++i)if((a=n[i]).type===c.type&&a.name===c.name)return c.value}return}for(o=t?int:nnt,i=0;i<s;++i)this.each(o(n[i],t,r));return this}function UL(e,t,r){var n=PL(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ant(e,t){return function(){return UL(this,e,t)}}function ont(e,t){return function(){return UL(this,e,t.apply(this,arguments))}}function lnt(e,t){return this.each((typeof t=="function"?ont:ant)(e,t))}function*unt(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,a;i<s;++i)(a=n[i])&&(yield a)}var HL=[null];function vn(e,t){this._groups=e,this._parents=t}function ic(){return new vn([[document.documentElement]],HL)}function cnt(){return this}vn.prototype=ic.prototype={constructor:vn,select:Bet,selectAll:Het,selectChild:Wet,selectChildren:Yet,filter:Xet,data:ert,enter:Ket,exit:nrt,join:irt,merge:srt,selection:cnt,order:art,sort:ort,call:urt,nodes:crt,node:hrt,size:drt,empty:frt,each:prt,attr:wrt,style:Art,property:Irt,classed:Ort,text:Mrt,html:$rt,raise:jrt,lower:qrt,append:Grt,insert:Yrt,remove:Krt,clone:Jrt,datum:tnt,on:snt,dispatch:lnt,[Symbol.iterator]:unt};function Ae(e){return typeof e=="string"?new vn([[document.querySelector(e)]],[document.documentElement]):new vn([[e]],HL)}function s2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $L(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sc(){}var Eu=.7,_d=1/Eu,io="\\s*([+-]?\\d+)\\s*",wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hnt=/^#([0-9a-f]{3,8})$/,dnt=new RegExp(`^rgb\\(${io},${io},${io}\\)$`),fnt=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),pnt=new RegExp(`^rgba\\(${io},${io},${io},${wu}\\)$`),mnt=new RegExp(`^rgba\\(${_i},${_i},${_i},${wu}\\)$`),gnt=new RegExp(`^hsl\\(${wu},${_i},${_i}\\)$`),bnt=new RegExp(`^hsla\\(${wu},${_i},${_i},${wu}\\)$`),cv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s2(sc,xu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hv,formatHex:hv,formatHex8:ynt,formatHsl:_nt,formatRgb:dv,toString:dv});function hv(){return this.rgb().formatHex()}function ynt(){return this.rgb().formatHex8()}function _nt(){return zL(this).formatHsl()}function dv(){return this.rgb().formatRgb()}function xu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hnt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fv(t):r===3?new gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dnt.exec(e))?new gn(t[1],t[2],t[3],1):(t=fnt.exec(e))?new gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pnt.exec(e))?Vc(t[1],t[2],t[3],t[4]):(t=mnt.exec(e))?Vc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gnt.exec(e))?gv(t[1],t[2]/100,t[3]/100,1):(t=bnt.exec(e))?gv(t[1],t[2]/100,t[3]/100,t[4]):cv.hasOwnProperty(e)?fv(cv[e]):e==="transparent"?new gn(NaN,NaN,NaN,0):null}function fv(e){return new gn(e>>16&255,e>>8&255,e&255,1)}function Vc(e,t,r,n){return n<=0&&(e=t=r=NaN),new gn(e,t,r,n)}function Ent(e){return e instanceof sc||(e=xu(e)),e?(e=e.rgb(),new gn(e.r,e.g,e.b,e.opacity)):new gn}function Kb(e,t,r,n){return arguments.length===1?Ent(e):new gn(e,t,r,n??1)}function gn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}s2(gn,Kb,$L(sc,{brighter(e){return e=e==null?_d:Math.pow(_d,e),new gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Eu:Math.pow(Eu,e),new gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gn(ua(this.r),ua(this.g),ua(this.b),Ed(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pv,formatHex:pv,formatHex8:wnt,formatRgb:mv,toString:mv}));function pv(){return`#${Zs(this.r)}${Zs(this.g)}${Zs(this.b)}`}function wnt(){return`#${Zs(this.r)}${Zs(this.g)}${Zs(this.b)}${Zs((isNaN(this.opacity)?1:this.opacity)*255)}`}function mv(){const e=Ed(this.opacity);return`${e===1?"rgb(":"rgba("}${ua(this.r)}, ${ua(this.g)}, ${ua(this.b)}${e===1?")":`, ${e})`}`}function Ed(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ua(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zs(e){return e=ua(e),(e<16?"0":"")+e.toString(16)}function gv(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qn(e,t,r,n)}function zL(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);if(e instanceof sc||(e=xu(e)),!e)return new qn;if(e instanceof qn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new qn(a,o,l,e.opacity)}function xnt(e,t,r,n){return arguments.length===1?zL(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}s2(qn,xnt,$L(sc,{brighter(e){return e=e==null?_d:Math.pow(_d,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Eu:Math.pow(Eu,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new gn(Gg(e>=240?e-240:e+120,i,n),Gg(e,i,n),Gg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new qn(bv(this.h),Yc(this.s),Yc(this.l),Ed(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ed(this.opacity);return`${e===1?"hsl(":"hsla("}${bv(this.h)}, ${Yc(this.s)*100}%, ${Yc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bv(e){return e=(e||0)%360,e<0?e+360:e}function Yc(e){return Math.max(0,Math.min(1,e||0))}function Gg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const a2=e=>()=>e;function jL(e,t){return function(r){return e+r*t}}function Tnt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function s0t(e,t){var r=t-e;return r?jL(e,r>180||r<-180?r-360*Math.round(r/360):r):a2(isNaN(e)?t:e)}function vnt(e){return(e=+e)==1?WL:function(t,r){return r-t?Tnt(t,r,e):a2(isNaN(t)?r:t)}}function WL(e,t){var r=t-e;return r?jL(e,r):a2(isNaN(e)?t:e)}const yv=function e(t){var r=vnt(t);function n(i,s){var a=r((i=Kb(i)).r,(s=Kb(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=WL(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function os(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Zb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vg=new RegExp(Zb.source,"g");function Ant(e){return function(){return e}}function Cnt(e){return function(t){return e(t)+""}}function knt(e,t){var r=Zb.lastIndex=Vg.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Zb.exec(e))&&(i=Vg.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:os(n,i)})),r=Vg.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Cnt(l[0].x):Ant(t):(t=l.length,function(u){for(var c=0,h;c<t;++c)o[(h=l[c]).i]=h.x(u);return o.join("")})}var _v=180/Math.PI,Qb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qL(e,t,r,n,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*_v,skewX:Math.atan(l)*_v,scaleX:a,scaleY:o}}var Xc;function Snt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qb:qL(t.a,t.b,t.c,t.d,t.e,t.f)}function Int(e){return e==null||(Xc||(Xc=document.createElementNS("http://www.w3.org/2000/svg","g")),Xc.setAttribute("transform",e),!(e=Xc.transform.baseVal.consolidate()))?Qb:(e=e.matrix,qL(e.a,e.b,e.c,e.d,e.e,e.f))}function GL(e,t,r,n){function i(u){return u.length?u.pop()+" ":""}function s(u,c,h,f,d,p){if(u!==h||c!==f){var g=d.push("translate(",null,t,null,r);p.push({i:g-4,x:os(u,h)},{i:g-2,x:os(c,f)})}else(h||f)&&d.push("translate("+h+t+f+r)}function a(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:os(u,c)})):c&&h.push(i(h)+"rotate("+c+n)}function o(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:os(u,c)}):c&&h.push(i(h)+"skewX("+c+n)}function l(u,c,h,f,d,p){if(u!==h||c!==f){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:os(u,h)},{i:g-2,x:os(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,h,f),a(u.rotate,c.rotate,h,f),o(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,g=f.length,y;++p<g;)h[(y=f[p]).i]=y.x(d);return h.join("")}}}var Lnt=GL(Snt,"px, ","px)","deg)"),Rnt=GL(Int,", ",")",")"),No=0,Rl=0,_l=0,VL=1e3,wd,Nl,xd=0,pa=0,Pf=0,Tu=typeof performance=="object"&&performance.now?performance:Date,YL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function o2(){return pa||(YL(Nnt),pa=Tu.now()+Pf)}function Nnt(){pa=0}function Td(){this._call=this._time=this._next=null}Td.prototype=XL.prototype={constructor:Td,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?o2():+r)+(t==null?0:+t),!this._next&&Nl!==this&&(Nl?Nl._next=this:wd=this,Nl=this),this._call=e,this._time=r,Jb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jb())}};function XL(e,t,r){var n=new Td;return n.restart(e,t,r),n}function Ont(){o2(),++No;for(var e=wd,t;e;)(t=pa-e._time)>=0&&e._call.call(void 0,t),e=e._next;--No}function Ev(){pa=(xd=Tu.now())+Pf,No=Rl=0;try{Ont()}finally{No=0,Dnt(),pa=0}}function Pnt(){var e=Tu.now(),t=e-xd;t>VL&&(Pf-=t,xd=e)}function Dnt(){for(var e,t=wd,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:wd=r);Nl=e,Jb(n)}function Jb(e){if(!No){Rl&&(Rl=clearTimeout(Rl));var t=e-pa;t>24?(e<1/0&&(Rl=setTimeout(Ev,e-Tu.now()-Pf)),_l&&(_l=clearInterval(_l))):(_l||(xd=Tu.now(),_l=setInterval(Pnt,VL)),No=1,YL(Ev))}}function wv(e,t,r){var n=new Td;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var Bnt=SL("start","end","cancel","interrupt"),Mnt=[],KL=0,xv=1,ty=2,xh=3,Tv=4,ey=5,Th=6;function Df(e,t,r,n,i,s){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;Fnt(e,r,{name:t,index:n,group:i,on:Bnt,tween:Mnt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:KL})}function l2(e,t){var r=ei(e,t);if(r.state>KL)throw new Error("too late; already scheduled");return r}function Ai(e,t){var r=ei(e,t);if(r.state>xh)throw new Error("too late; already running");return r}function ei(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Fnt(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=XL(s,0,r.time);function s(u){r.state=xv,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var c,h,f,d;if(r.state!==xv)return l();for(c in n)if(d=n[c],d.name===r.name){if(d.state===xh)return wv(a);d.state===Tv?(d.state=Th,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete n[c]):+c<t&&(d.state=Th,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete n[c])}if(wv(function(){r.state===xh&&(r.state=Tv,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=ty,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ty){for(r.state=xh,i=new Array(f=r.tween.length),c=0,h=-1;c<f;++c)(d=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=d);i.length=h+1}}function o(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=ey,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);r.state===ey&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Th,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Unt(e,t){var r=e.__transition,n,i,s=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){s=!1;continue}i=n.state>ty&&n.state<ey,n.state=Th,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}s&&delete e.__transition}}function Hnt(e){return this.each(function(){Unt(this,e)})}function $nt(e,t){var r,n;return function(){var i=Ai(this,e),s=i.tween;if(s!==r){n=r=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function znt(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=Ai(this,e),a=s.tween;if(a!==n){i=(n=a).slice();for(var o={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}s.tween=i}}function jnt(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ei(this.node(),r).tween,i=0,s=n.length,a;i<s;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?$nt:znt)(r,e,t))}function u2(e,t,r){var n=e._id;return e.each(function(){var i=Ai(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ei(i,n).value[t]}}function ZL(e,t){var r;return(typeof t=="number"?os:t instanceof xu?yv:(r=xu(t))?(t=r,yv):knt)(e,t)}function Wnt(e){return function(){this.removeAttribute(e)}}function qnt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gnt(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===n?s:s=t(n=a,r)}}function Vnt(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?s:s=t(n=a,r)}}function Ynt(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function Xnt(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function Knt(e,t){var r=Of(e),n=r==="transform"?Rnt:ZL;return this.attrTween(e,typeof t=="function"?(r.local?Xnt:Ynt)(r,n,u2(this,"attr."+e,t)):t==null?(r.local?qnt:Wnt)(r):(r.local?Vnt:Gnt)(r,n,t))}function Znt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Qnt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Jnt(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Qnt(e,s)),r}return i._value=t,i}function tit(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Znt(e,s)),r}return i._value=t,i}function eit(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Of(e);return this.tween(r,(n.local?Jnt:tit)(n,t))}function rit(e,t){return function(){l2(this,e).delay=+t.apply(this,arguments)}}function nit(e,t){return t=+t,function(){l2(this,e).delay=t}}function iit(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rit:nit)(t,e)):ei(this.node(),t).delay}function sit(e,t){return function(){Ai(this,e).duration=+t.apply(this,arguments)}}function ait(e,t){return t=+t,function(){Ai(this,e).duration=t}}function oit(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sit:ait)(t,e)):ei(this.node(),t).duration}function lit(e,t){if(typeof t!="function")throw new Error;return function(){Ai(this,e).ease=t}}function uit(e){var t=this._id;return arguments.length?this.each(lit(t,e)):ei(this.node(),t).ease}function cit(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ai(this,e).ease=r}}function hit(e){if(typeof e!="function")throw new Error;return this.each(cit(this._id,e))}function dit(e){typeof e!="function"&&(e=RL(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,u=0;u<a;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new Gi(n,this._parents,this._name,this._id)}function fit(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),a=new Array(n),o=0;o<s;++o)for(var l=t[o],u=r[o],c=l.length,h=a[o]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;o<n;++o)a[o]=t[o];return new Gi(a,this._parents,this._name,this._id)}function pit(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function mit(e,t,r){var n,i,s=pit(t)?l2:Ai;return function(){var a=s(this,e),o=a.on;o!==n&&(i=(n=o).copy()).on(t,r),a.on=i}}function git(e,t){var r=this._id;return arguments.length<2?ei(this.node(),r).on.on(e):this.each(mit(r,e,t))}function bit(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function yit(){return this.on("end.remove",bit(this._id))}function _it(e){var t=this._name,r=this._id;typeof e!="function"&&(e=n2(e));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var o=n[a],l=o.length,u=s[a]=new Array(l),c,h,f=0;f<l;++f)(c=o[f])&&(h=e.call(c,c.__data__,f,o))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Df(u[f],t,r,f,u,ei(c,r)));return new Gi(s,this._parents,t,r)}function Eit(e){var t=this._name,r=this._id;typeof e!="function"&&(e=LL(e));for(var n=this._groups,i=n.length,s=[],a=[],o=0;o<i;++o)for(var l=n[o],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=e.call(c,c.__data__,h,l),d,p=ei(c,r),g=0,y=f.length;g<y;++g)(d=f[g])&&Df(d,t,r,g,f,p);s.push(f),a.push(c)}return new Gi(s,a,t,r)}var wit=ic.prototype.constructor;function xit(){return new wit(this._groups,this._parents)}function Tit(e,t){var r,n,i;return function(){var s=Ro(this,e),a=(this.style.removeProperty(e),Ro(this,e));return s===a?null:s===r&&a===n?i:i=t(r=s,n=a)}}function QL(e){return function(){this.style.removeProperty(e)}}function vit(e,t,r){var n,i=r+"",s;return function(){var a=Ro(this,e);return a===i?null:a===n?s:s=t(n=a,r)}}function Ait(e,t,r){var n,i,s;return function(){var a=Ro(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Ro(this,e))),a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o))}}function Cit(e,t){var r,n,i,s="style."+t,a="end."+s,o;return function(){var l=Ai(this,e),u=l.on,c=l.value[s]==null?o||(o=QL(t)):void 0;(u!==r||i!==c)&&(n=(r=u).copy()).on(a,i=c),l.on=n}}function kit(e,t,r){var n=(e+="")=="transform"?Lnt:ZL;return t==null?this.styleTween(e,Tit(e,n)).on("end.style."+e,QL(e)):typeof t=="function"?this.styleTween(e,Ait(e,n,u2(this,"style."+e,t))).each(Cit(this._id,e)):this.styleTween(e,vit(e,n,t),r).on("end.style."+e,null)}function Sit(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Iit(e,t,r){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&Sit(e,a,r)),n}return s._value=t,s}function Lit(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Iit(e,t,r??""))}function Rit(e){return function(){this.textContent=e}}function Nit(e){return function(){var t=e(this);this.textContent=t??""}}function Oit(e){return this.tween("text",typeof e=="function"?Nit(u2(this,"text",e)):Rit(e==null?"":e+""))}function Pit(e){return function(t){this.textContent=e.call(this,t)}}function Dit(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&Pit(i)),t}return n._value=e,n}function Bit(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Dit(e))}function Mit(){for(var e=this._name,t=this._id,r=JL(),n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,u=0;u<o;++u)if(l=a[u]){var c=ei(l,t);Df(l,e,r,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Gi(n,this._parents,e,r)}function Fit(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};r.each(function(){var u=Ai(this,n),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&s()})}var Uit=0;function Gi(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function JL(){return++Uit}var Ni=ic.prototype;Gi.prototype={constructor:Gi,select:_it,selectAll:Eit,selectChild:Ni.selectChild,selectChildren:Ni.selectChildren,filter:dit,merge:fit,selection:xit,transition:Mit,call:Ni.call,nodes:Ni.nodes,node:Ni.node,size:Ni.size,empty:Ni.empty,each:Ni.each,on:git,attr:Knt,attrTween:eit,style:kit,styleTween:Lit,text:Oit,textTween:Bit,remove:yit,tween:jnt,delay:iit,duration:oit,ease:uit,easeVarying:hit,end:Fit,[Symbol.iterator]:Ni[Symbol.iterator]};function Hit(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $it={time:null,delay:0,duration:250,ease:Hit};function zit(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function jit(e){var t,r;e instanceof Gi?(t=e._id,e=e._name):(t=JL(),(r=$it).time=o2(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&Df(l,e,t,u,a,r||zit(l,t));return new Gi(n,this._parents,e,t)}ic.prototype.interrupt=Hnt;ic.prototype.transition=jit;const ry=Math.PI,ny=2*ry,$s=1e-6,Wit=ny-$s;function tR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qit(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tR;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Git{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tR:qit(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-t,u=i-r,c=a-t,h=o-r,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>$s)if(!(Math.abs(h*l-u*c)>$s)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-a,p=i-o,g=l*l+u*u,y=d*d+p*p,m=Math.sqrt(g),b=Math.sqrt(f),_=s*Math.tan((ry-Math.acos((g+f-y)/(2*m*b)))/2),T=_/b,C=_/m;Math.abs(T-1)>$s&&this._append`L${t+T*c},${r+T*h}`,this._append`A${s},${s},0,0,${+(h*d>c*p)},${this._x1=t+C*l},${this._y1=r+C*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>$s||Math.abs(this._y1-c)>$s)&&this._append`L${u},${c}`,n&&(f<0&&(f=f%ny+ny),f>Wit?this._append`A${n},${n},0,1,${h},${t-o},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=c}`:f>$s&&this._append`A${n},${n},0,${+(f>=ry)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Fa(e){return function(){return e}}const a0t=Math.abs,o0t=Math.atan2,l0t=Math.cos,u0t=Math.max,c0t=Math.min,h0t=Math.sin,d0t=Math.sqrt,vv=1e-12,c2=Math.PI,Av=c2/2,f0t=2*c2;function p0t(e){return e>1?0:e<-1?c2:Math.acos(e)}function m0t(e){return e>=1?Av:e<=-1?-Av:Math.asin(e)}function Vit(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Git(t)}function Yit(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eR(e){this._context=e}eR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vd(e){return new eR(e)}function Xit(e){return e[0]}function Kit(e){return e[1]}function Zit(e,t){var r=Fa(!0),n=null,i=vd,s=null,a=Vit(o);e=typeof e=="function"?e:e===void 0?Xit:Fa(e),t=typeof t=="function"?t:t===void 0?Kit:Fa(t);function o(l){var u,c=(l=Yit(l)).length,h,f=!1,d;for(n==null&&(s=i(d=a())),u=0;u<=c;++u)!(u<c&&r(h=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(h,u,l),+t(h,u,l));if(d)return s=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Fa(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Fa(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Fa(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}class rR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function nR(e){return new rR(e,!0)}function iR(e){return new rR(e,!1)}function _s(){}function Ad(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Bf(e){this._context=e}Bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ad(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ad(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vh(e){return new Bf(e)}function sR(e){this._context=e}sR.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ad(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qit(e){return new sR(e)}function aR(e){this._context=e}aR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ad(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jit(e){return new aR(e)}function oR(e,t){this._basis=new Bf(e),this._beta=t}oR.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],s=e[r]-n,a=t[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+l*s),this._beta*t[o]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const tst=function e(t){function r(n){return t===1?new Bf(n):new oR(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Cd(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function h2(e,t){this._context=e,this._k=(1-t)/6}h2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cd(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lR=function e(t){function r(n){return new h2(n,t)}return r.tension=function(n){return e(+n)},r}(0);function d2(e,t){this._context=e,this._k=(1-t)/6}d2.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const est=function e(t){function r(n){return new d2(n,t)}return r.tension=function(n){return e(+n)},r}(0);function f2(e,t){this._context=e,this._k=(1-t)/6}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const rst=function e(t){function r(n){return new f2(n,t)}return r.tension=function(n){return e(+n)},r}(0);function p2(e,t,r){var n=e._x1,i=e._y1,s=e._x2,a=e._y2;if(e._l01_a>vv){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>vv){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(n,i,s,a,e._x2,e._y2)}function uR(e,t){this._context=e,this._alpha=t}uR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:p2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cR=function e(t){function r(n){return t?new uR(n,t):new h2(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function hR(e,t){this._context=e,this._alpha=t}hR.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:p2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const nst=function e(t){function r(n){return t?new hR(n,t):new d2(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function dR(e,t){this._context=e,this._alpha=t}dR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:p2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ist=function e(t){function r(n){return t?new dR(n,t):new f2(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function fR(e){this._context=e}fR.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sst(e){return new fR(e)}function Cv(e){return e<0?-1:1}function kv(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(Cv(s)+Cv(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Sv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Yg(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,i+o*t,s-o,a-o*r,s,a)}function kd(e){this._context=e}kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yg(this,this._t0,Sv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yg(this,Sv(this,r=kv(this,e,t)),r);break;default:Yg(this,this._t0,r=kv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pR(e){this._context=new mR(e)}(pR.prototype=Object.create(kd.prototype)).point=function(e,t){kd.prototype.point.call(this,t,e)};function mR(e){this._context=e}mR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function gR(e){return new kd(e)}function bR(e){return new pR(e)}function yR(e){this._context=e}yR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Iv(e),i=Iv(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Iv(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function _R(e){return new yR(e)}function Mf(e,t){this._context=e,this._t=t}Mf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ER(e){return new Mf(e,.5)}function wR(e){return new Mf(e,0)}function xR(e){return new Mf(e,1)}function Ol(e,t,r){this.k=e,this.x=t,this.y=r}Ol.prototype={constructor:Ol,scale:function(e){return e===1?this:new Ol(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ol(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ol.prototype;var ast=P(e=>{const{securityLevel:t}=Ie();let r=Ae("body");if(t==="sandbox"){const s=Ae(`#i${e}`).node()?.contentDocument??document;r=Ae(s.body)}return r.select(`#${e}`)},"selectSvgElement");function m2(e){return typeof e>"u"||e===null}P(m2,"isNothing");function TR(e){return typeof e=="object"&&e!==null}P(TR,"isObject");function vR(e){return Array.isArray(e)?e:m2(e)?[]:[e]}P(vR,"toArray");function AR(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}P(AR,"extend");function CR(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}P(CR,"repeat");function kR(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}P(kR,"isNegativeZero");var ost=m2,lst=TR,ust=vR,cst=CR,hst=kR,dst=AR,mr={isNothing:ost,isObject:lst,toArray:ust,repeat:cst,isNegativeZero:hst,extend:dst};function g2(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}P(g2,"formatError");function Oo(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=g2(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}P(Oo,"YAMLException$1");Oo.prototype=Object.create(Error.prototype);Oo.prototype.constructor=Oo;Oo.prototype.toString=P(function(t){return this.name+": "+g2(this,t)},"toString");var dn=Oo;function Ah(e,t,r,n,i){var s="",a="",o=Math.floor(i/2)-1;return n-t>o&&(s=" ... ",t=n-o+s.length),r-n>o&&(a=" ...",r=n+o-a.length),{str:s+e.slice(t,r).replace(/\t/g,"â")+a,pos:n-t+s.length}}P(Ah,"getLine");function Ch(e,t){return mr.repeat(" ",t-e.length)+e}P(Ch,"padStart");function SR(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var o="",l,u,c=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore&&!(a-l<0);l++)u=Ah(e.buffer,n[a-l],i[a-l],e.position-(n[a]-n[a-l]),h),o=mr.repeat(" ",t.indent)+Ch((e.line-l+1).toString(),c)+" | "+u.str+`
`+o;for(u=Ah(e.buffer,n[a],i[a],e.position,h),o+=mr.repeat(" ",t.indent)+Ch((e.line+1).toString(),c)+" | "+u.str+`
`,o+=mr.repeat("-",t.indent+c+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(a+l>=i.length);l++)u=Ah(e.buffer,n[a+l],i[a+l],e.position-(n[a]-n[a+l]),h),o+=mr.repeat(" ",t.indent)+Ch((e.line+l+1).toString(),c)+" | "+u.str+`
`;return o.replace(/\n$/,"")}P(SR,"makeSnippet");var fst=SR,pst=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],mst=["scalar","sequence","mapping"];function IR(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}P(IR,"compileStyleAliases");function LR(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(pst.indexOf(r)===-1)throw new dn('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=IR(t.styleAliases||null),mst.indexOf(this.kind)===-1)throw new dn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}P(LR,"Type$1");var Fr=LR;function iy(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}P(iy,"compileList");function RR(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(P(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}P(RR,"compileMap");function Sd(e){return this.extend(e)}P(Sd,"Schema$1");Sd.prototype.extend=P(function(t){var r=[],n=[];if(t instanceof Fr)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new dn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Fr))throw new dn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new dn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new dn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Fr))throw new dn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Sd.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=iy(i,"implicit"),i.compiledExplicit=iy(i,"explicit"),i.compiledTypeMap=RR(i.compiledImplicit,i.compiledExplicit),i},"extend");var gst=Sd,bst=new Fr("tag:yaml.org,2002:str",{kind:"scalar",construct:P(function(e){return e!==null?e:""},"construct")}),yst=new Fr("tag:yaml.org,2002:seq",{kind:"sequence",construct:P(function(e){return e!==null?e:[]},"construct")}),_st=new Fr("tag:yaml.org,2002:map",{kind:"mapping",construct:P(function(e){return e!==null?e:{}},"construct")}),Est=new gst({explicit:[bst,yst,_st]});function NR(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}P(NR,"resolveYamlNull");function OR(){return null}P(OR,"constructYamlNull");function PR(e){return e===null}P(PR,"isNull");var wst=new Fr("tag:yaml.org,2002:null",{kind:"scalar",resolve:NR,construct:OR,predicate:PR,represent:{canonical:P(function(){return"~"},"canonical"),lowercase:P(function(){return"null"},"lowercase"),uppercase:P(function(){return"NULL"},"uppercase"),camelcase:P(function(){return"Null"},"camelcase"),empty:P(function(){return""},"empty")},defaultStyle:"lowercase"});function DR(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}P(DR,"resolveYamlBoolean");function BR(e){return e==="true"||e==="True"||e==="TRUE"}P(BR,"constructYamlBoolean");function MR(e){return Object.prototype.toString.call(e)==="[object Boolean]"}P(MR,"isBoolean");var xst=new Fr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:DR,construct:BR,predicate:MR,represent:{lowercase:P(function(e){return e?"true":"false"},"lowercase"),uppercase:P(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:P(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function FR(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}P(FR,"isHexCode");function UR(e){return 48<=e&&e<=55}P(UR,"isOctCode");function HR(e){return 48<=e&&e<=57}P(HR,"isDecCode");function $R(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!FR(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!UR(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!HR(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}P($R,"resolveYamlInteger");function zR(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}P(zR,"constructYamlInteger");function jR(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!mr.isNegativeZero(e)}P(jR,"isInteger");var Tst=new Fr("tag:yaml.org,2002:int",{kind:"scalar",resolve:$R,construct:zR,predicate:jR,represent:{binary:P(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:P(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:P(function(e){return e.toString(10)},"decimal"),hexadecimal:P(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),vst=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function WR(e){return!(e===null||!vst.test(e)||e[e.length-1]==="_")}P(WR,"resolveYamlFloat");function qR(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}P(qR,"constructYamlFloat");var Ast=/^[-+]?[0-9]+e/;function GR(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(mr.isNegativeZero(e))return"-0.0";return r=e.toString(10),Ast.test(r)?r.replace("e",".e"):r}P(GR,"representYamlFloat");function VR(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||mr.isNegativeZero(e))}P(VR,"isFloat");var Cst=new Fr("tag:yaml.org,2002:float",{kind:"scalar",resolve:WR,construct:qR,predicate:VR,represent:GR,defaultStyle:"lowercase"}),YR=Est.extend({implicit:[wst,xst,Tst,Cst]}),kst=YR,XR=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),KR=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ZR(e){return e===null?!1:XR.exec(e)!==null||KR.exec(e)!==null}P(ZR,"resolveYamlTimestamp");function QR(e){var t,r,n,i,s,a,o,l=0,u=null,c,h,f;if(t=XR.exec(e),t===null&&(t=KR.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],h=+(t[11]||0),u=(c*60+h)*6e4,t[9]==="-"&&(u=-u)),f=new Date(Date.UTC(r,n,i,s,a,o,l)),u&&f.setTime(f.getTime()-u),f}P(QR,"constructYamlTimestamp");function JR(e){return e.toISOString()}P(JR,"representYamlTimestamp");var Sst=new Fr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ZR,construct:QR,instanceOf:Date,represent:JR});function tN(e){return e==="<<"||e===null}P(tN,"resolveYamlMerge");var Ist=new Fr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:tN}),b2=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function eN(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=b2;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}P(eN,"resolveYamlBinary");function rN(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=b2,a=0,o=[];for(t=0;t<i;t++)t%4===0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):r===18?(o.push(a>>10&255),o.push(a>>2&255)):r===12&&o.push(a>>4&255),new Uint8Array(o)}P(rN,"constructYamlBinary");function nN(e){var t="",r=0,n,i,s=e.length,a=b2;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}P(nN,"representYamlBinary");function iN(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}P(iN,"isBinary");var Lst=new Fr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:eN,construct:rN,predicate:iN,represent:nN}),Rst=Object.prototype.hasOwnProperty,Nst=Object.prototype.toString;function sN(e){if(e===null)return!0;var t=[],r,n,i,s,a,o=e;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],a=!1,Nst.call(i)!=="[object Object]")return!1;for(s in i)if(Rst.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}P(sN,"resolveYamlOmap");function aN(e){return e!==null?e:[]}P(aN,"constructYamlOmap");var Ost=new Fr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:sN,construct:aN}),Pst=Object.prototype.toString;function oN(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],Pst.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}P(oN,"resolveYamlPairs");function lN(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}P(lN,"constructYamlPairs");var Dst=new Fr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:oN,construct:lN}),Bst=Object.prototype.hasOwnProperty;function uN(e){if(e===null)return!0;var t,r=e;for(t in r)if(Bst.call(r,t)&&r[t]!==null)return!1;return!0}P(uN,"resolveYamlSet");function cN(e){return e!==null?e:{}}P(cN,"constructYamlSet");var Mst=new Fr("tag:yaml.org,2002:set",{kind:"mapping",resolve:uN,construct:cN}),hN=kst.extend({implicit:[Sst,Ist],explicit:[Lst,Ost,Dst,Mst]}),Es=Object.prototype.hasOwnProperty,Id=1,dN=2,fN=3,Ld=4,Xg=1,Fst=2,Lv=3,Ust=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Hst=/[\x85\u2028\u2029]/,$st=/[,\[\]\{\}]/,pN=/^(?:!|!!|![a-z\-]+!)$/i,mN=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function sy(e){return Object.prototype.toString.call(e)}P(sy,"_class");function Yn(e){return e===10||e===13}P(Yn,"is_EOL");function gs(e){return e===9||e===32}P(gs,"is_WHITE_SPACE");function Kr(e){return e===9||e===32||e===10||e===13}P(Kr,"is_WS_OR_EOL");function Qs(e){return e===44||e===91||e===93||e===123||e===125}P(Qs,"is_FLOW_INDICATOR");function gN(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}P(gN,"fromHexCode");function bN(e){return e===120?2:e===117?4:e===85?8:0}P(bN,"escapedHexLen");function yN(e){return 48<=e&&e<=57?e-48:-1}P(yN,"fromDecimalCode");function ay(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"Â":e===95?"Â ":e===76?"\u2028":e===80?"\u2029":""}P(ay,"simpleEscapeSequence");function _N(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}P(_N,"charFromCodepoint");var EN=new Array(256),wN=new Array(256);for(Us=0;Us<256;Us++)EN[Us]=ay(Us)?1:0,wN[Us]=ay(Us);var Us;function xN(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||hN,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}P(xN,"State$1");function y2(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=fst(r),new dn(t,r)}P(y2,"generateError");function Jt(e,t){throw y2(e,t)}P(Jt,"throwError");function vu(e,t){e.onWarning&&e.onWarning.call(null,y2(e,t))}P(vu,"throwWarning");var Rv={YAML:P(function(t,r,n){var i,s,a;t.version!==null&&Jt(t,"duplication of %YAML directive"),n.length!==1&&Jt(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Jt(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Jt(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&vu(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:P(function(t,r,n){var i,s;n.length!==2&&Jt(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],pN.test(i)||Jt(t,"ill-formed tag handle (first argument) of the TAG directive"),Es.call(t.tagMap,i)&&Jt(t,'there is a previously declared suffix for "'+i+'" tag handle'),mN.test(s)||Jt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Jt(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function $i(e,t,r,n){var i,s,a,o;if(t<r){if(o=e.input.slice(t,r),n)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||Jt(e,"expected valid JSON character");else Ust.test(o)&&Jt(e,"the stream contains non-printable characters");e.result+=o}}P($i,"captureSegment");function oy(e,t,r,n){var i,s,a,o;for(mr.isObject(r)||Jt(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,o=i.length;a<o;a+=1)s=i[a],Es.call(t,s)||(t[s]=r[s],n[s]=!0)}P(oy,"mergeMappings");function Js(e,t,r,n,i,s,a,o,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&Jt(e,"nested arrays are not supported inside keys"),typeof i=="object"&&sy(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&sy(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)oy(e,t,s[u],r);else oy(e,t,s,r);else!e.json&&!Es.call(r,i)&&Es.call(t,i)&&(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,Jt(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}P(Js,"storeMappingPair");function Ff(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Jt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}P(Ff,"readLineBreak");function Qe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;gs(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Yn(i))for(Ff(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&vu(e,"deficient indentation"),n}P(Qe,"skipSeparationSpace");function ac(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Kr(r)))}P(ac,"testDocumentSeparator");function Uf(e,t){t===1?e.result+=" ":t>1&&(e.result+=mr.repeat(`
`,t-1))}P(Uf,"writeFoldedLines");function TN(e,t,r){var n,i,s,a,o,l,u,c,h=e.kind,f=e.result,d;if(d=e.input.charCodeAt(e.position),Kr(d)||Qs(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(i=e.input.charCodeAt(e.position+1),Kr(i)||r&&Qs(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,o=!1;d!==0;){if(d===58){if(i=e.input.charCodeAt(e.position+1),Kr(i)||r&&Qs(i))break}else if(d===35){if(n=e.input.charCodeAt(e.position-1),Kr(n))break}else{if(e.position===e.lineStart&&ac(e)||r&&Qs(d))break;if(Yn(d))if(l=e.line,u=e.lineStart,c=e.lineIndent,Qe(e,!1,-1),e.lineIndent>=t){o=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=u,e.lineIndent=c;break}}o&&($i(e,s,a,!1),Uf(e,e.line-l),s=a=e.position,o=!1),gs(d)||(a=e.position+1),d=e.input.charCodeAt(++e.position)}return $i(e,s,a,!1),e.result?!0:(e.kind=h,e.result=f,!1)}P(TN,"readPlainScalar");function vN(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if($i(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Yn(r)?($i(e,n,i,!0),Uf(e,Qe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&ac(e)?Jt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Jt(e,"unexpected end of the stream within a single quoted scalar")}P(vN,"readSingleQuotedScalar");function AN(e,t){var r,n,i,s,a,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return $i(e,r,e.position,!0),e.position++,!0;if(o===92){if($i(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),Yn(o))Qe(e,!1,t);else if(o<256&&EN[o])e.result+=wN[o],e.position++;else if((a=bN(o))>0){for(i=a,s=0;i>0;i--)o=e.input.charCodeAt(++e.position),(a=gN(o))>=0?s=(s<<4)+a:Jt(e,"expected hexadecimal character");e.result+=_N(s),e.position++}else Jt(e,"unknown escape sequence");r=n=e.position}else Yn(o)?($i(e,r,n,!0),Uf(e,Qe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&ac(e)?Jt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Jt(e,"unexpected end of the stream within a double quoted scalar")}P(AN,"readDoubleQuotedScalar");function CN(e,t){var r=!0,n,i,s,a=e.tag,o,l=e.anchor,u,c,h,f,d,p=Object.create(null),g,y,m,b;if(b=e.input.charCodeAt(e.position),b===91)c=93,d=!1,o=[];else if(b===123)c=125,d=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),b=e.input.charCodeAt(++e.position);b!==0;){if(Qe(e,!0,t),b=e.input.charCodeAt(e.position),b===c)return e.position++,e.tag=a,e.anchor=l,e.kind=d?"mapping":"sequence",e.result=o,!0;r?b===44&&Jt(e,"expected the node content, but found ','"):Jt(e,"missed comma between flow collection entries"),y=g=m=null,h=f=!1,b===63&&(u=e.input.charCodeAt(e.position+1),Kr(u)&&(h=f=!0,e.position++,Qe(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,ma(e,t,Id,!1,!0),y=e.tag,g=e.result,Qe(e,!0,t),b=e.input.charCodeAt(e.position),(f||e.line===n)&&b===58&&(h=!0,b=e.input.charCodeAt(++e.position),Qe(e,!0,t),ma(e,t,Id,!1,!0),m=e.result),d?Js(e,o,p,y,g,m,n,i,s):h?o.push(Js(e,null,p,y,g,m,n,i,s)):o.push(g),Qe(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}Jt(e,"unexpected end of the stream within a flow collection")}P(CN,"readFlowCollection");function kN(e,t){var r,n,i=Xg,s=!1,a=!1,o=t,l=0,u=!1,c,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)Xg===i?i=h===43?Lv:Fst:Jt(e,"repeat of a chomping mode identifier");else if((c=yN(h))>=0)c===0?Jt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Jt(e,"repeat of an indentation width identifier"):(o=t+c-1,a=!0);else break;if(gs(h)){do h=e.input.charCodeAt(++e.position);while(gs(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!Yn(h)&&h!==0)}for(;h!==0;){for(Ff(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!a||e.lineIndent<o)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>o&&(o=e.lineIndent),Yn(h)){l++;continue}if(e.lineIndent<o){i===Lv?e.result+=mr.repeat(`
`,s?1+l:l):i===Xg&&s&&(e.result+=`
`);break}for(n?gs(h)?(u=!0,e.result+=mr.repeat(`
`,s?1+l:l)):u?(u=!1,e.result+=mr.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=mr.repeat(`
`,l):e.result+=mr.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,r=e.position;!Yn(h)&&h!==0;)h=e.input.charCodeAt(++e.position);$i(e,r,e.position,!1)}return!0}P(kN,"readBlockScalar");function ly(e,t){var r,n=e.tag,i=e.anchor,s=[],a,o=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Jt(e,"tab characters must not be used in indentation")),!(l!==45||(a=e.input.charCodeAt(e.position+1),!Kr(a))));){if(o=!0,e.position++,Qe(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,ma(e,t,fN,!1,!0),s.push(e.result),Qe(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)Jt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}P(ly,"readBlockSequence");function SN(e,t,r){var n,i,s,a,o,l,u=e.tag,c=e.anchor,h={},f=Object.create(null),d=null,p=null,g=null,y=!1,m=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),b=e.input.charCodeAt(e.position);b!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Jt(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&Kr(n))b===63?(y&&(Js(e,h,f,d,p,null,a,o,l),d=p=g=null),m=!0,y=!0,i=!0):y?(y=!1,i=!0):Jt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(a=e.line,o=e.lineStart,l=e.position,!ma(e,r,dN,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);gs(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),Kr(b)||Jt(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Js(e,h,f,d,p,null,a,o,l),d=p=g=null),m=!0,y=!1,i=!1,d=e.tag,p=e.result;else if(m)Jt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=c,!0}else if(m)Jt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=c,!0}if((e.line===s||e.lineIndent>t)&&(y&&(a=e.line,o=e.lineStart,l=e.position),ma(e,t,Ld,!0,i)&&(y?p=e.result:g=e.result),y||(Js(e,h,f,d,p,g,a,o,l),d=p=g=null),Qe(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)Jt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Js(e,h,f,d,p,null,a,o,l),m&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=h),m}P(SN,"readBlockMapping");function IN(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&Jt(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):Jt(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Kr(a);)a===33&&(n?Jt(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),pN.test(i)||Jt(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),$st.test(s)&&Jt(e,"tag suffix cannot contain flow indicator characters")}s&&!mN.test(s)&&Jt(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Jt(e,"tag name is malformed: "+s)}return r?e.tag=s:Es.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:Jt(e,'undeclared tag handle "'+i+'"'),!0}P(IN,"readTagProperty");function LN(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Jt(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Kr(r)&&!Qs(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Jt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}P(LN,"readAnchorProperty");function RN(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Kr(n)&&!Qs(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Jt(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Es.call(e.anchorMap,r)||Jt(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Qe(e,!0,-1),!0}P(RN,"readAlias");function ma(e,t,r,n,i){var s,a,o,l=1,u=!1,c=!1,h,f,d,p,g,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=o=Ld===r||fN===r,n&&Qe(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;IN(e)||LN(e);)Qe(e,!0,-1)?(u=!0,o=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||Ld===r)&&(Id===r||dN===r?g=t:g=t+1,y=e.position-e.lineStart,l===1?o&&(ly(e,y)||SN(e,y,g))||CN(e,g)?c=!0:(a&&kN(e,g)||vN(e,g)||AN(e,g)?c=!0:RN(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&Jt(e,"alias node should not have any properties")):TN(e,g,Id===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=o&&ly(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Jt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(p=e.implicitTypes[h],p.resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Es.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,d=e.typeMap.multi[e.kind||"fallback"],h=0,f=d.length;h<f;h+=1)if(e.tag.slice(0,d[h].tag.length)===d[h].tag){p=d[h];break}p||Jt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&p.kind!==e.kind&&Jt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Jt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}P(ma,"composeNode");function NN(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Qe(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!Kr(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Jt(e,"directive name must not be less than one character in length");a!==0;){for(;gs(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!Yn(a));break}if(Yn(a))break;for(r=e.position;a!==0&&!Kr(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&Ff(e),Es.call(Rv,n)?Rv[n](e,n,i):vu(e,'unknown document directive "'+n+'"')}if(Qe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Qe(e,!0,-1)):s&&Jt(e,"directives end mark is expected"),ma(e,e.lineIndent-1,Ld,!1,!0),Qe(e,!0,-1),e.checkLineBreaks&&Hst.test(e.input.slice(t,e.position))&&vu(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ac(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Qe(e,!0,-1));return}if(e.position<e.length-1)Jt(e,"end of the stream or a document separator is expected");else return}P(NN,"readDocument");function _2(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new xN(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Jt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)NN(r);return r.documents}P(_2,"loadDocuments");function zst(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=_2(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}P(zst,"loadAll$1");function ON(e,t){var r=_2(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new dn("expected a single document in the stream, but found more")}}P(ON,"load$1");var jst=ON,Wst={load:jst},PN=Object.prototype.toString,DN=Object.prototype.hasOwnProperty,E2=65279,qst=9,Au=10,Gst=13,Vst=32,Yst=33,Xst=34,uy=35,Kst=37,Zst=38,Qst=39,Jst=42,BN=44,tat=45,Rd=58,eat=61,rat=62,nat=63,iat=64,MN=91,FN=93,sat=96,UN=123,aat=124,HN=125,zr={};zr[0]="\\0";zr[7]="\\a";zr[8]="\\b";zr[9]="\\t";zr[10]="\\n";zr[11]="\\v";zr[12]="\\f";zr[13]="\\r";zr[27]="\\e";zr[34]='\\"';zr[92]="\\\\";zr[133]="\\N";zr[160]="\\_";zr[8232]="\\L";zr[8233]="\\P";var oat=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],lat=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function $N(e,t){var r,n,i,s,a,o,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],o=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap.fallback[a],l&&DN.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}P($N,"compileStyleMap");function zN(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new dn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+mr.repeat("0",n-t.length)+t}P(zN,"encodeHex");var uat=1,Cu=2;function jN(e){this.schema=e.schema||hN,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=mr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=$N(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Cu:uat,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}P(jN,"State");function cy(e,t){for(var r=mr.repeat(" ",t),n=0,i=-1,s="",a,o=e.length;n<o;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=o):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}P(cy,"indentString");function Nd(e,t){return`
`+mr.repeat(" ",e.indent*t)}P(Nd,"generateNextLine");function WN(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}P(WN,"testImplicitResolving");function ku(e){return e===Vst||e===qst}P(ku,"isWhitespace");function Po(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==E2||65536<=e&&e<=1114111}P(Po,"isPrintable");function hy(e){return Po(e)&&e!==E2&&e!==Gst&&e!==Au}P(hy,"isNsCharOrWhitespace");function dy(e,t,r){var n=hy(e),i=n&&!ku(e);return(r?n:n&&e!==BN&&e!==MN&&e!==FN&&e!==UN&&e!==HN)&&e!==uy&&!(t===Rd&&!i)||hy(t)&&!ku(t)&&e===uy||t===Rd&&i}P(dy,"isPlainSafe");function qN(e){return Po(e)&&e!==E2&&!ku(e)&&e!==tat&&e!==nat&&e!==Rd&&e!==BN&&e!==MN&&e!==FN&&e!==UN&&e!==HN&&e!==uy&&e!==Zst&&e!==Jst&&e!==Yst&&e!==aat&&e!==eat&&e!==rat&&e!==Qst&&e!==Xst&&e!==Kst&&e!==iat&&e!==sat}P(qN,"isPlainSafeFirst");function GN(e){return!ku(e)&&e!==Rd}P(GN,"isPlainSafeLast");function Ka(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}P(Ka,"codePointAt");function w2(e){var t=/^\n* /;return t.test(e)}P(w2,"needIndentIndicator");var VN=1,fy=2,YN=3,XN=4,Wa=5;function KN(e,t,r,n,i,s,a,o){var l,u=0,c=null,h=!1,f=!1,d=n!==-1,p=-1,g=qN(Ka(e,0))&&GN(Ka(e,e.length-1));if(t||a)for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Ka(e,l),!Po(u))return Wa;g=g&&dy(u,c,o),c=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Ka(e,l),u===Au)h=!0,d&&(f=f||l-p-1>n&&e[p+1]!==" ",p=l);else if(!Po(u))return Wa;g=g&&dy(u,c,o),c=u}f=f||d&&l-p-1>n&&e[p+1]!==" "}return!h&&!f?g&&!a&&!i(e)?VN:s===Cu?Wa:fy:r>9&&w2(e)?Wa:a?s===Cu?Wa:fy:f?XN:YN}P(KN,"chooseScalarStyle");function ZN(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Cu?'""':"''";if(!e.noCompatMode&&(oat.indexOf(t)!==-1||lat.test(t)))return e.quotingType===Cu?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),o=n||e.flowLevel>-1&&r>=e.flowLevel;function l(u){return WN(e,u)}switch(P(l,"testAmbiguity"),KN(t,o,e.indent,a,l,e.quotingType,e.forceQuotes&&!n,i)){case VN:return t;case fy:return"'"+t.replace(/'/g,"''")+"'";case YN:return"|"+py(t,e.indent)+my(cy(t,s));case XN:return">"+py(t,e.indent)+my(cy(QN(t,a),s));case Wa:return'"'+JN(t)+'"';default:throw new dn("impossible error: invalid scalar style")}}()}P(ZN,"writeScalar");function py(e,t){var r=w2(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}P(py,"blockHeader");function my(e){return e[e.length-1]===`
`?e.slice(0,-1):e}P(my,"dropEndingNewline");function QN(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,gy(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var o=a[1],l=a[2];s=l[0]===" ",n+=o+(!i&&!s&&l!==""?`
`:"")+gy(l,t),i=s}return n}P(QN,"foldString");function gy(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,o=0,l="";n=r.exec(e);)o=n.index,o-i>t&&(s=a>i?a:o,l+=`
`+e.slice(i,s),i=s+1),a=o;return l+=`
`,e.length-i>t&&a>i?l+=e.slice(i,a)+`
`+e.slice(a+1):l+=e.slice(i),l.slice(1)}P(gy,"foldLine");function JN(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ka(e,i),n=zr[r],!n&&Po(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||zN(r);return t}P(JN,"escapeString");function t3(e,t,r){var n="",i=e.tag,s,a,o;for(s=0,a=r.length;s<a;s+=1)o=r[s],e.replacer&&(o=e.replacer.call(r,String(s),o)),(xi(e,t,o,!1,!1)||typeof o>"u"&&xi(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}P(t3,"writeFlowSequence");function by(e,t,r,n){var i="",s=e.tag,a,o,l;for(a=0,o=r.length;a<o;a+=1)l=r[a],e.replacer&&(l=e.replacer.call(r,String(a),l)),(xi(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&xi(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Nd(e,t)),e.dump&&Au===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}P(by,"writeBlockSequence");function e3(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,o,l,u,c;for(a=0,o=s.length;a<o;a+=1)c="",n!==""&&(c+=", "),e.condenseFlow&&(c+='"'),l=s[a],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),xi(e,t,l,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),xi(e,t,u,!1,!1)&&(c+=e.dump,n+=c));e.tag=i,e.dump="{"+n+"}"}P(e3,"writeFlowMapping");function r3(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),o,l,u,c,h,f;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new dn("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)f="",(!n||i!=="")&&(f+=Nd(e,t)),u=a[o],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),xi(e,t+1,u,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&Au===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,h&&(f+=Nd(e,t)),xi(e,t+1,c,!0,h)&&(e.dump&&Au===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}P(r3,"writeBlockMapping");function yy(e,t,r){var n,i,s,a,o,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,PN.call(o.represent)==="[object Function]")n=o.represent(t,l);else if(DN.call(o.represent,l))n=o.represent[l](t,l);else throw new dn("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}P(yy,"detectType");function xi(e,t,r,n,i,s,a){e.tag=null,e.dump=r,yy(e,r,!1)||yy(e,r,!0);var o=PN.call(e.dump),l=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var c=o==="[object Object]"||o==="[object Array]",h,f;if(c&&(h=e.duplicates.indexOf(r),f=h!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(c&&f&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),o==="[object Object]")n&&Object.keys(e.dump).length!==0?(r3(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(e3(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(o==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?by(e,t-1,e.dump,i):by(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(t3(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&ZN(e,e.dump,t,s,l);else{if(o==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new dn("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}P(xi,"writeNode");function n3(e,t){var r=[],n=[],i,s;for(Od(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}P(n3,"getDuplicateReferences");function Od(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Od(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Od(e[n[i]],t,r)}P(Od,"inspectNode");function cat(e,t){t=t||{};var r=new jN(t);r.noRefs||n3(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),xi(r,0,n,!0,!0)?r.dump+`
`:""}P(cat,"dump$1");function hat(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}P(hat,"renamed");var dat=YR,fat=Wst.load;var Pr={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},Nv={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function Pl(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=We(e),t=We(t);const[r,n]=[e.x,e.y],[i,s]=[t.x,t.y],a=i-r,o=s-n;return{angle:Math.atan(o/a),deltaX:a,deltaY:o}}P(Pl,"calculateDeltaAndAngle");var We=P(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),pat=P(e=>({x:P(function(t,r,n){let i=0;const s=We(n[0]).x<We(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Pr,e.arrowTypeStart)){const{angle:d,deltaX:p}=Pl(n[0],n[1]);i=Pr[e.arrowTypeStart]*Math.cos(d)*(p>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Pr,e.arrowTypeEnd)){const{angle:d,deltaX:p}=Pl(n[n.length-1],n[n.length-2]);i=Pr[e.arrowTypeEnd]*Math.cos(d)*(p>=0?1:-1)}const a=Math.abs(We(t).x-We(n[n.length-1]).x),o=Math.abs(We(t).y-We(n[n.length-1]).y),l=Math.abs(We(t).x-We(n[0]).x),u=Math.abs(We(t).y-We(n[0]).y),c=Pr[e.arrowTypeStart],h=Pr[e.arrowTypeEnd],f=1;if(a<h&&a>0&&o<h){let d=h+f-a;d*=s==="right"?-1:1,i-=d}if(l<c&&l>0&&u<c){let d=c+f-l;d*=s==="right"?-1:1,i+=d}return We(t).x+i},"x"),y:P(function(t,r,n){let i=0;const s=We(n[0]).y<We(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Pr,e.arrowTypeStart)){const{angle:d,deltaY:p}=Pl(n[0],n[1]);i=Pr[e.arrowTypeStart]*Math.abs(Math.sin(d))*(p>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Pr,e.arrowTypeEnd)){const{angle:d,deltaY:p}=Pl(n[n.length-1],n[n.length-2]);i=Pr[e.arrowTypeEnd]*Math.abs(Math.sin(d))*(p>=0?1:-1)}const a=Math.abs(We(t).y-We(n[n.length-1]).y),o=Math.abs(We(t).x-We(n[n.length-1]).x),l=Math.abs(We(t).y-We(n[0]).y),u=Math.abs(We(t).x-We(n[0]).x),c=Pr[e.arrowTypeStart],h=Pr[e.arrowTypeEnd],f=1;if(a<h&&a>0&&o<h){let d=h+f-a;d*=s==="up"?-1:1,i-=d}if(l<c&&l>0&&u<c){let d=c+f-l;d*=s==="up"?-1:1,i+=d}return We(t).y+i},"y")}),"getLineFunctionsWithOffset"),x2=P(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),mat=P(e=>{const{handDrawnSeed:t}=Ie();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Wo=P(e=>{const t=gat([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),gat=P(e=>{const t=new Map;return e.forEach(r=>{const[n,i]=r.split(":");t.set(n.trim(),i?.trim())}),t},"styles2Map"),i3=P(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),Yt=P(e=>{const{stylesArray:t}=Wo(e),r=[],n=[],i=[],s=[];return t.forEach(a=>{const o=a[0];i3(o)?r.push(a.join(":")+" !important"):(n.push(a.join(":")+" !important"),o.includes("stroke")&&i.push(a.join(":")+" !important"),o==="fill"&&s.push(a.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:s}},"styles2String"),Vt=P((e,t)=>{const{themeVariables:r,handDrawnSeed:n}=Ie(),{nodeBorder:i,mainBkg:s}=r,{stylesMap:a}=Wo(e);return Object.assign({roughness:.7,fill:a.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||i,seed:n,strokeWidth:a.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:bat(a.get("stroke-dasharray"))},t)},"userNodeOverrides"),bat=P(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const i=isNaN(t[0])?0:t[0];return[i,i]}const r=isNaN(t[0])?0:t[0],n=isNaN(t[1])?0:t[1];return[r,n]},"getStrokeDashArray"),El={},ur={},Ov;function yat(){return Ov||(Ov=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.BLANK_URL=ur.relativeFirstCharacters=ur.whitespaceEscapeCharsRegex=ur.urlSchemeRegex=ur.ctrlCharactersRegex=ur.htmlCtrlEntityRegex=ur.htmlEntitiesRegex=ur.invalidProtocolRegex=void 0,ur.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,ur.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,ur.htmlCtrlEntityRegex=/&(newline|tab);/gi,ur.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ur.urlSchemeRegex=/^.+(:|&colon;)/gim,ur.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,ur.relativeFirstCharacters=[".","/"],ur.BLANK_URL="about:blank"),ur}var Pv;function _at(){if(Pv)return El;Pv=1,Object.defineProperty(El,"__esModule",{value:!0}),El.sanitizeUrl=void 0;var e=yat();function t(a){return e.relativeFirstCharacters.indexOf(a[0])>-1}function r(a){var o=a.replace(e.ctrlCharactersRegex,"");return o.replace(e.htmlEntitiesRegex,function(l,u){return String.fromCharCode(u)})}function n(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return e.BLANK_URL;var o,l=i(a.trim());do l=r(l).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(e.ctrlCharactersRegex)||l.match(e.htmlEntitiesRegex)||l.match(e.htmlCtrlEntityRegex)||l.match(e.whitespaceEscapeCharsRegex);while(o&&o.length>0);var u=l;if(!u)return e.BLANK_URL;if(t(u))return u;var c=u.trimStart(),h=c.match(e.urlSchemeRegex);if(!h)return u;var f=h[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(f))return e.BLANK_URL;var d=c.replace(/\\/g,"/");if(f==="mailto:"||f.includes("://"))return d;if(f==="http:"||f==="https:"){if(!n(d))return e.BLANK_URL;var p=new URL(d);return p.protocol=p.protocol.toLowerCase(),p.hostname=p.hostname.toLowerCase(),p.toString()}return d}return El.sanitizeUrl=s,El}var Eat=_at(),s3=typeof global=="object"&&global&&global.Object===Object&&global,wat=typeof self=="object"&&self&&self.Object===Object&&self,Ci=s3||wat||Function("return this")(),Pd=Ci.Symbol,a3=Object.prototype,xat=a3.hasOwnProperty,Tat=a3.toString,wl=Pd?Pd.toStringTag:void 0;function vat(e){var t=xat.call(e,wl),r=e[wl];try{e[wl]=void 0;var n=!0}catch{}var i=Tat.call(e);return n&&(t?e[wl]=r:delete e[wl]),i}var Aat=Object.prototype,Cat=Aat.toString;function kat(e){return Cat.call(e)}var Sat="[object Null]",Iat="[object Undefined]",Dv=Pd?Pd.toStringTag:void 0;function qo(e){return e==null?e===void 0?Iat:Sat:Dv&&Dv in Object(e)?vat(e):kat(e)}function Aa(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Lat="[object AsyncFunction]",Rat="[object Function]",Nat="[object GeneratorFunction]",Oat="[object Proxy]";function T2(e){if(!Aa(e))return!1;var t=qo(e);return t==Rat||t==Nat||t==Lat||t==Oat}var Kg=Ci["__core-js_shared__"],Bv=function(){var e=/[^.]+$/.exec(Kg&&Kg.keys&&Kg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Pat(e){return!!Bv&&Bv in e}var Dat=Function.prototype,Bat=Dat.toString;function Ca(e){if(e!=null){try{return Bat.call(e)}catch{}try{return e+""}catch{}}return""}var Mat=/[\\^$.*+?()[\]{}|]/g,Fat=/^\[object .+?Constructor\]$/,Uat=Function.prototype,Hat=Object.prototype,$at=Uat.toString,zat=Hat.hasOwnProperty,jat=RegExp("^"+$at.call(zat).replace(Mat,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wat(e){if(!Aa(e)||Pat(e))return!1;var t=T2(e)?jat:Fat;return t.test(Ca(e))}function qat(e,t){return e?.[t]}function ka(e,t){var r=qat(e,t);return Wat(r)?r:void 0}var Su=ka(Object,"create");function Gat(){this.__data__=Su?Su(null):{},this.size=0}function Vat(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Yat="__lodash_hash_undefined__",Xat=Object.prototype,Kat=Xat.hasOwnProperty;function Zat(e){var t=this.__data__;if(Su){var r=t[e];return r===Yat?void 0:r}return Kat.call(t,e)?t[e]:void 0}var Qat=Object.prototype,Jat=Qat.hasOwnProperty;function tot(e){var t=this.__data__;return Su?t[e]!==void 0:Jat.call(t,e)}var eot="__lodash_hash_undefined__";function rot(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Su&&t===void 0?eot:t,this}function ga(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ga.prototype.clear=Gat;ga.prototype.delete=Vat;ga.prototype.get=Zat;ga.prototype.has=tot;ga.prototype.set=rot;function not(){this.__data__=[],this.size=0}function Hf(e,t){return e===t||e!==e&&t!==t}function $f(e,t){for(var r=e.length;r--;)if(Hf(e[r][0],t))return r;return-1}var iot=Array.prototype,sot=iot.splice;function aot(e){var t=this.__data__,r=$f(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sot.call(t,r,1),--this.size,!0}function oot(e){var t=this.__data__,r=$f(t,e);return r<0?void 0:t[r][1]}function lot(e){return $f(this.__data__,e)>-1}function uot(e,t){var r=this.__data__,n=$f(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ts(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ts.prototype.clear=not;ts.prototype.delete=aot;ts.prototype.get=oot;ts.prototype.has=lot;ts.prototype.set=uot;var Iu=ka(Ci,"Map");function cot(){this.size=0,this.__data__={hash:new ga,map:new(Iu||ts),string:new ga}}function hot(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zf(e,t){var r=e.__data__;return hot(t)?r[typeof t=="string"?"string":"hash"]:r.map}function dot(e){var t=zf(this,e).delete(e);return this.size-=t?1:0,t}function fot(e){return zf(this,e).get(e)}function pot(e){return zf(this,e).has(e)}function mot(e,t){var r=zf(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Is(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Is.prototype.clear=cot;Is.prototype.delete=dot;Is.prototype.get=fot;Is.prototype.has=pot;Is.prototype.set=mot;var got="Expected a function";function oc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(got);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(oc.Cache||Is),r}oc.Cache=Is;function bot(){this.__data__=new ts,this.size=0}function yot(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function _ot(e){return this.__data__.get(e)}function Eot(e){return this.__data__.has(e)}var wot=200;function xot(e,t){var r=this.__data__;if(r instanceof ts){var n=r.__data__;if(!Iu||n.length<wot-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Is(n)}return r.set(e,t),this.size=r.size,this}function Go(e){var t=this.__data__=new ts(e);this.size=t.size}Go.prototype.clear=bot;Go.prototype.delete=yot;Go.prototype.get=_ot;Go.prototype.has=Eot;Go.prototype.set=xot;var Dd=function(){try{var e=ka(Object,"defineProperty");return e({},"",{}),e}catch{}}();function v2(e,t,r){t=="__proto__"&&Dd?Dd(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function _y(e,t,r){(r!==void 0&&!Hf(e[t],r)||r===void 0&&!(t in e))&&v2(e,t,r)}function Tot(e){return function(t,r,n){for(var i=-1,s=Object(t),a=n(t),o=a.length;o--;){var l=a[++i];if(r(s[l],l,s)===!1)break}return t}}var vot=Tot(),o3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mv=o3&&typeof module=="object"&&module&&!module.nodeType&&module,Aot=Mv&&Mv.exports===o3,Fv=Aot?Ci.Buffer:void 0,Uv=Fv?Fv.allocUnsafe:void 0;function Cot(e,t){if(t)return e.slice();var r=e.length,n=Uv?Uv(r):new e.constructor(r);return e.copy(n),n}var Hv=Ci.Uint8Array;function kot(e){var t=new e.constructor(e.byteLength);return new Hv(t).set(new Hv(e)),t}function Sot(e,t){var r=t?kot(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Iot(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var $v=Object.create,Lot=function(){function e(){}return function(t){if(!Aa(t))return{};if($v)return $v(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function l3(e,t){return function(r){return e(t(r))}}var u3=l3(Object.getPrototypeOf,Object),Rot=Object.prototype;function jf(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Rot;return e===r}function Not(e){return typeof e.constructor=="function"&&!jf(e)?Lot(u3(e)):{}}function lc(e){return e!=null&&typeof e=="object"}var Oot="[object Arguments]";function zv(e){return lc(e)&&qo(e)==Oot}var c3=Object.prototype,Pot=c3.hasOwnProperty,Dot=c3.propertyIsEnumerable,Bd=zv(function(){return arguments}())?zv:function(e){return lc(e)&&Pot.call(e,"callee")&&!Dot.call(e,"callee")},Md=Array.isArray,Bot=9007199254740991;function h3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Bot}function Wf(e){return e!=null&&h3(e.length)&&!T2(e)}function Mot(e){return lc(e)&&Wf(e)}function Fot(){return!1}var d3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jv=d3&&typeof module=="object"&&module&&!module.nodeType&&module,Uot=jv&&jv.exports===d3,Wv=Uot?Ci.Buffer:void 0,Hot=Wv?Wv.isBuffer:void 0,A2=Hot||Fot,$ot="[object Object]",zot=Function.prototype,jot=Object.prototype,f3=zot.toString,Wot=jot.hasOwnProperty,qot=f3.call(Object);function Got(e){if(!lc(e)||qo(e)!=$ot)return!1;var t=u3(e);if(t===null)return!0;var r=Wot.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&f3.call(r)==qot}var Vot="[object Arguments]",Yot="[object Array]",Xot="[object Boolean]",Kot="[object Date]",Zot="[object Error]",Qot="[object Function]",Jot="[object Map]",tlt="[object Number]",elt="[object Object]",rlt="[object RegExp]",nlt="[object Set]",ilt="[object String]",slt="[object WeakMap]",alt="[object ArrayBuffer]",olt="[object DataView]",llt="[object Float32Array]",ult="[object Float64Array]",clt="[object Int8Array]",hlt="[object Int16Array]",dlt="[object Int32Array]",flt="[object Uint8Array]",plt="[object Uint8ClampedArray]",mlt="[object Uint16Array]",glt="[object Uint32Array]",He={};He[llt]=He[ult]=He[clt]=He[hlt]=He[dlt]=He[flt]=He[plt]=He[mlt]=He[glt]=!0;He[Vot]=He[Yot]=He[alt]=He[Xot]=He[olt]=He[Kot]=He[Zot]=He[Qot]=He[Jot]=He[tlt]=He[elt]=He[rlt]=He[nlt]=He[ilt]=He[slt]=!1;function blt(e){return lc(e)&&h3(e.length)&&!!He[qo(e)]}function ylt(e){return function(t){return e(t)}}var p3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nu=p3&&typeof module=="object"&&module&&!module.nodeType&&module,_lt=nu&&nu.exports===p3,Zg=_lt&&s3.process,qv=function(){try{var e=nu&&nu.require&&nu.require("util").types;return e||Zg&&Zg.binding&&Zg.binding("util")}catch{}}(),Gv=qv&&qv.isTypedArray,C2=Gv?ylt(Gv):blt;function Ey(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Elt=Object.prototype,wlt=Elt.hasOwnProperty;function xlt(e,t,r){var n=e[t];(!(wlt.call(e,t)&&Hf(n,r))||r===void 0&&!(t in e))&&v2(e,t,r)}function Tlt(e,t,r,n){var i=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;l===void 0&&(l=e[o]),i?v2(r,o,l):xlt(r,o,l)}return r}function vlt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Alt=9007199254740991,Clt=/^(?:0|[1-9]\d*)$/;function m3(e,t){var r=typeof e;return t=t??Alt,!!t&&(r=="number"||r!="symbol"&&Clt.test(e))&&e>-1&&e%1==0&&e<t}var klt=Object.prototype,Slt=klt.hasOwnProperty;function Ilt(e,t){var r=Md(e),n=!r&&Bd(e),i=!r&&!n&&A2(e),s=!r&&!n&&!i&&C2(e),a=r||n||i||s,o=a?vlt(e.length,String):[],l=o.length;for(var u in e)(t||Slt.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||m3(u,l)))&&o.push(u);return o}function Llt(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Rlt=Object.prototype,Nlt=Rlt.hasOwnProperty;function Olt(e){if(!Aa(e))return Llt(e);var t=jf(e),r=[];for(var n in e)n=="constructor"&&(t||!Nlt.call(e,n))||r.push(n);return r}function g3(e){return Wf(e)?Ilt(e,!0):Olt(e)}function Plt(e){return Tlt(e,g3(e))}function Dlt(e,t,r,n,i,s,a){var o=Ey(e,r),l=Ey(t,r),u=a.get(l);if(u){_y(e,r,u);return}var c=s?s(o,l,r+"",e,t,a):void 0,h=c===void 0;if(h){var f=Md(l),d=!f&&A2(l),p=!f&&!d&&C2(l);c=l,f||d||p?Md(o)?c=o:Mot(o)?c=Iot(o):d?(h=!1,c=Cot(l,!0)):p?(h=!1,c=Sot(l,!0)):c=[]:Got(l)||Bd(l)?(c=o,Bd(o)?c=Plt(o):(!Aa(o)||T2(o))&&(c=Not(l))):h=!1}h&&(a.set(l,c),i(c,l,n,s,a),a.delete(l)),_y(e,r,c)}function b3(e,t,r,n,i){e!==t&&vot(t,function(s,a){if(i||(i=new Go),Aa(s))Dlt(e,t,a,r,b3,n,i);else{var o=n?n(Ey(e,a),s,a+"",e,t,i):void 0;o===void 0&&(o=s),_y(e,a,o)}},g3)}function y3(e){return e}function Blt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Vv=Math.max;function Mlt(e,t,r){return t=Vv(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=Vv(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(a),Blt(e,this,o)}}function Flt(e){return function(){return e}}var Ult=Dd?function(e,t){return Dd(e,"toString",{configurable:!0,enumerable:!1,value:Flt(t),writable:!0})}:y3,Hlt=800,$lt=16,zlt=Date.now;function jlt(e){var t=0,r=0;return function(){var n=zlt(),i=$lt-(n-r);if(r=n,i>0){if(++t>=Hlt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Wlt=jlt(Ult);function qlt(e,t){return Wlt(Mlt(e,t,y3),e+"")}function Glt(e,t,r){if(!Aa(r))return!1;var n=typeof t;return(n=="number"?Wf(r)&&m3(t,r.length):n=="string"&&t in r)?Hf(r[t],e):!1}function Vlt(e){return qlt(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,a&&Glt(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var o=r[n];o&&e(t,o,n,s)}return t})}var Ylt=Vlt(function(e,t,r){b3(e,t,r)}),Xlt="â",Klt={curveBasis:vh,curveBasisClosed:Qit,curveBasisOpen:Jit,curveBumpX:nR,curveBumpY:iR,curveBundle:tst,curveCardinalClosed:est,curveCardinalOpen:rst,curveCardinal:lR,curveCatmullRomClosed:nst,curveCatmullRomOpen:ist,curveCatmullRom:cR,curveLinear:vd,curveLinearClosed:sst,curveMonotoneX:gR,curveMonotoneY:bR,curveNatural:_R,curveStep:ER,curveStepAfter:xR,curveStepBefore:wR},Zlt=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Qlt=P(function(e,t){const r=_3(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const a=r.map(o=>o.args);fd(a),n=pr(n,[...a])}else n=r.args;if(!n)return;let i=K1(e,t);const s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),_3=P(function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${Zlt.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),Lt.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const i=[];for(;(n=eu.exec(e))!==null;)if(n.index===eu.lastIndex&&eu.lastIndex++,n&&!t||t&&n[1]?.match(t)||t&&n[2]?.match(t)){const s=n[1]?n[1]:n[2],a=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:s,args:a})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return Lt.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),Jlt=P(function(e){return e.replace(eu,"")},"removeDirectives"),tut=P(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function k2(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return Klt[r]??t}P(k2,"interpolateToCurve");function E3(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?Eat.sanitizeUrl(r):r}P(E3,"formatUrl");var eut=P((e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let s=window;for(let a=0;a<n;a++)if(s=s[r[a]],!s){Lt.error(`Function name: ${e} not found in window`);return}s[i](...t)},"runFunc");function S2(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}P(S2,"distance");function w3(e){let t,r=0;e.forEach(i=>{r+=S2(i,t),t=i});const n=r/2;return I2(e,n)}P(w3,"traverseEdge");function x3(e){return e.length===1?e[0]:w3(e)}P(x3,"calcLabelPosition");var Yv=P((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),I2=P((e,t)=>{let r,n=t;for(const i of e){if(r){const s=S2(i,r);if(s===0)return r;if(s<n)n-=s;else{const a=n/s;if(a<=0)return r;if(a>=1)return{x:i.x,y:i.y};if(a>0&&a<1)return{x:Yv((1-a)*r.x+a*i.x,5),y:Yv((1-a)*r.y+a*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),rut=P((e,t,r)=>{Lt.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=I2(t,25),s=e?10:5,a=Math.atan2(t[0].y-i.y,t[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(a)*s+(t[0].x+i.x)/2,o.y=-Math.cos(a)*s+(t[0].y+i.y)/2,o},"calcCardinalityPosition");function T3(e,t,r){const n=structuredClone(r);Lt.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,s=I2(n,i),a=10+e*.5,o=Math.atan2(n[0].y-s.y,n[0].x-s.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(o+Math.PI)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o+Math.PI)*a+(n[0].y+s.y)/2):t==="end_right"?(l.x=Math.sin(o-Math.PI)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o-Math.PI)*a+(n[0].y+s.y)/2-5):t==="end_left"?(l.x=Math.sin(o)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2-5):(l.x=Math.sin(o)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2),l}P(T3,"calcTerminalLabelPosition");function v3(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}P(v3,"getStylesFromArray");var Xv=0,nut=P(()=>(Xv++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Xv),"generateId");function A3(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}P(A3,"makeRandomHex");var iut=P(e=>A3(e.length),"random"),sut=P(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),aut=P(function(e,t){const r=t.text.replace(jo.lineBreakRegex," "),[,n]=qf(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const s=i.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(r),i},"drawSimpleText"),out=oc((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),jo.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),i=[];let s="";return n.forEach((a,o)=>{const l=Vi(`${a} `,r),u=Vi(s,r);if(l>t){const{hyphenatedStrings:f,remainingWord:d}=lut(a,t,"-",r);i.push(s,...f),s=d}else u+l>=t?(i.push(s),s=a):s=[s,a].filter(Boolean).join(" ");o+1===n.length&&i.push(s)}),i.filter(a=>a!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),lut=oc((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],s=[];let a="";return i.forEach((o,l)=>{const u=`${a}${o}`;if(Vi(u,n)>=t){const h=l+1,f=i.length===h,d=`${u}${r}`;s.push(f?u:d),a=""}else a=u}),{hyphenatedStrings:s,remainingWord:a}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function C3(e,t){return L2(e,t).height}P(C3,"calculateTextHeight");function Vi(e,t){return L2(e,t).width}P(Vi,"calculateTextWidth");var L2=oc((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,s]=qf(r),a=["sans-serif",n],o=e.split(jo.lineBreakRegex),l=[],u=Ae("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const c=u.append("svg");for(const f of a){let d=0;const p={width:0,height:0,lineHeight:0};for(const g of o){const y=sut();y.text=g||Xlt;const m=aut(c,y).style("font-size",s).style("font-weight",i).style("font-family",f),b=(m._groups||m)[0][0].getBBox();if(b.width===0&&b.height===0)throw new Error("svg element not in render tree");p.width=Math.round(Math.max(p.width,b.width)),d=Math.round(b.height),p.height+=d,p.lineHeight=Math.round(Math.max(p.lineHeight,d))}l.push(p)}c.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),po,uut=(po=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},P(po,"InitIDGenerator"),po),Kc,cut=P(function(e){return Kc=Kc||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Kc.innerHTML=e,unescape(Kc.textContent)},"entityDecode");function R2(e){return"str"in e}P(R2,"isDetailedError");var hut=P((e,t,r,n)=>{if(!n)return;const i=e.node()?.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),qf=P(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function N2(e,t){return Ylt({},e,t)}P(N2,"cleanAndMerge");var Gn={assignWithDepth:pr,wrapLabel:out,calculateTextHeight:C3,calculateTextWidth:Vi,calculateTextDimensions:L2,cleanAndMerge:N2,detectInit:Qlt,detectDirective:_3,isSubstringInArray:tut,interpolateToCurve:k2,calcLabelPosition:x3,calcCardinalityPosition:rut,calcTerminalLabelPosition:T3,formatUrl:E3,getStylesFromArray:v3,generateId:nut,random:iut,runFunc:eut,entityDecode:cut,insertTitle:hut,isLabelCoordinateInPath:k3,parseFontSize:qf,InitIDGenerator:uut},dut=P(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ï¬Â°Â°"+n+"Â¶Ã":"ï¬Â°"+n+"Â¶Ã"}),t},"encodeEntities"),Sa=P(function(e){return e.replace(/ï¬Â°Â°/g,"&#").replace(/ï¬Â°/g,"&").replace(/Â¶Ã/g,";")},"decodeEntities"),g0t=P((e,t,{counter:r=0,prefix:n,suffix:i},s)=>s||`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId");function Ur(e){return e??null}P(Ur,"handleUndefinedAttr");function k3(e,t){const r=Math.round(e.x),n=Math.round(e.y),i=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(r.toString())||i.includes(n.toString())}P(k3,"isLabelCoordinateInPath");const fut=Object.freeze({left:0,top:0,width:16,height:16}),Fd=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),S3=Object.freeze({...fut,...Fd}),put=Object.freeze({...S3,body:"",hidden:!1}),mut=Object.freeze({width:null,height:null}),gut=Object.freeze({...mut,...Fd}),but=(e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:o};return Qg(u)?u:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return Qg(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:s};return Qg(o,r)?o:null}return null},Qg=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function yut(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function Kv(e,t){const r=yut(e,t);for(const n in put)n in Fd?n in e&&!(n in r)&&(r[n]=Fd[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function _ut(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function s(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function Zv(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let s={};function a(o){s=Kv(n[o]||i[o],s)}return a(t),r.forEach(a),Kv(e,s)}function Eut(e,t){if(e.icons[t])return Zv(e,t,[]);const r=_ut(e,[t])[t];return r?Zv(e,t,r):null}const wut=/(-?[0-9.]*[0-9]+[0-9.]*)/g,xut=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Qv(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(wut);if(n===null||!n.length)return e;const i=[];let s=n.shift(),a=xut.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*t*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function Tut(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const a=e.indexOf(">",s);if(a===-1)break;r+=e.slice(i+1,s).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:r,content:e}}function vut(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Aut(e,t,r){const n=Tut(e);return vut(n.defs,t+n.content+r)}const Cut=e=>e==="unset"||e==="undefined"||e==="none";function kut(e,t){const r={...S3,...e},n={...gut,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(g=>{const y=[],m=g.hFlip,b=g.vFlip;let _=g.rotate;m?b?_+=2:(y.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),y.push("scale(-1 1)"),i.top=i.left=0):b&&(y.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),y.push("scale(1 -1)"),i.top=i.left=0);let T;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:T=i.height/2+i.top,y.unshift("rotate(90 "+T.toString()+" "+T.toString()+")");break;case 2:y.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:T=i.width/2+i.left,y.unshift("rotate(-90 "+T.toString()+" "+T.toString()+")");break}_%2===1&&(i.left!==i.top&&(T=i.left,i.left=i.top,i.top=T),i.width!==i.height&&(T=i.width,i.width=i.height,i.height=T)),y.length&&(s=Aut(s,'<g transform="'+y.join(" ")+'">',"</g>"))});const a=n.width,o=n.height,l=i.width,u=i.height;let c,h;a===null?(h=o===null?"1em":o==="auto"?u:o,c=Qv(h,l/u)):(c=a==="auto"?l:a,h=o===null?Qv(c,u/l):o==="auto"?u:o);const f={},d=(g,y)=>{Cut(y)||(f[g]=y.toString())};d("width",c),d("height",h);const p=[i.left,i.top,l,u];return f.viewBox=p.join(" "),{attributes:f,viewBox:p,body:s}}const Sut=/\sid="(\S+)"/g,Jv=new Map;function Iut(e){e=e.replace(/[0-9]+$/,"")||"a";const t=Jv.get(e)||0;return Jv.set(e,t+1),t?`${e}${t}`:e}function Lut(e){const t=[];let r;for(;r=Sut.exec(e);)t.push(r[1]);if(!t.length)return e;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(i=>{const s=Iut(i),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+s+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}function Rut(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function O2(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ia=O2();function I3(e){Ia=e}var iu={exec:()=>null};function Se(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Zr.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,t)};return n}var Nut=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Zr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Out=/^(?:[ \t]*(?:\n|$))+/,Put=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Dut=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,uc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,But=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,P2=/(?:[*+-]|\d{1,9}[.)])/,L3=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,R3=Se(L3).replace(/bull/g,P2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Mut=Se(L3).replace(/bull/g,P2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),D2=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Fut=/^[^\n]+/,B2=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Uut=Se(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",B2).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Hut=Se(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,P2).getRegex(),Gf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M2=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,$ut=Se("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",M2).replace("tag",Gf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),N3=Se(D2).replace("hr",uc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gf).getRegex(),zut=Se(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",N3).getRegex(),F2={blockquote:zut,code:Put,def:Uut,fences:Dut,heading:But,hr:uc,html:$ut,lheading:R3,list:Hut,newline:Out,paragraph:N3,table:iu,text:Fut},tA=Se("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",uc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gf).getRegex(),jut={...F2,lheading:Mut,table:tA,paragraph:Se(D2).replace("hr",uc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",tA).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gf).getRegex()},Wut={...F2,html:Se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",M2).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:iu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Se(D2).replace("hr",uc).replace("heading",` *#{1,6} *[^
]`).replace("lheading",R3).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},qut=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Gut=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,O3=/^( {2,}|\\)\n(?!\s*$)/,Vut=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Vf=/[\p{P}\p{S}]/u,U2=/[\s\p{P}\p{S}]/u,P3=/[^\s\p{P}\p{S}]/u,Yut=Se(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,U2).getRegex(),D3=/(?!~)[\p{P}\p{S}]/u,Xut=/(?!~)[\s\p{P}\p{S}]/u,Kut=/(?:[^\s\p{P}\p{S}]|~)/u,Zut=Se(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Nut?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),B3=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Qut=Se(B3,"u").replace(/punct/g,Vf).getRegex(),Jut=Se(B3,"u").replace(/punct/g,D3).getRegex(),M3="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",tct=Se(M3,"gu").replace(/notPunctSpace/g,P3).replace(/punctSpace/g,U2).replace(/punct/g,Vf).getRegex(),ect=Se(M3,"gu").replace(/notPunctSpace/g,Kut).replace(/punctSpace/g,Xut).replace(/punct/g,D3).getRegex(),rct=Se("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,P3).replace(/punctSpace/g,U2).replace(/punct/g,Vf).getRegex(),nct=Se(/\\(punct)/,"gu").replace(/punct/g,Vf).getRegex(),ict=Se(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),sct=Se(M2).replace("(?:-->|$)","-->").getRegex(),act=Se("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",sct).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ud=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,oct=Se(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ud).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),F3=Se(/^!?\[(label)\]\[(ref)\]/).replace("label",Ud).replace("ref",B2).getRegex(),U3=Se(/^!?\[(ref)\](?:\[\])?/).replace("ref",B2).getRegex(),lct=Se("reflink|nolink(?!\\()","g").replace("reflink",F3).replace("nolink",U3).getRegex(),eA=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,H2={_backpedal:iu,anyPunctuation:nct,autolink:ict,blockSkip:Zut,br:O3,code:Gut,del:iu,emStrongLDelim:Qut,emStrongRDelimAst:tct,emStrongRDelimUnd:rct,escape:qut,link:oct,nolink:U3,punctuation:Yut,reflink:F3,reflinkSearch:lct,tag:act,text:Vut,url:iu},uct={...H2,link:Se(/^!?\[(label)\]\((.*?)\)/).replace("label",Ud).getRegex(),reflink:Se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ud).getRegex()},wy={...H2,emStrongRDelimAst:ect,emStrongLDelim:Jut,url:Se(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",eA).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Se(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",eA).getRegex()},cct={...wy,br:Se(O3).replace("{2,}","*").getRegex(),text:Se(wy.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Zc={normal:F2,gfm:jut,pedantic:Wut},xl={normal:H2,gfm:wy,breaks:cct,pedantic:uct},hct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rA=e=>hct[e];function hi(e,t){if(t){if(Zr.escapeTest.test(e))return e.replace(Zr.escapeReplace,rA)}else if(Zr.escapeTestNoEncode.test(e))return e.replace(Zr.escapeReplaceNoEncode,rA);return e}function nA(e){try{e=encodeURI(e).replace(Zr.percentDecode,"%")}catch{return null}return e}function iA(e,t){let r=e.replace(Zr.findPipe,(s,a,o)=>{let l=!1,u=a;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(Zr.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Zr.slashPipe,"|");return n}function Tl(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function dct(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function sA(e,t,r,n,i){let s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function fct(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let a=s.match(r.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var Hd=class{options;rules;lexer;constructor(t){this.options=t||Ia}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Tl(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=fct(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=Tl(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Tl(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=Tl(r[0],`
`).split(`
`),i="",s="",a=[];for(;n.length>0;){let o=!1,l=[],u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))l.push(n[u]),o=!0;else if(!o)l.push(n[u]);else break;n=n.slice(u);let c=l.join(`
`),h=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${c}`:c,s=s?`${s}
${h}`:h;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=f,n.length===0)break;let d=a.at(-1);if(d?.type==="code")break;if(d?.type==="blockquote"){let p=d,g=p.raw+`
`+n.join(`
`),y=this.blockquote(g);a[a.length-1]=y,i=i.substring(0,i.length-p.raw.length)+y.raw,s=s.substring(0,s.length-p.text.length)+y.text;break}else if(d?.type==="list"){let p=d,g=p.raw+`
`+n.join(`
`),y=this.list(g);a[a.length-1]=y,i=i.substring(0,i.length-d.raw.length)+y.raw,s=s.substring(0,s.length-p.raw.length)+y.raw,n=g.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let a=this.rules.other.listItemRegex(n),o=!1;for(;t;){let u=!1,c="",h="";if(!(r=a.exec(t))||this.rules.block.hr.test(t))break;c=r[0],t=t.substring(c.length);let f=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),d=t.split(`
`,1)[0],p=!f.trim(),g=0;if(this.options.pedantic?(g=2,h=f.trimStart()):p?g=r[1].length+1:(g=r[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,h=f.slice(g),g+=r[1].length),p&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,t=t.substring(d.length+1),u=!0),!u){let b=this.rules.other.nextBulletRegex(g),_=this.rules.other.hrRegex(g),T=this.rules.other.fencesBeginRegex(g),C=this.rules.other.headingBeginRegex(g),L=this.rules.other.htmlBeginRegex(g);for(;t;){let N=t.split(`
`,1)[0],z;if(d=N,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),z=d):z=d.replace(this.rules.other.tabCharGlobal,"    "),T.test(d)||C.test(d)||L.test(d)||b.test(d)||_.test(d))break;if(z.search(this.rules.other.nonSpaceChar)>=g||!d.trim())h+=`
`+z.slice(g);else{if(p||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||T.test(f)||C.test(f)||_.test(f))break;h+=`
`+d}!p&&!d.trim()&&(p=!0),c+=N+`
`,t=t.substring(N.length+1),f=z.slice(g)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let y=null,m;this.options.gfm&&(y=this.rules.other.listIsTask.exec(h),y&&(m=y[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!y,checked:m,loose:!1,text:h,tokens:[]}),s.raw+=c}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let c=s.items[u].tokens.filter(f=>f.type==="space"),h=c.length>0&&c.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=h}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(t){let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=iA(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let o of i)this.rules.other.tableAlignRight.test(o)?a.align.push("right"):this.rules.other.tableAlignCenter.test(o)?a.align.push("center"):this.rules.other.tableAlignLeft.test(o)?a.align.push("left"):a.align.push(null);for(let o=0;o<n.length;o++)a.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:a.align[o]});for(let o of s)a.rows.push(iA(o,a.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[u]})));return a}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let a=Tl(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{let a=dct(r[2],"()");if(a===-2)return;if(a>-1){let o=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),sA(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){let a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return sA(n,s,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,a,o,l=s,u=0,c=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,r=r.slice(-1*t.length+s);(i=c.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){u+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+u);let h=[...i[0]][0].length,f=t.slice(0,s+i.index+h+o);if(Math.min(s,o)%2){let p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}let d=f.slice(2,-2);return{type:"strong",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,i;if(r[2]==="@")n=r[0],i="mailto:"+n;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(s!==r[0]);n=r[0],r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},jn=class xy{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ia,this.options.tokenizer=this.options.tokenizer||new Hd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Zr,block:Zc.normal,inline:xl.normal};this.options.pedantic?(r.block=Zc.pedantic,r.inline=xl.pedantic):this.options.gfm&&(r.block=Zc.gfm,this.options.breaks?r.inline=xl.breaks:r.inline=xl.gfm),this.tokenizer.rules=r}static get rules(){return{block:Zc,inline:xl}}static lex(t,r){return new xy(r).lex(t)}static lexInline(t,r){return new xy(r).inlineTokens(t)}lex(t){t=t.replace(Zr.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(Zr.tabCharGlobal,"    ").replace(Zr.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(a=>(i=a.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let a=r.at(-1);i.raw.length===1&&a!==void 0?a.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},r.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}let s=t;if(this.options.extensions?.startBlock){let a=1/0,o=t.slice(1),l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},o),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let a=r.at(-1);n&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let a=r.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,i=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let a=!1,o="";for(;t;){a||(o=""),a=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length);let c=r.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):r.push(l);continue}if(l=this.tokenizer.emStrong(t,n,o)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.autolink(t)){t=t.substring(l.raw.length),r.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t))){t=t.substring(l.raw.length),r.push(l);continue}let u=t;if(this.options.extensions?.startInline){let c=1/0,h=t.slice(1),f;this.options.extensions.startInline.forEach(d=>{f=d.call({lexer:this},h),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(u=t.substring(0,c+1))}if(l=this.tokenizer.inlineText(u)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),a=!0;let c=r.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):r.push(l);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return r}},$d=class{options;parser;constructor(t){this.options=t||Ia}space(t){return""}code({text:t,lang:r,escaped:n}){let i=(r||"").match(Zr.notSpaceStart)?.[0],s=t.replace(Zr.endingNewline,"")+`
`;return i?'<pre><code class="language-'+hi(i)+'">'+(n?s:hi(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:hi(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,i="";for(let o=0;o<t.items.length;o++){let l=t.items[o];i+=this.listitem(l)}let s=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(t){let r="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+hi(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<t.rows.length;s++){let a=t.rows[s];n="";for(let o=0;o<a.length;o++)n+=this.tablecell(a[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${hi(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let i=this.parser.parseInline(n),s=nA(t);if(s===null)return i;t=s;let a='<a href="'+t+'"';return r&&(a+=' title="'+hi(r)+'"'),a+=">"+i+"</a>",a}image({href:t,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=nA(t);if(s===null)return hi(n);t=s;let a=`<img src="${t}" alt="${n}"`;return r&&(a+=` title="${hi(r)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:hi(t.text)}},$2=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Wn=class Ty{options;renderer;textRenderer;constructor(t){this.options=t||Ia,this.options.renderer=this.options.renderer||new $d,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $2}static parse(t,r){return new Ty(r).parse(t)}static parseInline(t,r){return new Ty(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=l||"";continue}}let a=s;switch(a.type){case"space":{n+=this.renderer.space(a);continue}case"hr":{n+=this.renderer.hr(a);continue}case"heading":{n+=this.renderer.heading(a);continue}case"code":{n+=this.renderer.code(a);continue}case"table":{n+=this.renderer.table(a);continue}case"blockquote":{n+=this.renderer.blockquote(a);continue}case"list":{n+=this.renderer.list(a);continue}case"html":{n+=this.renderer.html(a);continue}case"def":{n+=this.renderer.def(a);continue}case"paragraph":{n+=this.renderer.paragraph(a);continue}case"text":{let o=a,l=this.renderer.text(o);for(;i+1<t.length&&t[i+1].type==="text";)o=t[++i],l+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):n+=l;continue}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(t,r=this.renderer){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}let a=s;switch(a.type){case"escape":{n+=r.text(a);break}case"html":{n+=r.html(a);break}case"link":{n+=r.link(a);break}case"image":{n+=r.image(a);break}case"strong":{n+=r.strong(a);break}case"em":{n+=r.em(a);break}case"codespan":{n+=r.codespan(a);break}case"br":{n+=r.br(a);break}case"del":{n+=r.del(a);break}case"text":{n+=r.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},Dl=class{options;block;constructor(t){this.options=t||Ia}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?jn.lex:jn.lexInline}provideParser(){return this.block?Wn.parse:Wn.parseInline}},pct=class{defaults=O2();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Wn;Renderer=$d;TextRenderer=$2;Lexer=jn;Tokenizer=Hd;Hooks=Dl;constructor(...t){this.use(...t)}walkTokens(t,r){let n=[];for(let i of t)switch(n=n.concat(r.call(this,i)),i.type){case"table":{let s=i;for(let a of s.header)n=n.concat(this.walkTokens(a.tokens,r));for(let a of s.rows)for(let o of a)n=n.concat(this.walkTokens(o.tokens,r));break}case"list":{let s=i;n=n.concat(this.walkTokens(s.items,r));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(a=>{let o=s[a].flat(1/0);n=n.concat(this.walkTokens(o,r))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=r.renderers[s.name];a?r.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=r[s.level];a?a.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){let s=this.defaults.renderer||new $d(this.defaults);for(let a in n.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,l=n.renderer[o],u=s[o];s[o]=(...c)=>{let h=l.apply(s,c);return h===!1&&(h=u.apply(s,c)),h||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Hd(this.defaults);for(let a in n.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,l=n.tokenizer[o],u=s[o];s[o]=(...c)=>{let h=l.apply(s,c);return h===!1&&(h=u.apply(s,c)),h}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Dl;for(let a in n.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,l=n.hooks[o],u=s[o];Dl.passThroughHooks.has(a)?s[o]=c=>{if(this.defaults.async&&Dl.passThroughHooksRespectAsync.has(a))return(async()=>{let f=await l.call(s,c);return u.call(s,f)})();let h=l.call(s,c);return u.call(s,h)}:s[o]=(...c)=>{if(this.defaults.async)return(async()=>{let f=await l.apply(s,c);return f===!1&&(f=await u.apply(s,c)),f})();let h=l.apply(s,c);return h===!1&&(h=u.apply(s,c)),h}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return jn.lex(t,r??this.defaults)}parser(t,r){return Wn.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let i={...n},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(r):r,l=await(s.hooks?await s.hooks.provideLexer():t?jn.lex:jn.lexInline)(o,s),u=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let c=await(s.hooks?await s.hooks.provideParser():t?Wn.parse:Wn.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(c):c})().catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let o=(s.hooks?s.hooks.provideLexer():t?jn.lex:jn.lexInline)(r,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():t?Wn.parse:Wn.parseInline)(o,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(o){return a(o)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+hi(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},ba=new pct;function Le(e,t){return ba.parse(e,t)}Le.options=Le.setOptions=function(e){return ba.setOptions(e),Le.defaults=ba.defaults,I3(Le.defaults),Le};Le.getDefaults=O2;Le.defaults=Ia;Le.use=function(...e){return ba.use(...e),Le.defaults=ba.defaults,I3(Le.defaults),Le};Le.walkTokens=function(e,t){return ba.walkTokens(e,t)};Le.parseInline=ba.parseInline;Le.Parser=Wn;Le.parser=Wn.parse;Le.Renderer=$d;Le.TextRenderer=$2;Le.Lexer=jn;Le.lexer=jn.lex;Le.Tokenizer=Hd;Le.Hooks=Dl;Le.parse=Le;Le.options;Le.setOptions;Le.use;Le.walkTokens;Le.parseInline;Wn.parse;jn.lex;function H3(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?o.concat(u.map(function(c){var h,f;return(f=(h=c.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&f!==void 0?f:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(o,l){var u=a.match(/(?:^|\n)( *)$/),c=u?u[1]:"",h=o;typeof o=="string"&&o.includes(`
`)&&(h=String(o).split(`
`).map(function(f,d){return d===0?f:""+c+f}).join(`
`)),a+=h+n[l+1]}),a}var mct={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},vy=new Map,$3=new Map,gct=P(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Lt.debug("Registering icon pack:",t.name),"loader"in t)$3.set(t.name,t.loader);else if("icons"in t)vy.set(t.name,t.icons);else throw Lt.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),z3=P(async(e,t)=>{const r=but(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=vy.get(n);if(!i){const a=$3.get(n);if(!a)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await a(),prefix:n},vy.set(n,i)}catch(o){throw Lt.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=Eut(i,r.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),bct=P(async e=>{try{return await z3(e),!0}catch{return!1}},"isIconAvailable"),cc=P(async(e,t,r)=>{let n;try{n=await z3(e,t?.fallbackPrefix)}catch(a){Lt.error(a),n=mct}const i=kut(n,t),s=Rut(Lut(i.body),{...i.attributes,...r});return Un(s,Mr())},"getIconSVG");function j3(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=H3(n);return t===!1?i.replace(/ /g,"&nbsp;"):i}P(j3,"preprocessMarkdown");function W3(e,t={}){const r=j3(e,t),n=Le.lexer(r),i=[[]];let s=0;function a(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((c,h)=>{h!==0&&(s++,i.push([])),c.split(" ").forEach(f=>{f=f.replace(/&#39;/g,"'"),f&&i[s].push({content:f,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(u=>{a(u,o.type)}):o.type==="html"&&i[s].push({content:o.text,type:"normal"})}return P(a,"processNode"),n.forEach(o=>{o.type==="paragraph"?o.tokens?.forEach(l=>{a(l)}):o.type==="html"?i[s].push({content:o.text,type:"normal"}):i[s].push({content:o.raw,type:"normal"})}),i}P(W3,"markdownToLines");function q3(e,{markdownAutoWrap:t}={}){const r=Le.lexer(e);function n(i){return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(n).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(Lt.warn(`Unsupported markdown: ${i.type}`),i.raw)}return P(n,"output"),r.map(n).join("")}P(q3,"markdownToHTML");function G3(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}P(G3,"splitTextToChars");function V3(e,t){const r=G3(t.content);return z2(e,[],r,t.type)}P(V3,"splitWordToFitWidth");function z2(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...s]=r,a=[...t,i];return e([{content:a.join(""),type:n}])?z2(e,a,s,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}P(z2,"splitWordToFitWidthRecursion");function Y3(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return zd(e,t)}P(Y3,"splitLineToFitWidth");function zd(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},a=[...n];if(i!==""&&a.push({content:i,type:"normal"}),a.push(s),t(a))return zd(e,t,r,a);if(n.length>0)r.push(n),e.unshift(s);else if(s.content){const[o,l]=V3(t,s);r.push([o]),l.content&&e.unshift(l)}return zd(e,t,r)}P(zd,"splitLineToFitWidthRecursion");function Ay(e,t){t&&e.attr("style",t)}P(Ay,"applyStyle");async function X3(e,t,r,n,i=!1,s=Mr()){const a=e.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const o=a.append("xhtml:div"),l=Lo(t.label)?await Z1(t.label.replace(jo.lineBreakRegex,`
`),s):Un(t.label,s),u=t.isNode?"nodeLabel":"edgeLabel",c=o.append("span");c.html(l),Ay(c,t.labelStyle),c.attr("class",`${u} ${n}`),Ay(o,t.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let h=o.node().getBoundingClientRect();return h.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),h=o.node().getBoundingClientRect()),a.node()}P(X3,"addHtmlSpan");function Yf(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}P(Yf,"createTspan");function K3(e,t,r){const n=e.append("text"),i=Yf(n,1,t);Xf(i,r);const s=i.node().getComputedTextLength();return n.remove(),s}P(K3,"computeWidthOfText");function yct(e,t,r){const n=e.append("text"),i=Yf(n,1,t);Xf(i,[{content:r,type:"normal"}]);const s=i.node()?.getBoundingClientRect();return s&&n.remove(),s}P(yct,"computeDimensionOfText");function Z3(e,t,r,n=!1){const s=t.append("g"),a=s.insert("rect").attr("class","background").attr("style","stroke: none"),o=s.append("text").attr("y","-10.1");let l=0;for(const u of r){const c=P(f=>K3(s,1.1,f)<=e,"checkWidth"),h=c(u)?[u]:Y3(u,c);for(const f of h){const d=Yf(o,l,1.1);Xf(d,f),l++}}if(n){const u=o.node().getBBox(),c=2;return a.attr("x",u.x-c).attr("y",u.y-c).attr("width",u.width+2*c).attr("height",u.height+2*c),s.node()}else return o.node()}P(Z3,"createFormattedText");function Xf(e,t){e.text(""),t.forEach((r,n)=>{const i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}P(Xf,"updateTextContentAndStyles");async function Q3(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,a)=>(r.push((async()=>{const o=`${s}:${a}`;return await bct(o)?await cc(o,void 0,{class:"label-icon"}):`<i class='${Un(i,t).replace(":"," ")}'></i>`})()),i));const n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}P(Q3,"replaceIconSubstring");var Ls=P(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:a=!0,width:o=200,addSvgBackground:l=!1}={},u)=>{if(Lt.debug("XYZ createText",t,r,n,i,s,a,"addSvgBackground: ",l),s){const c=q3(t,u),h=await Q3(Sa(c),u),f=t.replace(/\\\\/g,"\\"),d={isNode:a,label:Lo(t)?f:h,labelStyle:r.replace("fill:","color:")};return await X3(e,d,o,i,l,u)}else{const c=t.replace(/<br\s*\/?>/g,"<br/>"),h=W3(c.replace("<br>","<br/>"),u),f=Z3(o,e,h,t?l:!1);if(a){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const d=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ae(f).attr("style",d)}else{const d=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Ae(f).select("rect").attr("style",d.replace(/background:/g,"fill:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ae(f).select("text").attr("style",p)}return f}},"createText");function Jg(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,a=Math.cos(s),o=Math.sin(s);for(const l of e){const[u,c]=l;l[0]=(u-n)*a-(c-i)*o+n,l[1]=(u-n)*o+(c-i)*a+i}}}function _ct(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ect(e,t,r,n=1){const i=r,s=Math.max(t,.1),a=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(i)for(const u of a)Jg(u,o,i);const l=function(u,c,h){const f=[];for(const b of u){const _=[...b];_ct(_[0],_[_.length-1])||_.push([_[0][0],_[0][1]]),_.length>2&&f.push(_)}const d=[];c=Math.max(c,.1);const p=[];for(const b of f)for(let _=0;_<b.length-1;_++){const T=b[_],C=b[_+1];if(T[1]!==C[1]){const L=Math.min(T[1],C[1]);p.push({ymin:L,ymax:Math.max(T[1],C[1]),x:L===T[1]?T[0]:C[0],islope:(C[0]-T[0])/(C[1]-T[1])})}}if(p.sort((b,_)=>b.ymin<_.ymin?-1:b.ymin>_.ymin?1:b.x<_.x?-1:b.x>_.x?1:b.ymax===_.ymax?0:(b.ymax-_.ymax)/Math.abs(b.ymax-_.ymax)),!p.length)return d;let g=[],y=p[0].ymin,m=0;for(;g.length||p.length;){if(p.length){let b=-1;for(let _=0;_<p.length&&!(p[_].ymin>y);_++)b=_;p.splice(0,b+1).forEach(_=>{g.push({s:y,edge:_})})}if(g=g.filter(b=>!(b.edge.ymax<=y)),g.sort((b,_)=>b.edge.x===_.edge.x?0:(b.edge.x-_.edge.x)/Math.abs(b.edge.x-_.edge.x)),(h!==1||m%c==0)&&g.length>1)for(let b=0;b<g.length;b+=2){const _=b+1;if(_>=g.length)break;const T=g[b].edge,C=g[_].edge;d.push([[Math.round(T.x),y],[Math.round(C.x),y]])}y+=h,g.forEach(b=>{b.edge.x=b.edge.x+h*b.edge.islope}),m++}return d}(a,s,n);if(i){for(const u of a)Jg(u,o,-i);(function(u,c,h){const f=[];u.forEach(d=>f.push(...d)),Jg(f,c,h)})(l,o,-i)}return l}function hc(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),Ect(e,i,n,s||1)}class j2{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=hc(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function Kf(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class wct extends j2{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=hc(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,a=[],o=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[u,c]of i)Kf([u,c])&&a.push([[u[0]-o,u[1]+l],[...c]],[[u[0]+o,u[1]-l],[...c]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}}class xct extends j2{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class Tct{constructor(t){this.helper=t}fillPolygons(t,r){const n=hc(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=i/4;for(const o of t){const l=Kf(o),u=l/i,c=Math.ceil(u)-1,h=l-c*i,f=(o[0][0]+o[1][0])/2-i/4,d=Math.min(o[0][1],o[1][1]);for(let p=0;p<c;p++){const g=d+h+p*i,y=f-a+2*Math.random()*a,m=g-a+2*Math.random()*a,b=this.helper.ellipse(y,m,s,s,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}}class vct{constructor(t){this.helper=t}fillPolygons(t,r){const n=hc(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach(a=>{const o=Kf(a),l=Math.floor(o/(n+i)),u=(o+i-l*(n+i))/2;let c=a[0],h=a[1];c[0]>h[0]&&(c=a[1],h=a[0]);const f=Math.atan((h[1]-c[1])/(h[0]-c[0]));for(let d=0;d<l;d++){const p=d*(n+i),g=p+n,y=[c[0]+p*Math.cos(f)+u*Math.cos(f),c[1]+p*Math.sin(f)+u*Math.sin(f)],m=[c[0]+g*Math.cos(f)+u*Math.cos(f),c[1]+g*Math.sin(f)+u*Math.sin(f)];s.push(...this.helper.doubleLineOps(y[0],y[1],m[0],m[1],r))}}),s}}class Act{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=hc(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach(s=>{const a=Kf(s),o=Math.round(a/(2*r));let l=s[0],u=s[1];l[0]>u[0]&&(l=s[1],u=s[0]);const c=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let h=0;h<o;h++){const f=2*h*r,d=2*(h+1)*r,p=Math.sqrt(2*Math.pow(r,2)),g=[l[0]+f*Math.cos(c),l[1]+f*Math.sin(c)],y=[l[0]+d*Math.cos(c),l[1]+d*Math.sin(c)],m=[g[0]+p*Math.cos(c+Math.PI/4),g[1]+p*Math.sin(c+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],m[0],m[1],n),...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],n))}}),i}}const on={};class Cct{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const kct=0,t0=1,aA=2,Qc={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function e0(e,t){return e.type===t}function W2(e){const t=[],r=function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:kct,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:t0,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:aA,text:""},o}(e);let n="BOD",i=0,s=r[i];for(;!e0(s,aA);){let a=0;const o=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return W2("M0,0"+e);i++,a=Qc[s.text],n=s.text}else e0(s,t0)?a=Qc[n]:(i++,a=Qc[s.text],n=s.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const u=r[l];if(!e0(u,t0))throw new Error("Param not a number: "+n+","+u.text);o[o.length]=+u.text}if(typeof Qc[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};t.push(l),i+=a,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function J3(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:a,data:o}of e)switch(a){case"M":s.push({key:"M",data:[...o]}),[t,r]=o,[n,i]=o;break;case"m":t+=o[0],r+=o[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{const l=o.map((u,c)=>c%2?u+r:u+t);s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{const l=o.map((u,c)=>c%2?u+r:u+t);s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":s.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{const l=o.map((u,c)=>c%2?u+r:u+t);s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function tO(e){const t=[];let r="",n=0,i=0,s=0,a=0,o=0,l=0;for(const{key:u,data:c}of e){switch(u){case"M":t.push({key:"M",data:[...c]}),[n,i]=c,[s,a]=c;break;case"C":t.push({key:"C",data:[...c]}),n=c[4],i=c[5],o=c[2],l=c[3];break;case"L":t.push({key:"L",data:[...c]}),[n,i]=c;break;case"H":n=c[0],t.push({key:"L",data:[n,i]});break;case"V":i=c[0],t.push({key:"L",data:[n,i]});break;case"S":{let h=0,f=0;r==="C"||r==="S"?(h=n+(n-o),f=i+(i-l)):(h=n,f=i),t.push({key:"C",data:[h,f,...c]}),o=c[0],l=c[1],n=c[2],i=c[3];break}case"T":{const[h,f]=c;let d=0,p=0;r==="Q"||r==="T"?(d=n+(n-o),p=i+(i-l)):(d=n,p=i);const g=n+2*(d-n)/3,y=i+2*(p-i)/3,m=h+2*(d-h)/3,b=f+2*(p-f)/3;t.push({key:"C",data:[g,y,m,b,h,f]}),o=d,l=p,n=h,i=f;break}case"Q":{const[h,f,d,p]=c,g=n+2*(h-n)/3,y=i+2*(f-i)/3,m=d+2*(h-d)/3,b=p+2*(f-p)/3;t.push({key:"C",data:[g,y,m,b,d,p]}),o=h,l=f,n=d,i=p;break}case"A":{const h=Math.abs(c[0]),f=Math.abs(c[1]),d=c[2],p=c[3],g=c[4],y=c[5],m=c[6];h===0||f===0?(t.push({key:"C",data:[n,i,y,m,y,m]}),n=y,i=m):(n!==y||i!==m)&&(eO(n,i,y,m,h,f,d,p,g).forEach(function(b){t.push({key:"C",data:b})}),n=y,i=m);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=a}r=u}return t}function vl(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function eO(e,t,r,n,i,s,a,o,l,u){const c=(h=a,Math.PI*h/180);var h;let f=[],d=0,p=0,g=0,y=0;if(u)[d,p,g,y]=u;else{[e,t]=vl(e,t,-c),[r,n]=vl(r,n,-c);const U=(e-r)/2,w=(t-n)/2;let $=U*U/(i*i)+w*w/(s*s);$>1&&($=Math.sqrt($),i*=$,s*=$);const X=i*i,j=s*s,nt=X*j-X*w*w-j*U*U,J=X*w*w+j*U*U,G=(o===l?-1:1)*Math.sqrt(Math.abs(nt/J));g=G*i*w/s+(e+r)/2,y=G*-s*U/i+(t+n)/2,d=Math.asin(parseFloat(((t-y)/s).toFixed(9))),p=Math.asin(parseFloat(((n-y)/s).toFixed(9))),e<g&&(d=Math.PI-d),r<g&&(p=Math.PI-p),d<0&&(d=2*Math.PI+d),p<0&&(p=2*Math.PI+p),l&&d>p&&(d-=2*Math.PI),!l&&p>d&&(p-=2*Math.PI)}let m=p-d;if(Math.abs(m)>120*Math.PI/180){const U=p,w=r,$=n;p=l&&p>d?d+120*Math.PI/180*1:d+120*Math.PI/180*-1,f=eO(r=g+i*Math.cos(p),n=y+s*Math.sin(p),w,$,i,s,a,0,l,[p,U,g,y])}m=p-d;const b=Math.cos(d),_=Math.sin(d),T=Math.cos(p),C=Math.sin(p),L=Math.tan(m/4),N=4/3*i*L,z=4/3*s*L,R=[e,t],H=[e+N*_,t-z*b],K=[r+N*C,n-z*T],S=[r,n];if(H[0]=2*R[0]-H[0],H[1]=2*R[1]-H[1],u)return[H,K,S].concat(f);{f=[H,K,S].concat(f);const U=[];for(let w=0;w<f.length;w+=3){const $=vl(f[w][0],f[w][1],c),X=vl(f[w+1][0],f[w+1][1],c),j=vl(f[w+2][0],f[w+2][1],c);U.push([$[0],$[1],X[0],X[1],j[0],j[1]])}return U}}const Sct={randOffset:function(e,t){return ie(e,t)},randOffsetWithRange:function(e,t,r){return jd(e,t,r)},ellipse:function(e,t,r,n,i){const s=nO(r,n,i);return Cy(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return ws(e,t,r,n,i,!0)}};function rO(e,t,r,n,i){return{type:"path",ops:ws(e,t,r,n,i)}}function kh(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...ws(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(...ws(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?rO(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function Ict(e,t,r,n,i){return function(s,a){return kh(s,!0,a)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function oA(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=Jc(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:Jc(r[0],1.5*(1+.22*t.roughness),cA(t));for(let s=1;s<r.length;s++){const a=r[s];if(a.length){const o=Jc(a,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:Jc(a,1.5*(1+.22*t.roughness),cA(t));for(const u of o)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function nO(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let a=Math.abs(e/2),o=Math.abs(t/2);const l=1-r.curveFitting;return a+=ie(a*l,r),o+=ie(o*l,r),{increment:s,rx:a,ry:o}}function Cy(e,t,r,n){const[i,s]=hA(n.increment,e,t,n.rx,n.ry,1,n.increment*jd(.1,jd(.4,1,r),r),r);let a=Wd(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=hA(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=Wd(o,null,r);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function lA(e,t,r,n,i,s,a,o,l){const u=e,c=t;let h=Math.abs(r/2),f=Math.abs(n/2);h+=ie(.01*h,l),f+=ie(.01*f,l);let d=i,p=s;for(;d<0;)d+=2*Math.PI,p+=2*Math.PI;p-d>2*Math.PI&&(d=0,p=2*Math.PI);const g=2*Math.PI/l.curveStepCount,y=Math.min(g/2,(p-d)/2),m=dA(y,u,c,h,f,d,p,1,l);if(!l.disableMultiStroke){const b=dA(y,u,c,h,f,d,p,1.5,l);m.push(...b)}return a&&(o?m.push(...ws(u,c,u+h*Math.cos(d),c+f*Math.sin(d),l),...ws(u,c,u+h*Math.cos(p),c+f*Math.sin(p),l)):m.push({op:"lineTo",data:[u,c]},{op:"lineTo",data:[u+h*Math.cos(d),c+f*Math.sin(d)]})),{type:"path",ops:m}}function uA(e,t){const r=tO(J3(W2(e))),n=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of r)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...ws(s[0],s[1],o[0],o[1],t)),s=[o[0],o[1]];break;case"C":{const[l,u,c,h,f,d]=o;n.push(...Lct(l,u,c,h,f,d,s,t)),s=[f,d];break}case"Z":n.push(...ws(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function r0(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+ie(i,t),n[0][1]+ie(i,t)]});for(let a=1;a<s;a++)r.push({op:"lineTo",data:[n[a][0]+ie(i,t),n[a][1]+ie(i,t)]})}}return{type:"fillPath",ops:r}}function Ua(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!on[i])switch(i){case"zigzag":on[i]||(on[i]=new wct(n));break;case"cross-hatch":on[i]||(on[i]=new xct(n));break;case"dots":on[i]||(on[i]=new Tct(n));break;case"dashed":on[i]||(on[i]=new vct(n));break;case"zigzag-line":on[i]||(on[i]=new Act(n));break;default:i="hachure",on[i]||(on[i]=new j2(n))}return on[i]}(t,Sct).fillPolygons(e,t)}function cA(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function iO(e){return e.randomizer||(e.randomizer=new Cct(e.seed||0)),e.randomizer.next()}function jd(e,t,r,n=1){return r.roughness*n*(iO(r)*(t-e)+e)}function ie(e,t,r=1){return jd(-e,e,t,r)}function ws(e,t,r,n,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=ky(e,t,r,n,i,!0,!1);if(a)return o;const l=ky(e,t,r,n,i,!0,!0);return o.concat(l)}function ky(e,t,r,n,i,s,a){const o=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(o);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let c=i.maxRandomnessOffset||0;c*c*100>o&&(c=l/10);const h=c/2,f=.2+.2*iO(i);let d=i.bowing*i.maxRandomnessOffset*(n-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-r)/200;d=ie(d,i,u),p=ie(p,i,u);const g=[],y=()=>ie(h,i,u),m=()=>ie(c,i,u),b=i.preserveVertices;return a?g.push({op:"move",data:[e+(b?0:y()),t+(b?0:y())]}):g.push({op:"move",data:[e+(b?0:ie(c,i,u)),t+(b?0:ie(c,i,u))]}),a?g.push({op:"bcurveTo",data:[d+e+(r-e)*f+y(),p+t+(n-t)*f+y(),d+e+2*(r-e)*f+y(),p+t+2*(n-t)*f+y(),r+(b?0:y()),n+(b?0:y())]}):g.push({op:"bcurveTo",data:[d+e+(r-e)*f+m(),p+t+(n-t)*f+m(),d+e+2*(r-e)*f+m(),p+t+2*(n-t)*f+m(),r+(b?0:m()),n+(b?0:m())]}),g}function Jc(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+ie(t,r),e[0][1]+ie(t,r)]),n.push([e[0][0]+ie(t,r),e[0][1]+ie(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+ie(t,r),e[i][1]+ie(t,r)]),i===e.length-1&&n.push([e[i][0]+ie(t,r),e[i][1]+ie(t,r)]);return Wd(n,null,r)}function Wd(e,t,r){const n=e.length,i=[];if(n>3){const s=[],a=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<n;o++){const l=e[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*e[o+1][0]-a*e[o-1][0])/6,l[1]+(a*e[o+1][1]-a*e[o-1][1])/6],s[2]=[e[o+1][0]+(a*e[o][0]-a*e[o+2][0])/6,e[o+1][1]+(a*e[o][1]-a*e[o+2][1])/6],s[3]=[e[o+1][0],e[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...ky(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function hA(e,t,r,n,i,s,a,o){const l=[],u=[];if(o.roughness===0){e/=4,u.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let c=0;c<=2*Math.PI;c+=e){const h=[t+n*Math.cos(c),r+i*Math.sin(c)];l.push(h),u.push(h)}u.push([t+n*Math.cos(0),r+i*Math.sin(0)]),u.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const c=ie(.5,o)-Math.PI/2;u.push([ie(s,o)+t+.9*n*Math.cos(c-e),ie(s,o)+r+.9*i*Math.sin(c-e)]);const h=2*Math.PI+c-.01;for(let f=c;f<h;f+=e){const d=[ie(s,o)+t+n*Math.cos(f),ie(s,o)+r+i*Math.sin(f)];l.push(d),u.push(d)}u.push([ie(s,o)+t+n*Math.cos(c+2*Math.PI+.5*a),ie(s,o)+r+i*Math.sin(c+2*Math.PI+.5*a)]),u.push([ie(s,o)+t+.98*n*Math.cos(c+a),ie(s,o)+r+.98*i*Math.sin(c+a)]),u.push([ie(s,o)+t+.9*n*Math.cos(c+.5*a),ie(s,o)+r+.9*i*Math.sin(c+.5*a)])}return[u,l]}function dA(e,t,r,n,i,s,a,o,l){const u=s+ie(.1,l),c=[];c.push([ie(o,l)+t+.9*n*Math.cos(u-e),ie(o,l)+r+.9*i*Math.sin(u-e)]);for(let h=u;h<=a;h+=e)c.push([ie(o,l)+t+n*Math.cos(h),ie(o,l)+r+i*Math.sin(h)]);return c.push([t+n*Math.cos(a),r+i*Math.sin(a)]),c.push([t+n*Math.cos(a),r+i*Math.sin(a)]),Wd(c,null,l)}function Lct(e,t,r,n,i,s,a,o){const l=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let c=[0,0];const h=o.disableMultiStroke?1:2,f=o.preserveVertices;for(let d=0;d<h;d++)d===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(f?0:ie(u[0],o)),a[1]+(f?0:ie(u[0],o))]}),c=f?[i,s]:[i+ie(u[d],o),s+ie(u[d],o)],l.push({op:"bcurveTo",data:[e+ie(u[d],o),t+ie(u[d],o),r+ie(u[d],o),n+ie(u[d],o),c[0],c[1]]});return l}function Al(e){return[...e]}function fA(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(Al(e[0]),Al(e[1]),Al(e[2]),Al(e[2]));else{const i=[];i.push(e[0],e[0]);for(let o=1;o<e.length;o++)i.push(e[o]),o===e.length-1&&i.push(e[o]);const s=[],a=1-t;n.push(Al(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function Sh(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Rct(e,t,r){const n=Sh(t,r);if(n===0)return Sh(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),Sh(e,zs(t,r,i))}function zs(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function Sy(e,t,r,n){const i=n||[];if(function(o,l){const u=o[l+0],c=o[l+1],h=o[l+2],f=o[l+3];let d=3*c[0]-2*u[0]-f[0];d*=d;let p=3*c[1]-2*u[1]-f[1];p*=p;let g=3*h[0]-2*f[0]-u[0];g*=g;let y=3*h[1]-2*f[1]-u[1];return y*=y,d<g&&(d=g),p<y&&(p=y),d+p}(e,t)<r){const o=e[t+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(Sh(s,a))>1&&i.push(o)):i.push(o),i.push(e[t+3])}else{const l=e[t+0],u=e[t+1],c=e[t+2],h=e[t+3],f=zs(l,u,.5),d=zs(u,c,.5),p=zs(c,h,.5),g=zs(f,d,.5),y=zs(d,p,.5),m=zs(g,y,.5);Sy([l,f,g,m],0,r,i),Sy([m,y,p,h],0,r,i)}var s,a;return i}function Nct(e,t){return qd(e,0,e.length,t)}function qd(e,t,r,n,i){const s=i||[],a=e[t],o=e[r-1];let l=0,u=1;for(let c=t+1;c<r-1;++c){const h=Rct(e[c],a,o);h>l&&(l=h,u=c)}return Math.sqrt(l)>n?(qd(e,t,u+1,n,s),qd(e,u,r,n,s)):(s.length||s.push(a),s.push(o)),s}function n0(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)Sy(e,3*s,t,n);return r&&r>0?qd(n,0,n.length,r):n}const En="none";class Gd{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const a=this._o(s);return this._d("line",[rO(t,r,n,i,a)],a)}rectangle(t,r,n,i,s){const a=this._o(s),o=[],l=Ict(t,r,n,i,a);if(a.fill){const u=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];a.fillStyle==="solid"?o.push(r0([u],a)):o.push(Ua([u],a))}return a.stroke!==En&&o.push(l),this._d("rectangle",o,a)}ellipse(t,r,n,i,s){const a=this._o(s),o=[],l=nO(n,i,a),u=Cy(t,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const c=Cy(t,r,a,l).opset;c.type="fillPath",o.push(c)}else o.push(Ua([u.estimatedPoints],a));return a.stroke!==En&&o.push(u.opset),this._d("ellipse",o,a)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[kh(t,!1,n)],n)}arc(t,r,n,i,s,a,o=!1,l){const u=this._o(l),c=[],h=lA(t,r,n,i,s,a,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const f=Object.assign({},u);f.disableMultiStroke=!0;const d=lA(t,r,n,i,s,a,!0,!1,f);d.type="fillPath",c.push(d)}else c.push(function(f,d,p,g,y,m,b){const _=f,T=d;let C=Math.abs(p/2),L=Math.abs(g/2);C+=ie(.01*C,b),L+=ie(.01*L,b);let N=y,z=m;for(;N<0;)N+=2*Math.PI,z+=2*Math.PI;z-N>2*Math.PI&&(N=0,z=2*Math.PI);const R=(z-N)/b.curveStepCount,H=[];for(let K=N;K<=z;K+=R)H.push([_+C*Math.cos(K),T+L*Math.sin(K)]);return H.push([_+C*Math.cos(z),T+L*Math.sin(z)]),H.push([_,T]),Ua([H],b)}(t,r,n,i,s,a,u));return u.stroke!==En&&c.push(h),this._d("arc",c,u)}curve(t,r){const n=this._o(r),i=[],s=oA(t,n);if(n.fill&&n.fill!==En)if(n.fillStyle==="solid"){const a=oA(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=t;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const u of l)u.length<3?a.push(...u):u.length===3?a.push(...n0(fA([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):a.push(...n0(fA(u),10,(1+n.roughness)/2))}a.length&&i.push(Ua([a],n))}return n.stroke!==En&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=kh(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(r0([t],n)):i.push(Ua([t],n))),n.stroke!==En&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==En,a=n.stroke!==En,o=!!(n.simplification&&n.simplification<1),l=function(c,h,f){const d=tO(J3(W2(c))),p=[];let g=[],y=[0,0],m=[];const b=()=>{m.length>=4&&g.push(...n0(m,h)),m=[]},_=()=>{b(),g.length&&(p.push(g),g=[])};for(const{key:C,data:L}of d)switch(C){case"M":_(),y=[L[0],L[1]],g.push(y);break;case"L":b(),g.push([L[0],L[1]]);break;case"C":if(!m.length){const N=g.length?g[g.length-1]:y;m.push([N[0],N[1]])}m.push([L[0],L[1]]),m.push([L[2],L[3]]),m.push([L[4],L[5]]);break;case"Z":b(),g.push([y[0],y[1]])}if(_(),!f)return p;const T=[];for(const C of p){const L=Nct(C,f);L.length&&T.push(L)}return T}(t,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),u=uA(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const c=uA(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else i.push(r0(l,n));else i.push(Ua(l,n));return a&&(o?l.forEach(c=>{i.push(kh(c,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map(a=>+a.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:En};break;case"fillPath":a={d:this.opsToPath(s),stroke:En,strokeWidth:0,fill:n.fill||En};break;case"fillSketch":a=this.fillSketch(s,n)}a&&i.push(a)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||En,strokeWidth:n,fill:En}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}}class Oct{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Gd(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const a=typeof n=="number"&&n>=0?s.data.map(o=>+o.toFixed(n)):s.data;switch(s.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a),a}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a),a}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a),a}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,a,o=!1,l){const u=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(u),u}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const th="http://www.w3.org/2000/svg";class Pct{constructor(t,r){this.svg=t,this.gen=new Gd(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(th,"g"),a=t.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(th,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(th,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(th,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a)}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a)}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,a,o=!1,l){const u=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(u)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var Gt={canvas:(e,t)=>new Oct(e,t),svg:(e,t)=>new Pct(e,t),generator:e=>new Gd(e),newSeed:()=>Gd.newSeed()},ne=P(async(e,t,r)=>{let n;const i=t.useHtmlLabels||gr(Ie()?.htmlLabels);r?n=r:n="node default";const s=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=s.insert("g").attr("class","label").attr("style",Ur(t.labelStyle));let o;t.label===void 0?o="":o=typeof t.label=="string"?t.label:t.label[0];const l=await Ls(a,Un(Sa(o),Ie()),{useHtmlLabels:i,width:t.width||Ie().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let u=l.getBBox();const c=(t?.padding??0)/2;if(i){const h=l.children[0],f=Ae(l),d=h.getElementsByTagName("img");if(d){const p=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...d].map(g=>new Promise(y=>{function m(){if(g.style.display="flex",g.style.flexDirection="column",p){const b=Ie().fontSize?Ie().fontSize:window.getComputedStyle(document.body).fontSize,_=5,[T=yL.fontSize]=qf(b),C=T*_+"px";g.style.minWidth=C,g.style.maxWidth=C}else g.style.width="100%";y(g)}P(m,"setupImage"),setTimeout(()=>{g.complete&&m()}),g.addEventListener("error",m),g.addEventListener("load",m)})))}u=h.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}return i?a.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):a.attr("transform","translate(0, "+-u.height/2+")"),t.centerLabel&&a.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:s,bbox:u,halfPadding:c,label:a}},"labelHelper"),i0=P(async(e,t,r)=>{const n=r.useHtmlLabels||gr(Ie()?.flowchart?.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await Ls(i,Un(Sa(t),Ie()),{useHtmlLabels:n,width:r.width||Ie()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let a=s.getBBox();const o=r.padding/2;if(gr(Ie()?.flowchart?.htmlLabels)){const l=s.children[0],u=Ae(s);a=l.getBoundingClientRect(),u.attr("width",a.width),u.attr("height",a.height)}return n?i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):i.attr("transform","translate(0, "+-a.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:a,halfPadding:o,label:i}},"insertLabel"),Xt=P((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),re=P((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Te(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}P(Te,"createPathFromPoints");function xs(e,t,r,n,i,s){const a=[],l=r-e,u=n-t,c=l/s,h=2*Math.PI/c,f=t+u/2;for(let d=0;d<=50;d++){const p=d/50,g=e+p*l,y=f+i*Math.sin(h*(g-e));a.push({x:g,y})}return a}P(xs,"generateFullSineWavePoints");function Lu(e,t,r,n,i,s){const a=[],o=i*Math.PI/180,c=(s*Math.PI/180-o)/(n-1);for(let h=0;h<n;h++){const f=o+h*c,d=e+r*Math.cos(f),p=t+r*Math.sin(f);a.push({x:-d,y:-p})}return a}P(Lu,"generateCirclePoints");var Dct=P((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,a=e.width/2,o=e.height/2,l,u;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=s===0?0:o*i/s,u=o):(i<0&&(a=-a),l=a,u=i===0?0:a*s/i),{x:r+l,y:n+u}},"intersectRect"),Vo=Dct;function sO(e,t){t&&e.attr("style",t)}P(sO,"applyStyle");async function aO(e){const t=Ae(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=Ie();let i=e.label;e.label&&Lo(e.label)&&(i=await Z1(e.label.replace(jo.lineBreakRegex,`
`),n));const a='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>";return r.html(Un(a,n)),sO(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}P(aO,"addHtmlLabel");var Bct=P(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),gr(Ie().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Lt.info("vertexText"+i);const s={isNode:n,label:Sa(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await aO(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let a=[];typeof i=="string"?a=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?a=i:a=[];for(const o of a){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),s.appendChild(l)}return s}},"createLabel"),ta=Bct,Rs=P((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),oO=P(async(e,t)=>{Lt.info("Creating subgraph rect for ",t.id,t);const r=Ie(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:c}=Yt(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=gr(r.flowchart.htmlLabels),d=h.insert("g").attr("class","cluster-label "),p=await Ls(d,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0});let g=p.getBBox();if(gr(r.flowchart.htmlLabels)){const N=p.children[0],z=Ae(p);g=N.getBoundingClientRect(),z.attr("width",g.width),z.attr("height",g.height)}const y=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const m=t.height,b=t.x-y/2,_=t.y-m/2;Lt.trace("Data ",t,JSON.stringify(t));let T;if(t.look==="handDrawn"){const N=Gt.svg(h),z=Vt(t,{roughness:.7,fill:s,stroke:a,fillWeight:3,seed:i}),R=N.path(Rs(b,_,y,m,0),z);T=h.insert(()=>(Lt.debug("Rough node insert CXC",R),R),":first-child"),T.select("path:nth-child(2)").attr("style",u.join(";")),T.select("path").attr("style",c.join(";").replace("fill","stroke"))}else T=h.insert("rect",":first-child"),T.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",_).attr("width",y).attr("height",m);const{subGraphTitleTopMargin:C}=x2(r);if(d.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+C})`),o){const N=d.select("span");N&&N.attr("style",o)}const L=T.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=g.height-t.padding/2,t.intersect=function(N){return Vo(t,N)},{cluster:h,labelBBox:g}},"rect"),Mct=P((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const a=n.node().getBBox();return t.width=a.width,t.height=a.height,t.intersect=function(o){return Vo(t,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),Fct=P(async(e,t)=>{const r=Ie(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:s,compositeBackground:a,compositeTitleBackground:o,nodeBorder:l}=n,u=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),c=u.insert("g",":first-child"),h=u.insert("g").attr("class","cluster-label");let f=u.append("rect");const d=h.node().appendChild(await ta(t.label,t.labelStyle,void 0,!0));let p=d.getBBox();if(gr(r.flowchart.htmlLabels)){const R=d.children[0],H=Ae(d);p=R.getBoundingClientRect(),H.attr("width",p.width),H.attr("height",p.height)}const g=0*t.padding,y=g/2,m=(t.width<=p.width+t.padding?p.width+t.padding:t.width)+g;t.width<=p.width+t.padding?t.diff=(m-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height+g,_=t.height+g-p.height-6,T=t.x-m/2,C=t.y-b/2;t.width=m;const L=t.y-t.height/2-y+p.height+2;let N;if(t.look==="handDrawn"){const R=t.cssClasses.includes("statediagram-cluster-alt"),H=Gt.svg(u),K=t.rx||t.ry?H.path(Rs(T,C,m,b,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):H.rectangle(T,C,m,b,{seed:i});N=u.insert(()=>K,":first-child");const S=H.rectangle(T,L,m,_,{fill:R?s:a,fillStyle:R?"hachure":"solid",stroke:l,seed:i});N=u.insert(()=>K,":first-child"),f=u.insert(()=>S)}else N=c.insert("rect",":first-child"),N.attr("class","outer").attr("x",T).attr("y",C).attr("width",m).attr("height",b).attr("data-look",t.look),f.attr("class","inner").attr("x",T).attr("y",L).attr("width",m).attr("height",_);h.attr("transform",`translate(${t.x-p.width/2}, ${C+1-(gr(r.flowchart.htmlLabels)?0:3)})`);const z=N.node().getBBox();return t.height=z.height,t.offsetX=0,t.offsetY=p.height-t.padding/2,t.labelBBox=p,t.intersect=function(R){return Vo(t,R)},{cluster:u,labelBBox:p}},"roundedWithTitle"),Uct=P(async(e,t)=>{Lt.info("Creating subgraph rect for ",t.id,t);const r=Ie(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:c}=Yt(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=gr(r.flowchart.htmlLabels),d=h.insert("g").attr("class","cluster-label "),p=await Ls(d,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width});let g=p.getBBox();if(gr(r.flowchart.htmlLabels)){const N=p.children[0],z=Ae(p);g=N.getBoundingClientRect(),z.attr("width",g.width),z.attr("height",g.height)}const y=t.width<=g.width+t.padding?g.width+t.padding:t.width;t.width<=g.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const m=t.height,b=t.x-y/2,_=t.y-m/2;Lt.trace("Data ",t,JSON.stringify(t));let T;if(t.look==="handDrawn"){const N=Gt.svg(h),z=Vt(t,{roughness:.7,fill:s,stroke:a,fillWeight:4,seed:i}),R=N.path(Rs(b,_,y,m,t.rx),z);T=h.insert(()=>(Lt.debug("Rough node insert CXC",R),R),":first-child"),T.select("path:nth-child(2)").attr("style",u.join(";")),T.select("path").attr("style",c.join(";").replace("fill","stroke"))}else T=h.insert("rect",":first-child"),T.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",_).attr("width",y).attr("height",m);const{subGraphTitleTopMargin:C}=x2(r);if(d.attr("transform",`translate(${t.x-g.width/2}, ${t.y-t.height/2+C})`),o){const N=d.select("span");N&&N.attr("style",o)}const L=T.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=g.height-t.padding/2,t.intersect=function(N){return Vo(t,N)},{cluster:h,labelBBox:g}},"kanbanSection"),Hct=P((e,t)=>{const r=Ie(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:s}=n,a=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),o=a.insert("g",":first-child"),l=0*t.padding,u=t.width+l;t.diff=-t.padding;const c=t.height+l,h=t.x-u/2,f=t.y-c/2;t.width=u;let d;if(t.look==="handDrawn"){const y=Gt.svg(a).rectangle(h,f,u,c,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});d=a.insert(()=>y,":first-child")}else d=o.insert("rect",":first-child"),d.attr("class","divider").attr("x",h).attr("y",f).attr("width",u).attr("height",c).attr("data-look",t.look);const p=d.node().getBBox();return t.height=p.height,t.offsetX=0,t.offsetY=0,t.intersect=function(g){return Vo(t,g)},{cluster:a,labelBBox:{}}},"divider"),$ct=oO,zct={rect:oO,squareRect:$ct,roundedWithTitle:Fct,noteGroup:Mct,divider:Hct,kanbanSection:Uct},lO=new Map,jct=P(async(e,t)=>{const r=t.shape||"rect",n=await zct[r](e,t);return lO.set(t.id,n),n},"insertCluster"),x0t=P(()=>{lO=new Map},"clear");function uO(e,t){return e.intersect(t)}P(uO,"intersectNode");var Wct=uO;function cO(e,t,r,n){var i=e.x,s=e.y,a=i-n.x,o=s-n.y,l=Math.sqrt(t*t*o*o+r*r*a*a),u=Math.abs(t*r*a/l);n.x<i&&(u=-u);var c=Math.abs(t*r*o/l);return n.y<s&&(c=-c),{x:i+u,y:s+c}}P(cO,"intersectEllipse");var hO=cO;function dO(e,t,r){return hO(e,t,t,r)}P(dO,"intersectCircle");var qct=dO;function fO(e,t,r,n){{const i=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,o=i*r.x+s*r.y+a,l=i*n.x+s*n.y+a,u=1e-6;if(o!==0&&l!==0&&Iy(o,l))return;const c=n.y-r.y,h=r.x-n.x,f=n.x*r.y-r.x*n.y,d=c*e.x+h*e.y+f,p=c*t.x+h*t.y+f;if(Math.abs(d)<u&&Math.abs(p)<u&&Iy(d,p))return;const g=i*h-c*s;if(g===0)return;const y=Math.abs(g/2);let m=s*f-h*a;const b=m<0?(m-y)/g:(m+y)/g;m=c*a-i*f;const _=m<0?(m-y)/g:(m+y)/g;return{x:b,y:_}}}P(fO,"intersectLine");function Iy(e,t){return e*t>0}P(Iy,"sameSign");var Gct=fO;function pO(e,t,r){let n=e.x,i=e.y,s=[],a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(c){a=Math.min(a,c.x),o=Math.min(o,c.y)}):(a=Math.min(a,t.x),o=Math.min(o,t.y));let l=n-e.width/2-a,u=i-e.height/2-o;for(let c=0;c<t.length;c++){let h=t[c],f=t[c<t.length-1?c+1:0],d=Gct(e,r,{x:l+h.x,y:u+h.y},{x:l+f.x,y:u+f.y});d&&s.push(d)}return s.length?(s.length>1&&s.sort(function(c,h){let f=c.x-r.x,d=c.y-r.y,p=Math.sqrt(f*f+d*d),g=h.x-r.x,y=h.y-r.y,m=Math.sqrt(g*g+y*y);return p<m?-1:p===m?0:1}),s[0]):e}P(pO,"intersectPolygon");var Vct=pO,Ut={node:Wct,circle:qct,ellipse:hO,polygon:Vct,rect:Vo};function mO(e,t){const{labelStyles:r}=Yt(t);t.labelStyle=r;const n=re(t);let i=n;n||(i="anchor");const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),a=1,{cssStyles:o}=t,l=Gt.svg(s),u=Vt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(u.roughness=0);const c=l.circle(0,0,a*2,u),h=s.insert(()=>c,":first-child");return h.attr("class","anchor").attr("style",Ur(o)),Xt(t,h),t.intersect=function(f){return Lt.info("Circle intersect",t,a,f),Ut.circle(t,a,f)},s}P(mO,"anchor");function Ly(e,t,r,n,i,s,a){const l=(e+r)/2,u=(t+n)/2,c=Math.atan2(n-t,r-e),h=(r-e)/2,f=(n-t)/2,d=h/i,p=f/s,g=Math.sqrt(d**2+p**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-g**2),m=l+y*s*Math.sin(c)*(a?-1:1),b=u-y*i*Math.cos(c)*(a?-1:1),_=Math.atan2((t-b)/s,(e-m)/i);let C=Math.atan2((n-b)/s,(r-m)/i)-_;a&&C<0&&(C+=2*Math.PI),!a&&C>0&&(C-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const z=N/19,R=_+z*C,H=m+i*Math.cos(R),K=b+s*Math.sin(R);L.push({x:H,y:K})}return L}P(Ly,"generateArcPoints");async function gO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=s.width+t.padding+20,o=s.height+t.padding,l=o/2,u=l/(2.5+o/50),{cssStyles:c}=t,h=[{x:a/2,y:-o/2},{x:-a/2,y:-o/2},...Ly(-a/2,-o/2,-a/2,o/2,u,l,!1),{x:a/2,y:o/2},...Ly(a/2,o/2,a/2,-o/2,u,l,!0)],f=Gt.svg(i),d=Vt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=Te(h),g=f.path(p,d),y=i.insert(()=>g,":first-child");return y.attr("class","basic label-container"),c&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",c),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(${u/2}, 0)`),Xt(t,y),t.intersect=function(m){return Ut.polygon(t,h,m)},i}P(gO,"bowTieRect");function Ns(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}P(Ns,"insertPolygonShape");async function bO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=s.height+t.padding,o=12,l=s.width+t.padding+o,u=0,c=l,h=-a,f=0,d=[{x:u+o,y:h},{x:c,y:h},{x:c,y:f},{x:u,y:f},{x:u,y:h+o},{x:u+o,y:h}];let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const y=Gt.svg(i),m=Vt(t,{}),b=Te(d),_=y.path(b,m);p=i.insert(()=>_,":first-child").attr("transform",`translate(${-l/2}, ${a/2})`),g&&p.attr("style",g)}else p=Ns(i,l,a,d);return n&&p.attr("style",n),Xt(t,p),t.intersect=function(y){return Ut.polygon(t,d,y)},i}P(bO,"card");function yO(e,t){const{nodeStyles:r}=Yt(t);t.label="";const n=e.insert("g").attr("class",re(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,s=Math.max(28,t.width??0),a=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],o=Gt.svg(n),l=Vt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=Te(a),c=o.path(u,l),h=n.insert(()=>c,":first-child");return i&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(f){return Ut.polygon(t,a,f)},n}P(yO,"choice");async function q2(e,t,r){const{labelStyles:n,nodeStyles:i}=Yt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o}=await ne(e,t,re(t)),l=r?.padding??o,u=a.width/2+l;let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const f=Gt.svg(s),d=Vt(t,{}),p=f.circle(0,0,u*2,d);c=s.insert(()=>p,":first-child"),c.attr("class","basic label-container").attr("style",Ur(h))}else c=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",u).attr("cx",0).attr("cy",0);return Xt(t,c),t.calcIntersect=function(f,d){const p=f.width/2;return Ut.circle(f,p,d)},t.intersect=function(f){return Lt.info("Circle intersect",t,u,f),Ut.circle(t,u,f)},s}P(q2,"circle");function _O(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,i={x:n/2*t,y:n/2*r},s={x:-(n/2)*t,y:n/2*r},a={x:-(n/2)*t,y:-(n/2)*r},o={x:n/2*t,y:-(n/2)*r};return`M ${s.x},${s.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${a.x},${a.y}`}P(_O,"createLine");function EO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r,t.label="";const i=e.insert("g").attr("class",re(t)).attr("id",t.domId??t.id),s=Math.max(30,t?.width??0),{cssStyles:a}=t,o=Gt.svg(i),l=Vt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=o.circle(0,0,s*2,l),c=_O(s),h=o.path(c,l),f=i.insert(()=>u,":first-child");return f.insert(()=>h),a&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",n),Xt(t,f),t.intersect=function(d){return Lt.info("crossedCircle intersect",t,{radius:s,point:d}),Ut.circle(t,s,d)},i}P(EO,"crossedCircle");function Oi(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,c=(s*Math.PI/180-o)/(n-1);for(let h=0;h<n;h++){const f=o+h*c,d=e+r*Math.cos(f),p=t+r*Math.sin(f);a.push({x:-d,y:-p})}return a}P(Oi,"generateCirclePoints");async function wO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:c}=t,h=[...Oi(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...Oi(o/2+u*2,-u,u,20,-180,-270),...Oi(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...Oi(o/2,l/2,u,20,0,90)],f=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...Oi(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...Oi(o/2+o*.1,-u,u,20,-180,-270),...Oi(o/2+o*.1,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...Oi(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2,y:l/2+u}],d=Gt.svg(i),p=Vt(t,{fill:"none"});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=Te(h).replace("Z",""),m=d.path(y,p),b=Te(f),_=d.path(b,{...p}),T=i.insert("g",":first-child");return T.insert(()=>_,":first-child").attr("stroke-opacity",0),T.insert(()=>m,":first-child"),T.attr("class","text"),c&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",c),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(${u}, 0)`),a.attr("transform",`translate(${-o/2+u-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Xt(t,T),t.intersect=function(C){return Ut.polygon(t,f,C)},i}P(wO,"curlyBraceLeft");function Pi(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,c=(s*Math.PI/180-o)/(n-1);for(let h=0;h<n;h++){const f=o+h*c,d=e+r*Math.cos(f),p=t+r*Math.sin(f);a.push({x:d,y:p})}return a}P(Pi,"generateCirclePoints");async function xO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:c}=t,h=[...Pi(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...Pi(o/2+u*2,-u,u,20,-180,-270),...Pi(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...Pi(o/2,l/2,u,20,0,90)],f=[{x:-o/2,y:-l/2-u},{x:o/2,y:-l/2-u},...Pi(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...Pi(o/2+u*2,-u,u,20,-180,-270),...Pi(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...Pi(o/2,l/2,u,20,0,90),{x:o/2,y:l/2+u},{x:-o/2,y:l/2+u}],d=Gt.svg(i),p=Vt(t,{fill:"none"});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const y=Te(h).replace("Z",""),m=d.path(y,p),b=Te(f),_=d.path(b,{...p}),T=i.insert("g",":first-child");return T.insert(()=>_,":first-child").attr("stroke-opacity",0),T.insert(()=>m,":first-child"),T.attr("class","text"),c&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",c),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(${-u}, 0)`),a.attr("transform",`translate(${-o/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Xt(t,T),t.intersect=function(C){return Ut.polygon(t,f,C)},i}P(xO,"curlyBraceRight");function kr(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,c=(s*Math.PI/180-o)/(n-1);for(let h=0;h<n;h++){const f=o+h*c,d=e+r*Math.cos(f),p=t+r*Math.sin(f);a.push({x:-d,y:-p})}return a}P(kr,"generateCirclePoints");async function TO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:c}=t,h=[...kr(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...kr(o/2+u*2,-u,u,20,-180,-270),...kr(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...kr(o/2,l/2,u,20,0,90)],f=[...kr(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...kr(-o/2-u/2,-u,u,20,0,90),...kr(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...kr(-o/2+u+u/2,l/2,u,30,-180,-270)],d=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...kr(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...kr(o/2+u*2,-u,u,20,-180,-270),...kr(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...kr(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2-u-u/2,y:l/2+u},...kr(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...kr(-o/2-u/2,-u,u,20,0,90),...kr(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...kr(-o/2+u+u/2,l/2,u,30,-180,-270)],p=Gt.svg(i),g=Vt(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=Te(h).replace("Z",""),b=p.path(m,g),T=Te(f).replace("Z",""),C=p.path(T,g),L=Te(d),N=p.path(L,{...g}),z=i.insert("g",":first-child");return z.insert(()=>N,":first-child").attr("stroke-opacity",0),z.insert(()=>b,":first-child"),z.insert(()=>C,":first-child"),z.attr("class","text"),c&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",c),n&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",n),z.attr("transform",`translate(${u-u/4}, 0)`),a.attr("transform",`translate(${-o/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Xt(t,z),t.intersect=function(R){return Ut.polygon(t,d,R)},i}P(TO,"curlyBraces");async function vO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=80,o=20,l=Math.max(a,(s.width+(t.padding??0)*2)*1.25,t?.width??0),u=Math.max(o,s.height+(t.padding??0)*2,t?.height??0),c=u/2,{cssStyles:h}=t,f=Gt.svg(i),d=Vt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=l,g=u,y=p-c,m=g/4,b=[{x:y,y:0},{x:m,y:0},{x:0,y:g/2},{x:m,y:g},{x:y,y:g},...Lu(-y,-g/2,c,50,270,90)],_=Te(b),T=f.path(_,d),C=i.insert(()=>T,":first-child");return C.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&C.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&C.selectChildren("path").attr("style",n),C.attr("transform",`translate(${-l/2}, ${-u/2})`),Xt(t,C),t.intersect=function(L){return Ut.polygon(t,b,L)},i}P(vO,"curvedTrapezoid");var Yct=P((e,t,r,n,i,s)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),Xct=P((e,t,r,n,i,s)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),Kct=P((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function AO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+t.padding,t.width??0),l=o/2,u=l/(2.5+o/50),c=Math.max(s.height+u+t.padding,t.height??0);let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const d=Gt.svg(i),p=Xct(0,0,o,c,l,u),g=Kct(0,u,o,c,l,u),y=d.path(p,Vt(t,{})),m=d.path(g,Vt(t,{fill:"none"}));h=i.insert(()=>m,":first-child"),h=i.insert(()=>y,":first-child"),h.attr("class","basic label-container"),f&&h.attr("style",f)}else{const d=Yct(0,0,o,c,l,u);h=i.insert("path",":first-child").attr("d",d).attr("class","basic label-container").attr("style",Ur(f)).attr("style",n)}return h.attr("label-offset-y",u),h.attr("transform",`translate(${-o/2}, ${-(c/2+u)})`),Xt(t,h),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(d){const p=Ut.rect(t,d),g=p.x-(t.x??0);if(l!=0&&(Math.abs(g)<(t.width??0)/2||Math.abs(g)==(t.width??0)/2&&Math.abs(p.y-(t.y??0))>(t.height??0)/2-u)){let y=u*u*(1-g*g/(l*l));y>0&&(y=Math.sqrt(y)),y=u-y,d.y-(t.y??0)>0&&(y=-y),p.y+=y}return p},i}P(AO,"cylinder");async function CO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=s.width+t.padding,l=s.height+t.padding,u=l*.2,c=-o/2,h=-l/2-u/2,{cssStyles:f}=t,d=Gt.svg(i),p=Vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:c,y:h+u},{x:-c,y:h+u},{x:-c,y:-h},{x:c,y:-h},{x:c,y:h},{x:-c,y:h},{x:-c,y:h+u}],y=d.polygon(g.map(b=>[b.x,b.y]),p),m=i.insert(()=>y,":first-child");return m.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),a.attr("transform",`translate(${c+(t.padding??0)/2-(s.x-(s.left??0))}, ${h+u+(t.padding??0)/2-(s.y-(s.top??0))})`),Xt(t,m),t.intersect=function(b){return Ut.rect(t,b)},i}P(CO,"dividedRectangle");async function kO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a}=await ne(e,t,re(t)),l=s.width/2+a+5,u=s.width/2+a;let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const f=Gt.svg(i),d=Vt(t,{roughness:.2,strokeWidth:2.5}),p=Vt(t,{roughness:.2,strokeWidth:1.5}),g=f.circle(0,0,l*2,d),y=f.circle(0,0,u*2,p);c=i.insert("g",":first-child"),c.attr("class",Ur(t.cssClasses)).attr("style",Ur(h)),c.node()?.appendChild(g),c.node()?.appendChild(y)}else{c=i.insert("g",":first-child");const f=c.insert("circle",":first-child"),d=c.insert("circle");c.attr("class","basic label-container").attr("style",n),f.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),d.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return Xt(t,c),t.intersect=function(f){return Lt.info("DoubleCircle intersect",t,l,f),Ut.circle(t,l,f)},i}P(kO,"doublecircle");function SO(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Yt(t);t.label="",t.labelStyle=n;const s=e.insert("g").attr("class",re(t)).attr("id",t.domId??t.id),a=7,{cssStyles:o}=t,l=Gt.svg(s),{nodeBorder:u}=r,c=Vt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(c.roughness=0);const h=l.circle(0,0,a*2,c),f=s.insert(()=>h,":first-child");return f.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",i),Xt(t,f),t.intersect=function(d){return Lt.info("filledCircle intersect",t,{radius:a,point:d}),Ut.circle(t,a,d)},s}P(SO,"filledCircle");async function IO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=s.width+(t.padding??0),l=o+s.height,u=o+s.height,c=[{x:0,y:-l},{x:u,y:-l},{x:u/2,y:0}],{cssStyles:h}=t,f=Gt.svg(i),d=Vt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=Te(c),g=f.path(p,d),y=i.insert(()=>g,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),t.width=o,t.height=l,Xt(t,y),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(m){return Lt.info("Triangle intersect",t,c,m),Ut.polygon(t,c,m)},i}P(IO,"flippedTriangle");function LO(e,t,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:s}=Yt(t);t.label="";const a=e.insert("g").attr("class",re(t)).attr("id",t.domId??t.id),{cssStyles:o}=t;let l=Math.max(70,t?.width??0),u=Math.max(10,t?.height??0);r==="LR"&&(l=Math.max(10,t?.width??0),u=Math.max(70,t?.height??0));const c=-1*l/2,h=-1*u/2,f=Gt.svg(a),d=Vt(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=f.rectangle(c,h,l,u,d),g=a.insert(()=>p,":first-child");o&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",o),s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),Xt(t,g);const y=n?.padding??0;return t.width&&t.height&&(t.width+=y/2||0,t.height+=y/2||0),t.intersect=function(m){return Ut.rect(t,m)},a}P(LO,"forkJoin");async function RO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const i=80,s=50,{shapeSvg:a,bbox:o}=await ne(e,t,re(t)),l=Math.max(i,o.width+(t.padding??0)*2,t?.width??0),u=Math.max(s,o.height+(t.padding??0)*2,t?.height??0),c=u/2,{cssStyles:h}=t,f=Gt.svg(a),d=Vt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:-l/2,y:-u/2},{x:l/2-c,y:-u/2},...Lu(-l/2+c,0,c,50,90,270),{x:l/2-c,y:u/2},{x:-l/2,y:u/2}],g=Te(p),y=f.path(g,d),m=a.insert(()=>y,":first-child");return m.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",n),Xt(t,m),t.intersect=function(b){return Lt.info("Pill intersect",t,{radius:c,point:b}),Ut.polygon(t,p,b)},a}P(RO,"halfRoundedRectangle");async function NO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=s.height+(t.padding??0),o=s.width+(t.padding??0)*2.5,{cssStyles:l}=t,u=Gt.svg(i),c=Vt(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");let h=o/2;const f=h/6;h=h+f;const d=a/2,p=d/2,g=h-p,y=[{x:-g,y:-d},{x:0,y:-d},{x:g,y:-d},{x:h,y:0},{x:g,y:d},{x:0,y:d},{x:-g,y:d},{x:-h,y:0}],m=Te(y),b=u.path(m,c),_=i.insert(()=>b,":first-child");return _.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",n),t.width=o,t.height=a,Xt(t,_),t.intersect=function(T){return Ut.polygon(t,y,T)},i}P(NO,"hexagon");async function OO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.label="",t.labelStyle=r;const{shapeSvg:i}=await ne(e,t,re(t)),s=Math.max(30,t?.width??0),a=Math.max(30,t?.height??0),{cssStyles:o}=t,l=Gt.svg(i),u=Vt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const c=[{x:0,y:0},{x:s,y:0},{x:0,y:a},{x:s,y:a}],h=Te(c),f=l.path(h,u),d=i.insert(()=>f,":first-child");return d.attr("class","basic label-container"),o&&t.look!=="handDrawn"&&d.selectChildren("path").attr("style",o),n&&t.look!=="handDrawn"&&d.selectChildren("path").attr("style",n),d.attr("transform",`translate(${-s/2}, ${-a/2})`),Xt(t,d),t.intersect=function(p){return Lt.info("Pill intersect",t,{points:c}),Ut.polygon(t,c,p)},i}P(OO,"hourglass");async function PO(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Yt(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:u,bbox:c,label:h}=await ne(e,t,"icon-shape default"),f=t.pos==="t",d=o,p=o,{nodeBorder:g}=r,{stylesMap:y}=Wo(t),m=-p/2,b=-d/2,_=t.label?8:0,T=Gt.svg(u),C=Vt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const L=T.rectangle(m,b,p,d,C),N=Math.max(p,c.width),z=d+c.height+_,R=T.rectangle(-N/2,-z/2,N,z,{...C,fill:"transparent",stroke:"none"}),H=u.insert(()=>L,":first-child"),K=u.insert(()=>R);if(t.icon){const S=u.append("g");S.html(`<g>${await cc(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const U=S.node().getBBox(),w=U.width,$=U.height,X=U.x,j=U.y;S.attr("transform",`translate(${-w/2-X},${f?c.height/2+_/2-$/2-j:-c.height/2-_/2-$/2-j})`),S.attr("style",`color: ${y.get("stroke")??g};`)}return h.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))},${f?-z/2:z/2-c.height})`),H.attr("transform",`translate(0,${f?c.height/2+_/2:-c.height/2-_/2})`),Xt(t,K),t.intersect=function(S){if(Lt.info("iconSquare intersect",t,S),!t.label)return Ut.rect(t,S);const U=t.x??0,w=t.y??0,$=t.height??0;let X=[];return f?X=[{x:U-c.width/2,y:w-$/2},{x:U+c.width/2,y:w-$/2},{x:U+c.width/2,y:w-$/2+c.height+_},{x:U+p/2,y:w-$/2+c.height+_},{x:U+p/2,y:w+$/2},{x:U-p/2,y:w+$/2},{x:U-p/2,y:w-$/2+c.height+_},{x:U-c.width/2,y:w-$/2+c.height+_}]:X=[{x:U-p/2,y:w-$/2},{x:U+p/2,y:w-$/2},{x:U+p/2,y:w-$/2+d},{x:U+c.width/2,y:w-$/2+d},{x:U+c.width/2/2,y:w+$/2},{x:U-c.width/2,y:w+$/2},{x:U-c.width/2,y:w-$/2+d},{x:U-p/2,y:w-$/2+d}],Ut.polygon(t,X,S)},u}P(PO,"icon");async function DO(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Yt(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:u,bbox:c,label:h}=await ne(e,t,"icon-shape default"),f=20,d=t.label?8:0,p=t.pos==="t",{nodeBorder:g,mainBkg:y}=r,{stylesMap:m}=Wo(t),b=Gt.svg(u),_=Vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const T=m.get("fill");_.stroke=T??y;const C=u.append("g");t.icon&&C.html(`<g>${await cc(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const L=C.node().getBBox(),N=L.width,z=L.height,R=L.x,H=L.y,K=Math.max(N,z)*Math.SQRT2+f*2,S=b.circle(0,0,K,_),U=Math.max(K,c.width),w=K+c.height+d,$=b.rectangle(-U/2,-w/2,U,w,{..._,fill:"transparent",stroke:"none"}),X=u.insert(()=>S,":first-child"),j=u.insert(()=>$);return C.attr("transform",`translate(${-N/2-R},${p?c.height/2+d/2-z/2-H:-c.height/2-d/2-z/2-H})`),C.attr("style",`color: ${m.get("stroke")??g};`),h.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))},${p?-w/2:w/2-c.height})`),X.attr("transform",`translate(0,${p?c.height/2+d/2:-c.height/2-d/2})`),Xt(t,j),t.intersect=function(nt){return Lt.info("iconSquare intersect",t,nt),Ut.rect(t,nt)},u}P(DO,"iconCircle");async function BO(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Yt(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:u,bbox:c,halfPadding:h,label:f}=await ne(e,t,"icon-shape default"),d=t.pos==="t",p=o+h*2,g=o+h*2,{nodeBorder:y,mainBkg:m}=r,{stylesMap:b}=Wo(t),_=-g/2,T=-p/2,C=t.label?8:0,L=Gt.svg(u),N=Vt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const z=b.get("fill");N.stroke=z??m;const R=L.path(Rs(_,T,g,p,5),N),H=Math.max(g,c.width),K=p+c.height+C,S=L.rectangle(-H/2,-K/2,H,K,{...N,fill:"transparent",stroke:"none"}),U=u.insert(()=>R,":first-child").attr("class","icon-shape2"),w=u.insert(()=>S);if(t.icon){const $=u.append("g");$.html(`<g>${await cc(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const X=$.node().getBBox(),j=X.width,nt=X.height,J=X.x,G=X.y;$.attr("transform",`translate(${-j/2-J},${d?c.height/2+C/2-nt/2-G:-c.height/2-C/2-nt/2-G})`),$.attr("style",`color: ${b.get("stroke")??y};`)}return f.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))},${d?-K/2:K/2-c.height})`),U.attr("transform",`translate(0,${d?c.height/2+C/2:-c.height/2-C/2})`),Xt(t,w),t.intersect=function($){if(Lt.info("iconSquare intersect",t,$),!t.label)return Ut.rect(t,$);const X=t.x??0,j=t.y??0,nt=t.height??0;let J=[];return d?J=[{x:X-c.width/2,y:j-nt/2},{x:X+c.width/2,y:j-nt/2},{x:X+c.width/2,y:j-nt/2+c.height+C},{x:X+g/2,y:j-nt/2+c.height+C},{x:X+g/2,y:j+nt/2},{x:X-g/2,y:j+nt/2},{x:X-g/2,y:j-nt/2+c.height+C},{x:X-c.width/2,y:j-nt/2+c.height+C}]:J=[{x:X-g/2,y:j-nt/2},{x:X+g/2,y:j-nt/2},{x:X+g/2,y:j-nt/2+p},{x:X+c.width/2,y:j-nt/2+p},{x:X+c.width/2/2,y:j+nt/2},{x:X-c.width/2,y:j+nt/2},{x:X-c.width/2,y:j-nt/2+p},{x:X-g/2,y:j-nt/2+p}],Ut.polygon(t,J,$)},u}P(BO,"iconRounded");async function MO(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Yt(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:u,bbox:c,halfPadding:h,label:f}=await ne(e,t,"icon-shape default"),d=t.pos==="t",p=o+h*2,g=o+h*2,{nodeBorder:y,mainBkg:m}=r,{stylesMap:b}=Wo(t),_=-g/2,T=-p/2,C=t.label?8:0,L=Gt.svg(u),N=Vt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const z=b.get("fill");N.stroke=z??m;const R=L.path(Rs(_,T,g,p,.1),N),H=Math.max(g,c.width),K=p+c.height+C,S=L.rectangle(-H/2,-K/2,H,K,{...N,fill:"transparent",stroke:"none"}),U=u.insert(()=>R,":first-child"),w=u.insert(()=>S);if(t.icon){const $=u.append("g");$.html(`<g>${await cc(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const X=$.node().getBBox(),j=X.width,nt=X.height,J=X.x,G=X.y;$.attr("transform",`translate(${-j/2-J},${d?c.height/2+C/2-nt/2-G:-c.height/2-C/2-nt/2-G})`),$.attr("style",`color: ${b.get("stroke")??y};`)}return f.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))},${d?-K/2:K/2-c.height})`),U.attr("transform",`translate(0,${d?c.height/2+C/2:-c.height/2-C/2})`),Xt(t,w),t.intersect=function($){if(Lt.info("iconSquare intersect",t,$),!t.label)return Ut.rect(t,$);const X=t.x??0,j=t.y??0,nt=t.height??0;let J=[];return d?J=[{x:X-c.width/2,y:j-nt/2},{x:X+c.width/2,y:j-nt/2},{x:X+c.width/2,y:j-nt/2+c.height+C},{x:X+g/2,y:j-nt/2+c.height+C},{x:X+g/2,y:j+nt/2},{x:X-g/2,y:j+nt/2},{x:X-g/2,y:j-nt/2+c.height+C},{x:X-c.width/2,y:j-nt/2+c.height+C}]:J=[{x:X-g/2,y:j-nt/2},{x:X+g/2,y:j-nt/2},{x:X+g/2,y:j-nt/2+p},{x:X+c.width/2,y:j-nt/2+p},{x:X+c.width/2/2,y:j+nt/2},{x:X-c.width/2,y:j+nt/2},{x:X-c.width/2,y:j-nt/2+p},{x:X-g/2,y:j-nt/2+p}],Ut.polygon(t,J,$)},u}P(MO,"iconSquare");async function FO(e,t,{config:{flowchart:r}}){const n=new Image;n.src=t?.img??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/s;const{labelStyles:a}=Yt(t);t.labelStyle=a;const o=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;const l=Math.max(t.label?o??0:0,t?.assetWidth??i),u=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:l,c=t.constraint==="on"?u/t.imageAspectRatio:t?.assetHeight??s;t.width=Math.max(u,o??0);const{shapeSvg:h,bbox:f,label:d}=await ne(e,t,"image-shape default"),p=t.pos==="t",g=-u/2,y=-c/2,m=t.label?8:0,b=Gt.svg(h),_=Vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const T=b.rectangle(g,y,u,c,_),C=Math.max(u,f.width),L=c+f.height+m,N=b.rectangle(-C/2,-L/2,C,L,{..._,fill:"none",stroke:"none"}),z=h.insert(()=>T,":first-child"),R=h.insert(()=>N);if(t.img){const H=h.append("image");H.attr("href",t.img),H.attr("width",u),H.attr("height",c),H.attr("preserveAspectRatio","none"),H.attr("transform",`translate(${-u/2},${p?L/2-c:-L/2})`)}return d.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${p?-c/2-f.height/2-m/2:c/2-f.height/2+m/2})`),z.attr("transform",`translate(0,${p?f.height/2+m/2:-f.height/2-m/2})`),Xt(t,R),t.intersect=function(H){if(Lt.info("iconSquare intersect",t,H),!t.label)return Ut.rect(t,H);const K=t.x??0,S=t.y??0,U=t.height??0;let w=[];return p?w=[{x:K-f.width/2,y:S-U/2},{x:K+f.width/2,y:S-U/2},{x:K+f.width/2,y:S-U/2+f.height+m},{x:K+u/2,y:S-U/2+f.height+m},{x:K+u/2,y:S+U/2},{x:K-u/2,y:S+U/2},{x:K-u/2,y:S-U/2+f.height+m},{x:K-f.width/2,y:S-U/2+f.height+m}]:w=[{x:K-u/2,y:S-U/2},{x:K+u/2,y:S-U/2},{x:K+u/2,y:S-U/2+c},{x:K+f.width/2,y:S-U/2+c},{x:K+f.width/2/2,y:S+U/2},{x:K-f.width/2,y:S+U/2},{x:K-f.width/2,y:S-U/2+c},{x:K-u/2,y:S-U/2+c}],Ut.polygon(t,w,H)},h}P(FO,"imageSquare");async function UO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=Math.max(s.width+(t.padding??0)*2,t?.width??0),o=Math.max(s.height+(t.padding??0)*2,t?.height??0),l=[{x:0,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:-3*o/6,y:-o}];let u;const{cssStyles:c}=t;if(t.look==="handDrawn"){const h=Gt.svg(i),f=Vt(t,{}),d=Te(l),p=h.path(d,f);u=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),c&&u.attr("style",c)}else u=Ns(i,a,o,l);return n&&u.attr("style",n),t.width=a,t.height=o,Xt(t,u),t.intersect=function(h){return Ut.polygon(t,l,h)},i}P(UO,"inv_trapezoid");async function Zf(e,t,r){const{labelStyles:n,nodeStyles:i}=Yt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await ne(e,t,re(t)),o=Math.max(a.width+r.labelPaddingX*2,t?.width||0),l=Math.max(a.height+r.labelPaddingY*2,t?.height||0),u=-o/2,c=-l/2;let h,{rx:f,ry:d}=t;const{cssStyles:p}=t;if(r?.rx&&r.ry&&(f=r.rx,d=r.ry),t.look==="handDrawn"){const g=Gt.svg(s),y=Vt(t,{}),m=f||d?g.path(Rs(u,c,o,l,f||0),y):g.rectangle(u,c,o,l,y);h=s.insert(()=>m,":first-child"),h.attr("class","basic label-container").attr("style",Ur(p))}else h=s.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",i).attr("rx",Ur(f)).attr("ry",Ur(d)).attr("x",u).attr("y",c).attr("width",o).attr("height",l);return Xt(t,h),t.calcIntersect=function(g,y){return Ut.rect(g,y)},t.intersect=function(g){return Ut.rect(t,g)},s}P(Zf,"drawRect");async function HO(e,t){const{shapeSvg:r,bbox:n,label:i}=await ne(e,t,"label"),s=r.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Xt(t,s),t.intersect=function(l){return Ut.rect(t,l)},r}P(HO,"labelRect");async function $O(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=Math.max(s.width+(t.padding??0),t?.width??0),o=Math.max(s.height+(t.padding??0),t?.height??0),l=[{x:0,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:-(3*o)/6,y:-o}];let u;const{cssStyles:c}=t;if(t.look==="handDrawn"){const h=Gt.svg(i),f=Vt(t,{}),d=Te(l),p=h.path(d,f);u=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),c&&u.attr("style",c)}else u=Ns(i,a,o,l);return n&&u.attr("style",n),t.width=a,t.height=o,Xt(t,u),t.intersect=function(h){return Ut.polygon(t,l,h)},i}P($O,"lean_left");async function zO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=Math.max(s.width+(t.padding??0),t?.width??0),o=Math.max(s.height+(t.padding??0),t?.height??0),l=[{x:-3*o/6,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:0,y:-o}];let u;const{cssStyles:c}=t;if(t.look==="handDrawn"){const h=Gt.svg(i),f=Vt(t,{}),d=Te(l),p=h.path(d,f);u=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),c&&u.attr("style",c)}else u=Ns(i,a,o,l);return n&&u.attr("style",n),t.width=a,t.height=o,Xt(t,u),t.intersect=function(h){return Ut.polygon(t,l,h)},i}P(zO,"lean_right");function jO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.label="",t.labelStyle=r;const i=e.insert("g").attr("class",re(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,a=Math.max(35,t?.width??0),o=Math.max(35,t?.height??0),l=7,u=[{x:a,y:0},{x:0,y:o+l/2},{x:a-2*l,y:o+l/2},{x:0,y:2*o},{x:a,y:o-l/2},{x:2*l,y:o-l/2}],c=Gt.svg(i),h=Vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=Te(u),d=c.path(f,h),p=i.insert(()=>d,":first-child");return s&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",n),p.attr("transform",`translate(-${a/2},${-o})`),Xt(t,p),t.intersect=function(g){return Lt.info("lightningBolt intersect",t,g),Ut.polygon(t,u,g)},i}P(jO,"lightningBolt");var Zct=P((e,t,r,n,i,s,a)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),Qct=P((e,t,r,n,i,s,a)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),Jct=P((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function WO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0),t.width??0),l=o/2,u=l/(2.5+o/50),c=Math.max(s.height+u+(t.padding??0),t.height??0),h=c*.1;let f;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=Gt.svg(i),g=Qct(0,0,o,c,l,u,h),y=Jct(0,u,o,c,l,u),m=Vt(t,{}),b=p.path(g,m),_=p.path(y,m);i.insert(()=>_,":first-child").attr("class","line"),f=i.insert(()=>b,":first-child"),f.attr("class","basic label-container"),d&&f.attr("style",d)}else{const p=Zct(0,0,o,c,l,u,h);f=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Ur(d)).attr("style",n)}return f.attr("label-offset-y",u),f.attr("transform",`translate(${-o/2}, ${-(c/2+u)})`),Xt(t,f),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+u-(s.y-(s.top??0))})`),t.intersect=function(p){const g=Ut.rect(t,p),y=g.x-(t.x??0);if(l!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-u)){let m=u*u*(1-y*y/(l*l));m>0&&(m=Math.sqrt(m)),m=u-m,p.y-(t.y??0)>0&&(m=-m),g.y+=m}return g},i}P(WO,"linedCylinder");async function qO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),u=l/4,c=l+u,{cssStyles:h}=t,f=Gt.svg(i),d=Vt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:-o/2-o/2*.1,y:-c/2},{x:-o/2-o/2*.1,y:c/2},...xs(-o/2-o/2*.1,c/2,o/2+o/2*.1,c/2,u,.8),{x:o/2+o/2*.1,y:-c/2},{x:-o/2-o/2*.1,y:-c/2},{x:-o/2,y:-c/2},{x:-o/2,y:c/2*1.1},{x:-o/2,y:-c/2}],g=f.polygon(p.map(m=>[m.x,m.y]),d),y=i.insert(()=>g,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)+o/2*.1/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)-u/2-(s.y-(s.top??0))})`),Xt(t,y),t.intersect=function(m){return Ut.polygon(t,p,m)},i}P(qO,"linedWaveEdgedRect");async function GO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),u=5,c=-o/2,h=-l/2,{cssStyles:f}=t,d=Gt.svg(i),p=Vt(t,{}),g=[{x:c-u,y:h+u},{x:c-u,y:h+l+u},{x:c+o-u,y:h+l+u},{x:c+o-u,y:h+l},{x:c+o,y:h+l},{x:c+o,y:h+l-u},{x:c+o+u,y:h+l-u},{x:c+o+u,y:h-u},{x:c+u,y:h-u},{x:c+u,y:h},{x:c,y:h},{x:c,y:h+u}],y=[{x:c,y:h+u},{x:c+o-u,y:h+u},{x:c+o-u,y:h+l},{x:c+o,y:h+l},{x:c+o,y:h},{x:c,y:h}];t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=Te(g),b=d.path(m,p),_=Te(y),T=d.path(_,{...p,fill:"none"}),C=i.insert(()=>T,":first-child");return C.insert(()=>b,":first-child"),C.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)-u-(s.x-(s.left??0))}, ${-(s.height/2)+u-(s.y-(s.top??0))})`),Xt(t,C),t.intersect=function(L){return Ut.polygon(t,g,L)},i}P(GO,"multiRect");async function VO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),u=l/4,c=l+u,h=-o/2,f=-c/2,d=5,{cssStyles:p}=t,g=xs(h-d,f+c+d,h+o-d,f+c+d,u,.8),y=g?.[g.length-1],m=[{x:h-d,y:f+d},{x:h-d,y:f+c+d},...g,{x:h+o-d,y:y.y-d},{x:h+o,y:y.y-d},{x:h+o,y:y.y-2*d},{x:h+o+d,y:y.y-2*d},{x:h+o+d,y:f-d},{x:h+d,y:f-d},{x:h+d,y:f},{x:h,y:f},{x:h,y:f+d}],b=[{x:h,y:f+d},{x:h+o-d,y:f+d},{x:h+o-d,y:y.y-d},{x:h+o,y:y.y-d},{x:h+o,y:f},{x:h,y:f}],_=Gt.svg(i),T=Vt(t,{});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const C=Te(m),L=_.path(C,T),N=Te(b),z=_.path(N,T),R=i.insert(()=>L,":first-child");return R.insert(()=>z),R.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&R.selectAll("path").attr("style",n),R.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-(s.width/2)-d-(s.x-(s.left??0))}, ${-(s.height/2)+d-u/2-(s.y-(s.top??0))})`),Xt(t,R),t.intersect=function(H){return Ut.polygon(t,m,H)},i}P(VO,"multiWaveEdgedRectangle");async function YO(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Yt(t);t.labelStyle=n,t.useHtmlLabels||Mr().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);const{shapeSvg:a,bbox:o,label:l}=await ne(e,t,re(t)),u=Math.max(o.width+(t.padding??0)*2,t?.width??0),c=Math.max(o.height+(t.padding??0)*2,t?.height??0),h=-u/2,f=-c/2,{cssStyles:d}=t,p=Gt.svg(a),g=Vt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=p.rectangle(h,f,u,c,g),m=a.insert(()=>y,":first-child");return m.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",i),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Xt(t,m),t.intersect=function(b){return Ut.rect(t,b)},a}P(YO,"note");var tht=P((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function XO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=s.width+t.padding,o=s.height+t.padding,l=a+o,u=.5,c=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const d=Gt.svg(i),p=Vt(t,{}),g=tht(0,0,l),y=d.path(g,p);h=i.insert(()=>y,":first-child").attr("transform",`translate(${-l/2+u}, ${l/2})`),f&&h.attr("style",f)}else h=Ns(i,l,l,c),h.attr("transform",`translate(${-l/2+u}, ${l/2})`);return n&&h.attr("style",n),Xt(t,h),t.calcIntersect=function(d,p){const g=d.width,y=[{x:g/2,y:0},{x:g,y:-g/2},{x:g/2,y:-g},{x:0,y:-g/2}],m=Ut.polygon(d,y,p);return{x:m.x-.5,y:m.y-.5}},t.intersect=function(d){return this.calcIntersect(t,d)},i}P(XO,"question");async function KO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0),t?.width??0),l=Math.max(s.height+(t.padding??0),t?.height??0),u=-o/2,c=-l/2,h=c/2,f=[{x:u+h,y:c},{x:u,y:0},{x:u+h,y:-c},{x:-u,y:-c},{x:-u,y:c}],{cssStyles:d}=t,p=Gt.svg(i),g=Vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Te(f),m=p.path(y,g),b=i.insert(()=>m,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-h/2},0)`),a.attr("transform",`translate(${-h/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Xt(t,b),t.intersect=function(_){return Ut.polygon(t,f,_)},i}P(KO,"rect_left_inv_arrow");async function ZO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),a=s.insert("g"),o=s.insert("g").attr("class","label").attr("style",n),l=t.description,u=t.label,c=o.node().appendChild(await ta(u,t.labelStyle,!0,!0));let h={width:0,height:0};if(gr(Ie()?.flowchart?.htmlLabels)){const z=c.children[0],R=Ae(c);h=z.getBoundingClientRect(),R.attr("width",h.width),R.attr("height",h.height)}Lt.info("Text 2",l);const f=l||[],d=c.getBBox(),p=o.node().appendChild(await ta(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),g=p.children[0],y=Ae(p);h=g.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height);const m=(t.padding||0)/2;Ae(p).attr("transform","translate( "+(h.width>d.width?0:(d.width-h.width)/2)+", "+(d.height+m+5)+")"),Ae(c).attr("transform","translate( "+(h.width<d.width?0:-(d.width-h.width)/2)+", 0)"),h=o.node().getBBox(),o.attr("transform","translate("+-h.width/2+", "+(-h.height/2-m+3)+")");const b=h.width+(t.padding||0),_=h.height+(t.padding||0),T=-h.width/2-m,C=-h.height/2-m;let L,N;if(t.look==="handDrawn"){const z=Gt.svg(s),R=Vt(t,{}),H=z.path(Rs(T,C,b,_,t.rx||0),R),K=z.line(-h.width/2-m,-h.height/2-m+d.height+m,h.width/2+m,-h.height/2-m+d.height+m,R);N=s.insert(()=>(Lt.debug("Rough node insert CXC",H),K),":first-child"),L=s.insert(()=>(Lt.debug("Rough node insert CXC",H),H),":first-child")}else L=a.insert("rect",":first-child"),N=a.insert("line"),L.attr("class","outer title-state").attr("style",n).attr("x",-h.width/2-m).attr("y",-h.height/2-m).attr("width",h.width+(t.padding||0)).attr("height",h.height+(t.padding||0)),N.attr("class","divider").attr("x1",-h.width/2-m).attr("x2",h.width/2+m).attr("y1",-h.height/2-m+d.height+m).attr("y2",-h.height/2-m+d.height+m);return Xt(t,L),t.intersect=function(z){return Ut.rect(t,z)},s}P(ZO,"rectWithTitle");function Bl(e,t,r,n,i,s,a){const l=(e+r)/2,u=(t+n)/2,c=Math.atan2(n-t,r-e),h=(r-e)/2,f=(n-t)/2,d=h/i,p=f/s,g=Math.sqrt(d**2+p**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-g**2),m=l+y*s*Math.sin(c)*(a?-1:1),b=u-y*i*Math.cos(c)*(a?-1:1),_=Math.atan2((t-b)/s,(e-m)/i);let C=Math.atan2((n-b)/s,(r-m)/i)-_;a&&C<0&&(C+=2*Math.PI),!a&&C>0&&(C-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const z=N/19,R=_+z*C,H=m+i*Math.cos(R),K=b+s*Math.sin(R);L.push({x:H,y:K})}return L}P(Bl,"generateArcPoints");async function QO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=t?.padding??0,o=t?.padding??0,l=(t?.width?t?.width:s.width)+a*2,u=(t?.height?t?.height:s.height)+o*2,c=t.radius||5,h=t.taper||5,{cssStyles:f}=t,d=Gt.svg(i),p=Vt(t,{});t.stroke&&(p.stroke=t.stroke),t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-l/2+h,y:-u/2},{x:l/2-h,y:-u/2},...Bl(l/2-h,-u/2,l/2,-u/2+h,c,c,!0),{x:l/2,y:-u/2+h},{x:l/2,y:u/2-h},...Bl(l/2,u/2-h,l/2-h,u/2,c,c,!0),{x:l/2-h,y:u/2},{x:-l/2+h,y:u/2},...Bl(-l/2+h,u/2,-l/2,u/2-h,c,c,!0),{x:-l/2,y:u/2-h},{x:-l/2,y:-u/2+h},...Bl(-l/2,-u/2+h,-l/2+h,-u/2,c,c,!0)],y=Te(g),m=d.path(y,p),b=i.insert(()=>m,":first-child");return b.attr("class","basic label-container outer-path"),f&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),Xt(t,b),t.intersect=function(_){return Ut.polygon(t,g,_)},i}P(QO,"roundedRect");async function JO(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=t?.padding??0,l=Math.max(s.width+(t.padding??0)*2,t?.width??0),u=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=-s.width/2-o,h=-s.height/2-o,{cssStyles:f}=t,d=Gt.svg(i),p=Vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:c,y:h},{x:c+l+8,y:h},{x:c+l+8,y:h+u},{x:c-8,y:h+u},{x:c-8,y:h},{x:c,y:h},{x:c,y:h+u}],y=d.polygon(g.map(b=>[b.x,b.y]),p),m=i.insert(()=>y,":first-child");return m.attr("class","basic label-container").attr("style",Ur(f)),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),f&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),a.attr("transform",`translate(${-l/2+4+(t.padding??0)-(s.x-(s.left??0))},${-u/2+(t.padding??0)-(s.y-(s.top??0))})`),Xt(t,m),t.intersect=function(b){return Ut.rect(t,b)},i}P(JO,"shadedProcess");async function tP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),u=-o/2,c=-l/2,{cssStyles:h}=t,f=Gt.svg(i),d=Vt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:u,y:c},{x:u,y:c+l},{x:u+o,y:c+l},{x:u+o,y:c-l/2}],g=Te(p),y=f.path(g,d),m=i.insert(()=>y,":first-child");return m.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",n),m.attr("transform",`translate(0, ${l/4})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))}, ${-l/4+(t.padding??0)-(s.y-(s.top??0))})`),Xt(t,m),t.intersect=function(b){return Ut.polygon(t,p,b)},i}P(tP,"slopedRect");async function eP(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return Zf(e,t,r)}P(eP,"squareRect");async function rP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=s.height+t.padding,o=s.width+a/4+t.padding,l=a/2,{cssStyles:u}=t,c=Gt.svg(i),h=Vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=[{x:-o/2+l,y:-a/2},{x:o/2-l,y:-a/2},...Lu(-o/2+l,0,l,50,90,270),{x:o/2-l,y:a/2},...Lu(o/2-l,0,l,50,270,450)],d=Te(f),p=c.path(d,h),g=i.insert(()=>p,":first-child");return g.attr("class","basic label-container outer-path"),u&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),Xt(t,g),t.intersect=function(y){return Ut.polygon(t,f,y)},i}P(rP,"stadium");async function nP(e,t){return Zf(e,t,{rx:5,ry:5})}P(nP,"state");function iP(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Yt(t);t.labelStyle=n;const{cssStyles:s}=t,{lineColor:a,stateBorder:o,nodeBorder:l}=r,u=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),c=Gt.svg(u),h=Vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=c.circle(0,0,14,{...h,stroke:a,strokeWidth:2}),d=o??l,p=c.circle(0,0,5,{...h,fill:d,stroke:d,strokeWidth:2,fillStyle:"solid"}),g=u.insert(()=>f,":first-child");return g.insert(()=>p),s&&g.selectAll("path").attr("style",s),i&&g.selectAll("path").attr("style",i),Xt(t,g),t.intersect=function(y){return Ut.circle(t,7,y)},u}P(iP,"stateEnd");function sP(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const o=Gt.svg(i).circle(0,0,14,mat(n));s=i.insert(()=>o),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Xt(t,s),t.intersect=function(a){return Ut.circle(t,7,a)},i}P(sP,"stateStart");async function aP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=(t?.padding||0)/2,o=s.width+t.padding,l=s.height+t.padding,u=-s.width/2-a,c=-s.height/2-a,h=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){const f=Gt.svg(i),d=Vt(t,{}),p=f.rectangle(u-8,c,o+16,l,d),g=f.line(u,c,u,c+l,d),y=f.line(u+o,c,u+o,c+l,d);i.insert(()=>g,":first-child"),i.insert(()=>y,":first-child");const m=i.insert(()=>p,":first-child"),{cssStyles:b}=t;m.attr("class","basic label-container").attr("style",Ur(b)),Xt(t,m)}else{const f=Ns(i,o,l,h);n&&f.attr("style",n),Xt(t,f)}return t.intersect=function(f){return Ut.polygon(t,h,f)},i}P(aP,"subroutine");async function oP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=Math.max(s.width+(t.padding??0)*2,t?.width??0),o=Math.max(s.height+(t.padding??0)*2,t?.height??0),l=-a/2,u=-o/2,c=.2*o,h=.2*o,{cssStyles:f}=t,d=Gt.svg(i),p=Vt(t,{}),g=[{x:l-c/2,y:u},{x:l+a+c/2,y:u},{x:l+a+c/2,y:u+o},{x:l-c/2,y:u+o}],y=[{x:l+a-c/2,y:u+o},{x:l+a+c/2,y:u+o},{x:l+a+c/2,y:u+o-h}];t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=Te(g),b=d.path(m,p),_=Te(y),T=d.path(_,{...p,fillStyle:"solid"}),C=i.insert(()=>T,":first-child");return C.insert(()=>b,":first-child"),C.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),Xt(t,C),t.intersect=function(L){return Ut.polygon(t,g,L)},i}P(oP,"taggedRect");async function lP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),u=l/4,c=.2*o,h=.2*l,f=l+u,{cssStyles:d}=t,p=Gt.svg(i),g=Vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=[{x:-o/2-o/2*.1,y:f/2},...xs(-o/2-o/2*.1,f/2,o/2+o/2*.1,f/2,u,.8),{x:o/2+o/2*.1,y:-f/2},{x:-o/2-o/2*.1,y:-f/2}],m=-o/2+o/2*.1,b=-f/2-h*.4,_=[{x:m+o-c,y:(b+l)*1.4},{x:m+o,y:b+l-h},{x:m+o,y:(b+l)*.9},...xs(m+o,(b+l)*1.3,m+o-c,(b+l)*1.5,-l*.03,.5)],T=Te(y),C=p.path(T,g),L=Te(_),N=p.path(L,{...g,fillStyle:"solid"}),z=i.insert(()=>N,":first-child");return z.insert(()=>C,":first-child"),z.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&z.selectAll("path").attr("style",n),z.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-u/2-(s.y-(s.top??0))})`),Xt(t,z),t.intersect=function(R){return Ut.polygon(t,y,R)},i}P(lP,"taggedWaveEdgedRectangle");async function uP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=Math.max(s.width+t.padding,t?.width||0),o=Math.max(s.height+t.padding,t?.height||0),l=-a/2,u=-o/2,c=i.insert("rect",":first-child");return c.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",a).attr("height",o),Xt(t,c),t.intersect=function(h){return Ut.rect(t,h)},i}P(uP,"text");var eht=P((e,t,r,n,i,s)=>`M${e},${t}
    a${i},${s} 0,0,1 0,${-n}
    l${r},0
    a${i},${s} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${s} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),rht=P((e,t,r,n,i,s)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${s} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${s} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),nht=P((e,t,r,n,i,s)=>[`M${e+r/2},${-n/2}`,`a${i},${s} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function cP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a,halfPadding:o}=await ne(e,t,re(t)),l=t.look==="neo"?o*2:o,u=s.height+l,c=u/2,h=c/(2.5+u/50),f=s.width+h+l,{cssStyles:d}=t;let p;if(t.look==="handDrawn"){const g=Gt.svg(i),y=rht(0,0,f,u,h,c),m=nht(0,0,f,u,h,c),b=g.path(y,Vt(t,{})),_=g.path(m,Vt(t,{fill:"none"}));p=i.insert(()=>_,":first-child"),p=i.insert(()=>b,":first-child"),p.attr("class","basic label-container"),d&&p.attr("style",d)}else{const g=eht(0,0,f,u,h,c);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",Ur(d)).attr("style",n),p.attr("class","basic label-container"),d&&p.selectAll("path").attr("style",d),n&&p.selectAll("path").attr("style",n)}return p.attr("label-offset-x",h),p.attr("transform",`translate(${-f/2}, ${u/2} )`),a.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Xt(t,p),t.intersect=function(g){const y=Ut.rect(t,g),m=y.y-(t.y??0);if(c!=0&&(Math.abs(m)<(t.height??0)/2||Math.abs(m)==(t.height??0)/2&&Math.abs(y.x-(t.x??0))>(t.width??0)/2-h)){let b=h*h*(1-m*m/(c*c));b!=0&&(b=Math.sqrt(Math.abs(b))),b=h-b,g.x-(t.x??0)>0&&(b=-b),y.x+=b}return y},i}P(cP,"tiltedCylinder");async function hP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=s.width+t.padding,o=s.height+t.padding,l=[{x:-3*o/6,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:0,y:-o}];let u;const{cssStyles:c}=t;if(t.look==="handDrawn"){const h=Gt.svg(i),f=Vt(t,{}),d=Te(l),p=h.path(d,f);u=i.insert(()=>p,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),c&&u.attr("style",c)}else u=Ns(i,a,o,l);return n&&u.attr("style",n),t.width=a,t.height=o,Xt(t,u),t.intersect=function(h){return Ut.polygon(t,l,h)},i}P(hP,"trapezoid");async function dP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=60,o=20,l=Math.max(a,s.width+(t.padding??0)*2,t?.width??0),u=Math.max(o,s.height+(t.padding??0)*2,t?.height??0),{cssStyles:c}=t,h=Gt.svg(i),f=Vt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const d=[{x:-l/2*.8,y:-u/2},{x:l/2*.8,y:-u/2},{x:l/2,y:-u/2*.6},{x:l/2,y:u/2},{x:-l/2,y:u/2},{x:-l/2,y:-u/2*.6}],p=Te(d),g=h.path(p,f),y=i.insert(()=>g,":first-child");return y.attr("class","basic label-container"),c&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",c),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),Xt(t,y),t.intersect=function(m){return Ut.polygon(t,d,m)},i}P(dP,"trapezoidalPentagon");async function fP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=gr(Ie().flowchart?.htmlLabels),l=s.width+(t.padding??0),u=l+s.height,c=l+s.height,h=[{x:0,y:0},{x:c,y:0},{x:c/2,y:-u}],{cssStyles:f}=t,d=Gt.svg(i),p=Vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=Te(h),y=d.path(g,p),m=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return f&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",n),t.width=l,t.height=u,Xt(t,m),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${u/2-(s.height+(t.padding??0)/(o?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(b){return Lt.info("Triangle intersect",t,h,b),Ut.polygon(t,h,b)},i}P(fP,"triangle");async function pP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),u=l/8,c=l+u,{cssStyles:h}=t,d=70-o,p=d>0?d/2:0,g=Gt.svg(i),y=Vt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const m=[{x:-o/2-p,y:c/2},...xs(-o/2-p,c/2,o/2+p,c/2,u,.8),{x:o/2+p,y:-c/2},{x:-o/2-p,y:-c/2}],b=Te(m),_=g.path(b,y),T=i.insert(()=>_,":first-child");return T.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-u-(s.y-(s.top??0))})`),Xt(t,T),t.intersect=function(C){return Ut.polygon(t,m,C)},i}P(pP,"waveEdgedRectangle");async function mP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ne(e,t,re(t)),a=100,o=50,l=Math.max(s.width+(t.padding??0)*2,t?.width??0),u=Math.max(s.height+(t.padding??0)*2,t?.height??0),c=l/u;let h=l,f=u;h>f*c?f=h/c:h=f*c,h=Math.max(h,a),f=Math.max(f,o);const d=Math.min(f*.2,f/4),p=f+d*2,{cssStyles:g}=t,y=Gt.svg(i),m=Vt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=[{x:-h/2,y:p/2},...xs(-h/2,p/2,h/2,p/2,d,1),{x:h/2,y:-p/2},...xs(h/2,-p/2,-h/2,-p/2,d,-1)],_=Te(b),T=y.path(_,m),C=i.insert(()=>T,":first-child");return C.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),Xt(t,C),t.intersect=function(L){return Ut.polygon(t,b,L)},i}P(mP,"waveRectangle");async function gP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ne(e,t,re(t)),o=Math.max(s.width+(t.padding??0)*2,t?.width??0),l=Math.max(s.height+(t.padding??0)*2,t?.height??0),u=5,c=-o/2,h=-l/2,{cssStyles:f}=t,d=Gt.svg(i),p=Vt(t,{}),g=[{x:c-u,y:h-u},{x:c-u,y:h+l},{x:c+o,y:h+l},{x:c+o,y:h-u}],y=`M${c-u},${h-u} L${c+o},${h-u} L${c+o},${h+l} L${c-u},${h+l} L${c-u},${h-u}
                M${c-u},${h} L${c+o},${h}
                M${c},${h-u} L${c},${h+l}`;t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=d.path(y,p),b=i.insert(()=>m,":first-child");return b.attr("transform",`translate(${u/2}, ${u/2})`),b.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)+u/2-(s.x-(s.left??0))}, ${-(s.height/2)+u/2-(s.y-(s.top??0))})`),Xt(t,b),t.intersect=function(_){return Ut.polygon(t,g,_)},i}P(gP,"windowPane");async function G2(e,t){const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:B}=Mr(),{background:F}=B,it={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${F}`]};await G2(e,it)}const n=Mr();t.useHtmlLabels=n.htmlLabels;let i=n.er?.diagramPadding??10,s=n.er?.entityPadding??6;const{cssStyles:a}=t,{labelStyles:o,nodeStyles:l}=Yt(t);if(r.attributes.length===0&&t.label){const B={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};Vi(t.label,n)+B.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const F=await Zf(e,t,B);if(!gr(n.htmlLabels)){const it=F.select("text"),lt=it.node()?.getBBox();it.attr("transform",`translate(${-lt.width/2}, 0)`)}return F}n.htmlLabels||(i*=1.25,s*=1.25);let u=re(t);u||(u="node default");const c=e.insert("g").attr("class",u).attr("id",t.domId||t.id),h=await qa(c,t.label??"",n,0,0,["name"],o);h.height+=s;let f=0;const d=[],p=[];let g=0,y=0,m=0,b=0,_=!0,T=!0;for(const B of r.attributes){const F=await qa(c,B.type,n,0,f,["attribute-type"],o);g=Math.max(g,F.width+i);const it=await qa(c,B.name,n,0,f,["attribute-name"],o);y=Math.max(y,it.width+i);const lt=await qa(c,B.keys.join(),n,0,f,["attribute-keys"],o);m=Math.max(m,lt.width+i);const ut=await qa(c,B.comment,n,0,f,["attribute-comment"],o);b=Math.max(b,ut.width+i);const M=Math.max(F.height,it.height,lt.height,ut.height)+s;p.push({yOffset:f,rowHeight:M}),f+=M}let C=4;m<=i&&(_=!1,m=0,C--),b<=i&&(T=!1,b=0,C--);const L=c.node().getBBox();if(h.width+i*2-(g+y+m+b)>0){const B=h.width+i*2-(g+y+m+b);g+=B/C,y+=B/C,m>0&&(m+=B/C),b>0&&(b+=B/C)}const N=g+y+m+b,z=Gt.svg(c),R=Vt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");let H=0;p.length>0&&(H=p.reduce((B,F)=>B+(F?.rowHeight??0),0));const K=Math.max(L.width+i*2,t?.width||0,N),S=Math.max((H??0)+h.height,t?.height||0),U=-K/2,w=-S/2;c.selectAll("g:not(:first-child)").each((B,F,it)=>{const lt=Ae(it[F]),ut=lt.attr("transform");let M=0,D=0;if(ut){const Q=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ut);Q&&(M=parseFloat(Q[1]),D=parseFloat(Q[2]),lt.attr("class").includes("attribute-name")?M+=g:lt.attr("class").includes("attribute-keys")?M+=g+y:lt.attr("class").includes("attribute-comment")&&(M+=g+y+m))}lt.attr("transform",`translate(${U+i/2+M}, ${D+w+h.height+s/2})`)}),c.select(".name").attr("transform","translate("+-h.width/2+", "+(w+s/2)+")");const $=z.rectangle(U,w,K,S,R),X=c.insert(()=>$,":first-child").attr("style",a.join("")),{themeVariables:j}=Mr(),{rowEven:nt,rowOdd:J,nodeBorder:G}=j;d.push(0);for(const[B,F]of p.entries()){const lt=(B+1)%2===0&&F.yOffset!==0,ut=z.rectangle(U,h.height+w+F?.yOffset,K,F?.rowHeight,{...R,fill:lt?nt:J,stroke:G});c.insert(()=>ut,"g.label").attr("style",a.join("")).attr("class",`row-rect-${lt?"even":"odd"}`)}let W=z.line(U,h.height+w,K+U,h.height+w,R);c.insert(()=>W).attr("class","divider"),W=z.line(g+U,h.height+w,g+U,S+w,R),c.insert(()=>W).attr("class","divider"),_&&(W=z.line(g+y+U,h.height+w,g+y+U,S+w,R),c.insert(()=>W).attr("class","divider")),T&&(W=z.line(g+y+m+U,h.height+w,g+y+m+U,S+w,R),c.insert(()=>W).attr("class","divider"));for(const B of d)W=z.line(U,h.height+w+B,K+U,h.height+w+B,R),c.insert(()=>W).attr("class","divider");if(Xt(t,X),l&&t.look!=="handDrawn"){const F=l.split(";")?.filter(it=>it.includes("stroke"))?.map(it=>`${it}`).join("; ");c.selectAll("path").attr("style",F??""),c.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(B){return Ut.rect(t,B)},c}P(G2,"erBox");async function qa(e,t,r,n=0,i=0,s=[],a=""){const o=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",a);t!==sv(t)&&(t=sv(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=o.node().appendChild(await Ls(o,t,{width:Vi(t,r)+100,style:a,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let c=l.children[0];for(c.textContent=c.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");c.childNodes[0];)c=c.childNodes[0],c.textContent=c.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let u=l.getBBox();if(gr(r.htmlLabels)){const c=l.children[0];c.style.textAlign="start";const h=Ae(l);u=c.getBoundingClientRect(),h.attr("width",u.width),h.attr("height",u.height)}return u}P(qa,"addText");async function bP(e,t,r,n,i=r.class.padding??12){const s=n?0:3,a=e.insert("g").attr("class",re(t)).attr("id",t.domId||t.id);let o=null,l=null,u=null,c=null,h=0,f=0,d=0;if(o=a.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const b=t.annotations[0];await Ml(o,{text:`Â«${b}Â»`},0),h=o.node().getBBox().height}l=a.insert("g").attr("class","label-group text"),await Ml(l,t,0,["font-weight: bolder"]);const p=l.node().getBBox();f=p.height,u=a.insert("g").attr("class","members-group text");let g=0;for(const b of t.members){const _=await Ml(u,b,g,[b.parseClassifier()]);g+=_+s}d=u.node().getBBox().height,d<=0&&(d=i/2),c=a.insert("g").attr("class","methods-group text");let y=0;for(const b of t.methods){const _=await Ml(c,b,y,[b.parseClassifier()]);y+=_+s}let m=a.node().getBBox();if(o!==null){const b=o.node().getBBox();o.attr("transform",`translate(${-b.width/2})`)}return l.attr("transform",`translate(${-p.width/2}, ${h})`),m=a.node().getBBox(),u.attr("transform",`translate(0, ${h+f+i*2})`),m=a.node().getBBox(),c.attr("transform",`translate(0, ${h+f+(d?d+i*4:i*2)})`),m=a.node().getBBox(),{shapeSvg:a,bbox:m}}P(bP,"textHelper");async function Ml(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),s=Mr();let a="useHtmlLabels"in t?t.useHtmlLabels:gr(s.htmlLabels)??!0,o="";"text"in t?o=t.text:o=t.label,!a&&o.startsWith("\\")&&(o=o.substring(1)),Lo(o)&&(a=!0);const l=await Ls(i,r2(Sa(o)),{width:Vi(o,s)+50,classes:"markdown-node-label",useHtmlLabels:a},s);let u,c=1;if(a){const h=l.children[0],f=Ae(l);c=h.innerHTML.split("<br>").length,h.innerHTML.includes("</math>")&&(c+=h.innerHTML.split("<mrow>").length-1);const d=h.getElementsByTagName("img");if(d){const p=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...d].map(g=>new Promise(y=>{function m(){if(g.style.display="flex",g.style.flexDirection="column",p){const b=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,T=parseInt(b,10)*5+"px";g.style.minWidth=T,g.style.maxWidth=T}else g.style.width="100%";y(g)}P(m,"setupImage"),setTimeout(()=>{g.complete&&m()}),g.addEventListener("error",m),g.addEventListener("load",m)})))}u=h.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}else{n.includes("font-weight: bolder")&&Ae(l).selectAll("tspan").attr("font-weight",""),c=l.children.length;const h=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(h.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(h.textContent=h.textContent[0]+" "+h.textContent.substring(1))),h.textContent==="undefined"&&(h.textContent=""),u=l.getBBox()}return i.attr("transform","translate(0,"+(-u.height/(2*c)+r)+")"),u.height}P(Ml,"addText");async function yP(e,t){const r=Ie(),n=r.class.padding??12,i=n,s=t.useHtmlLabels??gr(r.htmlLabels)??!0,a=t;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:o,bbox:l}=await bP(e,t,r,s,i),{labelStyles:u,nodeStyles:c}=Yt(t);t.labelStyle=u,t.cssStyles=a.styles||"";const h=a.styles?.join(";")||c||"";t.cssStyles||(t.cssStyles=h.replaceAll("!important","").split(";"));const f=a.members.length===0&&a.methods.length===0&&!r.class?.hideEmptyMembersBox,d=Gt.svg(o),p=Vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=l.width;let y=l.height;a.members.length===0&&a.methods.length===0?y+=i:a.members.length>0&&a.methods.length===0&&(y+=i*2);const m=-g/2,b=-y/2,_=d.rectangle(m-n,b-n-(f?n:a.members.length===0&&a.methods.length===0?-n/2:0),g+2*n,y+2*n+(f?n*2:a.members.length===0&&a.methods.length===0?-n:0),p),T=o.insert(()=>_,":first-child");T.attr("class","basic label-container");const C=T.node().getBBox();o.selectAll(".text").each((R,H,K)=>{const S=Ae(K[H]),U=S.attr("transform");let w=0;if(U){const nt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(U);nt&&(w=parseFloat(nt[2]))}let $=w+b+n-(f?n:a.members.length===0&&a.methods.length===0?-n/2:0);s||($-=4);let X=m;(S.attr("class").includes("label-group")||S.attr("class").includes("annotation-group"))&&(X=-S.node()?.getBBox().width/2||0,o.selectAll("text").each(function(j,nt,J){window.getComputedStyle(J[nt]).textAnchor==="middle"&&(X=0)})),S.attr("transform",`translate(${X}, ${$})`)});const L=o.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,N=o.select(".label-group").node().getBBox().height-(f?n/2:0)||0,z=o.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(a.members.length>0||a.methods.length>0||f){const R=d.line(C.x,L+N+b+n,C.x+C.width,L+N+b+n,p);o.insert(()=>R).attr("class","divider").attr("style",h)}if(f||a.members.length>0||a.methods.length>0){const R=d.line(C.x,L+N+z+b+i*2+n,C.x+C.width,L+N+z+b+n+i*2,p);o.insert(()=>R).attr("class","divider").attr("style",h)}if(a.look!=="handDrawn"&&o.selectAll("path").attr("style",h),T.select(":nth-child(2)").attr("style",h),o.selectAll(".divider").select("path").attr("style",h),t.labelStyle?o.selectAll("span").attr("style",t.labelStyle):o.selectAll("span").attr("style",h),!s){const R=RegExp(/color\s*:\s*([^;]*)/),H=R.exec(h);if(H){const K=H[0].replace("color","fill");o.selectAll("tspan").attr("style",K)}else if(u){const K=R.exec(u);if(K){const S=K[0].replace("color","fill");o.selectAll("tspan").attr("style",S)}}}return Xt(t,T),t.intersect=function(R){return Ut.rect(t,R)},o}P(yP,"classBox");async function _P(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const i=t,s=t,a=20,o=20,l="verifyMethod"in t,u=re(t),c=e.insert("g").attr("class",u).attr("id",t.domId??t.id);let h;l?h=await di(c,`&lt;&lt;${i.type}&gt;&gt;`,0,t.labelStyle):h=await di(c,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let f=h;const d=await di(c,i.name,f,t.labelStyle+"; font-weight: bold;");if(f+=d+o,l){const L=await di(c,`${i.requirementId?`ID: ${i.requirementId}`:""}`,f,t.labelStyle);f+=L;const N=await di(c,`${i.text?`Text: ${i.text}`:""}`,f,t.labelStyle);f+=N;const z=await di(c,`${i.risk?`Risk: ${i.risk}`:""}`,f,t.labelStyle);f+=z,await di(c,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,f,t.labelStyle)}else{const L=await di(c,`${s.type?`Type: ${s.type}`:""}`,f,t.labelStyle);f+=L,await di(c,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,f,t.labelStyle)}const p=(c.node()?.getBBox().width??200)+a,g=(c.node()?.getBBox().height??200)+a,y=-p/2,m=-g/2,b=Gt.svg(c),_=Vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const T=b.rectangle(y,m,p,g,_),C=c.insert(()=>T,":first-child");if(C.attr("class","basic label-container").attr("style",n),c.selectAll(".label").each((L,N,z)=>{const R=Ae(z[N]),H=R.attr("transform");let K=0,S=0;if(H){const X=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(H);X&&(K=parseFloat(X[1]),S=parseFloat(X[2]))}const U=S-g/2;let w=y+a/2;(N===0||N===1)&&(w=K),R.attr("transform",`translate(${w}, ${U+a})`)}),f>h+d+o){const L=b.line(y,m+h+d+o,y+p,m+h+d+o,_);c.insert(()=>L).attr("style",n)}return Xt(t,C),t.intersect=function(L){return Ut.rect(t,L)},c}P(_P,"requirementBox");async function di(e,t,r,n=""){if(t==="")return 0;const i=e.insert("g").attr("class","label").attr("style",n),s=Ie(),a=s.htmlLabels??!0,o=await Ls(i,r2(Sa(t)),{width:Vi(t,s)+50,classes:"markdown-node-label",useHtmlLabels:a,style:n},s);let l;if(a){const u=o.children[0],c=Ae(o);l=u.getBoundingClientRect(),c.attr("width",l.width),c.attr("height",l.height)}else{const u=o.children[0];for(const c of u.children)c.textContent=c.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&c.setAttribute("style",n);l=o.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}P(di,"addText");var iht=P(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function EP(e,t,{config:r}){const{labelStyles:n,nodeStyles:i}=Yt(t);t.labelStyle=n||"";const s=10,a=t.width;t.width=(t.width??200)-10;const{shapeSvg:o,bbox:l,label:u}=await ne(e,t,re(t)),c=t.padding||10;let h="",f;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(h=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),f=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",h).attr("target","_blank"));const d={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let p,g;f?{label:p,bbox:g}=await i0(f,"ticket"in t&&t.ticket||"",d):{label:p,bbox:g}=await i0(o,"ticket"in t&&t.ticket||"",d);const{label:y,bbox:m}=await i0(o,"assigned"in t&&t.assigned||"",d);t.width=a;const b=10,_=t?.width||0,T=Math.max(g.height,m.height)/2,C=Math.max(l.height+b*2,t?.height||0)+T,L=-_/2,N=-C/2;u.attr("transform","translate("+(c-_/2)+", "+(-T-l.height/2)+")"),p.attr("transform","translate("+(c-_/2)+", "+(-T+l.height/2)+")"),y.attr("transform","translate("+(c+_/2-m.width-2*s)+", "+(-T+l.height/2)+")");let z;const{rx:R,ry:H}=t,{cssStyles:K}=t;if(t.look==="handDrawn"){const S=Gt.svg(o),U=Vt(t,{}),w=R||H?S.path(Rs(L,N,_,C,R||0),U):S.rectangle(L,N,_,C,U);z=o.insert(()=>w,":first-child"),z.attr("class","basic label-container").attr("style",K||null)}else{z=o.insert("rect",":first-child"),z.attr("class","basic label-container __APA__").attr("style",i).attr("rx",R??5).attr("ry",H??5).attr("x",L).attr("y",N).attr("width",_).attr("height",C);const S="priority"in t&&t.priority;if(S){const U=o.append("line"),w=L+2,$=N+Math.floor((R??0)/2),X=N+C-Math.floor((R??0)/2);U.attr("x1",w).attr("y1",$).attr("x2",w).attr("y2",X).attr("stroke-width","4").attr("stroke",iht(S))}}return Xt(t,z),t.height=C,t.intersect=function(S){return Ut.rect(t,S)},o}P(EP,"kanbanItem");async function wP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await ne(e,t,re(t)),l=s.width+10*a,u=s.height+8*a,c=.15*l,{cssStyles:h}=t,f=s.width+20,d=s.height+20,p=Math.max(l,f),g=Math.max(u,d);o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let y;const m=`M0 0 
    a${c},${c} 1 0,0 ${p*.25},${-1*g*.1}
    a${c},${c} 1 0,0 ${p*.25},0
    a${c},${c} 1 0,0 ${p*.25},0
    a${c},${c} 1 0,0 ${p*.25},${g*.1}

    a${c},${c} 1 0,0 ${p*.15},${g*.33}
    a${c*.8},${c*.8} 1 0,0 0,${g*.34}
    a${c},${c} 1 0,0 ${-1*p*.15},${g*.33}

    a${c},${c} 1 0,0 ${-1*p*.25},${g*.15}
    a${c},${c} 1 0,0 ${-1*p*.25},0
    a${c},${c} 1 0,0 ${-1*p*.25},0
    a${c},${c} 1 0,0 ${-1*p*.25},${-1*g*.15}

    a${c},${c} 1 0,0 ${-1*p*.1},${-1*g*.33}
    a${c*.8},${c*.8} 1 0,0 0,${-1*g*.34}
    a${c},${c} 1 0,0 ${p*.1},${-1*g*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const b=Gt.svg(i),_=Vt(t,{}),T=b.path(m,_);y=i.insert(()=>T,":first-child"),y.attr("class","basic label-container").attr("style",Ur(h))}else y=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",m);return y.attr("transform",`translate(${-p/2}, ${-g/2})`),Xt(t,y),t.calcIntersect=function(b,_){return Ut.rect(b,_)},t.intersect=function(b){return Lt.info("Bang intersect",t,b),Ut.rect(t,b)},i}P(wP,"bang");async function xP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await ne(e,t,re(t)),l=s.width+2*a,u=s.height+2*a,c=.15*l,h=.25*l,f=.35*l,d=.2*l,{cssStyles:p}=t;let g;const y=`M0 0 
    a${c},${c} 0 0,1 ${l*.25},${-1*l*.1}
    a${f},${f} 1 0,1 ${l*.4},${-1*l*.1}
    a${h},${h} 1 0,1 ${l*.35},${l*.2}

    a${c},${c} 1 0,1 ${l*.15},${u*.35}
    a${d},${d} 1 0,1 ${-1*l*.15},${u*.65}

    a${h},${c} 1 0,1 ${-1*l*.25},${l*.15}
    a${f},${f} 1 0,1 ${-1*l*.5},0
    a${c},${c} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${c},${c} 1 0,1 ${-1*l*.1},${-1*u*.35}
    a${d},${d} 1 0,1 ${l*.1},${-1*u*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const m=Gt.svg(i),b=Vt(t,{}),_=m.path(y,b);g=i.insert(()=>_,":first-child"),g.attr("class","basic label-container").attr("style",Ur(p))}else g=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",y);return o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),g.attr("transform",`translate(${-l/2}, ${-u/2})`),Xt(t,g),t.calcIntersect=function(m,b){return Ut.rect(m,b)},t.intersect=function(m){return Lt.info("Cloud intersect",t,m),Ut.rect(t,m)},i}P(xP,"cloud");async function TP(e,t){const{labelStyles:r,nodeStyles:n}=Yt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await ne(e,t,re(t)),l=s.width+8*a,u=s.height+2*a,c=5,h=`
    M${-l/2} ${u/2-c}
    v${-u+2*c}
    q0,-${c} ${c},-${c}
    h${l-2*c}
    q${c},0 ${c},${c}
    v${u-2*c}
    q0,${c} -${c},${c}
    h${-l+2*c}
    q-${c},0 -${c},-${c}
    Z
  `,f=i.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",h);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",u/2).attr("x2",l/2).attr("y2",u/2),o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>o.node()),Xt(t,f),t.calcIntersect=function(d,p){return Ut.rect(d,p)},t.intersect=function(d){return Ut.rect(t,d)},i}P(TP,"defaultMindmapNode");async function vP(e,t){const r={padding:t.padding??0};return q2(e,t,r)}P(vP,"mindmapCircle");var sht=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:eP},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:QO},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:rP},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:aP},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:AO},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:q2},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:wP},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:xP},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:XO},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:NO},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:zO},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:$O},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:hP},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:UO},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:kO},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:uP},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:bO},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:JO},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:sP},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:iP},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:LO},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:OO},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:wO},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:xO},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:TO},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:jO},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:pP},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:RO},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:cP},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:WO},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:vO},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:CO},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:fP},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:gP},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:SO},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:dP},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:IO},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:tP},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:VO},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:GO},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:gO},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:EO},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:lP},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:oP},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:mP},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:KO},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:qO}],aht=P(()=>{const t=[...Object.entries({state:nP,choice:yO,note:YO,rectWithTitle:ZO,labelRect:HO,iconSquare:MO,iconCircle:DO,icon:PO,iconRounded:BO,imageSquare:FO,anchor:mO,kanbanItem:EP,mindmapCircle:vP,defaultMindmapNode:TP,classBox:yP,erBox:G2,requirementBox:_P}),...sht.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),AP=aht();function oht(e){return e in AP}P(oht,"isValidShape");var Qf=new Map;async function CP(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?AP[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let a;r.config.securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a??null),i=await s(n,t,r)}else i=await s(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),Qf.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}P(CP,"insertNode");var T0t=P((e,t)=>{Qf.set(t.id,e)},"setNodeElem"),v0t=P(()=>{Qf.clear()},"clear"),A0t=P(e=>{const t=Qf.get(e.id);Lt.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),lht=P((e,t,r,n,i,s)=>{t.arrowTypeStart&&pA(e,"start",t.arrowTypeStart,r,n,i,s),t.arrowTypeEnd&&pA(e,"end",t.arrowTypeEnd,r,n,i,s)},"addEdgeMarkers"),uht={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},pA=P((e,t,r,n,i,s,a)=>{const o=uht[r];if(!o){Lt.warn(`Unknown arrow type: ${r}`);return}const l=o.type,c=`${i}_${s}-${l}${t==="start"?"Start":"End"}`;if(a&&a.trim()!==""){const h=a.replace(/[^\dA-Za-z]/g,"_"),f=`${c}_${h}`;if(!document.getElementById(f)){const d=document.getElementById(c);if(d){const p=d.cloneNode(!0);p.id=f,p.querySelectorAll("path, circle, line").forEach(y=>{y.setAttribute("stroke",a),o.fill&&y.setAttribute("fill",a)}),d.parentNode?.appendChild(p)}}e.attr(`marker-${t}`,`url(${n}#${f})`)}else e.attr(`marker-${t}`,`url(${n}#${c})`)},"addEdgeMarker"),Vd=new Map,Sr=new Map,C0t=P(()=>{Vd.clear(),Sr.clear()},"clear"),eh=P(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),cht=P(async(e,t)=>{let r=gr(Ie().flowchart.htmlLabels);const{labelStyles:n}=Yt(t);t.labelStyle=n;const i=await Ls(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});Lt.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),a=s.insert("g").attr("class","label").attr("data-id",t.id);a.node().appendChild(i);let o=i.getBBox();if(r){const u=i.children[0],c=Ae(i);o=u.getBoundingClientRect(),c.attr("width",o.width),c.attr("height",o.height)}a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),Vd.set(t.id,s),t.width=o.width,t.height=o.height;let l;if(t.startLabelLeft){const u=await ta(t.startLabelLeft,eh(t.labelStyle)),c=e.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");l=h.node().appendChild(u);const f=u.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Sr.get(t.id)||Sr.set(t.id,{}),Sr.get(t.id).startLeft=c,Fl(l,t.startLabelLeft)}if(t.startLabelRight){const u=await ta(t.startLabelRight,eh(t.labelStyle)),c=e.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");l=c.node().appendChild(u),h.node().appendChild(u);const f=u.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Sr.get(t.id)||Sr.set(t.id,{}),Sr.get(t.id).startRight=c,Fl(l,t.startLabelRight)}if(t.endLabelLeft){const u=await ta(t.endLabelLeft,eh(t.labelStyle)),c=e.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");l=h.node().appendChild(u);const f=u.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),c.node().appendChild(u),Sr.get(t.id)||Sr.set(t.id,{}),Sr.get(t.id).endLeft=c,Fl(l,t.endLabelLeft)}if(t.endLabelRight){const u=await ta(t.endLabelRight,eh(t.labelStyle)),c=e.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");l=h.node().appendChild(u);const f=u.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),c.node().appendChild(u),Sr.get(t.id)||Sr.set(t.id,{}),Sr.get(t.id).endRight=c,Fl(l,t.endLabelRight)}return i},"insertEdgeLabel");function Fl(e,t){Ie().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}P(Fl,"setTerminalWidth");var hht=P((e,t)=>{Lt.debug("Moving label abc88 ",e.id,e.label,Vd.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=Ie(),{subGraphTitleTotalMargin:i}=x2(n);if(e.label){const s=Vd.get(e.id);let a=e.x,o=e.y;if(r){const l=Gn.calcLabelPosition(r);Lt.debug("Moving label "+e.label+" from (",a,",",o,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(a=l.x,o=l.y)}s.attr("transform",`translate(${a}, ${o+i/2})`)}if(e.startLabelLeft){const s=Sr.get(e.id).startLeft;let a=e.x,o=e.y;if(r){const l=Gn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.startLabelRight){const s=Sr.get(e.id).startRight;let a=e.x,o=e.y;if(r){const l=Gn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelLeft){const s=Sr.get(e.id).endLeft;let a=e.x,o=e.y;if(r){const l=Gn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelRight){const s=Sr.get(e.id).endRight;let a=e.x,o=e.y;if(r){const l=Gn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}},"positionEdgeLabel"),dht=P((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),a=e.width/2,o=e.height/2;return i>=a||s>=o},"outsideNode"),fht=P((e,t,r)=>{Lt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,s=Math.abs(n-r.x),a=e.width/2;let o=r.x<t.x?a-s:a+s;const l=e.height/2,u=Math.abs(t.y-r.y),c=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*a>Math.abs(n-t.x)*l){let h=r.y<t.y?t.y-l-i:i-l-t.y;o=c*h/u;const f={x:r.x<t.x?r.x+o:r.x-c+o,y:r.y<t.y?r.y+u-h:r.y-u+h};return o===0&&(f.x=t.x,f.y=t.y),c===0&&(f.x=t.x),u===0&&(f.y=t.y),Lt.debug(`abc89 top/bottom calc, Q ${u}, q ${h}, R ${c}, r ${o}`,f),f}else{r.x<t.x?o=t.x-a-n:o=n-a-t.x;let h=u*o/c,f=r.x<t.x?r.x+c-o:r.x-c+o,d=r.y<t.y?r.y+h:r.y-h;return Lt.debug(`sides calc abc89, Q ${u}, q ${h}, R ${c}, r ${o}`,{_x:f,_y:d}),o===0&&(f=t.x,d=t.y),c===0&&(f=t.x),u===0&&(d=t.y),{x:f,y:d}}},"intersection"),mA=P((e,t)=>{Lt.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(Lt.info("abc88 checking point",s,t),!dht(t,s)&&!i){const a=fht(t,n,s);Lt.debug("abc88 inside",s,n,a),Lt.debug("abc88 intersection",a,t);let o=!1;r.forEach(l=>{o=o||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)?Lt.warn("abc88 no intersect",a,r):r.push(a),i=!0}else Lt.warn("abc88 outside",s,n),n=s,i||r.push(s)}),Lt.debug("returning points",r),r},"cutPathAtIntersect");function kP(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],s=e[n],a=e[n+1];(i.x===s.x&&s.y===a.y&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===a.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-a.y)>5)&&(t.push(s),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}P(kP,"extractCornerPoints");var gA=P(function(e,t,r){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i),a=r/s;return{x:t.x-a*n,y:t.y-a*i}},"findAdjacentPoint"),pht=P(function(e){const{cornerPointPositions:t}=kP(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const i=e[n-1],s=e[n+1],a=e[n],o=gA(i,a,5),l=gA(s,a,5),u=l.x-o.x,c=l.y-o.y;r.push(o);const h=Math.sqrt(2)*2;let f={x:a.x,y:a.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){Lt.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const d=5;a.x===o.x?f={x:u<0?o.x-d+h:o.x+d-h,y:c<0?o.y-h:o.y+h}:f={x:u<0?o.x-h:o.x+h,y:c<0?o.y-d+h:o.y+d-h}}else Lt.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));r.push(f,l)}else r.push(e[n]);return r},"fixCorners"),mht=P((e,t,r)=>{const n=e-t-r,i=2,s=2,a=i+s,o=Math.floor(n/a),l=Array(o).fill(`${i} ${s}`).join(" ");return`0 ${t} ${l} ${r}`},"generateDashArray"),ght=P(function(e,t,r,n,i,s,a,o=!1){const{handDrawnSeed:l}=Ie();let u=t.points,c=!1;const h=i;var f=s;const d=[];for(const w in t.cssCompiledStyles)i3(w)||d.push(t.cssCompiledStyles[w]);Lt.debug("UIO intersect check",t.points,f.x,h.x),f.intersect&&h.intersect&&!o&&(u=u.slice(1,t.points.length-1),u.unshift(h.intersect(u[0])),Lt.debug("Last point UIO",t.start,"-->",t.end,u[u.length-1],f,f.intersect(u[u.length-1])),u.push(f.intersect(u[u.length-1])));const p=btoa(JSON.stringify(u));t.toCluster&&(Lt.info("to cluster abc88",r.get(t.toCluster)),u=mA(t.points,r.get(t.toCluster).node),c=!0),t.fromCluster&&(Lt.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(u,null,2)),u=mA(u.reverse(),r.get(t.fromCluster).node).reverse(),c=!0);let g=u.filter(w=>!Number.isNaN(w.y));g=pht(g);let y=vh;switch(y=vd,t.curve){case"linear":y=vd;break;case"basis":y=vh;break;case"cardinal":y=lR;break;case"bumpX":y=nR;break;case"bumpY":y=iR;break;case"catmullRom":y=cR;break;case"monotoneX":y=gR;break;case"monotoneY":y=bR;break;case"natural":y=_R;break;case"step":y=ER;break;case"stepAfter":y=xR;break;case"stepBefore":y=wR;break;default:y=vh}const{x:m,y:b}=pat(t),_=Zit().x(m).y(b).curve(y);let T;switch(t.thickness){case"normal":T="edge-thickness-normal";break;case"thick":T="edge-thickness-thick";break;case"invisible":T="edge-thickness-invisible";break;default:T="edge-thickness-normal"}switch(t.pattern){case"solid":T+=" edge-pattern-solid";break;case"dotted":T+=" edge-pattern-dotted";break;case"dashed":T+=" edge-pattern-dashed";break;default:T+=" edge-pattern-solid"}let C,L=t.curve==="rounded"?SP(IP(g,t),5):_(g);const N=Array.isArray(t.style)?t.style:[t.style];let z=N.find(w=>w?.startsWith("stroke:")),R=!1;if(t.look==="handDrawn"){const w=Gt.svg(e);Object.assign([],g);const $=w.path(L,{roughness:.3,seed:l});T+=" transition",C=Ae($).select("path").attr("id",t.id).attr("class"," "+T+(t.classes?" "+t.classes:"")).attr("style",N?N.reduce((j,nt)=>j+";"+nt,""):"");let X=C.attr("d");C.attr("d",X),e.node().appendChild(C.node())}else{const w=d.join(";"),$=N?N.reduce((B,F)=>B+F+";",""):"";let X="";t.animate&&(X=" edge-animation-fast"),t.animation&&(X=" edge-animation-"+t.animation);const j=(w?w+";"+$+";":$)+";"+(N?N.reduce((B,F)=>B+";"+F,""):"");C=e.append("path").attr("d",L).attr("id",t.id).attr("class"," "+T+(t.classes?" "+t.classes:"")+(X??"")).attr("style",j),z=j.match(/stroke:([^;]+)/)?.[1],R=t.animate===!0||!!t.animation||w.includes("animation");const nt=C.node(),J=typeof nt.getTotalLength=="function"?nt.getTotalLength():0,G=Nv[t.arrowTypeStart]||0,W=Nv[t.arrowTypeEnd]||0;if(t.look==="neo"&&!R){const F=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?mht(J,G,W):`0 ${G} ${J-G-W} ${W}`}; stroke-dashoffset: 0;`;C.attr("style",F+C.attr("style"))}}C.attr("data-edge",!0),C.attr("data-et","edge"),C.attr("data-id",t.id),C.attr("data-points",p),t.showPoints&&g.forEach(w=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",w.x).attr("cy",w.y)});let H="";(Ie().flowchart.arrowMarkerAbsolute||Ie().state.arrowMarkerAbsolute)&&(H=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,H=H.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),Lt.info("arrowTypeStart",t.arrowTypeStart),Lt.info("arrowTypeEnd",t.arrowTypeEnd),lht(C,t,H,a,n,z);const K=Math.floor(u.length/2),S=u[K];Gn.isLabelCoordinateInPath(S,C.attr("d"))||(c=!0);let U={};return c&&(U.updatedPath=u),U.originalPath=t.points,U},"insertEdge");function SP(e,t){if(e.length<2)return"";let r="";const n=e.length,i=1e-5;for(let s=0;s<n;s++){const a=e[s],o=e[s-1],l=e[s+1];if(s===0)r+=`M${a.x},${a.y}`;else if(s===n-1)r+=`L${a.x},${a.y}`;else{const u=a.x-o.x,c=a.y-o.y,h=l.x-a.x,f=l.y-a.y,d=Math.hypot(u,c),p=Math.hypot(h,f);if(d<i||p<i){r+=`L${a.x},${a.y}`;continue}const g=u/d,y=c/d,m=h/p,b=f/p,_=g*m+y*b,T=Math.max(-1,Math.min(1,_)),C=Math.acos(T);if(C<i||Math.abs(Math.PI-C)<i){r+=`L${a.x},${a.y}`;continue}const L=Math.min(t/Math.sin(C/2),d/2,p/2),N=a.x-g*L,z=a.y-y*L,R=a.x+m*L,H=a.y+b*L;r+=`L${N},${z}`,r+=`Q${a.x},${a.y} ${R},${H}`}}return r}P(SP,"generateRoundedPath");function Ry(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}P(Ry,"calculateDeltaAndAngle");function IP(e,t){const r=e.map(i=>({...i}));if(e.length>=2&&Pr[t.arrowTypeStart]){const i=Pr[t.arrowTypeStart],s=e[0],a=e[1],{angle:o}=Ry(s,a),l=i*Math.cos(o),u=i*Math.sin(o);r[0].x=s.x+l,r[0].y=s.y+u}const n=e.length;if(n>=2&&Pr[t.arrowTypeEnd]){const i=Pr[t.arrowTypeEnd],s=e[n-1],a=e[n-2],{angle:o}=Ry(a,s),l=i*Math.cos(o),u=i*Math.sin(o);r[n-1].x=s.x-l,r[n-1].y=s.y-u}return r}P(IP,"applyMarkerOffsetsToPoints");var bht=P((e,t,r,n)=>{t.forEach(i=>{Oht[i](e,r,n)})},"insertMarkers"),yht=P((e,t,r)=>{Lt.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),_ht=P((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Eht=P((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),wht=P((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),xht=P((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Tht=P((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),vht=P((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Aht=P((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Cht=P((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),kht=P((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Sht=P((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),Iht=P((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),Lht=P((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),Rht=P((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),Nht=P((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),Oht={extension:yht,composition:_ht,aggregation:Eht,dependency:wht,lollipop:xht,point:Tht,circle:vht,cross:Aht,barb:Cht,only_one:kht,zero_or_one:Sht,one_or_more:Iht,zero_or_more:Lht,requirement_arrow:Rht,requirement_contains:Nht},Pht=bht,Dht={common:jo,getConfig:Mr,insertCluster:jct,insertEdge:ght,insertEdgeLabel:cht,insertMarkers:Pht,insertNode:CP,interpolateToCurve:k2,labelHelper:ne,log:Lt,positionEdgeLabel:hht},Ru={},LP=P(e=>{for(const t of e)Ru[t.name]=t},"registerLayoutLoaders"),Bht=P(()=>{LP([{name:"dagre",loader:P(async()=>await et(()=>import("./dagre-6UL2VRFP-CnH2bknj.js"),__vite__mapDeps([97,98,99,100,101,102]),import.meta.url),"loader")},{name:"cose-bilkent",loader:P(async()=>await et(()=>import("./cose-bilkent-S5V4N54A-CSOQFdqV.js"),__vite__mapDeps([103,104,101,102]),import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");Bht();var k0t=P(async(e,t)=>{if(!(e.layoutAlgorithm in Ru))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=Ru[e.layoutAlgorithm];return(await r.loader()).render(e,t,Dht,{algorithm:r.algorithm})},"render"),S0t=P((e="",{fallback:t="dagre"}={})=>{if(e in Ru)return e;if(t in Ru)return Lt.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),RP="comm",NP="rule",OP="decl",Mht="@import",Fht="@namespace",Uht="@keyframes",Hht="@layer",PP=Math.abs,V2=String.fromCharCode;function DP(e){return e.trim()}function Ih(e,t,r){return e.replace(t,r)}function $ht(e,t,r){return e.indexOf(t,r)}function so(e,t){return e.charCodeAt(t)|0}function Do(e,t,r){return e.slice(t,r)}function gi(e){return e.length}function zht(e){return e.length}function rh(e,t){return t.push(e),e}var Jf=1,Bo=1,BP=0,Hn=0,or=0,Yo="";function Y2(e,t,r,n,i,s,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Jf,column:Bo,length:a,return:"",siblings:o}}function jht(){return or}function Wht(){return or=Hn>0?so(Yo,--Hn):0,Bo--,or===10&&(Bo=1,Jf--),or}function Xn(){return or=Hn<BP?so(Yo,Hn++):0,Bo++,or===10&&(Bo=1,Jf++),or}function fs(){return so(Yo,Hn)}function Lh(){return Hn}function tp(e,t){return Do(Yo,e,t)}function Nu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qht(e){return Jf=Bo=1,BP=gi(Yo=e),Hn=0,[]}function Ght(e){return Yo="",e}function s0(e){return DP(tp(Hn-1,Ny(e===91?e+2:e===40?e+1:e)))}function Vht(e){for(;(or=fs())&&or<33;)Xn();return Nu(e)>2||Nu(or)>3?"":" "}function Yht(e,t){for(;--t&&Xn()&&!(or<48||or>102||or>57&&or<65||or>70&&or<97););return tp(e,Lh()+(t<6&&fs()==32&&Xn()==32))}function Ny(e){for(;Xn();)switch(or){case e:return Hn;case 34:case 39:e!==34&&e!==39&&Ny(or);break;case 40:e===41&&Ny(e);break;case 92:Xn();break}return Hn}function Xht(e,t){for(;Xn()&&e+or!==57;)if(e+or===84&&fs()===47)break;return"/*"+tp(t,Hn-1)+"*"+V2(e===47?e:Xn())}function Kht(e){for(;!Nu(fs());)Xn();return tp(e,Hn)}function Zht(e){return Ght(Rh("",null,null,null,[""],e=qht(e),0,[0],e))}function Rh(e,t,r,n,i,s,a,o,l){for(var u=0,c=0,h=a,f=0,d=0,p=0,g=1,y=1,m=1,b=0,_="",T=i,C=s,L=n,N=_;y;)switch(p=b,b=Xn()){case 40:if(p!=108&&so(N,h-1)==58){$ht(N+=Ih(s0(b),"&","&\f"),"&\f",PP(u?o[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:N+=s0(b);break;case 9:case 10:case 13:case 32:N+=Vht(p);break;case 92:N+=Yht(Lh()-1,7);continue;case 47:switch(fs()){case 42:case 47:rh(Qht(Xht(Xn(),Lh()),t,r,l),l),(Nu(p||1)==5||Nu(fs()||1)==5)&&gi(N)&&Do(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*g:o[u++]=gi(N)*m;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+c:m==-1&&(N=Ih(N,/\f/g,"")),d>0&&(gi(N)-h||g===0&&p===47)&&rh(d>32?yA(N+";",n,r,h-1,l):yA(Ih(N," ","")+";",n,r,h-2,l),l);break;case 59:N+=";";default:if(rh(L=bA(N,t,r,u,c,i,o,_,T=[],C=[],h,s),s),b===123)if(c===0)Rh(N,t,L,L,T,s,h,o,C);else{switch(f){case 99:if(so(N,3)===110)break;case 108:if(so(N,2)===97)break;default:c=0;case 100:case 109:case 115:}c?Rh(e,L,L,n&&rh(bA(e,L,L,0,0,i,o,_,i,T=[],h,C),C),i,C,h,o,n?T:C):Rh(N,L,L,L,[""],C,0,o,C)}}u=c=d=0,g=m=1,_=N="",h=a;break;case 58:h=1+gi(N),d=p;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&Wht()==125)continue}switch(N+=V2(b),b*g){case 38:m=c>0?1:(N+="\f",-1);break;case 44:o[u++]=(gi(N)-1)*m,m=1;break;case 64:fs()===45&&(N+=s0(Xn())),f=fs(),c=h=gi(_=N+=Kht(Lh())),b++;break;case 45:p===45&&gi(N)==2&&(g=0)}}return s}function bA(e,t,r,n,i,s,a,o,l,u,c,h){for(var f=i-1,d=i===0?s:[""],p=zht(d),g=0,y=0,m=0;g<n;++g)for(var b=0,_=Do(e,f+1,f=PP(y=a[g])),T=e;b<p;++b)(T=DP(y>0?d[b]+" "+_:Ih(_,/&\f/g,d[b])))&&(l[m++]=T);return Y2(e,t,r,i===0?NP:o,l,u,c,h)}function Qht(e,t,r,n){return Y2(e,t,r,RP,V2(jht()),Do(e,2,-2),0,n)}function yA(e,t,r,n,i){return Y2(e,t,r,OP,Do(e,0,n),Do(e,n+1,-1),n,i)}function Oy(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Jht(e,t,r,n){switch(e.type){case Hht:if(e.children.length)break;case Mht:case Fht:case OP:return e.return=e.return||e.value;case RP:return"";case Uht:return e.return=e.value+"{"+Oy(e.children,n)+"}";case NP:if(!gi(e.value=e.props.join(",")))return""}return gi(r=Oy(e.children,n))?e.return=e.value+"{"+r+"}":""}var tdt=l3(Object.keys,Object),edt=Object.prototype,rdt=edt.hasOwnProperty;function ndt(e){if(!jf(e))return tdt(e);var t=[];for(var r in Object(e))rdt.call(e,r)&&r!="constructor"&&t.push(r);return t}var Py=ka(Ci,"DataView"),Dy=ka(Ci,"Promise"),By=ka(Ci,"Set"),My=ka(Ci,"WeakMap"),_A="[object Map]",idt="[object Object]",EA="[object Promise]",wA="[object Set]",xA="[object WeakMap]",TA="[object DataView]",sdt=Ca(Py),adt=Ca(Iu),odt=Ca(Dy),ldt=Ca(By),udt=Ca(My),js=qo;(Py&&js(new Py(new ArrayBuffer(1)))!=TA||Iu&&js(new Iu)!=_A||Dy&&js(Dy.resolve())!=EA||By&&js(new By)!=wA||My&&js(new My)!=xA)&&(js=function(e){var t=qo(e),r=t==idt?e.constructor:void 0,n=r?Ca(r):"";if(n)switch(n){case sdt:return TA;case adt:return _A;case odt:return EA;case ldt:return wA;case udt:return xA}return t});var cdt="[object Map]",hdt="[object Set]",ddt=Object.prototype,fdt=ddt.hasOwnProperty;function vA(e){if(e==null)return!0;if(Wf(e)&&(Md(e)||typeof e=="string"||typeof e.splice=="function"||A2(e)||C2(e)||Bd(e)))return!e.length;var t=js(e);if(t==cdt||t==hdt)return!e.size;if(jf(e))return!ndt(e).length;for(var r in e)if(fdt.call(e,r))return!1;return!0}var MP="c4",pdt=P(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),mdt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-DpWoUU-_.js");return{diagram:t}},__vite__mapDeps([105,106,101,102]),import.meta.url);return{id:MP,diagram:e}},"loader"),gdt={id:MP,detector:pdt,loader:mdt},bdt=gdt,FP="flowchart",ydt=P((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),_dt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-iTEQmw1T.js");return{diagram:t}},__vite__mapDeps([107,108,109,110,111,101,102]),import.meta.url);return{id:FP,diagram:e}},"loader"),Edt={id:FP,detector:ydt,loader:_dt},wdt=Edt,UP="flowchart-v2",xdt=P((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),Tdt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-iTEQmw1T.js");return{diagram:t}},__vite__mapDeps([107,108,109,110,111,101,102]),import.meta.url);return{id:UP,diagram:e}},"loader"),vdt={id:UP,detector:xdt,loader:Tdt},Adt=vdt,HP="er",Cdt=P(e=>/^\s*erDiagram/.test(e),"detector"),kdt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-CPxBugZF.js");return{diagram:t}},__vite__mapDeps([112,109,110,111,101,102]),import.meta.url);return{id:HP,diagram:e}},"loader"),Sdt={id:HP,detector:Cdt,loader:kdt},Idt=Sdt,$P="gitGraph",Ldt=P(e=>/^\s*gitGraph/.test(e),"detector"),Rdt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-DAPWiBBK.js");return{diagram:t}},__vite__mapDeps([113,114,115,116,102,101]),import.meta.url);return{id:$P,diagram:e}},"loader"),Ndt={id:$P,detector:Ldt,loader:Rdt},Odt=Ndt,zP="gantt",Pdt=P(e=>/^\s*gantt/.test(e),"detector"),Ddt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./ganttDiagram-JELNMOA3-ClFw4IiM.js");return{diagram:t}},__vite__mapDeps([117,101,102,118,119,120]),import.meta.url);return{id:zP,diagram:e}},"loader"),Bdt={id:zP,detector:Pdt,loader:Ddt},Mdt=Bdt,jP="info",Fdt=P(e=>/^\s*info/.test(e),"detector"),Udt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./infoDiagram-WHAUD3N6-BsUVWfaT.js");return{diagram:t}},__vite__mapDeps([121,116,102,101]),import.meta.url);return{id:jP,diagram:e}},"loader"),Hdt={id:jP,detector:Fdt,loader:Udt},WP="pie",$dt=P(e=>/^\s*pie/.test(e),"detector"),zdt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-eBkaLg5Q.js");return{diagram:t}},__vite__mapDeps([122,114,116,102,123,124,119,101]),import.meta.url);return{id:WP,diagram:e}},"loader"),jdt={id:WP,detector:$dt,loader:zdt},qP="quadrantChart",Wdt=P(e=>/^\s*quadrantChart/.test(e),"detector"),qdt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-mEOAIox5.js");return{diagram:t}},__vite__mapDeps([125,118,119,120,101,102]),import.meta.url);return{id:qP,diagram:e}},"loader"),Gdt={id:qP,detector:Wdt,loader:qdt},Vdt=Gdt,GP="xychart",Ydt=P(e=>/^\s*xychart(-beta)?/.test(e),"detector"),Xdt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-DD89kvUj.js");return{diagram:t}},__vite__mapDeps([126,119,124,118,120,101,102]),import.meta.url);return{id:GP,diagram:e}},"loader"),Kdt={id:GP,detector:Ydt,loader:Xdt},Zdt=Kdt,VP="requirement",Qdt=P(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),Jdt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-BaQUewI4.js");return{diagram:t}},__vite__mapDeps([127,109,110,101,102]),import.meta.url);return{id:VP,diagram:e}},"loader"),tft={id:VP,detector:Qdt,loader:Jdt},eft=tft,YP="sequence",rft=P(e=>/^\s*sequenceDiagram/.test(e),"detector"),nft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-BZUHAtDr.js");return{diagram:t}},__vite__mapDeps([128,106,115,101,102]),import.meta.url);return{id:YP,diagram:e}},"loader"),ift={id:YP,detector:rft,loader:nft},sft=ift,XP="class",aft=P((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),oft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-1qKJ15nQ.js");return{diagram:t}},__vite__mapDeps([129,130,108,109,110,101,102]),import.meta.url);return{id:XP,diagram:e}},"loader"),lft={id:XP,detector:aft,loader:oft},uft=lft,KP="classDiagram",cft=P((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),hft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-1qKJ15nQ.js");return{diagram:t}},__vite__mapDeps([131,130,108,109,110,101,102]),import.meta.url);return{id:KP,diagram:e}},"loader"),dft={id:KP,detector:cft,loader:hft},fft=dft,ZP="state",pft=P((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),mft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-CsN3vy6C.js");return{diagram:t}},__vite__mapDeps([132,133,109,110,98,99,101,102]),import.meta.url);return{id:ZP,diagram:e}},"loader"),gft={id:ZP,detector:pft,loader:mft},bft=gft,QP="stateDiagram",yft=P((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),_ft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-BDFhKtTS.js");return{diagram:t}},__vite__mapDeps([134,133,109,110,101,102]),import.meta.url);return{id:QP,diagram:e}},"loader"),Eft={id:QP,detector:yft,loader:_ft},wft=Eft,JP="journey",xft=P(e=>/^\s*journey/.test(e),"detector"),Tft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-CaHFbgIy.js");return{diagram:t}},__vite__mapDeps([135,106,108,123,101,102]),import.meta.url);return{id:JP,diagram:e}},"loader"),vft={id:JP,detector:xft,loader:Tft},Aft=vft,Cft=P((e,t,r)=>{Lt.debug(`rendering svg for syntax error
`);const n=ast(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),CL(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),t6={draw:Cft},kft=t6,Sft={db:{},renderer:t6,parser:{parse:P(()=>{},"parse")}},Ift=Sft,e6="flowchart-elk",Lft=P((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),Rft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-iTEQmw1T.js");return{diagram:t}},__vite__mapDeps([107,108,109,110,111,101,102]),import.meta.url);return{id:e6,diagram:e}},"loader"),Nft={id:e6,detector:Lft,loader:Rft},Oft=Nft,r6="timeline",Pft=P(e=>/^\s*timeline/.test(e),"detector"),Dft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-CkUaNwgD.js");return{diagram:t}},__vite__mapDeps([136,123,101,102]),import.meta.url);return{id:r6,diagram:e}},"loader"),Bft={id:r6,detector:Pft,loader:Dft},Mft=Bft,n6="mindmap",Fft=P(e=>/^\s*mindmap/.test(e),"detector"),Uft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-C5oO6nlg.js");return{diagram:t}},__vite__mapDeps([137,109,110,101,102]),import.meta.url);return{id:n6,diagram:e}},"loader"),Hft={id:n6,detector:Fft,loader:Uft},$ft=Hft,i6="kanban",zft=P(e=>/^\s*kanban/.test(e),"detector"),jft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-B-hwUnA_.js");return{diagram:t}},__vite__mapDeps([138,108,101,102]),import.meta.url);return{id:i6,diagram:e}},"loader"),Wft={id:i6,detector:zft,loader:jft},qft=Wft,s6="sankey",Gft=P(e=>/^\s*sankey(-beta)?/.test(e),"detector"),Vft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-Bn27UWkc.js");return{diagram:t}},__vite__mapDeps([139,124,119,101,102]),import.meta.url);return{id:s6,diagram:e}},"loader"),Yft={id:s6,detector:Gft,loader:Vft},Xft=Yft,a6="packet",Kft=P(e=>/^\s*packet(-beta)?/.test(e),"detector"),Zft=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-DNw7MWZN.js");return{diagram:t}},__vite__mapDeps([140,114,116,102,101]),import.meta.url);return{id:a6,diagram:e}},"loader"),Qft={id:a6,detector:Kft,loader:Zft},o6="radar",Jft=P(e=>/^\s*radar-beta/.test(e),"detector"),tpt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-B8zOSMJb.js");return{diagram:t}},__vite__mapDeps([141,114,116,102,101]),import.meta.url);return{id:o6,diagram:e}},"loader"),ept={id:o6,detector:Jft,loader:tpt},l6="block",rpt=P(e=>/^\s*block(-beta)?/.test(e),"detector"),npt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-Cvew6CKS.js");return{diagram:t}},__vite__mapDeps([142,108,100,98,111,101,102]),import.meta.url);return{id:l6,diagram:e}},"loader"),ipt={id:l6,detector:rpt,loader:npt},spt=ipt,u6="architecture",apt=P(e=>/^\s*architecture/.test(e),"detector"),opt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-qPC3T7sX.js");return{diagram:t}},__vite__mapDeps([143,114,116,102,104,101]),import.meta.url);return{id:u6,diagram:e}},"loader"),lpt={id:u6,detector:apt,loader:opt},upt=lpt,c6="treemap",cpt=P(e=>/^\s*treemap/.test(e),"detector"),hpt=P(async()=>{const{diagram:e}=await et(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-BASMUDBg.js");return{diagram:t}},__vite__mapDeps([144,110,114,116,102,120,124,119,101]),import.meta.url);return{id:c6,diagram:e}},"loader"),dpt={id:c6,detector:cpt,loader:hpt},AA=!1,ep=P(()=>{AA||(AA=!0,bd("error",Ift,e=>e.toLowerCase().trim()==="error"),bd("---",{db:{clear:P(()=>{},"clear")},styles:{},renderer:{draw:P(()=>{},"draw")},parser:{parse:P(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:P(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Wb(Oft,$ft,upt),Wb(bdt,qft,fft,uft,Idt,Mdt,Hdt,jdt,eft,sft,Adt,wdt,Mft,Odt,wft,bft,Aft,Vdt,Xft,Qft,Zdt,spt,ept,dpt))},"addDiagrams"),fpt=P(async()=>{Lt.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(da).map(async([r,{detector:n,loader:i}])=>{if(i)try{Yb(r)}catch{try{const{diagram:s,id:a}=await i();bd(a,s,n)}catch(s){throw Lt.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete da[r],s}}}))).filter(r=>r.status==="rejected");if(t.length>0){Lt.error(`Failed to load ${t.length} external diagrams`);for(const r of t)Lt.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),ppt="graphics-document document";function h6(e,t){e.attr("role",ppt),t!==""&&e.attr("aria-roledescription",t)}P(h6,"setA11yDiagramInfo");function d6(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}P(d6,"addSVGa11yTitleDescription");var ca,Fy=(ca=class{constructor(t,r,n,i,s){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=s}static async fromText(t,r={}){const n=Mr(),i=K1(t,n);t=dut(t)+`
`;try{Yb(i)}catch{const u=Ptt(i);if(!u)throw new pL(`Diagram ${i} not found.`);const{id:c,diagram:h}=await u();bd(c,h)}const{db:s,parser:a,renderer:o,init:l}=Yb(i);return a.parser&&(a.parser.yy=s),s.clear?.(),l?.(n),r.title&&s.setDiagramTitle?.(r.title),await a.parse(t),new ca(i,t,s,a,o)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},P(ca,"Diagram"),ca),CA=[],mpt=P(()=>{CA.forEach(e=>{e()}),CA=[]},"attachFunctions"),gpt=P(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function f6(e){const t=e.match(fL);if(!t)return{text:e,metadata:{}};let r=fat(t[1],{schema:dat})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}P(f6,"extractFrontMatter");var bpt=P(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),ypt=P(e=>{const{text:t,metadata:r}=f6(e),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:t}},"processFrontmatter"),_pt=P(e=>{const t=Gn.detectInit(e)??{},r=Gn.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:Jlt(e),directive:t}},"processDirectives");function X2(e){const t=bpt(e),r=ypt(t),n=_pt(r.text),i=N2(r.config,n.directive);return e=gpt(n.text),{code:e,title:r.title,config:i}}P(X2,"preprocessDiagram");function p6(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}P(p6,"toBase64");var Ept=5e4,wpt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",xpt="sandbox",Tpt="loose",vpt="http://www.w3.org/2000/svg",Apt="http://www.w3.org/1999/xlink",Cpt="http://www.w3.org/1999/xhtml",kpt="100%",Spt="100%",Ipt="border:0;margin:0;",Lpt="margin:0",Rpt="allow-top-navigation-by-user-activation allow-popups",Npt='The "iframe" tag is not supported by your browser.',Opt=["foreignobject"],Ppt=["dominant-baseline"];function K2(e){const t=X2(e);return md(),Ktt(t.config??{}),t}P(K2,"processAndSetConfigs");async function m6(e,t){ep();try{const{code:r,config:n}=K2(e);return{diagramType:(await b6(r)).type,config:n}}catch(r){if(t?.suppressErrors)return!1;throw r}}P(m6,"parse");var kA=P((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),Dpt=P((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const a=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(o=>{vA(o.styles)||a.forEach(l=>{r+=kA(o.id,l,o.styles)}),vA(o.textStyles)||(r+=kA(o.id,"tspan",(o?.textStyles||[]).map(l=>l.replace("color","fill"))))})}return r},"createCssStyles"),Bpt=P((e,t,r,n)=>{const i=Dpt(e,r),s=bet(t,i,e.themeVariables);return Oy(Zht(`${n}{${s}}`),Jht)},"createUserStyles"),Mpt=P((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Sa(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),Fpt=P((e="",t)=>{const r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":Spt,n=p6(`<body style="${Lpt}">${e}</body>`);return`<iframe style="width:${kpt};height:${r};${Ipt}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${Rpt}">
  ${Npt}
</iframe>`},"putIntoIFrame"),SA=P((e,t,r,n,i)=>{const s=e.append("div");s.attr("id",r),n&&s.attr("style",n);const a=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",vpt);return i&&a.attr("xmlns:xlink",i),a.append("g"),e},"appendDivSvgG");function Uy(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}P(Uy,"sandboxedIframe");var Upt=P((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),Hpt=P(async function(e,t,r){ep();const n=K2(t);t=n.code;const i=Mr();Lt.debug(i),t.length>(i?.maxTextSize??Ept)&&(t=wpt);const s="#"+e,a="i"+e,o="#"+a,l="d"+e,u="#"+l,c=P(()=>{const U=Ae(f?o:u).node();U&&"remove"in U&&U.remove()},"removeTempElements");let h=Ae("body");const f=i.securityLevel===xpt,d=i.securityLevel===Tpt,p=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){const S=Uy(Ae(r),a);h=Ae(S.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Ae(r);SA(h,e,l,`font-family: ${p}`,Apt)}else{if(Upt(document,e,l,a),f){const S=Uy(Ae("body"),a);h=Ae(S.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Ae("body");SA(h,e,l)}let g,y;try{g=await Fy.fromText(t,{title:n.title})}catch(S){if(i.suppressErrorRendering)throw c(),S;g=await Fy.fromText("error"),y=S}const m=h.select(u).node(),b=g.type,_=m.firstChild,T=_.firstChild,C=g.renderer.getClasses?.(t,g),L=Bpt(i,b,C,s),N=document.createElement("style");N.innerHTML=L,_.insertBefore(N,T);try{await g.renderer.draw(t,e,VT.version,g)}catch(S){throw i.suppressErrorRendering?c():kft.draw(t,e,VT.version),S}const z=h.select(`${u} svg`),R=g.db.getAccTitle?.(),H=g.db.getAccDescription?.();y6(b,z,R,H),h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Cpt);let K=h.select(u).node().innerHTML;if(Lt.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),K=Mpt(K,f,gr(i.arrowMarkerAbsolute)),f){const S=h.select(u+" svg").node();K=Fpt(K,S)}else d||(K=So.sanitize(K,{ADD_TAGS:Opt,ADD_ATTR:Ppt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(mpt(),y)throw y;return c(),{diagramType:b,svg:K,bindFunctions:g.db.bindFunctions}},"render");function g6(e={}){const t=pr({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),Ytt(t),t?.theme&&t.theme in Hi?t.themeVariables=Hi[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Hi.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?Vtt(t):_L();X1(r.logLevel),ep()}P(g6,"initialize");var b6=P((e,t={})=>{const{code:r}=X2(e);return Fy.fromText(r,t)},"getDiagramFromText");function y6(e,t,r,n){h6(t,e),d6(t,r,n,t.attr("id"))}P(y6,"addA11yInfo");var ya=Object.freeze({render:Hpt,parse:m6,getDiagramFromText:b6,initialize:g6,getConfig:Mr,setConfig:EL,getSiteConfig:_L,updateSiteConfig:Xtt,reset:P(()=>{md()},"reset"),globalReset:P(()=>{md(Io)},"globalReset"),defaultConfig:Io});X1(Mr().logLevel);md(Mr());var $pt=P((e,t,r)=>{Lt.warn(e),R2(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),_6=P(async function(e={querySelector:".mermaid"}){try{await zpt(e)}catch(t){if(R2(t)&&Lt.error(t.str),Yi.parseError&&Yi.parseError(t),!e.suppressErrors)throw Lt.error("Use the suppressErrors option to suppress these errors"),t}},"run"),zpt=P(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=ya.getConfig();Lt.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");Lt.debug(`Found ${i.length} diagrams`),n?.startOnLoad!==void 0&&(Lt.debug("Start On Load: "+n?.startOnLoad),ya.updateSiteConfig({startOnLoad:n?.startOnLoad}));const s=new Gn.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let a;const o=[];for(const l of Array.from(i)){if(Lt.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${s.next()}`;a=l.innerHTML,a=H3(Gn.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const c=Gn.detectInit(a);c&&Lt.debug("Detected early reinit: ",c);try{const{svg:h,bindFunctions:f}=await T6(u,a,l);l.innerHTML=h,e&&await e(u),f&&f(l)}catch(h){$pt(h,o,Yi.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),E6=P(function(e){ya.initialize(e)},"initialize"),jpt=P(async function(e,t,r){Lt.warn("mermaid.init is deprecated. Please use run instead."),e&&E6(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await _6(n)},"init"),Wpt=P(async(e,{lazyLoad:t=!0}={})=>{ep(),Wb(...e),t===!1&&await fpt()},"registerExternalDiagrams"),w6=P(function(){if(Yi.startOnLoad){const{startOnLoad:e}=ya.getConfig();e&&Yi.run().catch(t=>Lt.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",w6,!1);var qpt=P(function(e){Yi.parseError=e},"setParseErrorHandler"),Yd=[],a0=!1,x6=P(async()=>{if(!a0){for(a0=!0;Yd.length>0;){const e=Yd.shift();if(e)try{await e()}catch(t){Lt.error("Error executing queue",t)}}a0=!1}},"executeQueue"),Gpt=P(async(e,t)=>new Promise((r,n)=>{const i=P(()=>new Promise((s,a)=>{ya.parse(e,t).then(o=>{s(o),r(o)},o=>{Lt.error("Error parsing",o),Yi.parseError?.(o),a(o),n(o)})}),"performCall");Yd.push(i),x6().catch(n)}),"parse"),T6=P((e,t,r)=>new Promise((n,i)=>{const s=P(()=>new Promise((a,o)=>{ya.render(e,t,r).then(l=>{a(l),n(l)},l=>{Lt.error("Error parsing",l),Yi.parseError?.(l),o(l),i(l)})}),"performCall");Yd.push(s),x6().catch(i)}),"render"),Vpt=P(()=>Object.keys(da).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Yi={startOnLoad:!0,mermaidAPI:ya,parse:Gpt,render:T6,init:jpt,run:_6,registerExternalDiagrams:Wpt,registerLayoutLoaders:LP,initialize:E6,parseError:void 0,contentLoaded:w6,setParseErrorHandler:qpt,detectType:K1,registerIconPacks:gct,getRegisteredDiagramsMetadata:Vpt},Ypt=Yi;const Xpt=async e=>{const t=document.createElement("div");t.style.visibility="hidden",document.body.appendChild(t);try{return(await Ypt.render("mermaid",e,t)).svg}finally{document.body.removeChild(t)}},Kpt=()=>{const e=Xpt;return async({root:t,images:r})=>{const n=[];return Ei(t,"code",({lang:i,value:s})=>{i==="mermaid"&&(r.has(s)||(r.set(s,null),n.push((async()=>{try{const a=await e(s),o=new TextEncoder().encode(a),{width:l,height:u}=zk(o),c=await jk({buffer:o.buffer,width:l,height:u});r.set(s,{type:"png",width:l,height:u,data:c})}catch(a){ra(String(a))}})())))}),await Promise.all(n),{code:({lang:i,value:s},a)=>i!=="mermaid"||a.images.get(s)==null?null:new Tn({children:a.render([{type:"image",url:s}])})}}},Zpt=`# remark-docx

![npm](https://img.shields.io/npm/v/remark-docx) ![npm](https://img.shields.io/npm/dw/remark-docx) ![check](https://github.com/inokawa/remark-docx/workflows/check/badge.svg) ![demo](https://github.com/inokawa/remark-docx/workflows/demo/badge.svg)

> [remark](https://github.com/remarkjs/remark) plugin to compile markdown to docx (Microsoft Word, Office Open XML).

- Uses [docx](https://github.com/dolanmiu/docx) for compilation.
- Works in any environment (e.g. browser, Node.js).
- Provides reasonable default style and also tunable enough (WIP).
- Supports advanced layouts (RTL, vertical, 2 columns).
- Has own plugin system. You can fully customize markdown to Word transformation.

### Supported [mdast](https://github.com/syntax-tree/mdast) nodes

Currently, some of the default styles may not be nice. If you have feature requests or improvements, please create a [issue](https://github.com/inokawa/remark-docx/issues) or [PR](https://github.com/inokawa/remark-docx/pulls).

- [x] paragraph
- [x] heading
- [x] thematicBreak (rendered as Page Break / Section Break / Horizontal line)
- [x] blockquote
- [x] list / listItem
- [x] table / tableRow / tableCell
- [x] definition
- [x] text
- [x] emphasis
- [x] strong
- [x] delete
- [x] inlineCode
- [x] break
- [x] link / linkReference
- [x] footnote / footnoteReference / footnoteDefinition
- [x] image / imageReference ([plugin](#image))
- [x] html ([plugin](#html))
- [x] code ([plugin](#code))
- [x] math / inlineMath ([remark-math](https://github.com/remarkjs/remark-math) and [plugin](#math))

## Demo

https://inokawa.github.io/remark-docx/

## Install

\`\`\`sh
npm install remark-docx
\`\`\`

## Getting started

### Browser

\`\`\`javascript
import { unified } from "unified";
import markdown from "remark-parse";
import docx from "remark-docx";
import { saveAs } from "file-saver";

const processor = unified().use(markdown).use(docx);

const text = "# hello world";

(async () => {
  const doc = await processor.process(text);
  const arrayBuffer = await doc.result;
  saveAs(new Blob([arrayBuffer]), "example.docx");
})();
\`\`\`

### Node.js

\`\`\`javascript
import { unified } from "unified";
import markdown from "remark-parse";
import docx from "remark-docx";
import * as fs from "fs";

const processor = unified().use(markdown).use(docx);

const text = "# hello world";

(async () => {
  const doc = await processor.process(text);
  const arrayBuffer = await doc.result;
  fs.writeFileSync("example.docx", Buffer.from(arrayBuffer));
})();
\`\`\`

## Plugins

### Image

Fetch image data and embed into docx. \`png\`, \`jpg\`, \`gif\`, \`bmp\`, \`svg\` urls are supported.

\`\`\`javascript
import { unified } from "unified";
import markdown from "remark-parse";
import docx from "remark-docx";
import { imagePlugin } from "remark-docx/plugins/image";

const processor = unified()
  .use(markdown)
  .use(docx, { plugins: [imagePlugin()] });
\`\`\`

URLs are resolved with [fetch API](https://developer.mozilla.org/docs/Web/API/Fetch_API) by default. You can use other methods such as file system.

\`\`\`javascript
import * as fs from "fs/promises";

imagePlugin({
  load: async (url) => {
    return (await fs.readFile(url)).buffer;
  },
});
\`\`\`

When we embed \`svg\` to docx, it also requires \`png\` image since legacy Word can't render \`svg\`. On browser, this plugin generate it automatically. On other enviroment like Node.js, please implement \`fallbackSvg\` prop.

\`\`\`javascript
import sharp from "sharp";

imagePlugin({
  fallbackSvg: async ({ buffer }) => {
    return (await sharp(buffer).png().toBuffer()).buffer;
  },
});
\`\`\`

### Code

#### Syntax highlight

Syntax highlighting with [shiki](https://github.com/shikijs/shiki).

\`\`\`javascript
import { unified } from "unified";
import markdown from "remark-parse";
import docx from "remark-docx";
import { shikiPlugin } from "remark-docx/plugins/shiki";

const processor = unified()
  .use(markdown)
  .use(docx, { plugins: [shikiPlugin({ theme: "dark-plus" })] });
\`\`\`

#### Mermaid

Render [Mermaid](https://mermaid.js.org/) in code blocks with \`mermaid\` language. It only works in browser for now.

\`\`\`javascript
import { unified } from "unified";
import markdown from "remark-parse";
import docx from "remark-docx";
import { mermaidPlugin } from "remark-docx/plugins/mermaid";

const processor = unified()
  .use(markdown)
  .use(docx, { plugins: [mermaidPlugin()] });
\`\`\`

### Math

Render LaTeX with [MathJax](https://github.com/mathjax/MathJax).

\`\`\`javascript
import { unified } from "unified";
import markdown from "remark-parse";
import math from "remark-math";
import docx from "remark-docx";
import { latexPlugin } from "remark-docx/plugins/latex";

const processor = unified()
  .use(markdown)
  .use(math)
  .use(docx, { plugins: [latexPlugin()] });
\`\`\`

### HTML

Transform HTML to markdown.

\`\`\`javascript
import { unified } from "unified";
import markdown from "remark-parse";
import docx from "remark-docx";
import { htmlPlugin } from "remark-docx/plugins/html";

const processor = unified()
  .use(markdown)
  .use(docx, { plugins: [htmlPlugin()] });
\`\`\`

## Documentation

- [API reference](./docs/API.md)

## Contribute

All contributions are welcome.
If you find a problem, feel free to create an [issue](https://github.com/inokawa/remark-docx/issues) or a [PR](https://github.com/inokawa/remark-docx/pulls).

### Making a Pull Request

1. Fork this repo.
2. Run \`npm install\`.
3. Commit your fix.
4. Add tests to cover the fix.
5. Make a PR and confirm all the CI checks passed.

## Related projects

- [remark-slate-transformer](https://github.com/inokawa/remark-slate-transformer)
- [remark-pdf](https://github.com/inokawa/remark-pdf)
`,Qpt=`import {
  Packer,
  Document,
  Paragraph,
  Table,
  TableRow,
  TableCell,
  TextRun,
  ExternalHyperlink,
  HeadingLevel,
  LevelFormat,
  AlignmentType,
  type ILevelsOptions,
  FootnoteReferenceRun,
  type IPropertiesOptions,
  sectionPageSizeDefaults,
  sectionMarginDefaults,
  type IRunOptions,
  type IParagraphOptions,
  PageBreak,
  type ISectionPropertiesOptions,
  type IIndentAttributesProperties,
  type IStylesOptions,
  type ITableOptions,
  ImageRun,
  type FileChild,
} from "docx";
import type * as mdast from "mdast";
import { warnOnce } from "./utils";
import { definitions } from "mdast-util-definitions";
import deepmerge from "deepmerge";
import type {
  Context,
  DocxContent,
  DocxImageData,
  FootnoteRegistry,
  ListContext,
  NodeBuilder,
  NodeBuilders,
  RemarkDocxPlugin,
  ThematicBreakType,
  Writeable,
} from "./types";

const BULLET_LIST_REF = "bullet";
const ORDERED_LIST_REF = "ordered";
const COMPLETE_TASK_LIST_REF = "task-complete";
const INCOMPLETE_TASK_LIST_REF = "task-incomplete";
const HYPERLINK_STYLE_ID = "Hyperlink";

const calcIndent = (i: number): IIndentAttributesProperties => {
  const INDENT_UNIT = 10 * 40;
  return { hanging: INDENT_UNIT, left: INDENT_UNIT * (i + 1) };
};

const createFootnoteRegistry = (): FootnoteRegistry => {
  const idToInternalId = new Map<string, number>();
  const defs = new Map<number, Paragraph[]>();

  return {
    id: (id) => {
      let internalId = idToInternalId.get(id);
      if (internalId == null) {
        idToInternalId.set(id, (internalId = idToInternalId.size + 1));
      }
      return internalId;
    },
    set: (id, def) => {
      defs.set(id, def);
    },
    toConfig: () => {
      return defs.entries().reduce(
        (acc, [key, def]) => {
          acc[key] = { children: def };
          return acc;
        },
        {} as {
          [key: string]: { children: Paragraph[] };
        },
      );
    },
  };
};

type ListFormat = {
  format: keyof typeof LevelFormat;
  text: string;
};

type OrderedListRegistry = {
  createId: () => string;
  getIds: () => string[];
};
const createOrderedListRegistry = (): OrderedListRegistry => {
  let counter = 1;

  const ids: string[] = [];

  return {
    createId: () => {
      const id = \`\${ORDERED_LIST_REF}-\${counter++}\`;
      ids.push(id);
      return id;
    },
    getIds: () => {
      return ids;
    },
  };
};

const composeBuilders = (
  pluginsBuilders: readonly NodeBuilders[],
  defaultBuilders: NodeBuilders,
): NodeBuilders => {
  return pluginsBuilders.reduceRight<NodeBuilders>((acc, p) => {
    type Key = keyof typeof p;
    for (const [k, cur] of Object.entries(p)) {
      const prev = acc[k as Key];
      acc[k as Key] = (
        prev
          ? (n, c) => {
              const r = cur(n as any, c);
              if (r) {
                return r;
              }
              return prev(n as any, c);
            }
          : cur
      ) as NodeBuilder<any>;
    }
    return acc;
  }, defaultBuilders);
};

const buildLevels = (formats: readonly ListFormat[]): ILevelsOptions[] => {
  return formats.map(({ format, text }, i) => {
    return {
      level: i,
      format: LevelFormat[format],
      text: text,
      alignment: AlignmentType.LEFT,
      style: {
        paragraph: {
          indent: calcIndent(i),
        },
      },
    };
  });
};

const docxParagraph = (
  options: Writeable<IParagraphOptions>,
  ctx: Context,
): Paragraph => {
  if (ctx.quote != null) {
    options.indent = calcIndent(ctx.quote + 1);
  }

  if (ctx.list) {
    const { level, meta } = ctx.list;
    if (meta.type === "task") {
      options.numbering = {
        reference: meta.checked
          ? COMPLETE_TASK_LIST_REF
          : INCOMPLETE_TASK_LIST_REF,
        level,
      };
    } else if (meta.type === "ordered") {
      options.numbering = {
        reference: meta.reference,
        level,
      };
    } else {
      options.numbering = {
        reference: BULLET_LIST_REF,
        level,
      };
    }
  }

  if (ctx.rtl) {
    options.bidirectional = true;
  }

  return new Paragraph(options);
};

const docxImage = (
  image: DocxImageData,
  node: { alt?: string | null; title?: string | null },
  { width: pageWidth }: Context,
): ImageRun => {
  let { width, height } = image;

  const pageWidthInch = pageWidth / 1440;
  const DPI = 96;
  const pageWidthPx = pageWidthInch * DPI;
  if (width > pageWidthPx) {
    const scale = pageWidthPx / width;
    width *= scale;
    height *= scale;
  }

  const altText =
    node.alt || node.title
      ? {
          name: "",
          description: node.alt ?? undefined,
          title: node.title ?? undefined,
        }
      : undefined;

  if (image.type === "svg") {
    const { type, data, fallback } = image;
    return new ImageRun({
      type: type,
      data: data,
      transformation: {
        width,
        height,
      },
      // https://github.com/dolanmiu/docx/issues/1162#issuecomment-3228368003
      fallback: { type: "png", data: fallback },
      altText,
    });
  }

  const { type, data } = image;
  return new ImageRun({
    type: type,
    data: data,
    transformation: {
      width,
      height,
    },
    altText,
  });
};

export interface DocxOptions extends Pick<
  IPropertiesOptions,
  | "title"
  | "subject"
  | "creator"
  | "keywords"
  | "description"
  | "styles"
  | "background"
> {
  /**
   * Page size defined in twip (1 twip == 1/1440 inch).
   * @default A4 ({@link sectionPageSizeDefaults})
   */
  size?: { width?: number; height?: number };
  /**
   * Page margin defined in twip (1 twip == 1/1440 inch).
   * @default 1 inch ({@link sectionMarginDefaults})
   */
  margin?: { top?: number; left?: number; bottom?: number; right?: number };
  /**
   * Page orientation.
   * @default "portrait"
   */
  orientation?: "portrait" | "landscape";
  /**
   * Number of page columns.
   * @default 1
   */
  columns?: number;
  /**
   * Spacing after Paragraphs in twip (1 twip == 1/1440 inch).
   * @default 0
   */
  spacing?: number;
  /**
   * Direction of texts.
   * @default "ltr"
   */
  direction?: "ltr" | "rtl" | "vertical";
  /**
   * An option to override the text format of ordered list.
   * See https://docx.js.org/#/usage/numbering?id=level-options for more details.
   */
  orderedListFormat?: ListFormat[];
  /**
   * An option to select how thematicBreak works.
   *
   * - "page": Page Break
   * - "section": Section Break
   * - "line": Horizontal line
   * @default "page"
   */
  thematicBreak?: ThematicBreakType;
  /**
   * Plugins to customize how mdast nodes are compiled.
   */
  plugins?: RemarkDocxPlugin[];
}

export const mdastToDocx = async (
  node: mdast.Root,
  {
    plugins = [],
    title,
    subject,
    creator,
    keywords,
    description,
    styles,
    size,
    margin,
    orientation,
    columns,
    spacing,
    direction,
    background,
    thematicBreak = "page",
    orderedListFormat,
  }: DocxOptions = {},
): Promise<ArrayBuffer> => {
  const definition = definitions(node);

  const ordered = createOrderedListRegistry();
  const footnote = createFootnoteRegistry();

  const images = new Map<string, DocxImageData>();
  const pluginCtx = { root: node, images, definition };

  const builders = composeBuilders(
    await Promise.all(plugins.map((p) => p(pluginCtx))),
    {
      paragraph: buildParagraph,
      heading: buildHeading,
      thematicBreak: buildThematicBreak,
      blockquote: buildBlockquote,
      list: buildList,
      listItem: buildListItem,
      table: buildTable,
      tableRow: noop,
      tableCell: noop,
      html: fallbackText,
      code: fallbackText,
      definition: noop,
      footnoteDefinition: buildFootnoteDefinition,
      text: buildText,
      emphasis: buildEmphasis,
      strong: buildStrong,
      delete: buildDelete,
      inlineCode: buildInlineCode,
      break: buildBreak,
      link: buildLink,
      linkReference: buildLinkReference,
      image: buildImage,
      imageReference: buildImageReference,
      footnoteReference: buildFootnoteReference,
      math: fallbackText,
      inlineMath: fallbackText,
    },
  );

  const renderNode = (
    node: mdast.RootContent,
    c: Context,
  ): DocxContent[] | null => {
    const builder = builders[node.type];
    if (!builder) {
      warnOnce(\`\${node.type} node is not supported without plugins.\`);
      return null;
    }
    const r = builder(node as any, c);
    if (r) {
      if (Array.isArray(r)) {
        return r;
      } else {
        return [r];
      }
    }
    return null;
  };

  let { WIDTH: pageWidth, HEIGHT: pageHeight } = sectionPageSizeDefaults;
  if (size) {
    if (size.width != null) {
      pageWidth = size.width;
    }
    if (size.height != null) {
      pageHeight = size.height;
    }
  }
  let {
    TOP: marginTop,
    LEFT: marginLeft,
    BOTTOM: marginBottom,
    RIGHT: marginRight,
  } = sectionMarginDefaults;
  if (margin) {
    if (margin.top != null) {
      marginTop = margin.top;
    }
    if (margin.left != null) {
      marginLeft = margin.left;
    }
    if (margin.bottom != null) {
      marginBottom = margin.bottom;
    }
    if (margin.right != null) {
      marginRight = margin.right;
    }
  }

  const ctx: Context = {
    render(nodes, c) {
      const results: DocxContent[] = [];
      for (const node of nodes) {
        const r = renderNode(node, c ?? this);
        if (r) {
          results.push(...r);
        }
      }
      return results;
    },
    width: pageWidth - marginLeft - marginRight,
    style: {},
    thematicBreak,
    rtl: direction === "rtl",
    definition: definition,
    images,
    footnote,
    orderedId: ordered.createId,
  };

  const sections: DocxContent[][] = [[]];
  for (const n of node.children) {
    const r = renderNode(n, ctx);
    if (r) {
      if (!r.length) {
        // thematicBreak
        sections.push([]);
      } else {
        const lastSection = sections[sections.length - 1]!;
        lastSection.push(...r);
      }
    }
  }

  const orderedLevels = buildLevels(
    orderedListFormat ?? [
      { text: "%1.", format: "DECIMAL" },
      { text: "%2.", format: "DECIMAL" },
      { text: "%3.", format: "DECIMAL" },
      { text: "%4.", format: "DECIMAL" },
      { text: "%5.", format: "DECIMAL" },
      { text: "%6.", format: "DECIMAL" },
    ],
  );

  const sectionProperties: ISectionPropertiesOptions = {
    column: columns ? { count: columns } : undefined,
    page: {
      textDirection: direction === "vertical" ? "tbRl" : undefined,
      size: { width: pageWidth, height: pageHeight, orientation },
      margin: {
        top: marginTop,
        left: marginLeft,
        bottom: marginBottom,
        right: marginRight,
      },
    },
  };

  const doc = new Document({
    title,
    subject,
    creator,
    keywords,
    description,
    styles: deepmerge<IStylesOptions>(
      {
        default: {
          document: {
            paragraph: {
              spacing: spacing ? { after: spacing } : undefined,
            },
          },
        },
      },
      styles || {},
    ),
    background,
    sections: sections
      .filter((s) => s.length)
      .map((s) => ({
        properties: sectionProperties,
        children: s as FileChild[],
      })),
    footnotes: footnote.toConfig(),
    numbering: {
      config: [
        {
          reference: BULLET_LIST_REF,
          levels: buildLevels([
            { text: "\\u25CF", format: "BULLET" },
            { text: "\\u25CB", format: "BULLET" },
            { text: "\\u25A0", format: "BULLET" },
            { text: "\\u25CF", format: "BULLET" },
            { text: "\\u25CB", format: "BULLET" },
            { text: "\\u25A0", format: "BULLET" },
          ]),
        },
        ...ordered.getIds().map((ref) => ({
          reference: ref,
          levels: orderedLevels,
        })),
        {
          reference: COMPLETE_TASK_LIST_REF,
          levels: buildLevels([
            { text: "\\u2611", format: "BULLET" },
            { text: "\\u2611", format: "BULLET" },
            { text: "\\u2611", format: "BULLET" },
            { text: "\\u2611", format: "BULLET" },
            { text: "\\u2611", format: "BULLET" },
            { text: "\\u2611", format: "BULLET" },
          ]),
        },
        {
          reference: INCOMPLETE_TASK_LIST_REF,
          levels: buildLevels([
            { text: "\\u2610", format: "BULLET" },
            { text: "\\u2610", format: "BULLET" },
            { text: "\\u2610", format: "BULLET" },
            { text: "\\u2610", format: "BULLET" },
            { text: "\\u2610", format: "BULLET" },
            { text: "\\u2610", format: "BULLET" },
          ]),
        },
      ],
    },
  });

  // HACK: docx.js has no option to remove default numbering definitions from .docx. So do it here for now.
  // https://github.com/dolanmiu/docx/blob/master/src/file/numbering/numbering.ts
  const defaultBulletKey = "default-bullet-numbering";
  const _numbering = (doc as any).numbering;
  _numbering.abstractNumberingMap.delete(defaultBulletKey);
  _numbering.concreteNumberingMap.delete(defaultBulletKey);

  return Packer.toArrayBuffer(doc);
};

const buildParagraph: NodeBuilder<"paragraph"> = ({ children }, ctx) => {
  return docxParagraph(
    {
      children: ctx.render(children),
    },
    ctx,
  );
};

const buildHeading: NodeBuilder<"heading"> = ({ children, depth }, ctx) => {
  let level: keyof typeof HeadingLevel;
  switch (depth) {
    case 1:
      level = "TITLE";
      break;
    case 2:
      level = "HEADING_1";
      break;
    case 3:
      level = "HEADING_2";
      break;
    case 4:
      level = "HEADING_3";
      break;
    case 5:
      level = "HEADING_4";
      break;
    case 6:
      level = "HEADING_5";
      break;
  }
  return docxParagraph(
    {
      heading: HeadingLevel[level],
      children: ctx.render(children),
    },
    ctx,
  );
};

const buildThematicBreak: NodeBuilder<"thematicBreak"> = (_, ctx) => {
  switch (ctx.thematicBreak) {
    case "page": {
      return new Paragraph({ children: [new PageBreak()] });
    }
    case "section": {
      // Returning empty array at toplevel means section insertion.
      return [];
    }
    case "line": {
      return new Paragraph({ thematicBreak: true });
    }
  }
};

const buildBlockquote: NodeBuilder<"blockquote"> = ({ children }, ctx) => {
  return ctx.render(children, {
    ...ctx,
    quote: ctx.quote == null ? 0 : ctx.quote + 1,
  });
};

const buildList: NodeBuilder<"list"> = ({ children, ordered }, ctx) => {
  const parentList = ctx.list;

  let meta: ListContext["meta"];
  if (ordered) {
    meta = {
      type: "ordered",
      reference:
        parentList && parentList.meta.type === "ordered"
          ? parentList.meta.reference
          : ctx.orderedId(),
    };
  } else {
    meta = { type: "bullet" };
  }

  return ctx.render(children, {
    ...ctx,
    list: {
      level: !parentList ? 0 : parentList.level + 1,
      meta,
    },
  });
};

const buildListItem: NodeBuilder<"listItem"> = ({ children, checked }, ctx) => {
  let list = ctx.list;
  if (list) {
    // listItem must be the child of list
    if (checked != null) {
      list = {
        level: list.level,
        meta: {
          type: "task",
          checked,
        },
      };
    }
  }
  return ctx.render(children, {
    ...ctx,
    list,
  });
};

const buildTable: NodeBuilder<"table"> = ({ children, align }, ctx) => {
  const textAlign = align?.map((a): keyof typeof AlignmentType => {
    switch (a) {
      case "left":
        return "LEFT";
      case "right":
        return "RIGHT";
      case "center":
        return "CENTER";
      default:
        return "LEFT";
    }
  });

  const columnLength = children[0]!.children.length;
  const columnWidth = ctx.width / columnLength;

  const options: Writeable<ITableOptions> = {
    columnWidths: Array.from({ length: columnLength }).map(() => columnWidth),
    rows: children.map((r) => {
      return new TableRow({
        children: r.children.map((c, i) => {
          return new TableCell({
            width: { size: columnWidth, type: "dxa" },
            children: [
              new Paragraph({
                alignment: AlignmentType[textAlign?.[i] ?? "LEFT"],
                children: ctx.render(c.children, {
                  ...ctx,
                  // https://github.com/dolanmiu/docx/blob/master/demo/22-right-to-left-text.ts
                  rtl: undefined,
                }),
              }),
            ],
          });
        }),
      });
    }),
  };

  if (ctx.rtl) {
    options.visuallyRightToLeft = true;
  }

  return new Table(options);
};

const buildText: NodeBuilder<"text"> = ({ value }, { style, rtl }) => {
  const options: Writeable<IRunOptions> = {
    text: value,
    bold: style.bold,
    italics: style.italic,
    strike: style.strike,
  };
  if (style.inlineCode) {
    options.highlight = "lightGray";
  }
  if (style.link) {
    // https://docx.js.org/#/usage/hyperlinks?id=styling-hyperlinks
    options.style = HYPERLINK_STYLE_ID;
  }
  if (rtl) {
    options.rightToLeft = true;
  }

  return new TextRun(options);
};

const buildEmphasis: NodeBuilder<"emphasis"> = ({ children }, ctx) => {
  return ctx.render(children, {
    ...ctx,
    style: { ...ctx.style, italic: true },
  });
};

const buildStrong: NodeBuilder<"strong"> = ({ children }, ctx) => {
  return ctx.render(children, {
    ...ctx,
    style: { ...ctx.style, bold: true },
  });
};

const buildDelete: NodeBuilder<"delete"> = ({ children }, ctx) => {
  return ctx.render(children, {
    ...ctx,
    style: { ...ctx.style, strike: true },
  });
};

const buildInlineCode: NodeBuilder<"inlineCode"> = ({ value }, ctx) => {
  return buildText(
    { type: "text", value },
    {
      ...ctx,
      style: { ...ctx.style, inlineCode: true },
    },
  );
};

const buildBreak: NodeBuilder<"break"> = () => {
  return new TextRun({ text: "", break: 1 });
};

const buildLink: NodeBuilder<"link"> = ({ children, url }, ctx) => {
  if (url.startsWith("#")) {
    // TODO support anchor link
    return ctx.render(children);
  }
  return new ExternalHyperlink({
    link: url,
    children: ctx.render(children, {
      ...ctx,
      style: { ...ctx.style, link: true },
    }),
  });
};

const buildLinkReference: NodeBuilder<"linkReference"> = (
  { children, identifier },
  ctx,
) => {
  const def = ctx.definition(identifier);
  if (def == null) {
    return ctx.render(children);
  }
  return buildLink({ type: "link", children, url: def.url }, ctx);
};

const buildImage: NodeBuilder<"image"> = (node, ctx) => {
  const data = ctx.images.get(node.url);
  if (!data) {
    return null;
  }
  return docxImage(data, node, ctx);
};

const buildImageReference: NodeBuilder<"imageReference"> = (node, ctx) => {
  const def = ctx.definition(node.identifier);
  if (def == null) {
    return null;
  }
  const data = ctx.images.get(def.url);
  if (!data) {
    return null;
  }
  return docxImage(data, { alt: node.alt, title: def.title }, ctx);
};

const buildFootnoteDefinition: NodeBuilder<"footnoteDefinition"> = (
  { children, identifier },
  ctx,
) => {
  const contents = ctx.render(children).filter((c) => c instanceof Paragraph);
  ctx.footnote.set(ctx.footnote.id(identifier), contents);
  return null;
};

const buildFootnoteReference: NodeBuilder<"footnoteReference"> = (
  { identifier },
  ctx,
) => {
  return new FootnoteReferenceRun(ctx.footnote.id(identifier));
};

const noop = () => {
  return null;
};

const fallbackText = (node: { type: string; value: string }, ctx: Context) => {
  warnOnce(
    \`\${node.type} node is not supported without plugins, falling back to text.\`,
  );
  return buildText({ type: "text", value: node.value }, ctx);
};
`,Jpt=`https://mathjax.github.io/MathJax-demos-web/page/tex-chtml.html

When $a \\ne 0$, there are two solutions to $ax^2 + bx + c = 0$ and they are
$$x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}.$$

The Lorenz Equations

$$
\\begin{align}
\\dot{x} & = \\sigma(y-x) \\\\
\\dot{y} & = \\rho x - y - xz \\\\
\\dot{z} & = -\\beta z + xy
\\end{align}
$$

The Cauchy-Schwarz Inequality

$$
\\left( \\sum*{k=1}^n a_k b_k \\right)^{\\!\\!2} \\leq
\\left( \\sum*{k=1}^n a*k^2 \\right) \\left( \\sum*{k=1}^n b_k^2 \\right)
$$

A Cross Product Formula

$$
\\mathbf{V}\\_1 \\times \\mathbf{V}\\_2 =
\\begin{vmatrix}
\\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\
\\frac{\\partial X}{\\partial u} & \\frac{\\partial Y}{\\partial u} & 0 \\\\
\\frac{\\partial X}{\\partial v} & \\frac{\\partial Y}{\\partial v} & 0 \\\\
\\end{vmatrix}
$$

The probability of getting \\(k\\) heads when flipping \\(n\\) coins is:

$$
P(E) = {n \\choose k} p^k (1-p)^{ n-k}
$$

An Identity of Ramanujan

$$
\\frac{1}{\\left(\\sqrt{\\phi \\sqrt{5}}-\\phi\\right) e^{\\frac25 \\pi}} =
1 + \\dfrac{e^{-2\\pi}}{
1 + \\dfrac{e^{-4\\pi}}{
1 + \\dfrac{e^{-6\\pi}}{
1 + \\dfrac{e^{-8\\pi}}{1+\\ldots}
}
}
}
$$

A Rogers-Ramanujan Identity

$$
1 + \\frac{q^2}{(1-q)}+\\frac{q^6}{(1-q)(1-q^2)}+\\cdots =
\\prod\\_{j=0}^{\\infty}\\frac{1}{(1-q^{5j+2})(1-q^{5j+3})},
\\quad\\quad \\text{for $|q| < 1$}.
$$

Maxwell's Equations

$$
\\begin{align}
\\nabla \\times \\vec{\\mathbf{B}}\\, - \\frac{1}{c}\\, \\frac{\\partial\\vec{\\mathbf{E}}}{\\partial t}
& = \\frac{4\\pi}{c}\\vec{\\mathbf{j}} \\\\[3pt]
\\nabla \\cdot \\vec{\\mathbf{E}} & = 4 \\pi \\rho \\\\[3pt]
\\nabla \\times \\vec{\\mathbf{E}}\\, + \\frac{1}{c}\\, \\frac{\\partial\\vec{\\mathbf{B}}}{\\partial t}
& = \\vec{\\mathbf{0}} \\\\[3pt]
\\nabla \\cdot \\vec{\\mathbf{B}} & = 0
\\end{align}
$$

In-line Mathematics

Finally, while display equations look good for a page of samples, the
ability to mix math and text in a paragraph is also important. This
expression $\\sqrt{3x-1}+(1+x)^2$ is an example of an inline equation. As
you see, MathJax equations can be used this way as well, without unduly
disturbing the spacing between lines.
`,tmt=`## Chart

\`\`\`mermaid
xychart-beta
    title "Sales Revenue"
    x-axis [jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec]
    y-axis "Revenue (in $)" 4000 --> 11000
    bar [5000, 6000, 7500, 8200, 9500, 10500, 11000, 10200, 9200, 8500, 7000, 6000]
    line [5000, 6000, 7500, 8200, 9500, 10500, 11000, 10200, 9200, 8500, 7000, 6000]
\`\`\`

## Sequence

\`\`\`mermaid
sequenceDiagram
    participant Alice
    participant Bob
    Alice->>John: Hello John, how are you?
    loop HealthCheck
        John->>John: Fight against hypochondria
    end
    Note right of John: Rational thoughts <br/>prevail!
    John-->>Alice: Great!
    John->>Bob: How about you?
    Bob-->>John: Jolly good!
\`\`\`

## Gantt

\`\`\`mermaid
gantt
dateFormat  YYYY-MM-DD
title Adding GANTT diagram to mermaid
excludes weekdays 2014-01-10

section A section
Completed task            :done,    des1, 2014-01-06,2014-01-08
Active task               :active,  des2, 2014-01-09, 3d
Future task               :         des3, after des2, 5d
Future task2               :         des4, after des3, 5d
\`\`\`
`;var Nh={exports:{}},emt=Nh.exports,IA;function rmt(){return IA||(IA=1,function(e,t){(function(r,n){n()})(emt,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,h){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){l(f.response,c,h)},f.onerror=function(){console.error("could not download file")},f.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Dn=="object"&&Dn.global===Dn?Dn:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,c,h){var f=a.URL||a.webkitURL,d=document.createElement("a");c=c||u.name||"download",d.download=c,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?n(u,c,h):s(d,d.target="_blank")):(d.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,h),c);else if(i(u))n(u,c,h);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){s(f)})}}:function(u,c,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,h);var d=u.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||d&&p||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var _=y.result;_=g?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=_:location=_,f=null},y.readAsDataURL(u)}else{var m=a.URL||a.webkitURL,b=m.createObjectURL(u);f?f.location=b:location.href=b,f=null,setTimeout(function(){m.revokeObjectURL(b)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})}(Nh)),Nh.exports}var nmt=rmt();function nh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var o0={exports:{}};var LA;function imt(){return LA||(LA=1,function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function a(u,c){if(!i[u]){if(!n[u]){var h=typeof nh=="function"&&nh;if(!c&&h)return h(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var d=i[u]={exports:{}};n[u][0].call(d.exports,function(p){var g=n[u][1][p];return a(g||p)},d,d.exports,r,n,i,s)}return i[u].exports}for(var o=typeof nh=="function"&&nh,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,h,f,d,p,g,y=[],m=0,b=l.length,_=b,T=s.getTypeOf(l)!=="string";m<l.length;)_=b-m,h=T?(u=l[m++],c=m<b?l[m++]:0,m<b?l[m++]:0):(u=l.charCodeAt(m++),c=m<b?l.charCodeAt(m++):0,m<b?l.charCodeAt(m++):0),f=u>>2,d=(3&u)<<4|c>>4,p=1<_?(15&c)<<2|h>>6:64,g=2<_?63&h:64,y.push(o.charAt(f)+o.charAt(d)+o.charAt(p)+o.charAt(g));return y.join("")},i.decode=function(l){var u,c,h,f,d,p,g=0,y=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var b,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&_--,l.charAt(l.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=a.uint8array?new Uint8Array(0|_):new Array(0|_);g<l.length;)u=o.indexOf(l.charAt(g++))<<2|(f=o.indexOf(l.charAt(g++)))>>4,c=(15&f)<<4|(d=o.indexOf(l.charAt(g++)))>>2,h=(3&d)<<6|(p=o.indexOf(l.charAt(g++))),b[y++]=u,d!==64&&(b[y++]=c),p!==64&&(b[y++]=h);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,h,f,d,p){this.compressedSize=c,this.uncompressedSize=h,this.crc32=f,this.compression=d,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,f){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(u,c,h,f){var d=a,p=f+h;u^=-1;for(var g=f;g<p;g++)u=u>>>8^d[255&(u^c[g])];return-1^u}(0|l,o,o.length,0):function(u,c,h,f){var d=a,p=f+h;u^=-1;for(var g=f;g<p;g++)u=u>>>8^d[255&(u^c.charCodeAt(g))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function c(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new c("Deflate",h)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(d,p){var g,y="";for(g=0;g<p;g++)y+=String.fromCharCode(255&d),d>>>=8;return y}function a(d,p,g,y,m,b){var _,T,C=d.file,L=d.compression,N=b!==u.utf8encode,z=o.transformTo("string",b(C.name)),R=o.transformTo("string",u.utf8encode(C.name)),H=C.comment,K=o.transformTo("string",b(H)),S=o.transformTo("string",u.utf8encode(H)),U=R.length!==C.name.length,w=S.length!==H.length,$="",X="",j="",nt=C.dir,J=C.date,G={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(G.crc32=d.crc32,G.compressedSize=d.compressedSize,G.uncompressedSize=d.uncompressedSize);var W=0;p&&(W|=8),N||!U&&!w||(W|=2048);var B=0,F=0;nt&&(B|=16),m==="UNIX"?(F=798,B|=function(lt,ut){var M=lt;return lt||(M=ut?16893:33204),(65535&M)<<16}(C.unixPermissions,nt)):(F=20,B|=function(lt){return 63&(lt||0)}(C.dosPermissions)),_=J.getUTCHours(),_<<=6,_|=J.getUTCMinutes(),_<<=5,_|=J.getUTCSeconds()/2,T=J.getUTCFullYear()-1980,T<<=4,T|=J.getUTCMonth()+1,T<<=5,T|=J.getUTCDate(),U&&(X=s(1,1)+s(c(z),4)+R,$+="up"+s(X.length,2)+X),w&&(j=s(1,1)+s(c(K),4)+S,$+="uc"+s(j.length,2)+j);var it="";return it+=`
\0`,it+=s(W,2),it+=L.magic,it+=s(_,2),it+=s(T,2),it+=s(G.crc32,4),it+=s(G.compressedSize,4),it+=s(G.uncompressedSize,4),it+=s(z.length,2),it+=s($.length,2),{fileRecord:h.LOCAL_FILE_HEADER+it+z+$,dirRecord:h.CENTRAL_FILE_HEADER+s(F,2)+it+s(K.length,2)+"\0\0\0\0"+s(B,4)+s(y,4)+z+$+K}}var o=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),h=r("../signature");function f(d,p,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,l),f.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-y-1))/g:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=a(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=a(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(y){return h.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,y=function(m,b,_,T,C){var L=o.transformTo("string",C(T));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(b,4)+s(_,4)+s(L.length,2)+L}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new a(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{o.forEach(function(f,d){h++;var p=function(b,_){var T=b||_,C=s[T];if(!C)throw new Error(T+" is not a valid compression method !");return C}(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},y=d.dir,m=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:f,dir:y,date:m,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function h(f){return new a.Promise(function(d,p){var g=f.decompressed.getContentWorker().pipe(new u);g.on("error",function(y){p(y)}).on("end",function(){g.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(f,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,d.optimizedBinaryString,d.base64).then(function(g){var y=new l(d);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],m=g.files;if(d.checkCRC32)for(var b=0;b<m.length;b++)y.push(h(m[b]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),m=y.files,b=0;b<m.length;b++){var _=m[b],T=_.fileNameStr,C=s.resolve(_.fileNameStr);p.file(C,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:d.createFolders}),_.dir||(p.file(C).unsafeOriginalName=T)}return y.zipComment.length&&(p.comment=y.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var c=this;o.on("data",function(h,f){c.push(h)||c._helper.pause(),u&&u(f)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(C,L,N){var z,R=o.getTypeOf(L),H=o.extend(N||{},c);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(C=m(C)),H.createFolders&&(z=y(C))&&b.call(this,z,!0);var K=R==="string"&&H.binary===!1&&H.base64===!1;N&&N.binary!==void 0||(H.binary=!K),(L instanceof h&&L.uncompressedSize===0||H.dir||!L||L.length===0)&&(H.base64=!1,H.binary=!0,L="",H.compression="STORE",R="string");var S=null;S=L instanceof h||L instanceof l?L:p.isNode&&p.isStream(L)?new g(C,L):o.prepareContent(C,L,H.binary,H.optimizedBinaryString,H.base64);var U=new f(C,S,H);this.files[C]=U}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),d=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),y=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var L=C.lastIndexOf("/");return 0<L?C.substring(0,L):""},m=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},b=function(C,L){return L=L!==void 0?L:c.createFolders,C=m(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:L}),this.files[C]};function _(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var L,N,z;for(L in this.files)z=this.files[L],(N=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&C(N,z)},filter:function(C){var L=[];return this.forEach(function(N,z){C(N,z)&&L.push(z)}),L},file:function(C,L,N){if(arguments.length!==1)return C=this.root+C,s.call(this,C,L,N),this;if(_(C)){var z=C;return this.filter(function(H,K){return!K.dir&&z.test(H)})}var R=this.files[this.root+C];return R&&!R.dir?R:null},folder:function(C){if(!C)return this;if(_(C))return this.filter(function(R,H){return H.dir&&C.test(R)});var L=this.root+C,N=b.call(this,L),z=this.clone();return z.root=N.name,z},remove:function(C){C=this.root+C;var L=this.files[C];if(L||(C.slice(-1)!=="/"&&(C+="/"),L=this.files[C]),L&&!L.dir)delete this.files[C];else for(var N=this.filter(function(R,H){return H.name.slice(0,C.length)===C}),z=0;z<N.length;z++)delete this.files[N[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var L,N={};try{if((N=o.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");o.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var z=N.comment||this.comment||"";L=d.generateWorker(this,N,z)}catch(R){(L=new l("error")).error(R)}return new u(L,N.type||"string",N.mimeType)},generateAsync:function(C,L){return this.generateInternalStream(C).accumulate(L)},generateNodeStream:function(C,L){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(L)}};n.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===h)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&h===f[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new u(h):a.uint8array?new c(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),h=null;if(u.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,g){return new c.Promise(function(y,m){var b=[],_=p._internalType,T=p._outputType,C=p._mimeType;p.on("data",function(L,N){b.push(L),g&&g(N)}).on("error",function(L){b=[],m(L)}).on("end",function(){try{var L=function(N,z,R){switch(N){case"blob":return s.newBlob(s.transformTo("arraybuffer",z),R);case"base64":return l.encode(z);default:return s.transformTo(N,z)}}(T,function(N,z){var R,H=0,K=null,S=0;for(R=0;R<z.length;R++)S+=z[R].length;switch(N){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(K=new Uint8Array(S),R=0;R<z.length;R++)K.set(z[R],H),H+=z[R].length;return K;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+N+"'")}}(_,b),C);y(L)}catch(N){m(N)}b=[]}).resume()})}function d(p,g,y){var m=g;switch(g){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=g,this._mimeType=y,s.checkSupport(m),this._worker=p.pipe(new a(m)),p.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}d.prototype={accumulate:function(p){return f(this,p)},on:function(p,g){var y=this;return p==="data"?this._worker.on(p,function(m){g.call(y,m.data,m.meta)}):this._worker.on(p,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return a.nodebuffer?o.newBufferFrom(d,"utf-8"):function(p){var g,y,m,b,_,T=p.length,C=0;for(b=0;b<T;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<T&&(64512&(m=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(m-56320),b++),C+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(C):new Array(C),b=_=0;_<C;b++)(64512&(y=p.charCodeAt(b)))==55296&&b+1<T&&(64512&(m=p.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(m-56320),b++),y<128?g[_++]=y:(y<2048?g[_++]=192|y>>>6:(y<65536?g[_++]=224|y>>>12:(g[_++]=240|y>>>18,g[_++]=128|y>>>12&63),g[_++]=128|y>>>6&63),g[_++]=128|63&y);return g}(d)},i.utf8decode=function(d){return a.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,y,m,b,_=p.length,T=new Array(2*_);for(g=y=0;g<_;)if((m=p[g++])<128)T[y++]=m;else if(4<(b=u[m]))T[y++]=65533,g+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&g<_;)m=m<<6|63&p[g++],b--;1<b?T[y++]=65533:m<65536?T[y++]=m:(m-=65536,T[y++]=55296|m>>10&1023,T[y++]=56320|1023&m)}return T.length!==y&&(T.subarray?T=T.subarray(0,y):T.length=y),s.applyFromCharCode(T)}(d=s.transformTo(a.uint8array?"uint8array":"array",d))},s.inherits(h,l),h.prototype.processChunk=function(d){var p=s.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var y=function(b,_){var T;for((_=_||b.length)>b.length&&(_=b.length),T=_-1;0<=T&&(192&b[T])==128;)T--;return T<0||T===0?_:T+u[b[T]]>_?T:_}(p),m=p;y!==p.length&&(a.uint8array?(m=p.subarray(0,y),this.leftOver=p.subarray(y,p.length)):(m=p.slice(0,y),this.leftOver=p.slice(y,p.length))),this.push({data:i.utf8decode(m),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,l),f.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function u(g){return g}function c(g,y){for(var m=0;m<g.length;++m)y[m]=255&g.charCodeAt(m);return y}r("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(g),m.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,y,m){var b=[],_=0,T=g.length;if(T<=m)return String.fromCharCode.apply(null,g);for(;_<T;)y==="array"||y==="nodebuffer"?b.push(String.fromCharCode.apply(null,g.slice(_,Math.min(_+m,T)))):b.push(String.fromCharCode.apply(null,g.subarray(_,Math.min(_+m,T)))),_+=m;return b.join("")},stringifyByChar:function(g){for(var y="",m=0;m<g.length;m++)y+=String.fromCharCode(g[m]);return y},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(g){var y=65536,m=i.getTypeOf(g),b=!0;if(m==="uint8array"?b=h.applyCanBeUsed.uint8array:m==="nodebuffer"&&(b=h.applyCanBeUsed.nodebuffer),b)for(;1<y;)try{return h.stringifyByChunk(g,m,y)}catch{y=Math.floor(y/2)}return h.stringifyByChar(g)}function d(g,y){for(var m=0;m<g.length;m++)y[m]=g[m];return y}i.applyFromCharCode=f;var p={};p.string={string:u,array:function(g){return c(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return c(g,new Uint8Array(g.length))},nodebuffer:function(g){return c(g,o.allocBuffer(g.length))}},p.array={string:f,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},p.arraybuffer={string:function(g){return f(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return o.newBufferFrom(g)}},p.nodebuffer={string:f,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:u},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var m=i.getTypeOf(y);return p[m][g](y)},i.resolve=function(g){for(var y=g.split("/"),m=[],b=0;b<y.length;b++){var _=y[b];_==="."||_===""&&b!==0&&b!==y.length-1||(_===".."?m.pop():m.push(_))}return m.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,m,b="";for(m=0;m<(g||"").length;m++)b+="\\x"+((y=g.charCodeAt(m))<16?"0":"")+y.toString(16).toUpperCase();return b},i.delay=function(g,y,m){setImmediate(function(){g.apply(m||null,y||[])})},i.inherits=function(g,y){function m(){}m.prototype=y.prototype,g.prototype=new m},i.extend=function(){var g,y,m={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&m[y]===void 0&&(m[y]=arguments[g][y]);return m},i.prepareContent=function(g,y,m,b,_){return l.Promise.resolve(y).then(function(T){return s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,L){var N=new FileReader;N.onload=function(z){C(z.target.result)},N.onerror=function(z){L(z.target.error)},N.readAsArrayBuffer(T)}):T}).then(function(T){var C=i.getTypeOf(T);return C?(C==="arraybuffer"?T=i.transformTo("uint8array",T):C==="string"&&(_?T=a.decode(T):m&&b!==!0&&(T=function(L){return c(L,s.uint8array?new Uint8Array(L.length):new Array(L.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(h)+")")}},isSignature:function(h,f){var d=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===f;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",d=a.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,d,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),f=this.reader.readInt(4),d=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=f-d;if(0<p)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),h=r("./support");function f(d,p){this.options=d,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(y){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===y)return c[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,y,m=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<m;)p=d.readInt(2),g=d.readInt(2),y=d.readData(g),this.extraFields[p]={id:p,length:g,value:y};d.setIndex(m)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var m=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(d.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(p,g,y){this.name=p,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");s.prototype={internalStream:function(p){var g=null,y="string";try{if(!p)throw new Error("No output type specified.");var m=(y=p.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var b=!this._dataBinary;b&&!m&&(g=g.pipe(new l.Utf8EncodeWorker)),!b&&m&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(_){(g=new c("error")).error(_)}return new a(g,y,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(y,p,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)s.prototype[h[d]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(p),h=s.document.createTextNode("");c.observe(h,{characterData:!0}),a=function(){h.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}var d=[];function p(){var g,y;o=!0;for(var m=d.length;m;){for(y=d,d=[],g=-1;++g<m;)y[g]();m=d.length}o=!1}n.exports=function(g){d.push(g)!==1||o||a()}}).call(this,typeof Dn<"u"?Dn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==a&&g(this,m)}function f(m,b,_){this.promise=m,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function d(m,b,_){s(function(){var T;try{T=b(_)}catch(C){return o.reject(m,C)}T===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,T)})}function p(m){var b=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof b=="function")return function(){b.apply(m,arguments)}}function g(m,b){var _=!1;function T(N){_||(_=!0,o.reject(m,N))}function C(N){_||(_=!0,o.resolve(m,N))}var L=y(function(){b(C,T)});L.status==="error"&&T(L.value)}function y(m,b){var _={};try{_.value=m(b),_.status="success"}catch(T){_.status="error",_.value=T}return _}(n.exports=h).prototype.finally=function(m){if(typeof m!="function")return this;var b=this.constructor;return this.then(function(_){return b.resolve(m()).then(function(){return _})},function(_){return b.resolve(m()).then(function(){throw _})})},h.prototype.catch=function(m){return this.then(null,m)},h.prototype.then=function(m,b){if(typeof m!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var _=new this.constructor(a);return this.state!==c?d(_,this.state===u?m:b,this.outcome):this.queue.push(new f(_,m,b)),_},f.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},f.prototype.otherCallFulfilled=function(m){d(this.promise,this.onFulfilled,m)},f.prototype.callRejected=function(m){o.reject(this.promise,m)},f.prototype.otherCallRejected=function(m){d(this.promise,this.onRejected,m)},o.resolve=function(m,b){var _=y(p,b);if(_.status==="error")return o.reject(m,_.value);var T=_.value;if(T)g(m,T);else{m.state=u,m.outcome=b;for(var C=-1,L=m.queue.length;++C<L;)m.queue[C].callFulfilled(b)}return m},o.reject=function(m,b){m.state=l,m.outcome=b;for(var _=-1,T=m.queue.length;++_<T;)m.queue[_].callRejected(b);return m},h.resolve=function(m){return m instanceof this?m:o.resolve(new this(a),m)},h.reject=function(m){var b=new this(a);return o.reject(b,m)},h.all=function(m){var b=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,T=!1;if(!_)return this.resolve([]);for(var C=new Array(_),L=0,N=-1,z=new this(a);++N<_;)R(m[N],N);return z;function R(H,K){b.resolve(H).then(function(S){C[K]=S,++L!==_||T||(T=!0,o.resolve(z,C))},function(S){T||(T=!0,o.reject(z,S))})}},h.race=function(m){var b=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,T=!1;if(!_)return this.resolve([]);for(var C=-1,L=new this(a);++C<_;)N=m[C],b.resolve(N).then(function(z){T||(T=!0,o.resolve(L,z))},function(z){T||(T=!0,o.reject(L,z))});var N;return L}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,h=0,f=-1,d=0,p=8;function g(m){if(!(this instanceof g))return new g(m);this.options=a.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},m||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(_!==h)throw new Error(l[_]);if(b.header&&s.deflateSetHeader(this.strm,b.header),b.dictionary){var T;if(T=typeof b.dictionary=="string"?o.string2buf(b.dictionary):c.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(_=s.deflateSetDictionary(this.strm,T))!==h)throw new Error(l[_]);this._dict_set=!0}}function y(m,b){var _=new g(b);if(_.push(m,!0),_.err)throw _.msg||l[_.err];return _.result}g.prototype.push=function(m,b){var _,T,C=this.strm,L=this.options.chunkSize;if(this.ended)return!1;T=b===~~b?b:b===!0?4:0,typeof m=="string"?C.input=o.string2buf(m):c.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(L),C.next_out=0,C.avail_out=L),(_=s.deflate(C,T))!==1&&_!==h)return this.onEnd(_),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(C.output,C.next_out))):this.onData(a.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&_!==1);return T===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===h):T!==2||(this.onEnd(h),!(C.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(m,b){return(b=b||{}).raw=!0,y(m,b)},i.gzip=function(m,b){return(b=b||{}).gzip=!0,y(m,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,y.windowBits);if(m!==l.Z_OK)throw new Error(u[m]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function p(g,y){var m=new d(y);if(m.push(g,!0),m.err)throw m.msg||u[m.err];return m.result}d.prototype.push=function(g,y){var m,b,_,T,C,L,N=this.strm,z=this.options.chunkSize,R=this.options.dictionary,H=!1;if(this.ended)return!1;b=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?N.input=o.binstring2buf(g):f.call(g)==="[object ArrayBuffer]"?N.input=new Uint8Array(g):N.input=g,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(z),N.next_out=0,N.avail_out=z),(m=s.inflate(N,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(L=typeof R=="string"?o.string2buf(R):f.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,m=s.inflateSetDictionary(this.strm,L)),m===l.Z_BUF_ERROR&&H===!0&&(m=l.Z_OK,H=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&m!==l.Z_STREAM_END&&(N.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(N.output,N.next_out),T=N.next_out-_,C=o.buf2string(N.output,_),N.next_out=T,N.avail_out=z-T,T&&a.arraySet(N.output,N.output,_,T,0),this.onData(C)):this.onData(a.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(H=!0)}while((0<N.avail_in||N.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(N.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,p(g,y)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,c,h,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),f);else for(var d=0;d<h;d++)l[f+d]=u[c+d]},flattenChunks:function(l){var u,c,h,f,d,p;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(p=new Uint8Array(h),u=f=0,c=l.length;u<c;u++)d=l[u],p.set(d,f),f+=d.length;return p}},o={arraySet:function(l,u,c,h,f){for(var d=0;d<h;d++)l[f+d]=u[c+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,f){if(f<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var d="",p=0;p<f;p++)d+=String.fromCharCode(h[p]);return d}l[254]=l[254]=1,i.string2buf=function(h){var f,d,p,g,y,m=h.length,b=0;for(g=0;g<m;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<m&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),b+=d<128?1:d<2048?2:d<65536?3:4;for(f=new s.Buf8(b),g=y=0;y<b;g++)(64512&(d=h.charCodeAt(g)))==55296&&g+1<m&&(64512&(p=h.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?f[y++]=d:(d<2048?f[y++]=192|d>>>6:(d<65536?f[y++]=224|d>>>12:(f[y++]=240|d>>>18,f[y++]=128|d>>>12&63),f[y++]=128|d>>>6&63),f[y++]=128|63&d);return f},i.buf2binstring=function(h){return c(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),d=0,p=f.length;d<p;d++)f[d]=h.charCodeAt(d);return f},i.buf2string=function(h,f){var d,p,g,y,m=f||h.length,b=new Array(2*m);for(d=p=0;d<m;)if((g=h[d++])<128)b[p++]=g;else if(4<(y=l[g]))b[p++]=65533,d+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&d<m;)g=g<<6|63&h[d++],y--;1<y?b[p++]=65533:g<65536?b[p++]=g:(g-=65536,b[p++]=55296|g>>10&1023,b[p++]=56320|1023&g)}return c(b,p)},i.utf8border=function(h,f){var d;for((f=f||h.length)>h.length&&(f=h.length),d=f-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?f:d+l[h[d]]>f?d:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var u=65535&s|0,c=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;c=c+(u=u+a[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();n.exports=function(a,o,l,u){var c=s,h=u+l;a^=-1;for(var f=u;f<h;f++)a=a>>>8^c[255&(a^o[f])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),h=0,f=4,d=0,p=-2,g=-1,y=4,m=2,b=8,_=9,T=286,C=30,L=19,N=2*T+1,z=15,R=3,H=258,K=H+R+1,S=42,U=113,w=1,$=2,X=3,j=4;function nt(A,ot){return A.msg=c[ot],ot}function J(A){return(A<<1)-(4<A?9:0)}function G(A){for(var ot=A.length;0<=--ot;)A[ot]=0}function W(A){var ot=A.state,O=ot.pending;O>A.avail_out&&(O=A.avail_out),O!==0&&(a.arraySet(A.output,ot.pending_buf,ot.pending_out,O,A.next_out),A.next_out+=O,ot.pending_out+=O,A.total_out+=O,A.avail_out-=O,ot.pending-=O,ot.pending===0&&(ot.pending_out=0))}function B(A,ot){o._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ot),A.block_start=A.strstart,W(A.strm)}function F(A,ot){A.pending_buf[A.pending++]=ot}function it(A,ot){A.pending_buf[A.pending++]=ot>>>8&255,A.pending_buf[A.pending++]=255&ot}function lt(A,ot){var O,x,v=A.max_chain_length,I=A.strstart,V=A.prev_length,tt=A.nice_match,q=A.strstart>A.w_size-K?A.strstart-(A.w_size-K):0,pt=A.window,Et=A.w_mask,gt=A.prev,ht=A.strstart+H,wt=pt[I+V-1],St=pt[I+V];A.prev_length>=A.good_match&&(v>>=2),tt>A.lookahead&&(tt=A.lookahead);do if(pt[(O=ot)+V]===St&&pt[O+V-1]===wt&&pt[O]===pt[I]&&pt[++O]===pt[I+1]){I+=2,O++;do;while(pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&pt[++I]===pt[++O]&&I<ht);if(x=H-(ht-I),I=ht-H,V<x){if(A.match_start=ot,tt<=(V=x))break;wt=pt[I+V-1],St=pt[I+V]}}while((ot=gt[ot&Et])>q&&--v!=0);return V<=A.lookahead?V:A.lookahead}function ut(A){var ot,O,x,v,I,V,tt,q,pt,Et,gt=A.w_size;do{if(v=A.window_size-A.lookahead-A.strstart,A.strstart>=gt+(gt-K)){for(a.arraySet(A.window,A.window,gt,gt,0),A.match_start-=gt,A.strstart-=gt,A.block_start-=gt,ot=O=A.hash_size;x=A.head[--ot],A.head[ot]=gt<=x?x-gt:0,--O;);for(ot=O=gt;x=A.prev[--ot],A.prev[ot]=gt<=x?x-gt:0,--O;);v+=gt}if(A.strm.avail_in===0)break;if(V=A.strm,tt=A.window,q=A.strstart+A.lookahead,pt=v,Et=void 0,Et=V.avail_in,pt<Et&&(Et=pt),O=Et===0?0:(V.avail_in-=Et,a.arraySet(tt,V.input,V.next_in,Et,q),V.state.wrap===1?V.adler=l(V.adler,tt,Et,q):V.state.wrap===2&&(V.adler=u(V.adler,tt,Et,q)),V.next_in+=Et,V.total_in+=Et,Et),A.lookahead+=O,A.lookahead+A.insert>=R)for(I=A.strstart-A.insert,A.ins_h=A.window[I],A.ins_h=(A.ins_h<<A.hash_shift^A.window[I+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[I+R-1])&A.hash_mask,A.prev[I&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=I,I++,A.insert--,!(A.lookahead+A.insert<R)););}while(A.lookahead<K&&A.strm.avail_in!==0)}function M(A,ot){for(var O,x;;){if(A.lookahead<K){if(ut(A),A.lookahead<K&&ot===h)return w;if(A.lookahead===0)break}if(O=0,A.lookahead>=R&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+R-1])&A.hash_mask,O=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),O!==0&&A.strstart-O<=A.w_size-K&&(A.match_length=lt(A,O)),A.match_length>=R)if(x=o._tr_tally(A,A.strstart-A.match_start,A.match_length-R),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=R){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+R-1])&A.hash_mask,O=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else x=o._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(x&&(B(A,!1),A.strm.avail_out===0))return w}return A.insert=A.strstart<R-1?A.strstart:R-1,ot===f?(B(A,!0),A.strm.avail_out===0?X:j):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?w:$}function D(A,ot){for(var O,x,v;;){if(A.lookahead<K){if(ut(A),A.lookahead<K&&ot===h)return w;if(A.lookahead===0)break}if(O=0,A.lookahead>=R&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+R-1])&A.hash_mask,O=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=R-1,O!==0&&A.prev_length<A.max_lazy_match&&A.strstart-O<=A.w_size-K&&(A.match_length=lt(A,O),A.match_length<=5&&(A.strategy===1||A.match_length===R&&4096<A.strstart-A.match_start)&&(A.match_length=R-1)),A.prev_length>=R&&A.match_length<=A.prev_length){for(v=A.strstart+A.lookahead-R,x=o._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-R),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=v&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+R-1])&A.hash_mask,O=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=R-1,A.strstart++,x&&(B(A,!1),A.strm.avail_out===0))return w}else if(A.match_available){if((x=o._tr_tally(A,0,A.window[A.strstart-1]))&&B(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return w}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(x=o._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<R-1?A.strstart:R-1,ot===f?(B(A,!0),A.strm.avail_out===0?X:j):A.last_lit&&(B(A,!1),A.strm.avail_out===0)?w:$}function at(A,ot,O,x,v){this.good_length=A,this.max_lazy=ot,this.nice_length=O,this.max_chain=x,this.func=v}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*N),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*L+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(z+1),this.heap=new a.Buf16(2*T+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*T+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(A){var ot;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=m,(ot=A.state).pending=0,ot.pending_out=0,ot.wrap<0&&(ot.wrap=-ot.wrap),ot.status=ot.wrap?S:U,A.adler=ot.wrap===2?0:1,ot.last_flush=h,o._tr_init(ot),d):nt(A,p)}function Z(A){var ot=Y(A);return ot===d&&function(O){O.window_size=2*O.w_size,G(O.head),O.max_lazy_match=s[O.level].max_lazy,O.good_match=s[O.level].good_length,O.nice_match=s[O.level].nice_length,O.max_chain_length=s[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=R-1,O.match_available=0,O.ins_h=0}(A.state),ot}function _t(A,ot,O,x,v,I){if(!A)return p;var V=1;if(ot===g&&(ot=6),x<0?(V=0,x=-x):15<x&&(V=2,x-=16),v<1||_<v||O!==b||x<8||15<x||ot<0||9<ot||I<0||y<I)return nt(A,p);x===8&&(x=9);var tt=new Q;return(A.state=tt).strm=A,tt.wrap=V,tt.gzhead=null,tt.w_bits=x,tt.w_size=1<<tt.w_bits,tt.w_mask=tt.w_size-1,tt.hash_bits=v+7,tt.hash_size=1<<tt.hash_bits,tt.hash_mask=tt.hash_size-1,tt.hash_shift=~~((tt.hash_bits+R-1)/R),tt.window=new a.Buf8(2*tt.w_size),tt.head=new a.Buf16(tt.hash_size),tt.prev=new a.Buf16(tt.w_size),tt.lit_bufsize=1<<v+6,tt.pending_buf_size=4*tt.lit_bufsize,tt.pending_buf=new a.Buf8(tt.pending_buf_size),tt.d_buf=1*tt.lit_bufsize,tt.l_buf=3*tt.lit_bufsize,tt.level=ot,tt.strategy=I,tt.method=O,Z(A)}s=[new at(0,0,0,0,function(A,ot){var O=65535;for(O>A.pending_buf_size-5&&(O=A.pending_buf_size-5);;){if(A.lookahead<=1){if(ut(A),A.lookahead===0&&ot===h)return w;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var x=A.block_start+O;if((A.strstart===0||A.strstart>=x)&&(A.lookahead=A.strstart-x,A.strstart=x,B(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-K&&(B(A,!1),A.strm.avail_out===0))return w}return A.insert=0,ot===f?(B(A,!0),A.strm.avail_out===0?X:j):(A.strstart>A.block_start&&(B(A,!1),A.strm.avail_out),w)}),new at(4,4,8,4,M),new at(4,5,16,8,M),new at(4,6,32,32,M),new at(4,4,16,16,D),new at(8,16,32,32,D),new at(8,16,128,128,D),new at(8,32,128,256,D),new at(32,128,258,1024,D),new at(32,258,258,4096,D)],i.deflateInit=function(A,ot){return _t(A,ot,b,15,8,0)},i.deflateInit2=_t,i.deflateReset=Z,i.deflateResetKeep=Y,i.deflateSetHeader=function(A,ot){return A&&A.state?A.state.wrap!==2?p:(A.state.gzhead=ot,d):p},i.deflate=function(A,ot){var O,x,v,I;if(!A||!A.state||5<ot||ot<0)return A?nt(A,p):p;if(x=A.state,!A.output||!A.input&&A.avail_in!==0||x.status===666&&ot!==f)return nt(A,A.avail_out===0?-5:p);if(x.strm=A,O=x.last_flush,x.last_flush=ot,x.status===S)if(x.wrap===2)A.adler=0,F(x,31),F(x,139),F(x,8),x.gzhead?(F(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),F(x,255&x.gzhead.time),F(x,x.gzhead.time>>8&255),F(x,x.gzhead.time>>16&255),F(x,x.gzhead.time>>24&255),F(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),F(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(F(x,255&x.gzhead.extra.length),F(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(A.adler=u(A.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(F(x,0),F(x,0),F(x,0),F(x,0),F(x,0),F(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),F(x,3),x.status=U);else{var V=b+(x.w_bits-8<<4)<<8;V|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(V|=32),V+=31-V%31,x.status=U,it(x,V),x.strstart!==0&&(it(x,A.adler>>>16),it(x,65535&A.adler)),A.adler=1}if(x.status===69)if(x.gzhead.extra){for(v=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),W(A),v=x.pending,x.pending!==x.pending_buf_size));)F(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){v=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),W(A),v=x.pending,x.pending===x.pending_buf_size)){I=1;break}I=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,F(x,I)}while(I!==0);x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),I===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){v=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),W(A),v=x.pending,x.pending===x.pending_buf_size)){I=1;break}I=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,F(x,I)}while(I!==0);x.gzhead.hcrc&&x.pending>v&&(A.adler=u(A.adler,x.pending_buf,x.pending-v,v)),I===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&W(A),x.pending+2<=x.pending_buf_size&&(F(x,255&A.adler),F(x,A.adler>>8&255),A.adler=0,x.status=U)):x.status=U),x.pending!==0){if(W(A),A.avail_out===0)return x.last_flush=-1,d}else if(A.avail_in===0&&J(ot)<=J(O)&&ot!==f)return nt(A,-5);if(x.status===666&&A.avail_in!==0)return nt(A,-5);if(A.avail_in!==0||x.lookahead!==0||ot!==h&&x.status!==666){var tt=x.strategy===2?function(q,pt){for(var Et;;){if(q.lookahead===0&&(ut(q),q.lookahead===0)){if(pt===h)return w;break}if(q.match_length=0,Et=o._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,Et&&(B(q,!1),q.strm.avail_out===0))return w}return q.insert=0,pt===f?(B(q,!0),q.strm.avail_out===0?X:j):q.last_lit&&(B(q,!1),q.strm.avail_out===0)?w:$}(x,ot):x.strategy===3?function(q,pt){for(var Et,gt,ht,wt,St=q.window;;){if(q.lookahead<=H){if(ut(q),q.lookahead<=H&&pt===h)return w;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=R&&0<q.strstart&&(gt=St[ht=q.strstart-1])===St[++ht]&&gt===St[++ht]&&gt===St[++ht]){wt=q.strstart+H;do;while(gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&gt===St[++ht]&&ht<wt);q.match_length=H-(wt-ht),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=R?(Et=o._tr_tally(q,1,q.match_length-R),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(Et=o._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),Et&&(B(q,!1),q.strm.avail_out===0))return w}return q.insert=0,pt===f?(B(q,!0),q.strm.avail_out===0?X:j):q.last_lit&&(B(q,!1),q.strm.avail_out===0)?w:$}(x,ot):s[x.level].func(x,ot);if(tt!==X&&tt!==j||(x.status=666),tt===w||tt===X)return A.avail_out===0&&(x.last_flush=-1),d;if(tt===$&&(ot===1?o._tr_align(x):ot!==5&&(o._tr_stored_block(x,0,0,!1),ot===3&&(G(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),W(A),A.avail_out===0))return x.last_flush=-1,d}return ot!==f?d:x.wrap<=0?1:(x.wrap===2?(F(x,255&A.adler),F(x,A.adler>>8&255),F(x,A.adler>>16&255),F(x,A.adler>>24&255),F(x,255&A.total_in),F(x,A.total_in>>8&255),F(x,A.total_in>>16&255),F(x,A.total_in>>24&255)):(it(x,A.adler>>>16),it(x,65535&A.adler)),W(A),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?d:1)},i.deflateEnd=function(A){var ot;return A&&A.state?(ot=A.state.status)!==S&&ot!==69&&ot!==73&&ot!==91&&ot!==103&&ot!==U&&ot!==666?nt(A,p):(A.state=null,ot===U?nt(A,-3):d):p},i.deflateSetDictionary=function(A,ot){var O,x,v,I,V,tt,q,pt,Et=ot.length;if(!A||!A.state||(I=(O=A.state).wrap)===2||I===1&&O.status!==S||O.lookahead)return p;for(I===1&&(A.adler=l(A.adler,ot,Et,0)),O.wrap=0,Et>=O.w_size&&(I===0&&(G(O.head),O.strstart=0,O.block_start=0,O.insert=0),pt=new a.Buf8(O.w_size),a.arraySet(pt,ot,Et-O.w_size,O.w_size,0),ot=pt,Et=O.w_size),V=A.avail_in,tt=A.next_in,q=A.input,A.avail_in=Et,A.next_in=0,A.input=ot,ut(O);O.lookahead>=R;){for(x=O.strstart,v=O.lookahead-(R-1);O.ins_h=(O.ins_h<<O.hash_shift^O.window[x+R-1])&O.hash_mask,O.prev[x&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=x,x++,--v;);O.strstart=x,O.lookahead=R-1,ut(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=R-1,O.match_available=0,A.next_in=tt,A.input=q,A.avail_in=V,O.wrap=I,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,u,c,h,f,d,p,g,y,m,b,_,T,C,L,N,z,R,H,K,S,U,w,$;o=s.state,l=s.next_in,w=s.input,u=l+(s.avail_in-5),c=s.next_out,$=s.output,h=c-(a-s.avail_out),f=c+(s.avail_out-257),d=o.dmax,p=o.wsize,g=o.whave,y=o.wnext,m=o.window,b=o.hold,_=o.bits,T=o.lencode,C=o.distcode,L=(1<<o.lenbits)-1,N=(1<<o.distbits)-1;t:do{_<15&&(b+=w[l++]<<_,_+=8,b+=w[l++]<<_,_+=8),z=T[b&L];e:for(;;){if(b>>>=R=z>>>24,_-=R,(R=z>>>16&255)===0)$[c++]=65535&z;else{if(!(16&R)){if((64&R)==0){z=T[(65535&z)+(b&(1<<R)-1)];continue e}if(32&R){o.mode=12;break t}s.msg="invalid literal/length code",o.mode=30;break t}H=65535&z,(R&=15)&&(_<R&&(b+=w[l++]<<_,_+=8),H+=b&(1<<R)-1,b>>>=R,_-=R),_<15&&(b+=w[l++]<<_,_+=8,b+=w[l++]<<_,_+=8),z=C[b&N];r:for(;;){if(b>>>=R=z>>>24,_-=R,!(16&(R=z>>>16&255))){if((64&R)==0){z=C[(65535&z)+(b&(1<<R)-1)];continue r}s.msg="invalid distance code",o.mode=30;break t}if(K=65535&z,_<(R&=15)&&(b+=w[l++]<<_,(_+=8)<R&&(b+=w[l++]<<_,_+=8)),d<(K+=b&(1<<R)-1)){s.msg="invalid distance too far back",o.mode=30;break t}if(b>>>=R,_-=R,(R=c-h)<K){if(g<(R=K-R)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break t}if(U=m,(S=0)===y){if(S+=p-R,R<H){for(H-=R;$[c++]=m[S++],--R;);S=c-K,U=$}}else if(y<R){if(S+=p+y-R,(R-=y)<H){for(H-=R;$[c++]=m[S++],--R;);if(S=0,y<H){for(H-=R=y;$[c++]=m[S++],--R;);S=c-K,U=$}}}else if(S+=y-R,R<H){for(H-=R;$[c++]=m[S++],--R;);S=c-K,U=$}for(;2<H;)$[c++]=U[S++],$[c++]=U[S++],$[c++]=U[S++],H-=3;H&&($[c++]=U[S++],1<H&&($[c++]=U[S++]))}else{for(S=c-K;$[c++]=$[S++],$[c++]=$[S++],$[c++]=$[S++],2<(H-=3););H&&($[c++]=$[S++],1<H&&($[c++]=$[S++]))}break}}break}}while(l<u&&c<f);l-=H=_>>3,b&=(1<<(_-=H<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<f?f-c+257:257-(c-f),o.hold=b,o.bits=_}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,h=2,f=0,d=-2,p=1,g=852,y=592;function m(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(S){var U;return S&&S.state?(U=S.state,S.total_in=S.total_out=U.total=0,S.msg="",U.wrap&&(S.adler=1&U.wrap),U.mode=p,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(g),U.distcode=U.distdyn=new s.Buf32(y),U.sane=1,U.back=-1,f):d}function T(S){var U;return S&&S.state?((U=S.state).wsize=0,U.whave=0,U.wnext=0,_(S)):d}function C(S,U){var w,$;return S&&S.state?($=S.state,U<0?(w=0,U=-U):(w=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?d:($.window!==null&&$.wbits!==U&&($.window=null),$.wrap=w,$.wbits=U,T(S))):d}function L(S,U){var w,$;return S?($=new b,(S.state=$).window=null,(w=C(S,U))!==f&&(S.state=null),w):d}var N,z,R=!0;function H(S){if(R){var U;for(N=new s.Buf32(512),z=new s.Buf32(32),U=0;U<144;)S.lens[U++]=8;for(;U<256;)S.lens[U++]=9;for(;U<280;)S.lens[U++]=7;for(;U<288;)S.lens[U++]=8;for(u(c,S.lens,0,288,N,0,S.work,{bits:9}),U=0;U<32;)S.lens[U++]=5;u(h,S.lens,0,32,z,0,S.work,{bits:5}),R=!1}S.lencode=N,S.lenbits=9,S.distcode=z,S.distbits=5}function K(S,U,w,$){var X,j=S.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new s.Buf8(j.wsize)),$>=j.wsize?(s.arraySet(j.window,U,w-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):($<(X=j.wsize-j.wnext)&&(X=$),s.arraySet(j.window,U,w-$,X,j.wnext),($-=X)?(s.arraySet(j.window,U,w-$,$,0),j.wnext=$,j.whave=j.wsize):(j.wnext+=X,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=X))),0}i.inflateReset=T,i.inflateReset2=C,i.inflateResetKeep=_,i.inflateInit=function(S){return L(S,15)},i.inflateInit2=L,i.inflate=function(S,U){var w,$,X,j,nt,J,G,W,B,F,it,lt,ut,M,D,at,Q,Y,Z,_t,A,ot,O,x,v=0,I=new s.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return d;(w=S.state).mode===12&&(w.mode=13),nt=S.next_out,X=S.output,G=S.avail_out,j=S.next_in,$=S.input,J=S.avail_in,W=w.hold,B=w.bits,F=J,it=G,ot=f;t:for(;;)switch(w.mode){case p:if(w.wrap===0){w.mode=13;break}for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(2&w.wrap&&W===35615){I[w.check=0]=255&W,I[1]=W>>>8&255,w.check=o(w.check,I,2,0),B=W=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&W)<<8)+(W>>8))%31){S.msg="incorrect header check",w.mode=30;break}if((15&W)!=8){S.msg="unknown compression method",w.mode=30;break}if(B-=4,A=8+(15&(W>>>=4)),w.wbits===0)w.wbits=A;else if(A>w.wbits){S.msg="invalid window size",w.mode=30;break}w.dmax=1<<A,S.adler=w.check=1,w.mode=512&W?10:12,B=W=0;break;case 2:for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(w.flags=W,(255&w.flags)!=8){S.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){S.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=W>>8&1),512&w.flags&&(I[0]=255&W,I[1]=W>>>8&255,w.check=o(w.check,I,2,0)),B=W=0,w.mode=3;case 3:for(;B<32;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.head&&(w.head.time=W),512&w.flags&&(I[0]=255&W,I[1]=W>>>8&255,I[2]=W>>>16&255,I[3]=W>>>24&255,w.check=o(w.check,I,4,0)),B=W=0,w.mode=4;case 4:for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.head&&(w.head.xflags=255&W,w.head.os=W>>8),512&w.flags&&(I[0]=255&W,I[1]=W>>>8&255,w.check=o(w.check,I,2,0)),B=W=0,w.mode=5;case 5:if(1024&w.flags){for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.length=W,w.head&&(w.head.extra_len=W),512&w.flags&&(I[0]=255&W,I[1]=W>>>8&255,w.check=o(w.check,I,2,0)),B=W=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(J<(lt=w.length)&&(lt=J),lt&&(w.head&&(A=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),s.arraySet(w.head.extra,$,j,lt,A)),512&w.flags&&(w.check=o(w.check,$,lt,j)),J-=lt,j+=lt,w.length-=lt),w.length))break t;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(J===0)break t;for(lt=0;A=$[j+lt++],w.head&&A&&w.length<65536&&(w.head.name+=String.fromCharCode(A)),A&&lt<J;);if(512&w.flags&&(w.check=o(w.check,$,lt,j)),J-=lt,j+=lt,A)break t}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(J===0)break t;for(lt=0;A=$[j+lt++],w.head&&A&&w.length<65536&&(w.head.comment+=String.fromCharCode(A)),A&&lt<J;);if(512&w.flags&&(w.check=o(w.check,$,lt,j)),J-=lt,j+=lt,A)break t}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;B<16;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(W!==(65535&w.check)){S.msg="header crc mismatch",w.mode=30;break}B=W=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),S.adler=w.check=0,w.mode=12;break;case 10:for(;B<32;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}S.adler=w.check=m(W),B=W=0,w.mode=11;case 11:if(w.havedict===0)return S.next_out=nt,S.avail_out=G,S.next_in=j,S.avail_in=J,w.hold=W,w.bits=B,2;S.adler=w.check=1,w.mode=12;case 12:if(U===5||U===6)break t;case 13:if(w.last){W>>>=7&B,B-=7&B,w.mode=27;break}for(;B<3;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}switch(w.last=1&W,B-=1,3&(W>>>=1)){case 0:w.mode=14;break;case 1:if(H(w),w.mode=20,U!==6)break;W>>>=2,B-=2;break t;case 2:w.mode=17;break;case 3:S.msg="invalid block type",w.mode=30}W>>>=2,B-=2;break;case 14:for(W>>>=7&B,B-=7&B;B<32;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if((65535&W)!=(W>>>16^65535)){S.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&W,B=W=0,w.mode=15,U===6)break t;case 15:w.mode=16;case 16:if(lt=w.length){if(J<lt&&(lt=J),G<lt&&(lt=G),lt===0)break t;s.arraySet(X,$,j,lt,nt),J-=lt,j+=lt,G-=lt,nt+=lt,w.length-=lt;break}w.mode=12;break;case 17:for(;B<14;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(w.nlen=257+(31&W),W>>>=5,B-=5,w.ndist=1+(31&W),W>>>=5,B-=5,w.ncode=4+(15&W),W>>>=4,B-=4,286<w.nlen||30<w.ndist){S.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;B<3;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.lens[V[w.have++]]=7&W,W>>>=3,B-=3}for(;w.have<19;)w.lens[V[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,O={bits:w.lenbits},ot=u(0,w.lens,0,19,w.lencode,0,w.work,O),w.lenbits=O.bits,ot){S.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;at=(v=w.lencode[W&(1<<w.lenbits)-1])>>>16&255,Q=65535&v,!((D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(Q<16)W>>>=D,B-=D,w.lens[w.have++]=Q;else{if(Q===16){for(x=D+2;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(W>>>=D,B-=D,w.have===0){S.msg="invalid bit length repeat",w.mode=30;break}A=w.lens[w.have-1],lt=3+(3&W),W>>>=2,B-=2}else if(Q===17){for(x=D+3;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}B-=D,A=0,lt=3+(7&(W>>>=D)),W>>>=3,B-=3}else{for(x=D+7;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}B-=D,A=0,lt=11+(127&(W>>>=D)),W>>>=7,B-=7}if(w.have+lt>w.nlen+w.ndist){S.msg="invalid bit length repeat",w.mode=30;break}for(;lt--;)w.lens[w.have++]=A}}if(w.mode===30)break;if(w.lens[256]===0){S.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,O={bits:w.lenbits},ot=u(c,w.lens,0,w.nlen,w.lencode,0,w.work,O),w.lenbits=O.bits,ot){S.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,O={bits:w.distbits},ot=u(h,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,O),w.distbits=O.bits,ot){S.msg="invalid distances set",w.mode=30;break}if(w.mode=20,U===6)break t;case 20:w.mode=21;case 21:if(6<=J&&258<=G){S.next_out=nt,S.avail_out=G,S.next_in=j,S.avail_in=J,w.hold=W,w.bits=B,l(S,it),nt=S.next_out,X=S.output,G=S.avail_out,j=S.next_in,$=S.input,J=S.avail_in,W=w.hold,B=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;at=(v=w.lencode[W&(1<<w.lenbits)-1])>>>16&255,Q=65535&v,!((D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(at&&(240&at)==0){for(Y=D,Z=at,_t=Q;at=(v=w.lencode[_t+((W&(1<<Y+Z)-1)>>Y)])>>>16&255,Q=65535&v,!(Y+(D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}W>>>=Y,B-=Y,w.back+=Y}if(W>>>=D,B-=D,w.back+=D,w.length=Q,at===0){w.mode=26;break}if(32&at){w.back=-1,w.mode=12;break}if(64&at){S.msg="invalid literal/length code",w.mode=30;break}w.extra=15&at,w.mode=22;case 22:if(w.extra){for(x=w.extra;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.length+=W&(1<<w.extra)-1,W>>>=w.extra,B-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;at=(v=w.distcode[W&(1<<w.distbits)-1])>>>16&255,Q=65535&v,!((D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if((240&at)==0){for(Y=D,Z=at,_t=Q;at=(v=w.distcode[_t+((W&(1<<Y+Z)-1)>>Y)])>>>16&255,Q=65535&v,!(Y+(D=v>>>24)<=B);){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}W>>>=Y,B-=Y,w.back+=Y}if(W>>>=D,B-=D,w.back+=D,64&at){S.msg="invalid distance code",w.mode=30;break}w.offset=Q,w.extra=15&at,w.mode=24;case 24:if(w.extra){for(x=w.extra;B<x;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}w.offset+=W&(1<<w.extra)-1,W>>>=w.extra,B-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){S.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(G===0)break t;if(lt=it-G,w.offset>lt){if((lt=w.offset-lt)>w.whave&&w.sane){S.msg="invalid distance too far back",w.mode=30;break}ut=lt>w.wnext?(lt-=w.wnext,w.wsize-lt):w.wnext-lt,lt>w.length&&(lt=w.length),M=w.window}else M=X,ut=nt-w.offset,lt=w.length;for(G<lt&&(lt=G),G-=lt,w.length-=lt;X[nt++]=M[ut++],--lt;);w.length===0&&(w.mode=21);break;case 26:if(G===0)break t;X[nt++]=w.length,G--,w.mode=21;break;case 27:if(w.wrap){for(;B<32;){if(J===0)break t;J--,W|=$[j++]<<B,B+=8}if(it-=G,S.total_out+=it,w.total+=it,it&&(S.adler=w.check=w.flags?o(w.check,X,it,nt-it):a(w.check,X,it,nt-it)),it=G,(w.flags?W:m(W))!==w.check){S.msg="incorrect data check",w.mode=30;break}B=W=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;B<32;){if(J===0)break t;J--,W+=$[j++]<<B,B+=8}if(W!==(4294967295&w.total)){S.msg="incorrect length check",w.mode=30;break}B=W=0}w.mode=29;case 29:ot=1;break t;case 30:ot=-3;break t;case 31:return-4;case 32:default:return d}return S.next_out=nt,S.avail_out=G,S.next_in=j,S.avail_in=J,w.hold=W,w.bits=B,(w.wsize||it!==S.avail_out&&w.mode<30&&(w.mode<27||U!==4))&&K(S,S.output,S.next_out,it-S.avail_out)?(w.mode=31,-4):(F-=S.avail_in,it-=S.avail_out,S.total_in+=F,S.total_out+=it,w.total+=it,w.wrap&&it&&(S.adler=w.check=w.flags?o(w.check,X,it,S.next_out-it):a(w.check,X,it,S.next_out-it)),S.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(F==0&&it===0||U===4)&&ot===f&&(ot=-5),ot)},i.inflateEnd=function(S){if(!S||!S.state)return d;var U=S.state;return U.window&&(U.window=null),S.state=null,f},i.inflateGetHeader=function(S,U){var w;return S&&S.state?(2&(w=S.state).wrap)==0?d:((w.head=U).done=!1,f):d},i.inflateSetDictionary=function(S,U){var w,$=U.length;return S&&S.state?(w=S.state).wrap!==0&&w.mode!==11?d:w.mode===11&&a(1,U,$,0)!==w.check?-3:K(S,U,$,$)?(w.mode=31,-4):(w.havedict=1,f):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,h,f,d,p,g,y,m){var b,_,T,C,L,N,z,R,H,K=m.bits,S=0,U=0,w=0,$=0,X=0,j=0,nt=0,J=0,G=0,W=0,B=null,F=0,it=new s.Buf16(16),lt=new s.Buf16(16),ut=null,M=0;for(S=0;S<=15;S++)it[S]=0;for(U=0;U<d;U++)it[h[f+U]]++;for(X=K,$=15;1<=$&&it[$]===0;$--);if($<X&&(X=$),$===0)return p[g++]=20971520,p[g++]=20971520,m.bits=1,0;for(w=1;w<$&&it[w]===0;w++);for(X<w&&(X=w),S=J=1;S<=15;S++)if(J<<=1,(J-=it[S])<0)return-1;if(0<J&&(c===0||$!==1))return-1;for(lt[1]=0,S=1;S<15;S++)lt[S+1]=lt[S]+it[S];for(U=0;U<d;U++)h[f+U]!==0&&(y[lt[h[f+U]]++]=U);if(N=c===0?(B=ut=y,19):c===1?(B=a,F-=257,ut=o,M-=257,256):(B=l,ut=u,-1),S=w,L=g,nt=U=W=0,T=-1,C=(G=1<<(j=X))-1,c===1&&852<G||c===2&&592<G)return 1;for(;;){for(z=S-nt,H=y[U]<N?(R=0,y[U]):y[U]>N?(R=ut[M+y[U]],B[F+y[U]]):(R=96,0),b=1<<S-nt,w=_=1<<j;p[L+(W>>nt)+(_-=b)]=z<<24|R<<16|H|0,_!==0;);for(b=1<<S-1;W&b;)b>>=1;if(b!==0?(W&=b-1,W+=b):W=0,U++,--it[S]==0){if(S===$)break;S=h[f+y[U]]}if(X<S&&(W&C)!==T){for(nt===0&&(nt=X),L+=w,J=1<<(j=S-nt);j+nt<$&&!((J-=it[j+nt])<=0);)j++,J<<=1;if(G+=1<<j,c===1&&852<G||c===2&&592<G)return 1;p[T=W&C]=X<<24|j<<16|L-g|0}}return W!==0&&(p[L+W]=S-nt<<24|64<<16|0),m.bits=X,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(v){for(var I=v.length;0<=--I;)v[I]=0}var u=0,c=29,h=256,f=h+1+c,d=30,p=19,g=2*f+1,y=15,m=16,b=7,_=256,T=16,C=17,L=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(f+2));l(K);var S=new Array(2*d);l(S);var U=new Array(512);l(U);var w=new Array(256);l(w);var $=new Array(c);l($);var X,j,nt,J=new Array(d);function G(v,I,V,tt,q){this.static_tree=v,this.extra_bits=I,this.extra_base=V,this.elems=tt,this.max_length=q,this.has_stree=v&&v.length}function W(v,I){this.dyn_tree=v,this.max_code=0,this.stat_desc=I}function B(v){return v<256?U[v]:U[256+(v>>>7)]}function F(v,I){v.pending_buf[v.pending++]=255&I,v.pending_buf[v.pending++]=I>>>8&255}function it(v,I,V){v.bi_valid>m-V?(v.bi_buf|=I<<v.bi_valid&65535,F(v,v.bi_buf),v.bi_buf=I>>m-v.bi_valid,v.bi_valid+=V-m):(v.bi_buf|=I<<v.bi_valid&65535,v.bi_valid+=V)}function lt(v,I,V){it(v,V[2*I],V[2*I+1])}function ut(v,I){for(var V=0;V|=1&v,v>>>=1,V<<=1,0<--I;);return V>>>1}function M(v,I,V){var tt,q,pt=new Array(y+1),Et=0;for(tt=1;tt<=y;tt++)pt[tt]=Et=Et+V[tt-1]<<1;for(q=0;q<=I;q++){var gt=v[2*q+1];gt!==0&&(v[2*q]=ut(pt[gt]++,gt))}}function D(v){var I;for(I=0;I<f;I++)v.dyn_ltree[2*I]=0;for(I=0;I<d;I++)v.dyn_dtree[2*I]=0;for(I=0;I<p;I++)v.bl_tree[2*I]=0;v.dyn_ltree[2*_]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function at(v){8<v.bi_valid?F(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function Q(v,I,V,tt){var q=2*I,pt=2*V;return v[q]<v[pt]||v[q]===v[pt]&&tt[I]<=tt[V]}function Y(v,I,V){for(var tt=v.heap[V],q=V<<1;q<=v.heap_len&&(q<v.heap_len&&Q(I,v.heap[q+1],v.heap[q],v.depth)&&q++,!Q(I,tt,v.heap[q],v.depth));)v.heap[V]=v.heap[q],V=q,q<<=1;v.heap[V]=tt}function Z(v,I,V){var tt,q,pt,Et,gt=0;if(v.last_lit!==0)for(;tt=v.pending_buf[v.d_buf+2*gt]<<8|v.pending_buf[v.d_buf+2*gt+1],q=v.pending_buf[v.l_buf+gt],gt++,tt===0?lt(v,q,I):(lt(v,(pt=w[q])+h+1,I),(Et=N[pt])!==0&&it(v,q-=$[pt],Et),lt(v,pt=B(--tt),V),(Et=z[pt])!==0&&it(v,tt-=J[pt],Et)),gt<v.last_lit;);lt(v,_,I)}function _t(v,I){var V,tt,q,pt=I.dyn_tree,Et=I.stat_desc.static_tree,gt=I.stat_desc.has_stree,ht=I.stat_desc.elems,wt=-1;for(v.heap_len=0,v.heap_max=g,V=0;V<ht;V++)pt[2*V]!==0?(v.heap[++v.heap_len]=wt=V,v.depth[V]=0):pt[2*V+1]=0;for(;v.heap_len<2;)pt[2*(q=v.heap[++v.heap_len]=wt<2?++wt:0)]=1,v.depth[q]=0,v.opt_len--,gt&&(v.static_len-=Et[2*q+1]);for(I.max_code=wt,V=v.heap_len>>1;1<=V;V--)Y(v,pt,V);for(q=ht;V=v.heap[1],v.heap[1]=v.heap[v.heap_len--],Y(v,pt,1),tt=v.heap[1],v.heap[--v.heap_max]=V,v.heap[--v.heap_max]=tt,pt[2*q]=pt[2*V]+pt[2*tt],v.depth[q]=(v.depth[V]>=v.depth[tt]?v.depth[V]:v.depth[tt])+1,pt[2*V+1]=pt[2*tt+1]=q,v.heap[1]=q++,Y(v,pt,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(St,zt){var oe,Ee,Ve,Qt,er,qe,he=zt.dyn_tree,Lr=zt.max_code,Ar=zt.stat_desc.static_tree,Xo=zt.stat_desc.has_stree,es=zt.stat_desc.extra_bits,ri=zt.stat_desc.extra_base,_n=zt.stat_desc.max_length,jr=0;for(Qt=0;Qt<=y;Qt++)St.bl_count[Qt]=0;for(he[2*St.heap[St.heap_max]+1]=0,oe=St.heap_max+1;oe<g;oe++)_n<(Qt=he[2*he[2*(Ee=St.heap[oe])+1]+1]+1)&&(Qt=_n,jr++),he[2*Ee+1]=Qt,Lr<Ee||(St.bl_count[Qt]++,er=0,ri<=Ee&&(er=es[Ee-ri]),qe=he[2*Ee],St.opt_len+=qe*(Qt+er),Xo&&(St.static_len+=qe*(Ar[2*Ee+1]+er)));if(jr!==0){do{for(Qt=_n-1;St.bl_count[Qt]===0;)Qt--;St.bl_count[Qt]--,St.bl_count[Qt+1]+=2,St.bl_count[_n]--,jr-=2}while(0<jr);for(Qt=_n;Qt!==0;Qt--)for(Ee=St.bl_count[Qt];Ee!==0;)Lr<(Ve=St.heap[--oe])||(he[2*Ve+1]!==Qt&&(St.opt_len+=(Qt-he[2*Ve+1])*he[2*Ve],he[2*Ve+1]=Qt),Ee--)}}(v,I),M(pt,wt,v.bl_count)}function A(v,I,V){var tt,q,pt=-1,Et=I[1],gt=0,ht=7,wt=4;for(Et===0&&(ht=138,wt=3),I[2*(V+1)+1]=65535,tt=0;tt<=V;tt++)q=Et,Et=I[2*(tt+1)+1],++gt<ht&&q===Et||(gt<wt?v.bl_tree[2*q]+=gt:q!==0?(q!==pt&&v.bl_tree[2*q]++,v.bl_tree[2*T]++):gt<=10?v.bl_tree[2*C]++:v.bl_tree[2*L]++,pt=q,wt=(gt=0)===Et?(ht=138,3):q===Et?(ht=6,3):(ht=7,4))}function ot(v,I,V){var tt,q,pt=-1,Et=I[1],gt=0,ht=7,wt=4;for(Et===0&&(ht=138,wt=3),tt=0;tt<=V;tt++)if(q=Et,Et=I[2*(tt+1)+1],!(++gt<ht&&q===Et)){if(gt<wt)for(;lt(v,q,v.bl_tree),--gt!=0;);else q!==0?(q!==pt&&(lt(v,q,v.bl_tree),gt--),lt(v,T,v.bl_tree),it(v,gt-3,2)):gt<=10?(lt(v,C,v.bl_tree),it(v,gt-3,3)):(lt(v,L,v.bl_tree),it(v,gt-11,7));pt=q,wt=(gt=0)===Et?(ht=138,3):q===Et?(ht=6,3):(ht=7,4)}}l(J);var O=!1;function x(v,I,V,tt){it(v,(u<<1)+(tt?1:0),3),function(q,pt,Et,gt){at(q),F(q,Et),F(q,~Et),s.arraySet(q.pending_buf,q.window,pt,Et,q.pending),q.pending+=Et}(v,I,V)}i._tr_init=function(v){O||(function(){var I,V,tt,q,pt,Et=new Array(y+1);for(q=tt=0;q<c-1;q++)for($[q]=tt,I=0;I<1<<N[q];I++)w[tt++]=q;for(w[tt-1]=q,q=pt=0;q<16;q++)for(J[q]=pt,I=0;I<1<<z[q];I++)U[pt++]=q;for(pt>>=7;q<d;q++)for(J[q]=pt<<7,I=0;I<1<<z[q]-7;I++)U[256+pt++]=q;for(V=0;V<=y;V++)Et[V]=0;for(I=0;I<=143;)K[2*I+1]=8,I++,Et[8]++;for(;I<=255;)K[2*I+1]=9,I++,Et[9]++;for(;I<=279;)K[2*I+1]=7,I++,Et[7]++;for(;I<=287;)K[2*I+1]=8,I++,Et[8]++;for(M(K,f+1,Et),I=0;I<d;I++)S[2*I+1]=5,S[2*I]=ut(I,5);X=new G(K,N,h+1,f,y),j=new G(S,z,0,d,y),nt=new G(new Array(0),R,0,p,b)}(),O=!0),v.l_desc=new W(v.dyn_ltree,X),v.d_desc=new W(v.dyn_dtree,j),v.bl_desc=new W(v.bl_tree,nt),v.bi_buf=0,v.bi_valid=0,D(v)},i._tr_stored_block=x,i._tr_flush_block=function(v,I,V,tt){var q,pt,Et=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=function(gt){var ht,wt=4093624447;for(ht=0;ht<=31;ht++,wt>>>=1)if(1&wt&&gt.dyn_ltree[2*ht]!==0)return a;if(gt.dyn_ltree[18]!==0||gt.dyn_ltree[20]!==0||gt.dyn_ltree[26]!==0)return o;for(ht=32;ht<h;ht++)if(gt.dyn_ltree[2*ht]!==0)return o;return a}(v)),_t(v,v.l_desc),_t(v,v.d_desc),Et=function(gt){var ht;for(A(gt,gt.dyn_ltree,gt.l_desc.max_code),A(gt,gt.dyn_dtree,gt.d_desc.max_code),_t(gt,gt.bl_desc),ht=p-1;3<=ht&&gt.bl_tree[2*H[ht]+1]===0;ht--);return gt.opt_len+=3*(ht+1)+5+5+4,ht}(v),q=v.opt_len+3+7>>>3,(pt=v.static_len+3+7>>>3)<=q&&(q=pt)):q=pt=V+5,V+4<=q&&I!==-1?x(v,I,V,tt):v.strategy===4||pt===q?(it(v,2+(tt?1:0),3),Z(v,K,S)):(it(v,4+(tt?1:0),3),function(gt,ht,wt,St){var zt;for(it(gt,ht-257,5),it(gt,wt-1,5),it(gt,St-4,4),zt=0;zt<St;zt++)it(gt,gt.bl_tree[2*H[zt]+1],3);ot(gt,gt.dyn_ltree,ht-1),ot(gt,gt.dyn_dtree,wt-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,Et+1),Z(v,v.dyn_ltree,v.dyn_dtree)),D(v),tt&&at(v)},i._tr_tally=function(v,I,V){return v.pending_buf[v.d_buf+2*v.last_lit]=I>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&I,v.pending_buf[v.l_buf+v.last_lit]=255&V,v.last_lit++,I===0?v.dyn_ltree[2*V]++:(v.matches++,I--,v.dyn_ltree[2*(w[V]+h+1)]++,v.dyn_dtree[2*B(I)]++),v.last_lit===v.lit_bufsize-1},i._tr_align=function(v){it(v,2,3),lt(v,_,K),function(I){I.bi_valid===16?(F(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):8<=I.bi_valid&&(I.pending_buf[I.pending++]=255&I.bi_buf,I.bi_buf>>=8,I.bi_valid-=8)}(v)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,c,h,f=1,d={},p=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(T){process.nextTick(function(){b(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,C=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=C,T}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",_,!1):a.attachEvent("onmessage",_),function(T){a.postMessage(h+T,"*")}):a.MessageChannel?((c=new MessageChannel).port1.onmessage=function(T){b(T.data)},function(T){c.port2.postMessage(T)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(T){var C=g.createElement("script");C.onreadystatechange=function(){b(T),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(T){setTimeout(b,0,T)},y.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var C=new Array(arguments.length-1),L=0;L<C.length;L++)C[L]=arguments[L+1];var N={callback:T,args:C};return d[f]=N,l(f),f++},y.clearImmediate=m}function m(T){delete d[T]}function b(T){if(p)setTimeout(b,0,T);else{var C=d[T];if(C){p=!0;try{(function(L){var N=L.callback,z=L.args;switch(z.length){case 0:N();break;case 1:N(z[0]);break;case 2:N(z[0],z[1]);break;case 3:N(z[0],z[1],z[2]);break;default:N.apply(o,z)}})(C)}finally{m(T),p=!1}}}}function _(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(h)===0&&b(+T.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Dn<"u"?Dn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(o0)),o0.exports}var smt=imt();const amt=Ou(smt);var Ze;(function(e){e.OfficeDocument="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",e.FontTable="http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable",e.Image="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",e.Numbering="http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering",e.Styles="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",e.StylesWithEffects="http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects",e.Theme="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",e.Settings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings",e.WebSettings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings",e.Hyperlink="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",e.Footnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes",e.Endnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes",e.Footer="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",e.Header="http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",e.ExtendedProperties="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",e.CoreProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",e.CustomProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties",e.Comments="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",e.CommentsExtended="http://schemas.microsoft.com/office/2011/relationships/commentsExtended",e.AltChunk="http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk"})(Ze||(Ze={}));function omt(e,t){return t.elements(e).map(r=>({id:t.attr(r,"Id"),type:t.attr(r,"Type"),target:t.attr(r,"Target"),targetMode:t.attr(r,"TargetMode")}))}function lmt(e){return e?.replace(/[ .]+/g,"-").replace(/[&]+/g,"and").toLowerCase()}function Hy(e){return/^[^"'].*\s.*[^"']$/.test(e)?`'${e}'`:e}function Oh(e){let t=e.lastIndexOf("/")+1,r=t==0?"":e.substring(0,t),n=t==0?e:e.substring(t);return[r,n]}function l0(e,t){try{const r="http://docx/";return new URL(e,r+t).toString().substring(r.length)}catch{return`${t}${e}`}}function ls(e,t){return e.reduce((r,n)=>(r[t(n)]=n,r),{})}function umt(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>t(n.result),n.onerror=()=>r(),n.readAsDataURL(e)})}function u0(e){return e&&typeof e=="object"&&!Array.isArray(e)}function cmt(e){return typeof e=="string"||e instanceof String}function Xd(e,...t){if(!t.length)return e;const r=t.shift();if(u0(e)&&u0(r))for(const n in r)if(u0(r[n])){const i=e[n]??(e[n]={});Xd(i,r[n])}else e[n]=r[n];return Xd(e,...t)}function Cl(e){return Array.isArray(e)?e:[e]}function hmt(e,t,r){return t>e?t:r<e?r:e}const v6={wordml:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},sr={Dxa:{mul:.05,unit:"pt"},Emu:{mul:1/12700,unit:"pt"},FontSize:{mul:.5,unit:"pt"},Border:{mul:.125,unit:"pt",min:.25,max:12},Point:{mul:1,unit:"pt"},Percent:{mul:.02,unit:"%"}};function A6(e,t=sr.Dxa){if(e==null||/.+(p[xt]|[%])$/.test(e))return e;var r=parseInt(e)*t.mul;return t.min&&t.max&&(r=hmt(r,t.min,t.max)),`${r.toFixed(2)}${t.unit}`}function dmt(e,t=!1){switch(e){case"1":return!0;case"0":return!1;case"on":return!0;case"off":return!1;case"true":return!0;case"false":return!1;default:return t}}function C6(e,t,r){if(e.namespaceURI!=v6.wordml)return!1;switch(e.localName){case"color":t.color=r.attr(e,"val");break;case"sz":t.fontSize=r.lengthAttr(e,"val",sr.FontSize);break;default:return!1}return!0}function fmt(e,t=!1){t&&(e=e.replace(/<[?].*[?]>/,"")),e=mmt(e);const r=new DOMParser().parseFromString(e,"application/xml"),n=pmt(r);if(n)throw new Error(n);return r}function pmt(e){return e.getElementsByTagName("parsererror")[0]?.textContent}function mmt(e){return e.charCodeAt(0)===65279?e.substring(1):e}function gmt(e){return new XMLSerializer().serializeToString(e)}class k6{elements(t,r=null){const n=[];for(let i=0,s=t.childNodes.length;i<s;i++){let a=t.childNodes.item(i);a.nodeType==Node.ELEMENT_NODE&&(r==null||a.localName==r)&&n.push(a)}return n}element(t,r){for(let n=0,i=t.childNodes.length;n<i;n++){let s=t.childNodes.item(n);if(s.nodeType==1&&s.localName==r)return s}return null}elementAttr(t,r,n){var i=this.element(t,r);return i?this.attr(i,n):void 0}attrs(t){return Array.from(t.attributes)}attr(t,r){for(let n=0,i=t.attributes.length;n<i;n++){let s=t.attributes.item(n);if(s.localName==r)return s.value}return null}intAttr(t,r,n=null){var i=this.attr(t,r);return i?parseInt(i):n}hexAttr(t,r,n=null){var i=this.attr(t,r);return i?parseInt(i,16):n}floatAttr(t,r,n=null){var i=this.attr(t,r);return i?parseFloat(i):n}boolAttr(t,r,n=null){return dmt(this.attr(t,r),n)}lengthAttr(t,r,n=sr.Dxa){return A6(this.attr(t,r),n)}}const yt=new k6;class Cn{constructor(t,r){this._package=t,this.path=r}async load(){this.rels=await this._package.loadRelationships(this.path);const t=await this._package.load(this.path),r=this._package.parseXmlDocument(t);this._package.options.keepOrigin&&(this._xmlDocument=r),this.parseXml(r.firstElementChild)}save(){this._package.update(this.path,gmt(this._xmlDocument))}parseXml(t){}}const bmt={embedRegular:"regular",embedBold:"bold",embedItalic:"italic",embedBoldItalic:"boldItalic"};function ymt(e,t){return t.elements(e).map(r=>_mt(r,t))}function _mt(e,t){let r={name:t.attr(e,"name"),embedFontRefs:[]};for(let n of t.elements(e))switch(n.localName){case"family":r.family=t.attr(n,"val");break;case"altName":r.altName=t.attr(n,"val");break;case"embedRegular":case"embedBold":case"embedItalic":case"embedBoldItalic":r.embedFontRefs.push(Emt(n,t));break}return r}function Emt(e,t){return{id:t.attr(e,"id"),key:t.attr(e,"fontKey"),type:bmt[e.localName]}}class wmt extends Cn{parseXml(t){this.fonts=ymt(t,this._package.xmlParser)}}class Z2{constructor(t,r){this._zip=t,this.options=r,this.xmlParser=new k6}get(t){const r=xmt(t);return this._zip.files[r]??this._zip.files[r.replace(/\//g,"\\")]}update(t,r){this._zip.file(t,r)}static async load(t,r){const n=await amt.loadAsync(t);return new Z2(n,r)}save(t="blob"){return this._zip.generateAsync({type:t})}load(t,r="string"){return this.get(t)?.async(r)??Promise.resolve(null)}async loadRelationships(t=null){let r="_rels/.rels";if(t!=null){const[i,s]=Oh(t);r=`${i}_rels/${s}.rels`}const n=await this.load(r);return n?omt(this.parseXmlDocument(n).firstElementChild,this.xmlParser):null}parseXmlDocument(t){return fmt(t,this.options.trimXmlDeclaration)}}function xmt(e){return e.startsWith("/")?e.substr(1):e}class Tmt extends Cn{constructor(t,r,n){super(t,r),this._documentParser=n}parseXml(t){this.body=this._documentParser.parseDocumentFile(t)}}function ih(e,t){return{type:t.attr(e,"val"),color:t.attr(e,"color"),size:t.lengthAttr(e,"sz",sr.Border),offset:t.lengthAttr(e,"space",sr.Point),frame:t.boolAttr(e,"frame"),shadow:t.boolAttr(e,"shadow")}}function vmt(e,t){var r={};for(let n of t.elements(e))switch(n.localName){case"left":r.left=ih(n,t);break;case"top":r.top=ih(n,t);break;case"right":r.right=ih(n,t);break;case"bottom":r.bottom=ih(n,t);break}return r}var RA;(function(e){e.Continuous="continuous",e.NextPage="nextPage",e.NextColumn="nextColumn",e.EvenPage="evenPage",e.OddPage="oddPage"})(RA||(RA={}));function S6(e,t=yt){var r={};for(let n of t.elements(e))switch(n.localName){case"pgSz":r.pageSize={width:t.lengthAttr(n,"w"),height:t.lengthAttr(n,"h"),orientation:t.attr(n,"orient")};break;case"type":r.type=t.attr(n,"val");break;case"pgMar":r.pageMargins={left:t.lengthAttr(n,"left"),right:t.lengthAttr(n,"right"),top:t.lengthAttr(n,"top"),bottom:t.lengthAttr(n,"bottom"),header:t.lengthAttr(n,"header"),footer:t.lengthAttr(n,"footer"),gutter:t.lengthAttr(n,"gutter")};break;case"cols":r.columns=Amt(n,t);break;case"headerReference":(r.headerRefs??(r.headerRefs=[])).push(NA(n,t));break;case"footerReference":(r.footerRefs??(r.footerRefs=[])).push(NA(n,t));break;case"titlePg":r.titlePage=t.boolAttr(n,"val",!0);break;case"pgBorders":r.pageBorders=vmt(n,t);break;case"pgNumType":r.pageNumber=Cmt(n,t);break}return r}function Amt(e,t){return{numberOfColumns:t.intAttr(e,"num"),space:t.lengthAttr(e,"space"),separator:t.boolAttr(e,"sep"),equalWidth:t.boolAttr(e,"equalWidth",!0),columns:t.elements(e,"col").map(r=>({width:t.lengthAttr(r,"w"),space:t.lengthAttr(r,"space")}))}}function Cmt(e,t){return{chapSep:t.attr(e,"chapSep"),chapStyle:t.attr(e,"chapStyle"),format:t.attr(e,"fmt"),start:t.intAttr(e,"start")}}function NA(e,t){return{id:t.attr(e,"id"),type:t.attr(e,"type")}}function kmt(e,t){return{before:t.lengthAttr(e,"before"),after:t.lengthAttr(e,"after"),line:t.intAttr(e,"line"),lineRule:t.attr(e,"lineRule")}}function Q2(e,t){let r={};for(let n of t.elements(e))Smt(n,r,t);return r}function Smt(e,t,r){return!!C6(e,t,r)}function I6(e,t){let r={};for(let n of t.elements(e))L6(n,r,t);return r}function L6(e,t,r){if(e.namespaceURI!=v6.wordml)return!1;if(C6(e,t,r))return!0;switch(e.localName){case"tabs":t.tabs=Imt(e,r);break;case"sectPr":t.sectionProps=S6(e,r);break;case"numPr":t.numbering=Lmt(e,r);break;case"spacing":return t.lineSpacing=kmt(e,r),!1;case"textAlignment":return t.textAlignment=r.attr(e,"val"),!1;case"keepLines":t.keepLines=r.boolAttr(e,"val",!0);break;case"keepNext":t.keepNext=r.boolAttr(e,"val",!0);break;case"pageBreakBefore":t.pageBreakBefore=r.boolAttr(e,"val",!0);break;case"outlineLvl":t.outlineLevel=r.intAttr(e,"val");break;case"pStyle":t.styleName=r.attr(e,"val");break;case"rPr":t.runProps=Q2(e,r);break;default:return!1}return!0}function Imt(e,t){return t.elements(e,"tab").map(r=>({position:t.lengthAttr(r,"pos"),leader:t.attr(r,"leader"),style:t.attr(r,"val")}))}function Lmt(e,t){var r={};for(let n of t.elements(e))switch(n.localName){case"numId":r.id=t.attr(n,"val");break;case"ilvl":r.level=t.intAttr(n,"val");break}return r}function Rmt(e,t){let r={numberings:[],abstractNumberings:[],bulletPictures:[]};for(let n of t.elements(e))switch(n.localName){case"num":r.numberings.push(Nmt(n,t));break;case"abstractNum":r.abstractNumberings.push(Omt(n,t));break;case"numPicBullet":r.bulletPictures.push(Dmt(n,t));break}return r}function Nmt(e,t){let r={id:t.attr(e,"numId"),overrides:[]};for(let n of t.elements(e))switch(n.localName){case"abstractNumId":r.abstractId=t.attr(n,"val");break;case"lvlOverride":r.overrides.push(Pmt(n,t));break}return r}function Omt(e,t){let r={id:t.attr(e,"abstractNumId"),levels:[]};for(let n of t.elements(e))switch(n.localName){case"name":r.name=t.attr(n,"val");break;case"multiLevelType":r.multiLevelType=t.attr(n,"val");break;case"numStyleLink":r.numberingStyleLink=t.attr(n,"val");break;case"styleLink":r.styleLink=t.attr(n,"val");break;case"lvl":r.levels.push(R6(n,t));break}return r}function R6(e,t){let r={level:t.intAttr(e,"ilvl")};for(let n of t.elements(e))switch(n.localName){case"start":r.start=t.attr(n,"val");break;case"lvlRestart":r.restart=t.intAttr(n,"val");break;case"numFmt":r.format=t.attr(n,"val");break;case"lvlText":r.text=t.attr(n,"val");break;case"lvlJc":r.justification=t.attr(n,"val");break;case"lvlPicBulletId":r.bulletPictureId=t.attr(n,"val");break;case"pStyle":r.paragraphStyle=t.attr(n,"val");break;case"pPr":r.paragraphProps=I6(n,t);break;case"rPr":r.runProps=Q2(n,t);break}return r}function Pmt(e,t){let r={level:t.intAttr(e,"ilvl")};for(let n of t.elements(e))switch(n.localName){case"startOverride":r.start=t.intAttr(n,"val");break;case"lvl":r.numberingLevel=R6(n,t);break}return r}function Dmt(e,t){var r=t.element(e,"pict"),n=r&&t.element(r,"shape"),i=n&&t.element(n,"imagedata");return i?{id:t.attr(e,"numPicBulletId"),referenceId:t.attr(i,"id"),style:t.attr(n,"style")}:null}class Bmt extends Cn{constructor(t,r,n){super(t,r),this._documentParser=n}parseXml(t){Object.assign(this,Rmt(t,this._package.xmlParser)),this.domNumberings=this._documentParser.parseNumberingFile(t)}}class Mmt extends Cn{constructor(t,r,n){super(t,r),this._documentParser=n}parseXml(t){this.styles=this._documentParser.parseStylesFile(t)}}var Ct;(function(e){e.Document="document",e.Paragraph="paragraph",e.Run="run",e.Break="break",e.NoBreakHyphen="noBreakHyphen",e.Table="table",e.Row="row",e.Cell="cell",e.Hyperlink="hyperlink",e.SmartTag="smartTag",e.Drawing="drawing",e.Image="image",e.Text="text",e.Tab="tab",e.Symbol="symbol",e.BookmarkStart="bookmarkStart",e.BookmarkEnd="bookmarkEnd",e.Footer="footer",e.Header="header",e.FootnoteReference="footnoteReference",e.EndnoteReference="endnoteReference",e.Footnote="footnote",e.Endnote="endnote",e.SimpleField="simpleField",e.ComplexField="complexField",e.Instruction="instruction",e.VmlPicture="vmlPicture",e.MmlMath="mmlMath",e.MmlMathParagraph="mmlMathParagraph",e.MmlFraction="mmlFraction",e.MmlFunction="mmlFunction",e.MmlFunctionName="mmlFunctionName",e.MmlNumerator="mmlNumerator",e.MmlDenominator="mmlDenominator",e.MmlRadical="mmlRadical",e.MmlBase="mmlBase",e.MmlDegree="mmlDegree",e.MmlSuperscript="mmlSuperscript",e.MmlSubscript="mmlSubscript",e.MmlPreSubSuper="mmlPreSubSuper",e.MmlSubArgument="mmlSubArgument",e.MmlSuperArgument="mmlSuperArgument",e.MmlNary="mmlNary",e.MmlDelimiter="mmlDelimiter",e.MmlRun="mmlRun",e.MmlEquationArray="mmlEquationArray",e.MmlLimit="mmlLimit",e.MmlLimitLower="mmlLimitLower",e.MmlMatrix="mmlMatrix",e.MmlMatrixRow="mmlMatrixRow",e.MmlBox="mmlBox",e.MmlBar="mmlBar",e.MmlGroupChar="mmlGroupChar",e.VmlElement="vmlElement",e.Inserted="inserted",e.Deleted="deleted",e.DeletedText="deletedText",e.Comment="comment",e.CommentReference="commentReference",e.CommentRangeStart="commentRangeStart",e.CommentRangeEnd="commentRangeEnd",e.AltChunk="altChunk"})(Ct||(Ct={}));class La{constructor(){this.children=[],this.cssStyle={}}}class Fmt extends La{constructor(){super(...arguments),this.type=Ct.Header}}class Umt extends La{constructor(){super(...arguments),this.type=Ct.Footer}}class N6 extends Cn{constructor(t,r,n){super(t,r),this._documentParser=n}parseXml(t){this.rootElement=this.createRootElement(),this.rootElement.children=this._documentParser.parseBodyElements(t)}}class Hmt extends N6{createRootElement(){return new Fmt}}class $mt extends N6{createRootElement(){return new Umt}}function zmt(e,t){const r={};for(let n of t.elements(e))switch(n.localName){case"Template":r.template=n.textContent;break;case"Pages":r.pages=kl(n.textContent);break;case"Words":r.words=kl(n.textContent);break;case"Characters":r.characters=kl(n.textContent);break;case"Application":r.application=n.textContent;break;case"Lines":r.lines=kl(n.textContent);break;case"Paragraphs":r.paragraphs=kl(n.textContent);break;case"Company":r.company=n.textContent;break;case"AppVersion":r.appVersion=n.textContent;break}return r}function kl(e){if(!(typeof e>"u"))return parseInt(e)}class jmt extends Cn{parseXml(t){this.props=zmt(t,this._package.xmlParser)}}function Wmt(e,t){const r={};for(let n of t.elements(e))switch(n.localName){case"title":r.title=n.textContent;break;case"description":r.description=n.textContent;break;case"subject":r.subject=n.textContent;break;case"creator":r.creator=n.textContent;break;case"keywords":r.keywords=n.textContent;break;case"language":r.language=n.textContent;break;case"lastModifiedBy":r.lastModifiedBy=n.textContent;break;case"revision":n.textContent&&(r.revision=parseInt(n.textContent));break}return r}class qmt extends Cn{parseXml(t){this.props=Wmt(t,this._package.xmlParser)}}class Gmt{}function Vmt(e,t){var r=new Gmt,n=t.element(e,"themeElements");for(let i of t.elements(n))switch(i.localName){case"clrScheme":r.colorScheme=Ymt(i,t);break;case"fontScheme":r.fontScheme=Xmt(i,t);break}return r}function Ymt(e,t){var r={name:t.attr(e,"name"),colors:{}};for(let s of t.elements(e)){var n=t.element(s,"srgbClr"),i=t.element(s,"sysClr");n?r.colors[s.localName]=t.attr(n,"val"):i&&(r.colors[s.localName]=t.attr(i,"lastClr"))}return r}function Xmt(e,t){var r={name:t.attr(e,"name")};for(let n of t.elements(e))switch(n.localName){case"majorFont":r.majorFont=OA(n,t);break;case"minorFont":r.minorFont=OA(n,t);break}return r}function OA(e,t){return{latinTypeface:t.elementAttr(e,"latin","typeface"),eaTypeface:t.elementAttr(e,"ea","typeface"),csTypeface:t.elementAttr(e,"cs","typeface")}}class Kmt extends Cn{constructor(t,r){super(t,r)}parseXml(t){this.theme=Vmt(t,this._package.xmlParser)}}class O6{}class Zmt extends O6{constructor(){super(...arguments),this.type=Ct.Footnote}}class Qmt extends O6{constructor(){super(...arguments),this.type=Ct.Endnote}}class P6 extends Cn{constructor(t,r,n){super(t,r),this._documentParser=n}}class Jmt extends P6{constructor(t,r,n){super(t,r,n)}parseXml(t){this.notes=this._documentParser.parseNotes(t,"footnote",Zmt)}}class tgt extends P6{constructor(t,r,n){super(t,r,n)}parseXml(t){this.notes=this._documentParser.parseNotes(t,"endnote",Qmt)}}function egt(e,t){var r={};for(let n of t.elements(e))switch(n.localName){case"defaultTabStop":r.defaultTabStop=t.lengthAttr(n,"val");break;case"footnotePr":r.footnoteProps=PA(n,t);break;case"endnotePr":r.endnoteProps=PA(n,t);break;case"autoHyphenation":r.autoHyphenation=t.boolAttr(n,"val");break}return r}function PA(e,t){var r={defaultNoteIds:[]};for(let n of t.elements(e))switch(n.localName){case"numFmt":r.nummeringFormat=t.attr(n,"val");break;case"footnote":case"endnote":r.defaultNoteIds.push(t.attr(n,"id"));break}return r}class rgt extends Cn{constructor(t,r){super(t,r)}parseXml(t){this.settings=egt(t,this._package.xmlParser)}}function ngt(e,t){return t.elements(e,"property").map(r=>{const n=r.firstChild;return{formatId:t.attr(r,"fmtid"),name:t.attr(r,"name"),type:n.nodeName,value:n.textContent}})}class igt extends Cn{parseXml(t){this.props=ngt(t,this._package.xmlParser)}}class sgt extends Cn{constructor(t,r,n){super(t,r),this._documentParser=n}parseXml(t){this.comments=this._documentParser.parseComments(t),this.commentMap=ls(this.comments,r=>r.id)}}class agt extends Cn{constructor(t,r){super(t,r),this.comments=[]}parseXml(t){const r=this._package.xmlParser;for(let n of r.elements(t,"commentEx"))this.comments.push({paraId:r.attr(n,"paraId"),paraIdParent:r.attr(n,"paraIdParent"),done:r.boolAttr(n,"done")});this.commentMap=ls(this.comments,n=>n.paraId)}}const ogt=[{type:Ze.OfficeDocument,target:"word/document.xml"},{type:Ze.ExtendedProperties,target:"docProps/app.xml"},{type:Ze.CoreProperties,target:"docProps/core.xml"},{type:Ze.CustomProperties,target:"docProps/custom.xml"}];class J2{constructor(){this.parts=[],this.partsMap={}}static async load(t,r,n){var i=new J2;return i._options=n,i._parser=r,i._package=await Z2.load(t,n),i.rels=await i._package.loadRelationships(),await Promise.all(ogt.map(s=>{const a=i.rels.find(o=>o.type===s.type)??s;return i.loadRelationshipPart(a.target,a.type)})),i}save(t="blob"){return this._package.save(t)}async loadRelationshipPart(t,r){if(this.partsMap[t])return this.partsMap[t];if(!this._package.get(t))return null;let n=null;switch(r){case Ze.OfficeDocument:this.documentPart=n=new Tmt(this._package,t,this._parser);break;case Ze.FontTable:this.fontTablePart=n=new wmt(this._package,t);break;case Ze.Numbering:this.numberingPart=n=new Bmt(this._package,t,this._parser);break;case Ze.Styles:this.stylesPart=n=new Mmt(this._package,t,this._parser);break;case Ze.Theme:this.themePart=n=new Kmt(this._package,t);break;case Ze.Footnotes:this.footnotesPart=n=new Jmt(this._package,t,this._parser);break;case Ze.Endnotes:this.endnotesPart=n=new tgt(this._package,t,this._parser);break;case Ze.Footer:n=new $mt(this._package,t,this._parser);break;case Ze.Header:n=new Hmt(this._package,t,this._parser);break;case Ze.CoreProperties:this.corePropsPart=n=new qmt(this._package,t);break;case Ze.ExtendedProperties:this.extendedPropsPart=n=new jmt(this._package,t);break;case Ze.CustomProperties:n=new igt(this._package,t);break;case Ze.Settings:this.settingsPart=n=new rgt(this._package,t);break;case Ze.Comments:this.commentsPart=n=new sgt(this._package,t,this._parser);break;case Ze.CommentsExtended:this.commentsExtendedPart=n=new agt(this._package,t);break}if(n==null)return Promise.resolve(null);if(this.partsMap[t]=n,this.parts.push(n),await n.load(),n.rels?.length>0){const[i]=Oh(n.path);await Promise.all(n.rels.map(s=>this.loadRelationshipPart(l0(s.target,i),s.type)))}return n}async loadDocumentImage(t,r){const n=await this.loadResource(r??this.documentPart,t,"blob");return this.blobToURL(n)}async loadNumberingImage(t){const r=await this.loadResource(this.numberingPart,t,"blob");return this.blobToURL(r)}async loadFont(t,r){const n=await this.loadResource(this.fontTablePart,t,"uint8array");return n&&this.blobToURL(new Blob([lgt(n,r)]))}async loadAltChunk(t,r){return await this.loadResource(r??this.documentPart,t,"string")}blobToURL(t){return t?this._options.useBase64URL?umt(t):URL.createObjectURL(t):null}findPartByRelId(t,r=null){var n=(r.rels??this.rels).find(s=>s.id==t);const i=r?Oh(r.path)[0]:"";return n?this.partsMap[l0(n.target,i)]:null}getPathById(t,r){const n=t.rels.find(s=>s.id==r),[i]=Oh(t.path);return n?l0(n.target,i):null}loadResource(t,r,n){const i=this.getPathById(t,r);return i?this._package.load(i,n):Promise.resolve(null)}}function lgt(e,t){const n=t.replace(/{|}|-/g,""),i=new Array(16);for(let s=0;s<16;s++)i[16-s-1]=parseInt(n.substring(s*2,s*2+2),16);for(let s=0;s<32;s++)e[s]=e[s]^i[s%16];return e}function ugt(e,t){return{type:Ct.BookmarkStart,id:t.attr(e,"id"),name:t.attr(e,"name"),colFirst:t.intAttr(e,"colFirst"),colLast:t.intAttr(e,"colLast")}}function cgt(e,t){return{type:Ct.BookmarkEnd,id:t.attr(e,"id")}}class hgt extends La{constructor(){super(...arguments),this.type=Ct.VmlElement,this.attrs={}}}function D6(e,t){var r=new hgt;switch(e.localName){case"rect":r.tagName="rect",Object.assign(r.attrs,{width:"100%",height:"100%"});break;case"oval":r.tagName="ellipse",Object.assign(r.attrs,{cx:"50%",cy:"50%",rx:"50%",ry:"50%"});break;case"line":r.tagName="line";break;case"shape":r.tagName="g";break;case"textbox":r.tagName="foreignObject",Object.assign(r.attrs,{width:"100%",height:"100%"});break;default:return null}for(const n of yt.attrs(e))switch(n.localName){case"style":r.cssStyleText=n.value;break;case"fillcolor":r.attrs.fill=n.value;break;case"from":const[i,s]=DA(n.value);Object.assign(r.attrs,{x1:i,y1:s});break;case"to":const[a,o]=DA(n.value);Object.assign(r.attrs,{x2:a,y2:o});break}for(const n of yt.elements(e))switch(n.localName){case"stroke":Object.assign(r.attrs,dgt(n));break;case"fill":Object.assign(r.attrs,fgt());break;case"imagedata":r.tagName="image",Object.assign(r.attrs,{width:"100%",height:"100%"}),r.imageHref={id:yt.attr(n,"id"),title:yt.attr(n,"title")};break;case"txbxContent":r.children.push(...t.parseBodyElements(n));break;default:const i=D6(n,t);i&&r.children.push(i);break}return r}function dgt(e){return{stroke:yt.attr(e,"color"),"stroke-width":yt.lengthAttr(e,"weight",sr.Emu)??"1px"}}function fgt(e){return{}}function DA(e){return e.split(",")}class pgt extends La{constructor(){super(...arguments),this.type=Ct.Comment}}class mgt extends La{constructor(t){super(),this.id=t,this.type=Ct.CommentReference}}class ggt extends La{constructor(t){super(),this.id=t,this.type=Ct.CommentRangeStart}}class bgt extends La{constructor(t){super(),this.id=t,this.type=Ct.CommentRangeEnd}}var Ph={shd:"inherit",color:"black",borderColor:"black",highlight:"transparent"};const ygt=[],BA={oMath:Ct.MmlMath,oMathPara:Ct.MmlMathParagraph,f:Ct.MmlFraction,func:Ct.MmlFunction,fName:Ct.MmlFunctionName,num:Ct.MmlNumerator,den:Ct.MmlDenominator,rad:Ct.MmlRadical,deg:Ct.MmlDegree,e:Ct.MmlBase,sSup:Ct.MmlSuperscript,sSub:Ct.MmlSubscript,sPre:Ct.MmlPreSubSuper,sup:Ct.MmlSuperArgument,sub:Ct.MmlSubArgument,d:Ct.MmlDelimiter,nary:Ct.MmlNary,eqArr:Ct.MmlEquationArray,lim:Ct.MmlLimit,limLow:Ct.MmlLimitLower,m:Ct.MmlMatrix,mr:Ct.MmlMatrixRow,box:Ct.MmlBox,bar:Ct.MmlBar,groupChr:Ct.MmlGroupChar};class _gt{constructor(t){this.options={ignoreWidth:!1,debug:!1,...t}}parseNotes(t,r,n){var i=[];for(let s of yt.elements(t,r)){const a=new n;a.id=yt.attr(s,"id"),a.noteType=yt.attr(s,"type"),a.children=this.parseBodyElements(s),i.push(a)}return i}parseComments(t){var r=[];for(let n of yt.elements(t,"comment")){const i=new pgt;i.id=yt.attr(n,"id"),i.author=yt.attr(n,"author"),i.initials=yt.attr(n,"initials"),i.date=yt.attr(n,"date"),i.children=this.parseBodyElements(n),r.push(i)}return r}parseDocumentFile(t){var r=yt.element(t,"body"),n=yt.element(t,"background"),i=yt.element(r,"sectPr");return{type:Ct.Document,children:this.parseBodyElements(r),props:i?S6(i,yt):{},cssStyle:n?this.parseBackground(n):{}}}parseBackground(t){var r={},n=Ga.colorAttr(t,"color");return n&&(r["background-color"]=n),r}parseBodyElements(t){var r=[];for(const n of yt.elements(t))switch(n.localName){case"p":r.push(this.parseParagraph(n));break;case"altChunk":r.push(this.parseAltChunk(n));break;case"tbl":r.push(this.parseTable(n));break;case"sdt":r.push(...this.parseSdt(n,i=>this.parseBodyElements(i)));break}return r}parseStylesFile(t){var r=[];for(const n of yt.elements(t))switch(n.localName){case"style":r.push(this.parseStyle(n));break;case"docDefaults":r.push(this.parseDefaultStyles(n));break}return r}parseDefaultStyles(t){var r={id:null,name:null,target:null,basedOn:null,styles:[]};for(const s of yt.elements(t))switch(s.localName){case"rPrDefault":var n=yt.element(s,"rPr");n&&r.styles.push({target:"span",values:this.parseDefaultProperties(n,{})});break;case"pPrDefault":var i=yt.element(s,"pPr");i&&r.styles.push({target:"p",values:this.parseDefaultProperties(i,{})});break}return r}parseStyle(t){var r={id:yt.attr(t,"styleId"),isDefault:yt.boolAttr(t,"default"),name:null,target:null,basedOn:null,styles:[],linked:null};switch(yt.attr(t,"type")){case"paragraph":r.target="p";break;case"table":r.target="table";break;case"character":r.target="span";break}for(const n of yt.elements(t))switch(n.localName){case"basedOn":r.basedOn=yt.attr(n,"val");break;case"name":r.name=yt.attr(n,"val");break;case"link":r.linked=yt.attr(n,"val");break;case"next":r.next=yt.attr(n,"val");break;case"aliases":r.aliases=yt.attr(n,"val").split(",");break;case"pPr":r.styles.push({target:"p",values:this.parseDefaultProperties(n,{})}),r.paragraphProps=I6(n,yt);break;case"rPr":r.styles.push({target:"span",values:this.parseDefaultProperties(n,{})}),r.runProps=Q2(n,yt);break;case"tblPr":case"tcPr":r.styles.push({target:"td",values:this.parseDefaultProperties(n,{})});break;case"tblStylePr":for(let i of this.parseTableStyle(n))r.styles.push(i);break;case"rsid":case"qFormat":case"hidden":case"semiHidden":case"unhideWhenUsed":case"autoRedefine":case"uiPriority":break;default:this.options.debug&&console.warn(`DOCX: Unknown style element: ${n.localName}`)}return r}parseTableStyle(t){var r=[],n=yt.attr(t,"type"),i="",s="";switch(n){case"firstRow":s=".first-row",i="tr.first-row td";break;case"lastRow":s=".last-row",i="tr.last-row td";break;case"firstCol":s=".first-col",i="td.first-col";break;case"lastCol":s=".last-col",i="td.last-col";break;case"band1Vert":s=":not(.no-vband)",i="td.odd-col";break;case"band2Vert":s=":not(.no-vband)",i="td.even-col";break;case"band1Horz":s=":not(.no-hband)",i="tr.odd-row";break;case"band2Horz":s=":not(.no-hband)",i="tr.even-row";break;default:return[]}for(const a of yt.elements(t))switch(a.localName){case"pPr":r.push({target:`${i} p`,mod:s,values:this.parseDefaultProperties(a,{})});break;case"rPr":r.push({target:`${i} span`,mod:s,values:this.parseDefaultProperties(a,{})});break;case"tblPr":case"tcPr":r.push({target:i,mod:s,values:this.parseDefaultProperties(a,{})});break}return r}parseNumberingFile(t){var r=[],n={},i=[];for(const o of yt.elements(t))switch(o.localName){case"abstractNum":this.parseAbstractNumbering(o,i).forEach(l=>r.push(l));break;case"numPicBullet":i.push(this.parseNumberingPicBullet(o));break;case"num":var s=yt.attr(o,"numId"),a=yt.elementAttr(o,"abstractNumId","val");n[a]=s;break}return r.forEach(o=>o.id=n[o.id]),r}parseNumberingPicBullet(t){var r=yt.element(t,"pict"),n=r&&yt.element(r,"shape"),i=n&&yt.element(n,"imagedata");return i?{id:yt.intAttr(t,"numPicBulletId"),src:yt.attr(i,"id"),style:yt.attr(n,"style")}:null}parseAbstractNumbering(t,r){var n=[],i=yt.attr(t,"abstractNumId");for(const s of yt.elements(t))switch(s.localName){case"lvl":n.push(this.parseNumberingLevel(i,s,r));break}return n}parseNumberingLevel(t,r,n){var i={id:t,level:yt.intAttr(r,"ilvl"),start:1,pStyleName:void 0,pStyle:{},rStyle:{},suff:"tab"};for(const a of yt.elements(r))switch(a.localName){case"start":i.start=yt.intAttr(a,"val");break;case"pPr":this.parseDefaultProperties(a,i.pStyle);break;case"rPr":this.parseDefaultProperties(a,i.rStyle);break;case"lvlPicBulletId":var s=yt.intAttr(a,"val");i.bullet=n.find(o=>o?.id==s);break;case"lvlText":i.levelText=yt.attr(a,"val");break;case"pStyle":i.pStyleName=yt.attr(a,"val");break;case"numFmt":i.format=yt.attr(a,"val");break;case"suff":i.suff=yt.attr(a,"val");break}return i}parseSdt(t,r){const n=yt.element(t,"sdtContent");return n?r(n):[]}parseInserted(t,r){return{type:Ct.Inserted,children:r(t)?.children??[]}}parseDeleted(t,r){return{type:Ct.Deleted,children:r(t)?.children??[]}}parseAltChunk(t){return{type:Ct.AltChunk,children:[],id:yt.attr(t,"id")}}parseParagraph(t){var r={type:Ct.Paragraph,children:[]};for(let n of yt.elements(t))switch(n.localName){case"pPr":this.parseParagraphProperties(n,r);break;case"r":r.children.push(this.parseRun(n,r));break;case"hyperlink":r.children.push(this.parseHyperlink(n,r));break;case"smartTag":r.children.push(this.parseSmartTag(n,r));break;case"bookmarkStart":r.children.push(ugt(n,yt));break;case"bookmarkEnd":r.children.push(cgt(n,yt));break;case"commentRangeStart":r.children.push(new ggt(yt.attr(n,"id")));break;case"commentRangeEnd":r.children.push(new bgt(yt.attr(n,"id")));break;case"oMath":case"oMathPara":r.children.push(this.parseMathElement(n));break;case"sdt":r.children.push(...this.parseSdt(n,i=>this.parseParagraph(i).children));break;case"ins":r.children.push(this.parseInserted(n,i=>this.parseParagraph(i)));break;case"del":r.children.push(this.parseDeleted(n,i=>this.parseParagraph(i)));break}return r}parseParagraphProperties(t,r){this.parseDefaultProperties(t,r.cssStyle={},null,n=>{if(L6(n,r,yt))return!0;switch(n.localName){case"pStyle":r.styleName=yt.attr(n,"val");break;case"cnfStyle":r.className=Be.classNameOfCnfStyle(n);break;case"framePr":this.parseFrame(n,r);break;case"rPr":break;default:return!1}return!0})}parseFrame(t,r){var n=yt.attr(t,"dropCap");n=="drop"&&(r.cssStyle.float="left")}parseHyperlink(t,r){var n={type:Ct.Hyperlink,parent:r,children:[]};n.anchor=yt.attr(t,"anchor"),n.id=yt.attr(t,"id");for(const i of yt.elements(t))switch(i.localName){case"r":n.children.push(this.parseRun(i,n));break}return n}parseSmartTag(t,r){var n={type:Ct.SmartTag,parent:r,children:[]},i=yt.attr(t,"uri"),s=yt.attr(t,"element");i&&(n.uri=i),s&&(n.element=s);for(const a of yt.elements(t))switch(a.localName){case"r":n.children.push(this.parseRun(a,n));break}return n}parseRun(t,r){var n={type:Ct.Run,parent:r,children:[]};for(let i of yt.elements(t))switch(i=this.checkAlternateContent(i),i.localName){case"t":n.children.push({type:Ct.Text,text:i.textContent});break;case"delText":n.children.push({type:Ct.DeletedText,text:i.textContent});break;case"commentReference":n.children.push(new mgt(yt.attr(i,"id")));break;case"fldSimple":n.children.push({type:Ct.SimpleField,instruction:yt.attr(i,"instr"),lock:yt.boolAttr(i,"lock",!1),dirty:yt.boolAttr(i,"dirty",!1)});break;case"instrText":n.fieldRun=!0,n.children.push({type:Ct.Instruction,text:i.textContent});break;case"fldChar":n.fieldRun=!0,n.children.push({type:Ct.ComplexField,charType:yt.attr(i,"fldCharType"),lock:yt.boolAttr(i,"lock",!1),dirty:yt.boolAttr(i,"dirty",!1)});break;case"noBreakHyphen":n.children.push({type:Ct.NoBreakHyphen});break;case"br":n.children.push({type:Ct.Break,break:yt.attr(i,"type")||"textWrapping"});break;case"lastRenderedPageBreak":n.children.push({type:Ct.Break,break:"lastRenderedPageBreak"});break;case"sym":n.children.push({type:Ct.Symbol,font:Hy(yt.attr(i,"font")),char:yt.attr(i,"char")});break;case"tab":n.children.push({type:Ct.Tab});break;case"footnoteReference":n.children.push({type:Ct.FootnoteReference,id:yt.attr(i,"id")});break;case"endnoteReference":n.children.push({type:Ct.EndnoteReference,id:yt.attr(i,"id")});break;case"drawing":let s=this.parseDrawing(i);s&&(n.children=[s]);break;case"pict":n.children.push(this.parseVmlPicture(i));break;case"rPr":this.parseRunProperties(i,n);break}return n}parseMathElement(t){const r=`${t.localName}Pr`,n={type:BA[t.localName],children:[]};for(const s of yt.elements(t))if(BA[s.localName])n.children.push(this.parseMathElement(s));else if(s.localName=="r"){var i=this.parseRun(s);i.type=Ct.MmlRun,n.children.push(i)}else s.localName==r&&(n.props=this.parseMathProperies(s));return n}parseMathProperies(t){const r={};for(const n of yt.elements(t))switch(n.localName){case"chr":r.char=yt.attr(n,"val");break;case"vertJc":r.verticalJustification=yt.attr(n,"val");break;case"pos":r.position=yt.attr(n,"val");break;case"degHide":r.hideDegree=yt.boolAttr(n,"val");break;case"begChr":r.beginChar=yt.attr(n,"val");break;case"endChr":r.endChar=yt.attr(n,"val");break}return r}parseRunProperties(t,r){this.parseDefaultProperties(t,r.cssStyle={},null,n=>{switch(n.localName){case"rStyle":r.styleName=yt.attr(n,"val");break;case"vertAlign":r.verticalAlign=Be.valueOfVertAlign(n,!0);break;default:return!1}return!0})}parseVmlPicture(t){const r={type:Ct.VmlPicture,children:[]};for(const n of yt.elements(t)){const i=D6(n,this);i&&r.children.push(i)}return r}checkAlternateContent(t){if(t.localName!="AlternateContent")return t;var r=yt.element(t,"Choice");if(r){var n=yt.attr(r,"Requires"),i=t.lookupNamespaceURI(n);if(ygt.includes(i))return r.firstElementChild}return yt.element(t,"Fallback")?.firstElementChild}parseDrawing(t){for(var r of yt.elements(t))switch(r.localName){case"inline":case"anchor":return this.parseDrawingWrapper(r)}}parseDrawingWrapper(t){var r={type:Ct.Drawing,children:[],cssStyle:{}},n=t.localName=="anchor";let i=null,s=yt.boolAttr(t,"simplePos");yt.boolAttr(t,"behindDoc");let a={relative:"page",align:"left",offset:"0"},o={relative:"page",align:"top",offset:"0"};for(var l of yt.elements(t))switch(l.localName){case"simplePos":s&&(a.offset=yt.lengthAttr(l,"x",sr.Emu),o.offset=yt.lengthAttr(l,"y",sr.Emu));break;case"extent":r.cssStyle.width=yt.lengthAttr(l,"cx",sr.Emu),r.cssStyle.height=yt.lengthAttr(l,"cy",sr.Emu);break;case"positionH":case"positionV":if(!s){let f=l.localName=="positionH"?a:o;var u=yt.element(l,"align"),c=yt.element(l,"posOffset");f.relative=yt.attr(l,"relativeFrom")??f.relative,u&&(f.align=u.textContent),c&&(f.offset=A6(c.textContent,sr.Emu))}break;case"wrapTopAndBottom":i="wrapTopAndBottom";break;case"wrapNone":i="wrapNone";break;case"graphic":var h=this.parseGraphic(l);h&&r.children.push(h);break}return i=="wrapTopAndBottom"?(r.cssStyle.display="block",a.align&&(r.cssStyle["text-align"]=a.align,r.cssStyle.width="100%")):i=="wrapNone"?(r.cssStyle.display="block",r.cssStyle.position="relative",r.cssStyle.width="0px",r.cssStyle.height="0px",a.offset&&(r.cssStyle.left=a.offset),o.offset&&(r.cssStyle.top=o.offset)):n&&(a.align=="left"||a.align=="right")&&(r.cssStyle.float=a.align),r}parseGraphic(t){var r=yt.element(t,"graphicData");for(let n of yt.elements(r))switch(n.localName){case"pic":return this.parsePicture(n)}return null}parsePicture(t){var r={type:Ct.Image,src:"",cssStyle:{}},n=yt.element(t,"blipFill"),i=yt.element(n,"blip"),s=yt.element(n,"srcRect");r.src=yt.attr(i,"embed"),s&&(r.srcRect=[yt.intAttr(s,"l",0)/1e5,yt.intAttr(s,"t",0)/1e5,yt.intAttr(s,"r",0)/1e5,yt.intAttr(s,"b",0)/1e5]);var a=yt.element(t,"spPr"),o=yt.element(a,"xfrm");if(r.cssStyle.position="relative",o){r.rotation=yt.intAttr(o,"rot",0)/6e4;for(var l of yt.elements(o))switch(l.localName){case"ext":r.cssStyle.width=yt.lengthAttr(l,"cx",sr.Emu),r.cssStyle.height=yt.lengthAttr(l,"cy",sr.Emu);break;case"off":r.cssStyle.left=yt.lengthAttr(l,"x",sr.Emu),r.cssStyle.top=yt.lengthAttr(l,"y",sr.Emu);break}}return r}parseTable(t){var r={type:Ct.Table,children:[]};for(const n of yt.elements(t))switch(n.localName){case"tr":r.children.push(this.parseTableRow(n));break;case"tblGrid":r.columns=this.parseTableColumns(n);break;case"tblPr":this.parseTableProperties(n,r);break}return r}parseTableColumns(t){var r=[];for(const n of yt.elements(t))switch(n.localName){case"gridCol":r.push({width:yt.lengthAttr(n,"w")});break}return r}parseTableProperties(t,r){switch(r.cssStyle={},r.cellStyle={},this.parseDefaultProperties(t,r.cssStyle,r.cellStyle,n=>{switch(n.localName){case"tblStyle":r.styleName=yt.attr(n,"val");break;case"tblLook":r.className=Be.classNameOftblLook(n);break;case"tblpPr":this.parseTablePosition(n,r);break;case"tblStyleColBandSize":r.colBandSize=yt.intAttr(n,"val");break;case"tblStyleRowBandSize":r.rowBandSize=yt.intAttr(n,"val");break;case"hidden":r.cssStyle.display="none";break;default:return!1}return!0}),r.cssStyle["text-align"]){case"center":delete r.cssStyle["text-align"],r.cssStyle["margin-left"]="auto",r.cssStyle["margin-right"]="auto";break;case"right":delete r.cssStyle["text-align"],r.cssStyle["margin-left"]="auto";break}}parseTablePosition(t,r){var n=yt.lengthAttr(t,"topFromText"),i=yt.lengthAttr(t,"bottomFromText"),s=yt.lengthAttr(t,"rightFromText"),a=yt.lengthAttr(t,"leftFromText");r.cssStyle.float="left",r.cssStyle["margin-bottom"]=Be.addSize(r.cssStyle["margin-bottom"],i),r.cssStyle["margin-left"]=Be.addSize(r.cssStyle["margin-left"],a),r.cssStyle["margin-right"]=Be.addSize(r.cssStyle["margin-right"],s),r.cssStyle["margin-top"]=Be.addSize(r.cssStyle["margin-top"],n)}parseTableRow(t){var r={type:Ct.Row,children:[]};for(const n of yt.elements(t))switch(n.localName){case"tc":r.children.push(this.parseTableCell(n));break;case"trPr":case"tblPrEx":this.parseTableRowProperties(n,r);break}return r}parseTableRowProperties(t,r){r.cssStyle=this.parseDefaultProperties(t,{},null,n=>{switch(n.localName){case"cnfStyle":r.className=Be.classNameOfCnfStyle(n);break;case"tblHeader":r.isHeader=yt.boolAttr(n,"val");break;case"gridBefore":r.gridBefore=yt.intAttr(n,"val");break;case"gridAfter":r.gridAfter=yt.intAttr(n,"val");break;default:return!1}return!0})}parseTableCell(t){var r={type:Ct.Cell,children:[]};for(const n of yt.elements(t))switch(n.localName){case"tbl":r.children.push(this.parseTable(n));break;case"p":r.children.push(this.parseParagraph(n));break;case"tcPr":this.parseTableCellProperties(n,r);break}return r}parseTableCellProperties(t,r){r.cssStyle=this.parseDefaultProperties(t,{},null,n=>{switch(n.localName){case"gridSpan":r.span=yt.intAttr(n,"val",null);break;case"vMerge":r.verticalMerge=yt.attr(n,"val")??"continue";break;case"cnfStyle":r.className=Be.classNameOfCnfStyle(n);break;default:return!1}return!0}),this.parseTableCellVerticalText(t,r)}parseTableCellVerticalText(t,r){const n={btLr:{writingMode:"vertical-rl",transform:"rotate(180deg)"},lrTb:{writingMode:"vertical-lr",transform:"none"},tbRl:{writingMode:"vertical-rl",transform:"none"}};for(const i of yt.elements(t))if(i.localName==="textDirection"){const s=yt.attr(i,"val"),a=n[s]||{writingMode:"horizontal-tb"};r.cssStyle["writing-mode"]=a.writingMode,r.cssStyle.transform=a.transform}}parseDefaultProperties(t,r=null,n=null,i=null){r=r||{};for(const s of yt.elements(t))if(!i?.(s))switch(s.localName){case"jc":r["text-align"]=Be.valueOfJc(s);break;case"textAlignment":r["vertical-align"]=Be.valueOfTextAlignment(s);break;case"color":r.color=Ga.colorAttr(s,"val",null,Ph.color);break;case"sz":r["font-size"]=r["min-height"]=yt.lengthAttr(s,"val",sr.FontSize);break;case"shd":r["background-color"]=Ga.colorAttr(s,"fill",null,Ph.shd);break;case"highlight":r["background-color"]=Ga.colorAttr(s,"val",null,Ph.highlight);break;case"vertAlign":break;case"position":r.verticalAlign=yt.lengthAttr(s,"val",sr.FontSize);break;case"tcW":if(this.options.ignoreWidth)break;case"tblW":r.width=Be.valueOfSize(s,"w");break;case"trHeight":this.parseTrHeight(s,r);break;case"strike":r["text-decoration"]=yt.boolAttr(s,"val",!0)?"line-through":"none";break;case"b":r["font-weight"]=yt.boolAttr(s,"val",!0)?"bold":"normal";break;case"i":r["font-style"]=yt.boolAttr(s,"val",!0)?"italic":"normal";break;case"caps":r["text-transform"]=yt.boolAttr(s,"val",!0)?"uppercase":"none";break;case"smallCaps":r["font-variant"]=yt.boolAttr(s,"val",!0)?"small-caps":"none";break;case"u":this.parseUnderline(s,r);break;case"ind":case"tblInd":this.parseIndentation(s,r);break;case"rFonts":this.parseFont(s,r);break;case"tblBorders":this.parseBorderProperties(s,n||r);break;case"tblCellSpacing":r["border-spacing"]=Be.valueOfMargin(s),r["border-collapse"]="separate";break;case"pBdr":this.parseBorderProperties(s,r);break;case"bdr":r.border=Be.valueOfBorder(s);break;case"tcBorders":this.parseBorderProperties(s,r);break;case"vanish":yt.boolAttr(s,"val",!0)&&(r.display="none");break;case"kern":break;case"noWrap":break;case"tblCellMar":case"tcMar":this.parseMarginProperties(s,n||r);break;case"tblLayout":r["table-layout"]=Be.valueOfTblLayout(s);break;case"vAlign":r["vertical-align"]=Be.valueOfTextAlignment(s);break;case"spacing":t.localName=="pPr"&&this.parseSpacing(s,r);break;case"wordWrap":yt.boolAttr(s,"val")&&(r["overflow-wrap"]="break-word");break;case"suppressAutoHyphens":r.hyphens=yt.boolAttr(s,"val",!0)?"none":"auto";break;case"lang":r.$lang=yt.attr(s,"val");break;case"rtl":case"bidi":yt.boolAttr(s,"val",!0)&&(r.direction="rtl");break;case"bCs":case"iCs":case"szCs":case"tabs":case"outlineLvl":case"contextualSpacing":case"tblStyleColBandSize":case"tblStyleRowBandSize":case"webHidden":case"pageBreakBefore":case"suppressLineNumbers":case"keepLines":case"keepNext":case"widowControl":case"bidi":case"rtl":case"noProof":break;default:this.options.debug&&console.warn(`DOCX: Unknown document element: ${t.localName}.${s.localName}`);break}return r}parseUnderline(t,r){var n=yt.attr(t,"val");if(n!=null){switch(n){case"dash":case"dashDotDotHeavy":case"dashDotHeavy":case"dashedHeavy":case"dashLong":case"dashLongHeavy":case"dotDash":case"dotDotDash":r["text-decoration"]="underline dashed";break;case"dotted":case"dottedHeavy":r["text-decoration"]="underline dotted";break;case"double":r["text-decoration"]="underline double";break;case"single":case"thick":r["text-decoration"]="underline";break;case"wave":case"wavyDouble":case"wavyHeavy":r["text-decoration"]="underline wavy";break;case"words":r["text-decoration"]="underline";break;case"none":r["text-decoration"]="none";break}var i=Ga.colorAttr(t,"color");i&&(r["text-decoration-color"]=i)}}parseFont(t,r){var n=yt.attr(t,"ascii"),i=Be.themeValue(t,"asciiTheme"),s=yt.attr(t,"eastAsia"),a=[n,i,s].filter(o=>o).map(o=>Hy(o));a.length>0&&(r["font-family"]=[...new Set(a)].join(", "))}parseIndentation(t,r){var n=yt.lengthAttr(t,"firstLine"),i=yt.lengthAttr(t,"hanging"),s=yt.lengthAttr(t,"left"),a=yt.lengthAttr(t,"start"),o=yt.lengthAttr(t,"right"),l=yt.lengthAttr(t,"end");n&&(r["text-indent"]=n),i&&(r["text-indent"]=`-${i}`),(s||a)&&(r["margin-inline-start"]=s||a),(o||l)&&(r["margin-inline-end"]=o||l)}parseSpacing(t,r){var n=yt.lengthAttr(t,"before"),i=yt.lengthAttr(t,"after"),s=yt.intAttr(t,"line",null),a=yt.attr(t,"lineRule");if(n&&(r["margin-top"]=n),i&&(r["margin-bottom"]=i),s!==null)switch(a){case"auto":r["line-height"]=`${(s/240).toFixed(2)}`;break;case"atLeast":r["line-height"]=`calc(100% + ${s/20}pt)`;break;default:r["line-height"]=r["min-height"]=`${s/20}pt`;break}}parseMarginProperties(t,r){for(const n of yt.elements(t))switch(n.localName){case"left":r["padding-left"]=Be.valueOfMargin(n);break;case"right":r["padding-right"]=Be.valueOfMargin(n);break;case"top":r["padding-top"]=Be.valueOfMargin(n);break;case"bottom":r["padding-bottom"]=Be.valueOfMargin(n);break}}parseTrHeight(t,r){switch(yt.attr(t,"hRule")){case"exact":r.height=yt.lengthAttr(t,"val");break;case"atLeast":default:r.height=yt.lengthAttr(t,"val");break}}parseBorderProperties(t,r){for(const n of yt.elements(t))switch(n.localName){case"start":case"left":r["border-left"]=Be.valueOfBorder(n);break;case"end":case"right":r["border-right"]=Be.valueOfBorder(n);break;case"top":r["border-top"]=Be.valueOfBorder(n);break;case"bottom":r["border-bottom"]=Be.valueOfBorder(n);break}}}const Egt=["black","blue","cyan","darkBlue","darkCyan","darkGray","darkGreen","darkMagenta","darkRed","darkYellow","green","lightGray","magenta","none","red","white","yellow"];class Ga{static colorAttr(t,r,n=null,i="black"){var s=yt.attr(t,r);if(s)return s=="auto"?i:Egt.includes(s)?s:`#${s}`;var a=yt.attr(t,"themeColor");return a?`var(--docx-${a}-color)`:n}}class Be{static themeValue(t,r){var n=yt.attr(t,r);return n?`var(--docx-${n}-font)`:null}static valueOfSize(t,r){var n=sr.Dxa;switch(yt.attr(t,"type")){case"dxa":break;case"pct":n=sr.Percent;break;case"auto":return"auto"}return yt.lengthAttr(t,r,n)}static valueOfMargin(t){return yt.lengthAttr(t,"w")}static valueOfBorder(t){var r=Be.parseBorderType(yt.attr(t,"val"));if(r=="none")return"none";var n=Ga.colorAttr(t,"color"),i=yt.lengthAttr(t,"sz",sr.Border);return`${i} ${r} ${n=="auto"?Ph.borderColor:n}`}static parseBorderType(t){switch(t){case"single":return"solid";case"dashDotStroked":return"solid";case"dashed":return"dashed";case"dashSmallGap":return"dashed";case"dotDash":return"dotted";case"dotDotDash":return"dotted";case"dotted":return"dotted";case"double":return"double";case"doubleWave":return"double";case"inset":return"inset";case"nil":return"none";case"none":return"none";case"outset":return"outset";case"thick":return"solid";case"thickThinLargeGap":return"solid";case"thickThinMediumGap":return"solid";case"thickThinSmallGap":return"solid";case"thinThickLargeGap":return"solid";case"thinThickMediumGap":return"solid";case"thinThickSmallGap":return"solid";case"thinThickThinLargeGap":return"solid";case"thinThickThinMediumGap":return"solid";case"thinThickThinSmallGap":return"solid";case"threeDEmboss":return"solid";case"threeDEngrave":return"solid";case"triple":return"double";case"wave":return"solid"}return"solid"}static valueOfTblLayout(t){var r=yt.attr(t,"val");return r=="fixed"?"fixed":"auto"}static classNameOfCnfStyle(t){const r=yt.attr(t,"val");return["first-row","last-row","first-col","last-col","odd-col","even-col","odd-row","even-row","ne-cell","nw-cell","se-cell","sw-cell"].filter((i,s)=>r[s]=="1").join(" ")}static valueOfJc(t){var r=yt.attr(t,"val");switch(r){case"start":case"left":return"left";case"center":return"center";case"end":case"right":return"right";case"both":return"justify"}return r}static valueOfVertAlign(t,r=!1){var n=yt.attr(t,"val");switch(n){case"subscript":return"sub";case"superscript":return r?"sup":"super"}return r?null:n}static valueOfTextAlignment(t){var r=yt.attr(t,"val");switch(r){case"auto":case"baseline":return"baseline";case"top":return"top";case"center":return"middle";case"bottom":return"bottom"}return r}static addSize(t,r){return t==null?r:r==null?t:`calc(${t} + ${r})`}static classNameOftblLook(t){const r=yt.hexAttr(t,"val",0);let n="";return(yt.boolAttr(t,"firstRow")||r&32)&&(n+=" first-row"),(yt.boolAttr(t,"lastRow")||r&64)&&(n+=" last-row"),(yt.boolAttr(t,"firstColumn")||r&128)&&(n+=" first-col"),(yt.boolAttr(t,"lastColumn")||r&256)&&(n+=" last-col"),(yt.boolAttr(t,"noHBand")||r&512)&&(n+=" no-hband"),(yt.boolAttr(t,"noVBand")||r&1024)&&(n+=" no-vband"),n.trim()}}const MA={pos:0,leader:"none",style:"left"},wgt=50;function xgt(e=document.body){const t=document.createElement("div");t.style.width="100pt",e.appendChild(t);const r=100/t.offsetWidth;return e.removeChild(t),r}function Tgt(e,t,r,n=72/96){const i=e.closest("p"),s=e.getBoundingClientRect(),a=i.getBoundingClientRect(),o=getComputedStyle(i),l=t?.length>0?t.map(b=>({pos:FA(b.position),leader:b.leader,style:b.style})).sort((b,_)=>b.pos-_.pos):[MA],u=l[l.length-1],c=a.width*n,h=FA(r);let f=u.pos+h;if(f<c)for(;f<c&&l.length<wgt;f+=h)l.push({...MA,pos:f});const d=parseFloat(o.marginLeft),p=a.left+d,g=(s.left-p)*n,y=l.find(b=>b.style!="clear"&&b.pos>g);if(y==null)return;let m=1;if(y.style=="right"||y.style=="center"){const b=Array.from(i.querySelectorAll(`.${e.className}`)),_=b.indexOf(e)+1,T=document.createRange();T.setStart(e,1),_<b.length?T.setEndBefore(b[_]):T.setEndAfter(i);const C=y.style=="center"?.5:1,L=T.getBoundingClientRect(),N=L.left+C*L.width-(a.left-d);m=y.pos-N*n}else m=y.pos-g;switch(e.innerHTML="&nbsp;",e.style.textDecoration="inherit",e.style.wordSpacing=`${m.toFixed(0)}pt`,y.leader){case"dot":case"middleDot":e.style.textDecoration="underline",e.style.textDecorationStyle="dotted";break;case"hyphen":case"heavy":case"underscore":e.style.textDecoration="underline";break}}function FA(e){return parseFloat(e)}const we={svg:"http://www.w3.org/2000/svg",mathML:"http://www.w3.org/1998/Math/MathML"};class vgt{constructor(t){this.htmlDocument=t,this.className="docx",this.styleMap={},this.currentPart=null,this.tableVerticalMerges=[],this.currentVerticalMerge=null,this.tableCellPositions=[],this.currentCellPosition=null,this.footnoteMap={},this.endnoteMap={},this.currentEndnoteIds=[],this.usedHederFooterParts=[],this.currentTabs=[],this.commentMap={},this.tasks=[],this.postRenderTasks=[]}async render(t,r,n=null,i){this.document=t,this.options=i,this.className=i.className,this.rootSelector=i.inWrapper?`.${this.className}-wrapper`:":root",this.styleMap=null,this.tasks=[],this.options.renderComments&&globalThis.Highlight&&(this.commentHighlight=new Highlight),n=n||r,UA(n),UA(r),n.appendChild(this.createComment("docxjs library predefined styles")),n.appendChild(this.renderDefaultStyle()),t.themePart&&(n.appendChild(this.createComment("docxjs document theme values")),this.renderTheme(t.themePart,n)),t.stylesPart!=null&&(this.styleMap=this.processStyles(t.stylesPart.styles),n.appendChild(this.createComment("docxjs document styles")),n.appendChild(this.renderStyles(t.stylesPart.styles))),t.numberingPart&&(this.prodessNumberings(t.numberingPart.domNumberings),n.appendChild(this.createComment("docxjs document numbering styles")),n.appendChild(this.renderNumbering(t.numberingPart.domNumberings,n))),t.footnotesPart&&(this.footnoteMap=ls(t.footnotesPart.notes,a=>a.id)),t.endnotesPart&&(this.endnoteMap=ls(t.endnotesPart.notes,a=>a.id)),t.settingsPart&&(this.defaultTabSize=t.settingsPart.settings?.defaultTabStop),!i.ignoreFonts&&t.fontTablePart&&this.renderFontTable(t.fontTablePart,n);var s=this.renderSections(t.documentPart.body);this.options.inWrapper?r.appendChild(this.renderWrapper(s)):c0(r,s),this.commentHighlight&&i.renderComments&&CSS.highlights.set(`${this.className}-comments`,this.commentHighlight),this.postRenderTasks.forEach(a=>a()),await Promise.allSettled(this.tasks),this.refreshTabStops()}renderTheme(t,r){const n={},i=t.theme?.fontScheme;i&&(i.majorFont&&(n["--docx-majorHAnsi-font"]=i.majorFont.latinTypeface),i.minorFont&&(n["--docx-minorHAnsi-font"]=i.minorFont.latinTypeface));const s=t.theme?.colorScheme;if(s)for(let[o,l]of Object.entries(s.colors))n[`--docx-${o}-color`]=`#${l}`;const a=this.styleToString(`.${this.className}`,n);r.appendChild(this.createStyleElement(a))}renderFontTable(t,r){for(let n of t.fonts)for(let i of n.embedFontRefs)this.tasks.push(this.document.loadFont(i.id,i.key).then(s=>{const a={"font-family":Hy(n.name),src:`url(${s})`};(i.type=="bold"||i.type=="boldItalic")&&(a["font-weight"]="bold"),(i.type=="italic"||i.type=="boldItalic")&&(a["font-style"]="italic");const o=this.styleToString("@font-face",a);r.appendChild(this.createComment(`docxjs ${n.name} font`)),r.appendChild(this.createStyleElement(o))}))}processStyleName(t){return t?`${this.className}_${lmt(t)}`:this.className}processStyles(t){const r=ls(t.filter(i=>i.id!=null),i=>i.id);for(const i of t.filter(s=>s.basedOn)){var n=r[i.basedOn];if(n){i.paragraphProps=Xd(i.paragraphProps,n.paragraphProps),i.runProps=Xd(i.runProps,n.runProps);for(const s of n.styles){const a=i.styles.find(o=>o.target==s.target);a?this.copyStyleProperties(s.values,a.values):i.styles.push({...s,values:{...s.values}})}}else this.options.debug&&console.warn(`Can't find base style ${i.basedOn}`)}for(let i of t)i.cssName=this.processStyleName(i.id);return r}prodessNumberings(t){for(let r of t.filter(n=>n.pStyleName)){const n=this.findStyle(r.pStyleName);n?.paragraphProps?.numbering&&(n.paragraphProps.numbering.level=r.level)}}processElement(t){if(t.children)for(var r of t.children)r.parent=t,r.type==Ct.Table?this.processTable(r):this.processElement(r)}processTable(t){for(var r of t.children)for(var n of r.children)n.cssStyle=this.copyStyleProperties(t.cellStyle,n.cssStyle,["border-left","border-right","border-top","border-bottom","padding-left","padding-right","padding-top","padding-bottom"]),this.processElement(n)}copyStyleProperties(t,r,n=null){if(!t)return r;r==null&&(r={}),n==null&&(n=Object.getOwnPropertyNames(t));for(var i of n)t.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=t[i]);return r}createPageElement(t,r){var n=this.createElement("section",{className:t});return r&&(r.pageMargins&&(n.style.paddingLeft=r.pageMargins.left,n.style.paddingRight=r.pageMargins.right,n.style.paddingTop=r.pageMargins.top,n.style.paddingBottom=r.pageMargins.bottom),r.pageSize&&(this.options.ignoreWidth||(n.style.width=r.pageSize.width),this.options.ignoreHeight||(n.style.minHeight=r.pageSize.height))),n}createSectionContent(t){var r=this.createElement("article");return t.columns&&t.columns.numberOfColumns&&(r.style.columnCount=`${t.columns.numberOfColumns}`,r.style.columnGap=t.columns.space,t.columns.separator&&(r.style.columnRule="1px solid black")),r}renderSections(t){const r=[];this.processElement(t);const n=this.splitBySection(t.children,t.props),i=this.groupByPageBreaks(n);let s=null;for(let o=0,l=i.length;o<l;o++){this.currentFootnoteIds=[];let c=i[o][0].sectProps;const h=this.createPageElement(this.className,c);this.renderStyleValues(t.cssStyle,h),this.options.renderHeaders&&this.renderHeaderFooter(c.headerRefs,c,r.length,s!=c,h);for(const f of i[o]){var a=this.createSectionContent(f.sectProps);this.renderElements(f.elements,a),h.appendChild(a),c=f.sectProps}this.options.renderFootnotes&&this.renderNotes(this.currentFootnoteIds,this.footnoteMap,h),this.options.renderEndnotes&&o==l-1&&this.renderNotes(this.currentEndnoteIds,this.endnoteMap,h),this.options.renderFooters&&this.renderHeaderFooter(c.footerRefs,c,r.length,s!=c,h),r.push(h),s=c}return r}renderHeaderFooter(t,r,n,i,s){if(t){var a=(r.titlePage&&i?t.find(l=>l.type=="first"):null)??(n%2==1?t.find(l=>l.type=="even"):null)??t.find(l=>l.type=="default"),o=a&&this.document.findPartByRelId(a.id,this.document.documentPart);if(o){this.currentPart=o,this.usedHederFooterParts.includes(o.path)||(this.processElement(o.rootElement),this.usedHederFooterParts.push(o.path));const[l]=this.renderElements([o.rootElement],s);r?.pageMargins&&(o.rootElement.type===Ct.Header?(l.style.marginTop=`calc(${r.pageMargins.header} - ${r.pageMargins.top})`,l.style.minHeight=`calc(${r.pageMargins.top} - ${r.pageMargins.header})`):o.rootElement.type===Ct.Footer&&(l.style.marginBottom=`calc(${r.pageMargins.footer} - ${r.pageMargins.bottom})`,l.style.minHeight=`calc(${r.pageMargins.bottom} - ${r.pageMargins.footer})`)),this.currentPart=null}}}isPageBreakElement(t){return t.type!=Ct.Break?!1:t.break=="lastRenderedPageBreak"?!this.options.ignoreLastRenderedPageBreak:t.break=="page"}isPageBreakSection(t,r){return!t||!r?!1:t.pageSize?.orientation!=r.pageSize?.orientation||t.pageSize?.width!=r.pageSize?.width||t.pageSize?.height!=r.pageSize?.height}splitBySection(t,r){var n={sectProps:null,elements:[],pageBreak:!1},i=[n];for(let h of t)if(h.type==Ct.Paragraph&&this.findStyle(h.styleName)?.paragraphProps?.pageBreakBefore&&(n.sectProps=s,n.pageBreak=!0,n={sectProps:null,elements:[],pageBreak:!1},i.push(n)),n.elements.push(h),h.type==Ct.Paragraph){const f=h;var s=f.sectionProps,a=-1,o=-1;if(this.options.breakPages&&f.children&&(a=f.children.findIndex(d=>(o=d.children?.findIndex(this.isPageBreakElement.bind(this))??-1,o!=-1))),(s||a!=-1)&&(n.sectProps=s,n.pageBreak=a!=-1,n={sectProps:null,elements:[],pageBreak:!1},i.push(n)),a!=-1){let d=f.children[a],p=o<d.children.length-1;if(a<f.children.length-1||p){var l=h.children,u={...h,children:l.slice(a)};if(h.children=l.slice(0,a),n.elements.push(u),p){let g=d.children,y={...d,children:g.slice(0,o)};h.children.push(y),d.children=g.slice(o)}}}}let c=null;for(let h=i.length-1;h>=0;h--)i[h].sectProps==null?i[h].sectProps=c??r:c=i[h].sectProps;return i}groupByPageBreaks(t){let r=[],n;const i=[r];for(let s of t)r.push(s),(this.options.ignoreLastRenderedPageBreak||s.pageBreak||this.isPageBreakSection(n,s.sectProps))&&i.push(r=[]),n=s.sectProps;return i.filter(s=>s.length>0)}renderWrapper(t){return this.createElement("div",{className:`${this.className}-wrapper`},t)}renderDefaultStyle(){var t=this.className,r=`
.${t}-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } 
.${t}-wrapper>section.${t} { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }`;this.options.hideWrapperOnPrint&&(r=`@media not print { ${r} }`);var n=`${r}
.${t} { color: black; hyphens: auto; text-underline-position: from-font; }
section.${t} { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }
section.${t}>article { margin-bottom: auto; z-index: 1; }
section.${t}>footer { z-index: 1; }
.${t} table { border-collapse: collapse; }
.${t} table td, .${t} table th { vertical-align: top; }
.${t} p { margin: 0pt; min-height: 1em; }
.${t} span { white-space: pre-wrap; overflow-wrap: break-word; }
.${t} a { color: inherit; text-decoration: inherit; }
.${t} svg { fill: transparent; }
`;return this.options.renderComments&&(n+=`
.${t}-comment-ref { cursor: default; }
.${t}-comment-popover { display: none; z-index: 1000; padding: 0.5rem; background: white; position: absolute; box-shadow: 0 0 0.25rem rgba(0, 0, 0, 0.25); width: 30ch; }
.${t}-comment-ref:hover~.${t}-comment-popover { display: block; }
.${t}-comment-author,.${t}-comment-date { font-size: 0.875rem; color: #888; }
`),this.createStyleElement(n)}renderNumbering(t,r){var n="",i=[];for(var s of t){var a=`p.${this.numberingClass(s.id,s.level)}`,o="none";if(s.bullet){let l=`--${this.className}-${s.bullet.src}`.toLowerCase();n+=this.styleToString(`${a}:before`,{content:"' '",display:"inline-block",background:`var(${l})`},s.bullet.style),this.tasks.push(this.document.loadNumberingImage(s.bullet.src).then(u=>{var c=`${this.rootSelector} { ${l}: url(${u}) }`;r.appendChild(this.createStyleElement(c))}))}else if(s.levelText){let l=this.numberingCounter(s.id,s.level);const u=l+" "+(s.start-1);s.level>0&&(n+=this.styleToString(`p.${this.numberingClass(s.id,s.level-1)}`,{"counter-set":u})),i.push(u),n+=this.styleToString(`${a}:before`,{content:this.levelTextToContent(s.levelText,s.suff,s.id,this.numFormatToCssValue(s.format)),"counter-increment":l,...s.rStyle})}else o=this.numFormatToCssValue(s.format);n+=this.styleToString(a,{display:"list-item","list-style-position":"inside","list-style-type":o,...s.pStyle})}return i.length>0&&(n+=this.styleToString(this.rootSelector,{"counter-reset":i.join(" ")})),this.createStyleElement(n)}renderStyles(t){var r="";const n=this.styleMap,i=ls(t.filter(l=>l.isDefault),l=>l.target);for(const l of t){var s=l.styles;if(l.linked){var a=l.linked&&n[l.linked];a?s=s.concat(a.styles):this.options.debug&&console.warn(`Can't find linked style ${l.linked}`)}for(const u of s){var o=`${l.target??""}.${l.cssName}`;l.target!=u.target&&(o+=` ${u.target}`),i[l.target]==l&&(o=`.${this.className} ${l.target}, `+o),r+=this.styleToString(o,u.values)}}return this.createStyleElement(r)}renderNotes(t,r,n){var i=t.map(a=>r[a]).filter(a=>a);if(i.length>0){var s=this.createElement("ol",null,this.renderElements(i));n.appendChild(s)}}renderElement(t){switch(t.type){case Ct.Paragraph:return this.renderParagraph(t);case Ct.BookmarkStart:return this.renderBookmarkStart(t);case Ct.BookmarkEnd:return null;case Ct.Run:return this.renderRun(t);case Ct.Table:return this.renderTable(t);case Ct.Row:return this.renderTableRow(t);case Ct.Cell:return this.renderTableCell(t);case Ct.Hyperlink:return this.renderHyperlink(t);case Ct.SmartTag:return this.renderSmartTag(t);case Ct.Drawing:return this.renderDrawing(t);case Ct.Image:return this.renderImage(t);case Ct.Text:return this.renderText(t);case Ct.Text:return this.renderText(t);case Ct.DeletedText:return this.renderDeletedText(t);case Ct.Tab:return this.renderTab(t);case Ct.Symbol:return this.renderSymbol(t);case Ct.Break:return this.renderBreak(t);case Ct.Footer:return this.renderContainer(t,"footer");case Ct.Header:return this.renderContainer(t,"header");case Ct.Footnote:case Ct.Endnote:return this.renderContainer(t,"li");case Ct.FootnoteReference:return this.renderFootnoteReference(t);case Ct.EndnoteReference:return this.renderEndnoteReference(t);case Ct.NoBreakHyphen:return this.createElement("wbr");case Ct.VmlPicture:return this.renderVmlPicture(t);case Ct.VmlElement:return this.renderVmlElement(t);case Ct.MmlMath:return this.renderContainerNS(t,we.mathML,"math",{xmlns:we.mathML});case Ct.MmlMathParagraph:return this.renderContainer(t,"span");case Ct.MmlFraction:return this.renderContainerNS(t,we.mathML,"mfrac");case Ct.MmlBase:return this.renderContainerNS(t,we.mathML,t.parent.type==Ct.MmlMatrixRow?"mtd":"mrow");case Ct.MmlNumerator:case Ct.MmlDenominator:case Ct.MmlFunction:case Ct.MmlLimit:case Ct.MmlBox:return this.renderContainerNS(t,we.mathML,"mrow");case Ct.MmlGroupChar:return this.renderMmlGroupChar(t);case Ct.MmlLimitLower:return this.renderContainerNS(t,we.mathML,"munder");case Ct.MmlMatrix:return this.renderContainerNS(t,we.mathML,"mtable");case Ct.MmlMatrixRow:return this.renderContainerNS(t,we.mathML,"mtr");case Ct.MmlRadical:return this.renderMmlRadical(t);case Ct.MmlSuperscript:return this.renderContainerNS(t,we.mathML,"msup");case Ct.MmlSubscript:return this.renderContainerNS(t,we.mathML,"msub");case Ct.MmlDegree:case Ct.MmlSuperArgument:case Ct.MmlSubArgument:return this.renderContainerNS(t,we.mathML,"mn");case Ct.MmlFunctionName:return this.renderContainerNS(t,we.mathML,"ms");case Ct.MmlDelimiter:return this.renderMmlDelimiter(t);case Ct.MmlRun:return this.renderMmlRun(t);case Ct.MmlNary:return this.renderMmlNary(t);case Ct.MmlPreSubSuper:return this.renderMmlPreSubSuper(t);case Ct.MmlBar:return this.renderMmlBar(t);case Ct.MmlEquationArray:return this.renderMllList(t);case Ct.Inserted:return this.renderInserted(t);case Ct.Deleted:return this.renderDeleted(t);case Ct.CommentRangeStart:return this.renderCommentRangeStart(t);case Ct.CommentRangeEnd:return this.renderCommentRangeEnd(t);case Ct.CommentReference:return this.renderCommentReference(t);case Ct.AltChunk:return this.renderAltChunk(t)}return null}renderElements(t,r){if(t==null)return null;var n=t.flatMap(i=>this.renderElement(i)).filter(i=>i!=null);return r&&c0(r,n),n}renderContainer(t,r,n){return this.createElement(r,n,this.renderElements(t.children))}renderContainerNS(t,r,n,i){return this.createElementNS(r,n,i,this.renderElements(t.children))}renderParagraph(t){var r=this.renderContainer(t,"p");const n=this.findStyle(t.styleName);t.tabs??(t.tabs=n?.paragraphProps?.tabs),this.renderClass(t,r),this.renderStyleValues(t.cssStyle,r),this.renderCommonProperties(r.style,t);const i=t.numbering??n?.paragraphProps?.numbering;return i&&r.classList.add(this.numberingClass(i.id,i.level)),r}renderRunProperties(t,r){this.renderCommonProperties(t,r)}renderCommonProperties(t,r){r!=null&&(r.color&&(t.color=r.color),r.fontSize&&(t["font-size"]=r.fontSize))}renderHyperlink(t){var r=this.renderContainer(t,"a");this.renderStyleValues(t.cssStyle,r);let n="";return t.id&&(n=this.document.documentPart.rels.find(s=>s.id==t.id&&s.targetMode==="External")?.target??n),t.anchor&&(n+=`#${t.anchor}`),r.href=n,r}renderSmartTag(t){return this.renderContainer(t,"span")}renderCommentRangeStart(t){if(!this.options.renderComments)return null;const r=new Range;this.commentHighlight?.add(r);const n=this.createComment(`start of comment #${t.id}`);return this.later(()=>r.setStart(n,0)),this.commentMap[t.id]=r,n}renderCommentRangeEnd(t){if(!this.options.renderComments)return null;const r=this.commentMap[t.id],n=this.createComment(`end of comment #${t.id}`);return this.later(()=>r?.setEnd(n,0)),n}renderCommentReference(t){if(!this.options.renderComments)return null;var r=this.document.commentsPart?.commentMap[t.id];if(!r)return null;const n=new DocumentFragment,i=this.createElement("span",{className:`${this.className}-comment-ref`},["ð¬"]),s=this.createElement("div",{className:`${this.className}-comment-popover`});return this.renderCommentContent(r,s),n.appendChild(this.createComment(`comment #${r.id} by ${r.author} on ${r.date}`)),n.appendChild(i),n.appendChild(s),n}renderAltChunk(t){if(!this.options.renderAltChunks)return null;var r=this.createElement("iframe");return this.tasks.push(this.document.loadAltChunk(t.id,this.currentPart).then(n=>{r.srcdoc=n})),r}renderCommentContent(t,r){r.appendChild(this.createElement("div",{className:`${this.className}-comment-author`},[t.author])),r.appendChild(this.createElement("div",{className:`${this.className}-comment-date`},[new Date(t.date).toLocaleString()])),this.renderElements(t.children,r)}renderDrawing(t){var r=this.renderContainer(t,"div");return r.style.display="inline-block",r.style.position="relative",r.style.textIndent="0px",this.renderStyleValues(t.cssStyle,r),r}renderImage(t){let r=this.createElement("img"),n=t.cssStyle?.transform;if(this.renderStyleValues(t.cssStyle,r),t.srcRect&&t.srcRect.some(l=>l!=0)){var[i,s,a,o]=t.srcRect;n=`scale(${1/(1-i-a)}, ${1/(1-s-o)})`,r.style["clip-path"]=`rect(${(100*s).toFixed(2)}% ${(100*(1-a)).toFixed(2)}% ${(100*(1-o)).toFixed(2)}% ${(100*i).toFixed(2)}%)`}return t.rotation&&(n=`rotate(${t.rotation}deg) ${n??""}`),r.style.transform=n?.trim(),this.document&&this.tasks.push(this.document.loadDocumentImage(t.src,this.currentPart).then(l=>{r.src=l})),r}renderText(t){return this.htmlDocument.createTextNode(t.text)}renderDeletedText(t){return this.options.renderChanges?this.renderText(t):null}renderBreak(t){return t.break=="textWrapping"?this.createElement("br"):null}renderInserted(t){return this.options.renderChanges?this.renderContainer(t,"ins"):this.renderElements(t.children)}renderDeleted(t){return this.options.renderChanges?this.renderContainer(t,"del"):null}renderSymbol(t){var r=this.createElement("span");return r.style.fontFamily=t.font,r.innerHTML=`&#x${t.char};`,r}renderFootnoteReference(t){var r=this.createElement("sup");return this.currentFootnoteIds.push(t.id),r.textContent=`${this.currentFootnoteIds.length}`,r}renderEndnoteReference(t){var r=this.createElement("sup");return this.currentEndnoteIds.push(t.id),r.textContent=`${this.currentEndnoteIds.length}`,r}renderTab(t){var r=this.createElement("span");if(r.innerHTML="&emsp;",this.options.experimental){r.className=this.tabStopClass();var n=Agt(t,Ct.Paragraph)?.tabs;this.currentTabs.push({stops:n,span:r})}return r}renderBookmarkStart(t){return this.createElement("span",{id:t.name})}renderRun(t){if(t.fieldRun)return null;const r=this.createElement("span");if(t.id&&(r.id=t.id),this.renderClass(t,r),this.renderStyleValues(t.cssStyle,r),t.verticalAlign){const n=this.createElement(t.verticalAlign);this.renderElements(t.children,n),r.appendChild(n)}else this.renderElements(t.children,r);return r}renderTable(t){let r=this.createElement("table");return this.tableCellPositions.push(this.currentCellPosition),this.tableVerticalMerges.push(this.currentVerticalMerge),this.currentVerticalMerge={},this.currentCellPosition={col:0,row:0},t.columns&&r.appendChild(this.renderTableColumns(t.columns)),this.renderClass(t,r),this.renderElements(t.children,r),this.renderStyleValues(t.cssStyle,r),this.currentVerticalMerge=this.tableVerticalMerges.pop(),this.currentCellPosition=this.tableCellPositions.pop(),r}renderTableColumns(t){let r=this.createElement("colgroup");for(let n of t){let i=this.createElement("col");n.width&&(i.style.width=n.width),r.appendChild(i)}return r}renderTableRow(t){let r=this.createElement("tr");return this.currentCellPosition.col=0,t.gridBefore&&r.appendChild(this.renderTableCellPlaceholder(t.gridBefore)),this.renderClass(t,r),this.renderElements(t.children,r),this.renderStyleValues(t.cssStyle,r),t.gridAfter&&r.appendChild(this.renderTableCellPlaceholder(t.gridAfter)),this.currentCellPosition.row++,r}renderTableCellPlaceholder(t){const r=this.createElement("td",{colSpan:t});return r.style.border="none",r}renderTableCell(t){let r=this.renderContainer(t,"td");const n=this.currentCellPosition.col;return t.verticalMerge?t.verticalMerge=="restart"?(this.currentVerticalMerge[n]=r,r.rowSpan=1):this.currentVerticalMerge[n]&&(this.currentVerticalMerge[n].rowSpan+=1,r.style.display="none"):this.currentVerticalMerge[n]=null,this.renderClass(t,r),this.renderStyleValues(t.cssStyle,r),t.span&&(r.colSpan=t.span),this.currentCellPosition.col+=r.colSpan,r}renderVmlPicture(t){return this.renderContainer(t,"div")}renderVmlElement(t){var r=this.createSvgElement("svg");r.setAttribute("style",t.cssStyleText);const n=this.renderVmlChildElement(t);return t.imageHref?.id&&this.tasks.push(this.document?.loadDocumentImage(t.imageHref.id,this.currentPart).then(i=>n.setAttribute("href",i))),r.appendChild(n),requestAnimationFrame(()=>{const i=r.firstElementChild.getBBox();r.setAttribute("width",`${Math.ceil(i.x+i.width)}`),r.setAttribute("height",`${Math.ceil(i.y+i.height)}`)}),r}renderVmlChildElement(t){const r=this.createSvgElement(t.tagName);Object.entries(t.attrs).forEach(([n,i])=>r.setAttribute(n,i));for(let n of t.children)n.type==Ct.VmlElement?r.appendChild(this.renderVmlChildElement(n)):r.appendChild(...Cl(this.renderElement(n)));return r}renderMmlRadical(t){const r=t.children.find(i=>i.type==Ct.MmlBase);if(t.props?.hideDegree)return this.createElementNS(we.mathML,"msqrt",null,this.renderElements([r]));const n=t.children.find(i=>i.type==Ct.MmlDegree);return this.createElementNS(we.mathML,"mroot",null,this.renderElements([r,n]))}renderMmlDelimiter(t){const r=[];return r.push(this.createElementNS(we.mathML,"mo",null,[t.props.beginChar??"("])),r.push(...this.renderElements(t.children)),r.push(this.createElementNS(we.mathML,"mo",null,[t.props.endChar??")"])),this.createElementNS(we.mathML,"mrow",null,r)}renderMmlNary(t){const r=[],n=ls(t.children,u=>u.type),i=n[Ct.MmlSuperArgument],s=n[Ct.MmlSubArgument],a=i?this.createElementNS(we.mathML,"mo",null,Cl(this.renderElement(i))):null,o=s?this.createElementNS(we.mathML,"mo",null,Cl(this.renderElement(s))):null,l=this.createElementNS(we.mathML,"mo",null,[t.props?.char??"â«"]);return a||o?r.push(this.createElementNS(we.mathML,"munderover",null,[l,o,a])):a?r.push(this.createElementNS(we.mathML,"mover",null,[l,a])):o?r.push(this.createElementNS(we.mathML,"munder",null,[l,o])):r.push(l),r.push(...this.renderElements(n[Ct.MmlBase].children)),this.createElementNS(we.mathML,"mrow",null,r)}renderMmlPreSubSuper(t){const r=[],n=ls(t.children,u=>u.type),i=n[Ct.MmlSuperArgument],s=n[Ct.MmlSubArgument],a=i?this.createElementNS(we.mathML,"mo",null,Cl(this.renderElement(i))):null,o=s?this.createElementNS(we.mathML,"mo",null,Cl(this.renderElement(s))):null,l=this.createElementNS(we.mathML,"mo",null);return r.push(this.createElementNS(we.mathML,"msubsup",null,[l,o,a])),r.push(...this.renderElements(n[Ct.MmlBase].children)),this.createElementNS(we.mathML,"mrow",null,r)}renderMmlGroupChar(t){const r=t.props.verticalJustification==="bot"?"mover":"munder",n=this.renderContainerNS(t,we.mathML,r);return t.props.char&&n.appendChild(this.createElementNS(we.mathML,"mo",null,[t.props.char])),n}renderMmlBar(t){const r=this.renderContainerNS(t,we.mathML,"mrow");switch(t.props.position){case"top":r.style.textDecoration="overline";break;case"bottom":r.style.textDecoration="underline";break}return r}renderMmlRun(t){const r=this.createElementNS(we.mathML,"ms",null,this.renderElements(t.children));return this.renderClass(t,r),this.renderStyleValues(t.cssStyle,r),r}renderMllList(t){const r=this.createElementNS(we.mathML,"mtable");this.renderClass(t,r),this.renderStyleValues(t.cssStyle,r);for(let n of this.renderElements(t.children))r.appendChild(this.createElementNS(we.mathML,"mtr",null,[this.createElementNS(we.mathML,"mtd",null,[n])]));return r}renderStyleValues(t,r){for(let n in t)n.startsWith("$")?r.setAttribute(n.slice(1),t[n]):r.style[n]=t[n]}renderClass(t,r){t.className&&(r.className=t.className),t.styleName&&r.classList.add(this.processStyleName(t.styleName))}findStyle(t){return t&&this.styleMap?.[t]}numberingClass(t,r){return`${this.className}-num-${t}-${r}`}tabStopClass(){return`${this.className}-tab-stop`}styleToString(t,r,n=null){let i=`${t} {\r
`;for(const s in r)s.startsWith("$")||(i+=`  ${s}: ${r[s]};\r
`);return n&&(i+=n),i+`}\r
`}numberingCounter(t,r){return`${this.className}-num-${t}-${r}`}levelTextToContent(t,r,n,i){const s={tab:"\\9",space:"\\a0"};var a=t.replace(/%\d*/g,o=>{let l=parseInt(o.substring(1),10)-1;return`"counter(${this.numberingCounter(n,l)}, ${i})"`});return`"${a}${s[r]??""}"`}numFormatToCssValue(t){var r={none:"none",bullet:"disc",decimal:"decimal",lowerLetter:"lower-alpha",upperLetter:"upper-alpha",lowerRoman:"lower-roman",upperRoman:"upper-roman",decimalZero:"decimal-leading-zero",aiueo:"katakana",aiueoFullWidth:"katakana",chineseCounting:"simp-chinese-informal",chineseCountingThousand:"simp-chinese-informal",chineseLegalSimplified:"simp-chinese-formal",chosung:"hangul-consonant",ideographDigital:"cjk-ideographic",ideographTraditional:"cjk-heavenly-stem",ideographLegalTraditional:"trad-chinese-formal",ideographZodiac:"cjk-earthly-branch",iroha:"katakana-iroha",irohaFullWidth:"katakana-iroha",japaneseCounting:"japanese-informal",japaneseDigitalTenThousand:"cjk-decimal",japaneseLegal:"japanese-formal",thaiNumbers:"thai",koreanCounting:"korean-hangul-formal",koreanDigital:"korean-hangul-formal",koreanDigital2:"korean-hanja-informal",hebrew1:"hebrew",hebrew2:"hebrew",hindiNumbers:"devanagari",ganada:"hangul",taiwaneseCounting:"cjk-ideographic",taiwaneseCountingThousand:"cjk-ideographic",taiwaneseDigital:"cjk-decimal"};return r[t]??t}refreshTabStops(){this.options.experimental&&setTimeout(()=>{const t=xgt();for(let r of this.currentTabs)Tgt(r.span,r.stops,this.defaultTabSize,t)},500)}createElementNS(t,r,n,i){var s=t?this.htmlDocument.createElementNS(t,r):this.htmlDocument.createElement(r);return Object.assign(s,n),i&&c0(s,i),s}createElement(t,r,n){return this.createElementNS(void 0,t,r,n)}createSvgElement(t,r,n){return this.createElementNS(we.svg,t,r,n)}createStyleElement(t){return this.createElement("style",{innerHTML:t})}createComment(t){return this.htmlDocument.createComment(t)}later(t){this.postRenderTasks.push(t)}}function UA(e){e.innerHTML=""}function c0(e,t){t.forEach(r=>e.appendChild(cmt(r)?document.createTextNode(r):r))}function Agt(e,t){for(var r=e.parent;r!=null&&r.type!=t;)r=r.parent;return r}const B6={ignoreHeight:!1,ignoreWidth:!1,ignoreFonts:!1,breakPages:!0,debug:!1,experimental:!1,className:"docx",inWrapper:!0,hideWrapperOnPrint:!1,trimXmlDeclaration:!0,ignoreLastRenderedPageBreak:!0,renderHeaders:!0,renderFooters:!0,renderFootnotes:!0,renderEndnotes:!0,useBase64URL:!1,renderChanges:!1,renderComments:!1,renderAltChunks:!0};function Cgt(e,t){const r={...B6,...t};return J2.load(e,new _gt(r),r)}async function kgt(e,t,r,n){const i={...B6,...n};return await new vgt(window.document).render(e,t,r,i)}async function Sgt(e,t,r,n){const i=await Cgt(e,n);return await kgt(i,t,r,n),i}var h0,HA;function Igt(){if(HA)return h0;HA=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l=typeof Dn=="object"&&Dn&&Dn.Object===Object&&Dn,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),h=Object.prototype,f=h.toString,d=Math.max,p=Math.min,g=function(){return c.Date.now()};function y(C,L,N){var z,R,H,K,S,U,w=0,$=!1,X=!1,j=!0;if(typeof C!="function")throw new TypeError(e);L=T(L)||0,m(N)&&($=!!N.leading,X="maxWait"in N,H=X?d(T(N.maxWait)||0,L):H,j="trailing"in N?!!N.trailing:j);function nt(M){var D=z,at=R;return z=R=void 0,w=M,K=C.apply(at,D),K}function J(M){return w=M,S=setTimeout(B,L),$?nt(M):K}function G(M){var D=M-U,at=M-w,Q=L-D;return X?p(Q,H-at):Q}function W(M){var D=M-U,at=M-w;return U===void 0||D>=L||D<0||X&&at>=H}function B(){var M=g();if(W(M))return F(M);S=setTimeout(B,G(M))}function F(M){return S=void 0,j&&z?nt(M):(z=R=void 0,K)}function it(){S!==void 0&&clearTimeout(S),w=0,z=U=R=S=void 0}function lt(){return S===void 0?K:F(g())}function ut(){var M=g(),D=W(M);if(z=arguments,R=this,U=M,D){if(S===void 0)return J(U);if(X)return S=setTimeout(B,L),nt(U)}return S===void 0&&(S=setTimeout(B,L)),K}return ut.cancel=it,ut.flush=lt,ut}function m(C){var L=typeof C;return!!C&&(L=="object"||L=="function")}function b(C){return!!C&&typeof C=="object"}function _(C){return typeof C=="symbol"||b(C)&&f.call(C)==r}function T(C){if(typeof C=="number")return C;if(_(C))return t;if(m(C)){var L=typeof C.valueOf=="function"?C.valueOf():C;C=m(L)?L+"":L}if(typeof C!="string")return C===0?C:+C;C=C.replace(n,"");var N=s.test(C);return N||a.test(C)?o(C.slice(2),N?2:8):i.test(C)?t:+C}return h0=y,h0}var Lgt=Igt();const Rgt=Ou(Lgt),Ngt=aD().use(h5).use(C4).use(M4).use(f$,{plugins:[Pz(),Kpt(),Wq({theme:"everforest-dark"}),gK(),JJ()]}),$A=async e=>(await Ngt.process(e)).result,Ogt={title:"Playground"},dc=({text:e})=>{const t=Va.useRef(null),r=Va.useRef(null),n=async i=>{const s=r.current;if(!s)return;const a=await $A(i);Sgt(a,s)};return Va.useEffect(()=>{n(e)},[]),Gr.createElement(Gr.Fragment,null,Gr.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",fontSize:"10.5pt"}},Gr.createElement("div",null,Gr.createElement("button",{onClick:async()=>{if(!t.current)return;const i=await $A(t.current.value);nmt.saveAs(new Blob([i]),"example.docx")}},"download docx")," ",Gr.createElement("span",null,"Live preview may be different from the real Word rendering")),Gr.createElement("textarea",{ref:t,style:{flex:1},defaultValue:e,onChange:Va.useCallback(Rgt(i=>n(i.target.value),2e3),[])}),Gr.createElement("div",{style:{flex:1,overflow:"auto"}},Gr.createElement("div",{ref:r,style:{flex:"none"}}))))},Ul={render:()=>Gr.createElement(dc,{text:Zpt})},Hl={render:()=>Gr.createElement(dc,{text:"```ts\n"+Qpt+"\n```"})},$l={render:()=>Gr.createElement(dc,{text:Jpt})},zl={render:()=>Gr.createElement(dc,{text:tmt})},jl={render:()=>{const e="https://en.wikipedia.org/w/rest.php/v1/page/HTML/html",[t,r]=Va.useState("");return Va.useEffect(()=>{(async()=>{const n=await fetch(e);if(n.ok){const i=await n.text(),s=new DOMParser().parseFromString(i,"text/html"),a=new XMLSerializer;r([...s.body.childNodes].map(o=>a.serializeToString(o)).join(`
`))}else r(`${n.status}: ${n.statusText}`)})()},[]),t?Gr.createElement(dc,{text:`${e}

${t}`}):Gr.createElement("div",null,"loading...")}};Ul.parameters={...Ul.parameters,docs:{...Ul.parameters?.docs,source:{originalSource:`{
  render: () => <Component text={readmeMd} />
}`,...Ul.parameters?.docs?.source}}};Hl.parameters={...Hl.parameters,docs:{...Hl.parameters?.docs,source:{originalSource:'{\n  render: () => <Component text={"```ts\\n" + codeTs + "\\n```"} />\n}',...Hl.parameters?.docs?.source}}};$l.parameters={...$l.parameters,docs:{...$l.parameters?.docs,source:{originalSource:`{
  render: () => <Component text={latexMd} />
}`,...$l.parameters?.docs?.source}}};zl.parameters={...zl.parameters,docs:{...zl.parameters?.docs,source:{originalSource:`{
  render: () => <Component text={mermaidMd} />
}`,...zl.parameters?.docs?.source}}};jl.parameters={...jl.parameters,docs:{...jl.parameters?.docs,source:{originalSource:`{
  render: () => {
    const url = "https://en.wikipedia.org/w/rest.php/v1/page/HTML/html";
    const [html, setHtml] = useState("");
    useEffect(() => {
      (async () => {
        const res = await fetch(url);
        if (res.ok) {
          const h = await res.text();
          const dom = new DOMParser().parseFromString(h, "text/html");
          const serializer = new XMLSerializer();
          setHtml([...dom.body.childNodes].map(t => serializer.serializeToString(t)).join("\\n"));
        } else {
          setHtml(\`\${res.status}: \${res.statusText}\`);
        }
      })();
    }, []);
    return html ? <Component text={\`\${url}

\${html}\`} /> : <div>loading...</div>;
  }
}`,...jl.parameters?.docs?.source}}};const Pgt=["Readme","Code","Latex","Mermaid","Html"],I0t=Object.freeze(Object.defineProperty({__proto__:null,Code:Hl,Html:jl,Latex:$l,Mermaid:zl,Readme:Ul,__namedExportsOrder:Pgt,default:Ogt},Symbol.toStringTag,{value:"Module"}));export{kL as $,tu as A,itt as B,Cet as C,N2 as D,Mr as E,yL as F,iut as G,ast as H,VT as I,dat as J,Htt as K,Lo as L,r0t as M,qf as N,set as O,Z1 as P,sv as Q,Zit as R,vh as S,nut as T,nc as U,pet as V,rc as W,qt as X,ee as Y,Xlt as Z,P as _,Eet as a,Hf as a$,Vit as a0,Av as a1,vv as a2,f0t as a3,l0t as a4,h0t as a5,c0t as a6,a0t as a7,Fa as a8,c2 as a9,yct as aA,Yit as aB,e0t as aC,cc as aD,gct as aE,mct as aF,a2 as aG,os as aH,yv as aI,knt as aJ,xu as aK,Yt as aL,i3 as aM,gn as aN,Ent as aO,s2 as aP,$L as aQ,sc as aR,WL as aS,s0t as aT,ntt as aU,Aa as aV,Wlt as aW,Mlt as aX,qlt as aY,Glt as aZ,g3 as a_,d0t as aa,o0t as ab,m0t as ac,p0t as ad,u0t as ae,jct as af,CP as ag,A0t as ah,pat as ai,gr as aj,Ls as ak,x2 as al,Q3 as am,Sa as an,v3 as ao,se as ap,wi as aq,Pht as ar,v0t as as,C0t as at,x0t as au,Xt as av,T0t as aw,ght as ax,hht as ay,cht as az,_et as b,Wf as b0,Md as b1,vot as b2,v2 as b3,y3 as b4,m3 as b5,xlt as b6,ylt as b7,Flt as b8,Ylt as b9,I0t as bA,lc as ba,qo as bb,Pd as bc,Ilt as bd,ndt as be,oc as bf,Bd as bg,Tlt as bh,u3 as bi,kot as bj,Sot as bk,js as bl,qv as bm,Iot as bn,A2 as bo,Cot as bp,Not as bq,Go as br,Is as bs,Hv as bt,C2 as bu,h3 as bv,By as bw,Mot as bx,T2 as by,vA as bz,Ie as c,Ae as d,CL as e,pr as f,xet as g,Vi as h,Un as i,Eat as j,jo as k,Lt as l,C3 as m,n0t as n,S0t as o,Tet as p,vet as q,k0t as r,wet as s,fat as t,Gn as u,oht as v,out as w,g0t as x,yet as y,i0t as z};
